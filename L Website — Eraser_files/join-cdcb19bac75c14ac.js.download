(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6543],{63090:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/team/join",function(){return n(91141)}])},52012:function(e,t,n){"use strict";n.d(t,{My:function(){return p},Qb:function(){return d},p9:function(){return h}});var r=n(98788),a=n(22970),i=n(5632),o=/*#__PURE__*/n.n(i),s=n(42541),u=n(90581),c=n(99669),l={defaultTTL:86400},f=new/*#__PURE__*/(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;(0,u.Z)(this,e),this._storage=t,this._options=n}var t=e.prototype;return t.setItem=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._options.defaultTTL,r=Math.floor(Date.now()/1e3);this._storage.setItem(e,{value:t,exp:r+n})},t.getItem=function(e){var t=this._storage.getItem(e);if(null==t||"object"!=typeof t)return t;if(!Reflect.has(t,"value")||!Reflect.has(t,"exp"))return console.warn('ExpiryLocalStorage.getItem("'.concat(e,'") - data is malformed'),t),null;var n=Math.floor(Date.now()/1e3);return n>t.exp?(console.debug('ExpiryLocalStorage.getItem("'.concat(e,'") - data has expired ').concat(n-t.exp," seconds ago")),this._storage.removeItem(e),null):t.value},t.removeItem=function(e){this._storage.removeItem(e)},t.clear=function(){this._storage.clear()},e}())(c.J),m="auth/redirect";function h(e){f.setItem(m,e,900)}function p(){return f.getItem(m)}function d(e,t){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(function(e,t){var n;return(0,a.__generator)(this,function(r){switch(r.label){case 0:if(n=p(),console.debug("Redirect to ".concat(null!=n?n:e)),!n)return[3,2];return f.removeItem(m),s.Z.trackEvent("login-page","redirect_to_saved_path",{source:t,url:n,workspaceId:n.split("/")[2]}),[4,o().replace(n)];case 1:return r.sent(),[3,4];case 2:return[4,o().replace(e)];case 3:r.sent(),r.label=4;case 4:return[2]}})})).apply(this,arguments)}},91141:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return I}});var r,a=n(52322),i=n(5632),o=n(66161),s=n(69023),u=n(98788),c=n(22970),l=n(2784),f=n(69071),m=n(2595),h=n(96933),p=n(11269),d=n(6021),g=n(59858),v=n(52012),_=n(95162),w=n(48617),x=n(87076),j=n(94254);function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=function(e){return /*#__PURE__*/l.createElement("svg",b({width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/l.createElement("g",{fill:"var(--green-success)"},/*#__PURE__*/l.createElement("path",{d:"M6 0a3.499 3.499 0 100 6.996A3.499 3.499 0 106 0zM4 8.994a3.5 3.5 0 00-3.5 3.5v2.497h11v-2.497a3.5 3.5 0 00-3.5-3.5H4zM13 10h-.5v5h3v-2.5A2.5 2.5 0 0013 10z"}),/*#__PURE__*/l.createElement("path",{d:"M12 4a2.5 2.5 0 100 5 2.5 2.5 0 000-5z"}))))},Z=n(86330),T=/*#__PURE__*/n.n(Z),y=/*#__PURE__*/(0,l.memo)(function(){var e,t=(0,l.useState)(),n=t[0],r=t[1],o=(0,m.Z)(),s=(0,i.useRouter)(),b=(0,g.Z)(),Z=(0,h.aF)();(0,p.mZ)();var y=(0,f.Z)(d.Z),I=(0,l.useRef)();(0,l.useEffect)(function(){if(b){if(!b.length){I.current=setTimeout(function(){s.replace("/team/create")},500);return}clearTimeout(I.current)}},[b,s.replace]);var J=(0,l.useCallback)((e=(0,u.Z)(function(e){return(0,c.__generator)(this,function(t){switch(t.label){case 0:if(e.preventDefault(),!n||!Z)return[2];return[4,o.promise(y.execute(n,Z.id,{origin:"page",isAutoJoin:!0}),{loading:"Joining team",success:"Joined team",error:"Something went wrong"})];case 1:if(t.sent(),!Z.surveyData)return s.push("/user/survey"),[2];return(0,v.Qb)("/dashboard/all","team_join"),[2]}})}),function(t){return e.apply(this,arguments)}),[n,Z,s.push,y.execute]);return b?/*#__PURE__*/(0,a.jsxs)(w.Z,{className:T().joinExistingTeamView,label:"Join Team",labelIcon:/*#__PURE__*/(0,a.jsx)(E,{}),title:"Join your teammates",children:[/*#__PURE__*/(0,a.jsx)(x.D,{teamsToJoin:b}),/*#__PURE__*/(0,a.jsx)("form",{id:"join-team-form",onSubmit:J,children:/*#__PURE__*/(0,a.jsx)(x.Z,{className:T().teams,onSelectionChange:r,teamsToJoin:b})}),/*#__PURE__*/(0,a.jsx)(j.Z,{children:/*#__PURE__*/(0,a.jsx)(_.ZP,{form:"join-team-form",variant:_.ZP.Variants.REGULAR,size:_.ZP.Sizes.X_LARGE,disabled:!n,"data-testid":"join-team-button",children:"Join Team"})})]}):null}),I=function(){return(0,i.useRouter)().isReady?/*#__PURE__*/(0,a.jsx)(o.Z,{hideSplashOnLoad:!0,children:/*#__PURE__*/(0,a.jsx)(s.Z,{staticLogo:!0,children:/*#__PURE__*/(0,a.jsx)(y,{})})}):null}},86330:function(e){e.exports={joinExistingTeamView:"JoinExistingTeamView_joinExistingTeamView___aYZj",teams:"JoinExistingTeamView_teams__cOIdt"}}},function(e){e.O(0,[2888],function(){return e(e.s=63090)}),_N_E=e.O()}]);