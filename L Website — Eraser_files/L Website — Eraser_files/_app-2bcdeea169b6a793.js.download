(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{82887:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}n.r(t),n.d(t,{CacheProvider:function(){return U},ClassNames:function(){return J},Global:function(){return W},ThemeContext:function(){return P},createElement:function(){return G},css:function(){return z},jsx:function(){return G},keyframes:function(){return Y},withEmotionCache:function(){return j}});var o,a,s,u,c,l,A,d,f,h,p,g,v=n(2784),m=/*#__PURE__*/function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)==0){var t,n,r=((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t);n=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(r,n),this.tags.push(r)}var o=this.tags[this.tags.length-1];if(this.isSpeedy){var a=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(o);try{var s=105===e.charCodeAt(1)&&64===e.charCodeAt(0);a.insertRule(e,s?0:a.cssRules.length)}catch(e){}}else o.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){return e.parentNode.removeChild(e)}),this.tags=[],this.ctr=0},e}(),y="/*|*/",b=y+"}";function w(e){e&&_.current.insert(e+"}")}var _={current:null};function E(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "}),r}var C=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var o=t;do e.insert("."+r,o,e.sheet,!0),o=o.next;while(void 0!==o)}},B=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))*1540483477+((t>>>16)*59797<<16),t^=t>>>24,n=(65535&t)*1540483477+((t>>>16)*59797<<16)^(65535&n)*1540483477+((n>>>16)*59797<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n^=255&e.charCodeAt(r),n=(65535&n)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,(((n=(65535&n)*1540483477+((n>>>16)*59797<<16))^n>>>15)>>>0).toString(36)},I={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},x=/[A-Z]|^ms/g,T=/_EMO_([^_]+?)_([^]*?)_EMO_/g,S=function(e){return 45===e.charCodeAt(1)},k=function(e){return null!=e&&"boolean"!=typeof e},D=(o=function(e){return S(e)?e:e.replace(x,"-$&").toLowerCase()},a={},function(e){return void 0===a[e]&&(a[e]=o(e)),a[e]}),N=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(T,function(e,t,n){return g={name:t,styles:n,next:g},t})}return 1===I[e]||S(e)||"number"!=typeof t||0===t?t:t+"px"};function O(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return g={name:n.name,styles:n.styles,next:g},n.name;if(void 0!==n.styles){var o=n.next;if(void 0!==o)for(;void 0!==o;)g={name:o.name,styles:o.styles,next:g},o=o.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=O(e,t,n[o],!1);else for(var a in n){var s=n[a];if("object"!=typeof s)null!=t&&void 0!==t[s]?r+=a+"{"+t[s]+"}":k(s)&&(r+=D(a)+":"+N(a,s)+";");else if(Array.isArray(s)&&"string"==typeof s[0]&&(null==t||void 0===t[s[0]]))for(var u=0;u<s.length;u++)k(s[u])&&(r+=D(a)+":"+N(a,s[u])+";");else{var c=O(e,t,s,!1);switch(a){case"animation":case"animationName":r+=D(a)+":"+c+";";break;default:r+=a+"{"+c+"}"}}}return r}(e,t,n);case"function":if(void 0!==e){var a=g,s=n(e);return g=a,O(e,t,s,r)}}if(null==t)return n;var u=t[n];return void 0===u||r?n:u}var F=/label:\s*([^\s;\n{]+)\s*;/g,R=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r,o=!0,a="";g=void 0;var s=e[0];null==s||void 0===s.raw?(o=!1,a+=O(n,t,s,!1)):a+=s[0];for(var u=1;u<e.length;u++)a+=O(n,t,e[u],46===a.charCodeAt(a.length-1)),o&&(a+=s[u]);F.lastIndex=0;for(var c="";null!==(r=F.exec(a));)c+="-"+r[1];return{name:B(a)+c,styles:a,next:g}},L=Object.prototype.hasOwnProperty,M=/*#__PURE__*/(0,v.createContext)("undefined"!=typeof HTMLElement?(void 0===s&&(s={}),A=s.key||"css",void 0!==s.prefix&&(u={prefix:s.prefix}),d=new function(e){function t(e,t,r){var o=t.trim().split(p);t=o;var a=o.length,s=e.length;switch(s){case 0:case 1:var u=0;for(e=0===s?"":e[0]+" ";u<a;++u)t[u]=n(e,t[u],r).trim();break;default:var c=u=0;for(t=[];u<a;++u)for(var l=0;l<s;++l)t[c++]=n(e[l]+" ",o[u],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,a){var s=e+";",u=2*t+3*n+4*a;if(944===u){e=s.indexOf(":",9)+1;var c=s.substring(e,s.length-1).trim();return c=s.substring(0,e).trim()+c+";",1===k||2===k&&o(c,1)?"-webkit-"+c+c:c}if(0===k||2===k&&!o(s,1))return s;switch(u){case 1015:return 97===s.charCodeAt(10)?"-webkit-"+s+s:s;case 951:return 116===s.charCodeAt(3)?"-webkit-"+s+s:s;case 963:return 110===s.charCodeAt(5)?"-webkit-"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return"-webkit-"+s+s;case 978:return"-webkit-"+s+"-moz-"+s+s;case 1019:case 983:return"-webkit-"+s+"-moz-"+s+"-ms-"+s+s;case 883:if(45===s.charCodeAt(8))return"-webkit-"+s+s;if(0<s.indexOf("image-set(",11))return s.replace(I,"$1-webkit-$2")+s;break;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return"-webkit-box-"+s.replace("-grow","")+"-webkit-"+s+"-ms-"+s.replace("grow","positive")+s;case 115:return"-webkit-"+s+"-ms-"+s.replace("shrink","negative")+s;case 98:return"-webkit-"+s+"-ms-"+s.replace("basis","preferred-size")+s}return"-webkit-"+s+"-ms-"+s+s;case 964:return"-webkit-"+s+"-ms-flex-"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return"-webkit-box-pack"+(c=s.substring(s.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+s+"-ms-flex-pack"+c+s;case 1005:return f.test(s)?s.replace(d,":-webkit-")+s.replace(d,":-moz-")+s:s;case 1e3:switch(t=(c=s.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=s.replace(b,"tb");break;case 232:c=s.replace(b,"tb-rl");break;case 220:c=s.replace(b,"lr");break;default:return s}return"-webkit-"+s+"-ms-"+c+s;case 1017:if(-1===s.indexOf("sticky",9))break;case 975:switch(t=(s=e).length-10,u=(c=(33===s.charCodeAt(t)?s.substring(0,t):s).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:s=s.replace(c,"-webkit-"+c)+";"+s;break;case 207:case 102:s=s.replace(c,"-webkit-"+(102<u?"inline-":"")+"box")+";"+s.replace(c,"-webkit-"+c)+";"+s.replace(c,"-ms-"+c+"box")+";"+s}return s+";";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return c=s.replace("-items",""),"-webkit-"+s+"-webkit-box-"+c+"-ms-flex-"+c+s;case 115:return"-webkit-"+s+"-ms-flex-item-"+s.replace(E,"")+s;default:return"-webkit-"+s+"-ms-flex-line-pack"+s.replace("align-content","").replace(E,"")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===B.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,a).replace(":fill-available",":stretch"):s.replace(c,"-webkit-"+c)+s.replace(c,"-moz-"+c.replace("fill-",""))+s;break;case 962:if(s="-webkit-"+s+(102===s.charCodeAt(5)?"-ms-"+s:"")+s,211===n+a&&105===s.charCodeAt(13)&&0<s.indexOf("transform",10))return s.substring(0,s.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+s}return s}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),F(2!==t?r:r.replace(C,"$1"),n,t)}function a(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(_," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,o,a,s,u,l,A){for(var d,f=0,h=t;f<O;++f)switch(d=N[f].call(c,e,h,n,r,o,a,s,u,l,A)){case void 0:case!1:case!0:case null:break;default:h=d}if(h!==t)return h}function u(e){return void 0!==(e=e.prefix)&&(F=null,e?"function"!=typeof e?k=1:(k=2,F=e):k=0),u}function c(e,n){var u=e;if(33>u.charCodeAt(0)&&(u=u.trim()),u=[u],0<O){var c=s(-1,n,u,u,T,x,0,0,0,0);void 0!==c&&"string"==typeof c&&(n=c)}var d=function e(n,u,c,d,f){for(var h,p,g,b,_,E=0,C=0,B=0,I=0,N=0,F=0,L=g=h=0,M=0,P=0,U=0,j=0,Z=c.length,Q=Z-1,H="",V="",K="",z="";M<Z;){if(p=c.charCodeAt(M),M===Q&&0!==C+I+B+E&&(0!==C&&(p=47===C?10:47),I=B=E=0,Z++,Q++),0===C+I+B+E){if(M===Q&&(0<P&&(H=H.replace(A,"")),0<H.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:H+=c.charAt(M)}p=59}switch(p){case 123:for(h=(H=H.trim()).charCodeAt(0),g=1,j=++M;M<Z;){switch(p=c.charCodeAt(M)){case 123:g++;break;case 125:g--;break;case 47:switch(p=c.charCodeAt(M+1)){case 42:case 47:e:{for(L=M+1;L<Q;++L)switch(c.charCodeAt(L)){case 47:if(42===p&&42===c.charCodeAt(L-1)&&M+2!==L){M=L+1;break e}break;case 10:if(47===p){M=L+1;break e}}M=L}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<Q&&c.charCodeAt(M)!==p;);}if(0===g)break;M++}if(g=c.substring(j,M),0===h&&(h=(H=H.replace(l,"").trim()).charCodeAt(0)),64===h){switch(0<P&&(H=H.replace(A,"")),p=H.charCodeAt(1)){case 100:case 109:case 115:case 45:P=u;break;default:P=D}if(j=(g=e(u,P,g,p,f+1)).length,0<O&&(_=s(3,g,P=t(D,H,U),u,T,x,j,p,f,d),H=P.join(""),void 0!==_&&0===(j=(g=_.trim()).length)&&(p=0,g="")),0<j)switch(p){case 115:H=H.replace(w,a);case 100:case 109:case 45:g=H+"{"+g+"}";break;case 107:g=(H=H.replace(v,"$1 $2"))+"{"+g+"}",g=1===k||2===k&&o("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=H+g,112===d&&(V+=g,g="")}else g=""}else g=e(u,t(u,H,U),g,d,f+1);K+=g,g=U=P=L=h=0,H="",p=c.charCodeAt(++M);break;case 125:case 59:if(1<(j=(H=(0<P?H.replace(A,""):H).trim()).length))switch(0===L&&(45===(h=H.charCodeAt(0))||96<h&&123>h)&&(j=(H=H.replace(" ",":")).length),0<O&&void 0!==(_=s(1,H,u,n,T,x,V.length,d,f,d))&&0===(j=(H=_.trim()).length)&&(H="\0\0"),h=H.charCodeAt(0),p=H.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){z+=H+c.charAt(M);break}default:58!==H.charCodeAt(j-1)&&(V+=r(H,h,p,H.charCodeAt(2)))}U=P=L=h=0,H="",p=c.charCodeAt(++M)}}switch(p){case 13:case 10:47===C?C=0:0===1+h&&107!==d&&0<H.length&&(P=1,H+="\0"),0<O*R&&s(0,H,u,n,T,x,V.length,d,f,d),x=1,T++;break;case 59:case 125:if(0===C+I+B+E){x++;break}default:switch(x++,b=c.charAt(M),p){case 9:case 32:if(0===I+E+C)switch(N){case 44:case 58:case 9:case 32:b="";break;default:32!==p&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===I+C+E&&(P=U=1,b="\f"+b);break;case 108:if(0===I+C+E+S&&0<L)switch(M-L){case 2:112===N&&58===c.charCodeAt(M-3)&&(S=N);case 8:111===F&&(S=F)}break;case 58:0===I+C+E&&(L=M);break;case 44:0===C+B+I+E&&(P=1,b+="\r");break;case 34:case 39:0===C&&(I=I===p?0:0===I?p:I);break;case 91:0===I+C+B&&E++;break;case 93:0===I+C+B&&E--;break;case 41:0===I+C+E&&B--;break;case 40:0===I+C+E&&(0===h&&(2*N+3*F==533||(h=1)),B++);break;case 64:0===C+B+I+E+L+g&&(g=1);break;case 42:case 47:if(!(0<I+E+B))switch(C){case 0:switch(2*p+3*c.charCodeAt(M+1)){case 235:C=47;break;case 220:j=M,C=42}break;case 42:47===p&&42===N&&j+2!==M&&(33===c.charCodeAt(j+2)&&(V+=c.substring(j,M+1)),b="",C=0)}}0===C&&(H+=b)}F=N,N=p,M++}if(0<(j=V.length)){if(P=u,0<O&&void 0!==(_=s(2,V,P,n,T,x,j,d,f,d))&&0===(V=_).length)return z+V+K;if(V=P.join(",")+"{"+V+"}",0!=k*S){switch(2!==k||o(V,2)||(S=0),S){case 111:V=V.replace(y,":-moz-$1")+V;break;case 112:V=V.replace(m,"::-webkit-input-$1")+V.replace(m,"::-moz-$1")+V.replace(m,":-ms-input-$1")+V}S=0}}return z+V+K}(D,u,n,0,0);return 0<O&&void 0!==(c=s(-2,d,u,u,T,x,d.length,0,0,0))&&(d=c),S=0,x=T=1,d}var l=/^\0+/g,A=/[\0\r\f]/g,d=/: */g,f=/zoo|gra/,h=/([,: ])(transform)/g,p=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,y=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,E=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,B=/stretch|:\s*\w+\-(?:conte|avail)/,I=/([^-])(image-set\()/,x=1,T=1,S=0,k=1,D=[],N=[],O=0,F=null,R=0;return c.use=function e(t){switch(t){case void 0:case null:O=N.length=0;break;default:if("function"==typeof t)N[O++]=t;else if("object"==typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else R=0|!!t}return e},c.set=u,void 0!==e&&u(e),c}(u),f={},c=s.container||document.head,h=document.querySelectorAll("style[data-emotion-"+A+"]"),Array.prototype.forEach.call(h,function(e){e.getAttribute("data-emotion-"+A).split(" ").forEach(function(e){f[e]=!0}),e.parentNode!==c&&c.appendChild(e)}),d.use(s.stylisPlugins)(function(e,t,n,r,o,a,s,u,c,l){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return _.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===u)return t+y;break;case 3:switch(u){case 102:case 112:return _.current.insert(n[0]+t),"";default:return t+(0===l?y:"")}case -2:t.split(b).forEach(w)}}),l=function(e,t,n,r){var o=t.name;_.current=n,d(e,t.styles),r&&(p.inserted[o]=!0)},p={key:A,sheet:new m({key:A,container:c,nonce:s.nonce,speedy:s.speedy}),nonce:s.nonce,inserted:f,registered:{},insert:l}):null),P=/*#__PURE__*/(0,v.createContext)({}),U=M.Provider,j=function(e){return/*#__PURE__*/(0,v.forwardRef)(function(t,n){return/*#__PURE__*/(0,v.createElement)(M.Consumer,null,function(r){return e(t,r,n)})})},Z="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Q=function(e,t){var n={};for(var r in t)L.call(t,r)&&(n[r]=t[r]);return n[Z]=e,n},H=function(){return null},V=function(e,t,n,r){var o=null===n?t.css:t.css(n);"string"==typeof o&&void 0!==e.registered[o]&&(o=e.registered[o]);var a=t[Z],s=[o],u="";"string"==typeof t.className?u=E(e.registered,s,t.className):null!=t.className&&(u=t.className+" ");var c=R(s);C(e,c,"string"==typeof a),u+=e.key+"-"+c.name;var l={};for(var A in t)L.call(t,A)&&"css"!==A&&A!==Z&&(l[A]=t[A]);l.ref=r,l.className=u;var d=/*#__PURE__*/(0,v.createElement)(a,l),f=/*#__PURE__*/(0,v.createElement)(H,null);return/*#__PURE__*/(0,v.createElement)(v.Fragment,null,f,d)},K=/* #__PURE__ */j(function(e,t,n){return"function"==typeof e.css?/*#__PURE__*/(0,v.createElement)(P.Consumer,null,function(r){return V(t,e,r,n)}):V(t,e,null,n)}),z=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return R(t)},G=function(e,t){var n=arguments;if(null==t||!L.call(t,"css"))return v.createElement.apply(void 0,n);var r=n.length,o=Array(r);o[0]=K,o[1]=Q(e,t);for(var a=2;a<r;a++)o[a]=n[a];return v.createElement.apply(null,o)},W=/* #__PURE__ */j(function(e,t){var n=e.styles;if("function"==typeof n)return/*#__PURE__*/(0,v.createElement)(P.Consumer,null,function(e){var r=R([n(e)]);return/*#__PURE__*/(0,v.createElement)(q,{serialized:r,cache:t})});var r=R([n]);return/*#__PURE__*/(0,v.createElement)(q,{serialized:r,cache:t})}),q=/*#__PURE__*/function(e){function t(t,n,r){return e.call(this,t,n,r)||this}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e);var n=t.prototype;return n.componentDidMount=function(){this.sheet=new m({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},n.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},n.insertStyles=function(){if(void 0!==this.props.serialized.next&&C(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},n.componentWillUnmount=function(){this.sheet.flush()},n.render=function(){return null},t}(v.Component),Y=function(){var e=z.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},$=function e(t){for(var n=t.length,r=0,o="";r<n;r++){var a=t[r];if(null!=a){var s=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))s=e(a);else for(var u in s="",a)a[u]&&u&&(s&&(s+=" "),s+=u);break;default:s=a}s&&(o&&(o+=" "),o+=s)}}return o},X=function(){return null},J=j(function(e,t){return/*#__PURE__*/(0,v.createElement)(P.Consumer,null,function(n){var r=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=R(n,t.registered);return C(t,o,!1),t.key+"-"+o.name},o=e.children({css:r,cx:function(){for(var e,n,o,a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];return o=E(t.registered,n=[],e=$(s)),n.length<2?e:o+r(n)},theme:n}),a=/*#__PURE__*/(0,v.createElement)(X,null);return/*#__PURE__*/(0,v.createElement)(v.Fragment,null,a,o)})})},72475:function(e,t,n){"use strict";var r,o,a=n(22970),s=n(76765),u=n(32444),c=n(13936),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),A=new s.LL("app","Firebase",l),d="@firebase/app",f="[DEFAULT]",h=((o={})[d]="fire-core",o["@firebase/analytics"]="fire-analytics",o["@firebase/app-check"]="fire-app-check",o["@firebase/auth"]="fire-auth",o["@firebase/database"]="fire-rtdb",o["@firebase/functions"]="fire-fn",o["@firebase/installations"]="fire-iid",o["@firebase/messaging"]="fire-fcm",o["@firebase/performance"]="fire-perf",o["@firebase/remote-config"]="fire-rc",o["@firebase/storage"]="fire-gcs",o["@firebase/firestore"]="fire-fst",o["fire-js"]="fire-js",o["firebase-wrapper"]="fire-js-all",o),p=new c.Yd("@firebase/app"),g=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(e),this.container=new u.H0(t.name),this._addComponent(new u.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(e){return r._addComponent(e)})}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map(function(e){return e.delete()}))}).then(function(){e.isDeleted_=!0})},e.prototype._getService=function(e,t){void 0===t&&(t=f),this.checkDestroyed_();var n,r=this.container.getProvider(e);return r.isInitialized()||(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)!=="EXPLICIT"||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=f),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw A.create("app-deleted",{appName:this.name_})},e}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e(){var t=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,o){void 0===o&&(o={}),("object"!=typeof o||null===o)&&(o={name:o});var a=o;void 0===a.name&&(a.name=f);var u=a.name;if("string"!=typeof u||!u)throw A.create("bad-app-name",{appName:String(u)});if((0,s.r3)(t,u))throw A.create("duplicate-app",{appName:u});var c=new e(n,a,r);return t[u]=c,c},app:o,registerVersion:function(e,t,n){var r,o=null!==(r=h[e])&&void 0!==r?r:e;n&&(o+="-"+n);var s=o.match(/\s|\//),c=t.match(/\s|\//);if(s||c){var l=['Unable to register library "'+o+'" with version "'+t+'":'];s&&l.push('library name "'+o+'" contains illegal characters (whitespace or "/")'),s&&c&&l.push("and"),c&&l.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),p.warn(l.join(" "));return}a(new u.wA(o+"-version",function(){return{library:o,version:t}},"VERSION"))},setLogLevel:c.Ub,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw A.create("invalid-log-argument");(0,c.Am)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:a,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function o(e){if(e=e||f,!(0,s.r3)(t,e))throw A.create("no-app",{appName:e});return t[e]}function a(a){var u=a.name;if(n.has(u))return p.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===a.type?r[u]:null;if(n.set(u,a),"PUBLIC"===a.type){var c=function(e){if(void 0===e&&(e=o()),"function"!=typeof e[u])throw A.create("invalid-app-argument",{appName:u});return e[u]()};void 0!==a.serviceProps&&(0,s.ZB)(c,a.serviceProps),r[u]=c,e.prototype[u]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,u).apply(this,a.multipleInstances?e:[])}}for(var l=0,d=Object.keys(t);l<d.length;l++)t[d[l]]._addComponent(a);return"PUBLIC"===a.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map(function(e){return t[e]})}}),o.App=e,r}(g);return t.INTERNAL=(0,a.__assign)((0,a.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,s.ZB)(t,e)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),t}(),m=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(e){if((null==(t=e.getComponent())?void 0:t.type)!=="VERSION")return null;var t,n=e.getImmediate();return n.library+"/"+n.version}).filter(function(e){return e}).join(" ")},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,s.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,s.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)},v.INTERNAL.registerComponent(new u.wA("platform-logger",function(e){return new m(e)},"PRIVATE")),v.registerVersion(d,"0.6.30",void 0),v.registerVersion("fire-js",""),t.Z=v},32444:function(e,t,n){"use strict";n.d(t,{H0:function(){return c},wA:function(){return a},zt:function(){return u}});var r=n(22970),o=n(76765),a=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),s="[DEFAULT]",u=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new o.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}else{if(r)return null;throw Error("Service "+this.name+" is not available")}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:s})}catch(e){}try{for(var o=(0,r.__values)(this.instancesDeferred.entries()),a=o.next();!a.done;a=o.next()){var u=(0,r.__read)(a.value,2),c=u[0],l=u[1],A=this.normalizeInstanceIdentifier(c);try{var d=this.getOrInitializeService({instanceIdentifier:A});l.resolve(d)}catch(e){}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=s),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,function(){var e;return(0,r.__generator)(this,function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(e.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()}))),(0,r.__read)(e.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))))];case 1:return t.sent(),[2]}})})},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=s),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=s),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){void 0===e&&(e={});var t,n,o=e.options,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:void 0===o?{}:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),A=l[0],d=l[1],f=this.normalizeInstanceIdentifier(A);a===f&&d.resolve(s)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);var a=this.instances.get(r);return a&&e(a,r),function(){o.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,o,a=this.onInitCallbacks.get(t);if(a)try{for(var s=(0,r.__values)(a),u=s.next();!u.done;u=s.next()){var c=u.value;try{c(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:t===s?void 0:t,options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch(e){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return(void 0===e&&(e=s),this.component)?this.component.multipleInstances?e:s:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new u(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},13936:function(e,t,n){"use strict";/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var a=arguments[t],s=0,u=a.length;s<u;s++,o++)r[o]=a[s];return r}n.d(t,{Am:function(){return p},Ub:function(){return h},Yd:function(){return f},in:function(){return s}});var o,a,s,u=[];(o=s||(s={}))[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT";var c={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},l=s.INFO,A=((a={})[s.DEBUG]="log",a[s.VERBOSE]="log",a[s.INFO]="info",a[s.WARN]="warn",a[s.ERROR]="error",a),d=function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];if(!(t<e.logLevel)){var a=new Date().toISOString(),s=A[t];if(s)console[s].apply(console,r(["["+a+"]  "+e.name+":"],n));else throw Error("Attempted to log a message with an invalid logType (value: "+t+")")}},f=function(){function e(e){this.name=e,this._logLevel=l,this._logHandler=d,this._userLogHandler=null,u.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in s))throw TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?c[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],e)),this._logHandler.apply(this,r([this,s.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],e)),this._logHandler.apply(this,r([this,s.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],e)),this._logHandler.apply(this,r([this,s.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],e)),this._logHandler.apply(this,r([this,s.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],e)),this._logHandler.apply(this,r([this,s.ERROR],e))},e}();function h(e){u.forEach(function(t){t.setLogLevel(e)})}function p(e,t){for(var n=0;n<u.length;n++)!function(n){var r=null;t&&t.level&&(r=c[t.level]),null===e?n.userLogHandler=null:n.userLogHandler=function(t,n){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var u=o.map(function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}}).filter(function(e){return e}).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:s[n].toLowerCase(),message:u,args:o,type:t.name})}}(u[n])}},76765:function(e,t,n){"use strict";n.d(t,{$s:function(){return et},BH:function(){return g},DV:function(){return Z},Dv:function(){return q},G6:function(){return T},GJ:function(){return U},LL:function(){return O},Mn:function(){return I},Pz:function(){return L},Sg:function(){return v},UG:function(){return b},UI:function(){return H},US:function(){return l},Wj:function(){return $},Yr:function(){return x},ZB:function(){return p},ZR:function(){return N},b$:function(){return E},cI:function(){return R},d:function(){return C},dS:function(){return J},eu:function(){return k},g5:function(){return s},gK:function(){return Y},gQ:function(){return K},h$:function(){return A},hl:function(){return S},hu:function(){return a},jU:function(){return w},lb:function(){return X},m9:function(){return en},ne:function(){return z},p$:function(){return h},r3:function(){return j},ru:function(){return _},uI:function(){return y},ug:function(){return ee},w1:function(){return B},w9:function(){return P},xO:function(){return V},xb:function(){return Q},z$:function(){return m},zI:function(){return D}});var r=n(22970),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},a=function(e,t){if(!e)throw s(t)},s=function(e){return Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},u=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);o<128?t[n++]=o:(o<2048?t[n++]=o>>6|192:((64512&o)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128):t[n++]=o>>12|224,t[n++]=o>>6&63|128),t[n++]=63&o|128)}return t},c=function(e){for(var t=[],n=0,r=0;n<e.length;){var o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){var a=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&a)}else if(o>239&&o<365){var a=e[n++],s=e[n++],u=((7&o)<<18|(63&a)<<12|(63&s)<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(1023&u))}else{var a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&a)<<6|63&s)}}return t.join("")},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],o=0;o<e.length;o+=3){var a=e[o],s=o+1<e.length,u=s?e[o+1]:0,c=o+2<e.length,l=c?e[o+2]:0,A=a>>2,d=(3&a)<<4|u>>4,f=(15&u)<<2|l>>6,h=63&l;c||(h=64,s||(f=64)),r.push(n[A],n[d],n[f],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):c(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],o=0;o<e.length;){var a=n[e.charAt(o++)],s=o<e.length?n[e.charAt(o)]:0,u=++o<e.length?n[e.charAt(o)]:64,c=++o<e.length?n[e.charAt(o)]:64;if(++o,null==a||null==s||null==u||null==c)throw Error();var l=a<<2|s>>4;if(r.push(l),64!==u){var A=s<<4&240|u>>2;if(r.push(A),64!==c){var d=u<<6&192|c;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},A=function(e){var t=u(e);return l.encodeByteArray(t,!0)},d=function(e){return A(e).replace(/\./g,"")},f=function(e){try{return l.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(e){return p(void 0,e)}function p(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=p(e[n],t[n]));return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}();/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",o=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[d(JSON.stringify({alg:"none",type:"JWT"})),d(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function y(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function b(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function w(){return"object"==typeof self&&self.self===self}function _(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function E(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function C(){return m().indexOf("Electron/")>=0}function B(){var e=m();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function I(){return m().indexOf("MSAppHost/")>=0}function x(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function T(){return!b()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){return"indexedDB"in self&&null!=indexedDB}function k(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=function(){o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=function(){n=!1},o.onerror=function(){var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}})}function D(){return!!navigator&&!!navigator.cookieEnabled}var N=function(e){function t(n,r,o){var a=e.call(this,r)||this;return a.code=n,a.customData=o,a.name="FirebaseError",Object.setPrototypeOf(a,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(a,O.prototype.create),a}return(0,r.__extends)(t,e),t}(Error),O=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},o=this.service+"/"+e,a=this.errors[e],s=a?a.replace(F,function(e,t){var n=r[t];return null!=n?String(n):"<"+t+"?>"}):"Error",u=this.serviceName+": "+s+" ("+o+").";return new N(o,u,r)},e}(),F=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(e){return JSON.parse(e)}function L(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M=function(e){var t={},n={},r={},o="";try{var a=e.split(".");t=R(f(a[0])||""),n=R(f(a[1])||""),o=a[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:o}},P=function(e){var t=M(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},U=function(e){var t=M(e).claims;return"object"==typeof t&&!0===t.admin};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Z(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Q(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function H(e,t,n){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,o=Object.entries(e);r<o.length;r++){var a=o[r];n(a[0],a[1])}return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n,r,o=this.W_;if("string"==typeof e)for(var a=0;a<16;a++)o[a]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var a=0;a<16;a++)o[a]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var s=o[a-3]^o[a-8]^o[a-14]^o[a-16];o[a]=(s<<1|s>>>31)&4294967295}for(var u=this.chain_[0],c=this.chain_[1],l=this.chain_[2],A=this.chain_[3],d=this.chain_[4],a=0;a<80;a++){a<40?a<20?(n=A^c&(l^A),r=1518500249):(n=c^l^A,r=1859775393):a<60?(n=c&l|A&(c|l),r=2400959708):(n=c^l^A,r=3395469782);var s=(u<<5|u>>>27)+n+d+r+o[a]&4294967295;d=A,A=l,l=(c<<30|c>>>2)&4294967295,c=u,u=s}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+A&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,o=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(o[a]=e.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(o),a=0;break}}else for(;r<t;)if(o[a]=e[r],++a,++r,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var o=24;o>=0;o-=8)e[r]=this.chain_[n]>>o&255,++r;return e},e}();function z(e,t){var n=new G(e,t);return n.subscribe.bind(n)}var G=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,o=this;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0;n<t.length;n++){var r=t[n];if(r in e&&"function"==typeof e[r])return!0}return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=W),void 0===r.error&&(r.error=W),void 0===r.complete&&(r.complete=W);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{o.finalError?r.error(o.finalError):r.complete()}catch(e){}}),this.observers.push(r),a},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function W(){}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q=function(e,t,n,r){var o;if(r<t?o="at least "+t:r>n&&(o=0===n?"none":"no more than "+n),o)throw Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+o+".")};function Y(e,t){return e+" failed: "+t+" argument "}function $(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw Error(Y(e,t)+"must be a valid function.")}function X(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw Error(Y(e,t)+"must be a valid context object.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var o=e.charCodeAt(r);if(o>=55296&&o<=56319){var s=o-55296;a(++r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(s<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:(o<2048?t[n++]=o>>6|192:(o<65536?t[n++]=o>>12|224:(t[n++]=o>>18|240,t[n++]=o>>12&63|128),t[n++]=o>>6&63|128),t[n++]=63&o|128)}return t},ee=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function et(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),o=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(e){return e&&e._delegate?e._delegate:e}},19947:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12003),o=function(){function e(){this.errorCount=0}return e.prototype.getDelay=function(){return 0===this.errorCount?0:1e3*r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT[Math.min(r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1,this.errorCount)]+Math.round(1e3*Math.random())},e.prototype.countError=function(){this.errorCount<r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1&&this.errorCount++},e.prototype.reset=function(){this.errorCount=0},e}();t.default=o},10870:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(72683),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.makeGetRequest=function(e,t){return s.makeGetRequest(e,t)},t.prototype.getConfigDefaults=function(){return{autoUpdate:!1}},t}(a(n(56664)).default);t.default=u},72683:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12003),o=n(72531).getLogger("DatafileManager");t.makeGetRequest=function(e,t){var n=new XMLHttpRequest;return{responsePromise:new Promise(function(a,s){n.open("GET",e,!0),function(e,t){Object.keys(e).forEach(function(n){var r=e[n];t.setRequestHeader(n,r)})}(t,n),n.onreadystatechange=function(){if(4===n.readyState){if(0===n.status){s(Error("Request error"));return}var e=function(e){var t=e.getAllResponseHeaders();if(null===t)return{};var n=t.split("\r\n"),r={};return n.forEach(function(e){var t=e.indexOf(": ");if(t>-1){var n=e.slice(0,t),o=e.slice(t+2);o.length>0&&(r[n]=o)}}),r}(n);a({statusCode:n.status,body:n.responseText,headers:e})}},n.timeout=r.REQUEST_TIMEOUT_MS,n.ontimeout=function(){o.error("Request timed out")},n.send()}),abort:function(){n.abort()}}}},12003:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_UPDATE_INTERVAL=3e5,t.MIN_UPDATE_INTERVAL=1e3,t.DEFAULT_URL_TEMPLATE="https://cdn.optimizely.com/datafiles/%s.json",t.DEFAULT_AUTHENTICATED_URL_TEMPLATE="https://config.optimizely.com/datafiles/auth/%s.json",t.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT=[0,8,16,32,64,128,256,512],t.REQUEST_TIMEOUT_MS=6e4},16287:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.listeners={},this.listenerId=1}return e.prototype.on=function(e,t){var n=this;this.listeners[e]||(this.listeners[e]={});var r=String(this.listenerId);return this.listenerId++,this.listeners[e][r]=t,function(){n.listeners[e]&&delete n.listeners[e][r]}},e.prototype.emit=function(e,t){var n=this.listeners[e];n&&Object.keys(n).forEach(function(e){(0,n[e])(t)})},e.prototype.removeAllListeners=function(){this.listeners={}},e}();t.default=n},56664:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(72531),s=n(71185),u=o(n(16287)),c=n(12003),l=o(n(19947)),A=a.getLogger("DatafileManager");function d(e){return e>=200&&e<400}var f={get:function(){return Promise.resolve("")},set:function(){return Promise.resolve()},contains:function(){return Promise.resolve(!1)},remove:function(){return Promise.resolve()}},h=function(){function e(e){var t=this,n=r(r({},this.getConfigDefaults()),e),o=n.datafile,a=n.autoUpdate,d=n.sdkKey,h=n.updateInterval,p=void 0===h?c.DEFAULT_UPDATE_INTERVAL:h,g=n.urlTemplate,v=void 0===g?c.DEFAULT_URL_TEMPLATE:g,m=n.cache;(this.cache=void 0===m?f:m,this.cacheKey="opt-datafile-"+d,this.isReadyPromiseSettled=!1,this.readyPromiseResolver=function(){},this.readyPromiseRejecter=function(){},this.readyPromise=new Promise(function(e,n){t.readyPromiseResolver=e,t.readyPromiseRejecter=n}),o?(this.currentDatafile=o,d||this.resolveReadyPromise()):this.currentDatafile="",this.isStarted=!1,this.datafileUrl=s.sprintf(v,d),this.emitter=new u.default,this.autoUpdate=void 0!==a&&a,p>=c.MIN_UPDATE_INTERVAL)?this.updateInterval=p:(A.warn("Invalid updateInterval %s, defaulting to %s",p,c.DEFAULT_UPDATE_INTERVAL),this.updateInterval=c.DEFAULT_UPDATE_INTERVAL),this.currentTimeout=null,this.currentRequest=null,this.backoffController=new l.default,this.syncOnCurrentRequestComplete=!1}return e.prototype.get=function(){return this.currentDatafile},e.prototype.start=function(){this.isStarted||(A.debug("Datafile manager started"),this.isStarted=!0,this.backoffController.reset(),this.setDatafileFromCacheIfAvailable(),this.syncDatafile())},e.prototype.stop=function(){return A.debug("Datafile manager stopped"),this.isStarted=!1,this.currentTimeout&&(clearTimeout(this.currentTimeout),this.currentTimeout=null),this.emitter.removeAllListeners(),this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),Promise.resolve()},e.prototype.onReady=function(){return this.readyPromise},e.prototype.on=function(e,t){return this.emitter.on(e,t)},e.prototype.onRequestRejected=function(e){this.isStarted&&(this.backoffController.countError(),e instanceof Error?A.error("Error fetching datafile: %s",e.message,e):"string"==typeof e?A.error("Error fetching datafile: %s",e):A.error("Error fetching datafile"))},e.prototype.onRequestResolved=function(e){if(this.isStarted){void 0!==e.statusCode&&d(e.statusCode)?this.backoffController.reset():this.backoffController.countError(),this.trySavingLastModified(e.headers);var t=this.getNextDatafileFromResponse(e);""!==t&&(A.info("Updating datafile from response"),this.currentDatafile=t,this.cache.set(this.cacheKey,t),this.isReadyPromiseSettled?this.emitter.emit("update",{datafile:t}):this.resolveReadyPromise())}},e.prototype.onRequestComplete=function(){this.isStarted&&(this.currentRequest=null,this.isReadyPromiseSettled||this.autoUpdate||this.rejectReadyPromise(Error("Failed to become ready")),this.autoUpdate&&this.syncOnCurrentRequestComplete&&this.syncDatafile(),this.syncOnCurrentRequestComplete=!1)},e.prototype.syncDatafile=function(){var e=this,t={};this.lastResponseLastModified&&(t["if-modified-since"]=this.lastResponseLastModified),A.debug("Making datafile request to url %s with headers: %s",this.datafileUrl,function(){return JSON.stringify(t)}),this.currentRequest=this.makeGetRequest(this.datafileUrl,t);var n=function(){e.onRequestComplete()};this.currentRequest.responsePromise.then(function(t){e.onRequestResolved(t)},function(t){e.onRequestRejected(t)}).then(n,n),this.autoUpdate&&this.scheduleNextUpdate()},e.prototype.resolveReadyPromise=function(){this.readyPromiseResolver(),this.isReadyPromiseSettled=!0},e.prototype.rejectReadyPromise=function(e){this.readyPromiseRejecter(e),this.isReadyPromiseSettled=!0},e.prototype.scheduleNextUpdate=function(){var e=this,t=Math.max(this.backoffController.getDelay(),this.updateInterval);A.debug("Scheduling sync in %s ms",t),this.currentTimeout=setTimeout(function(){e.currentRequest?e.syncOnCurrentRequestComplete=!0:e.syncDatafile()},t)},e.prototype.getNextDatafileFromResponse=function(e){return(A.debug("Response status code: %s",e.statusCode),void 0===e.statusCode||304===e.statusCode)?"":d(e.statusCode)?e.body:""},e.prototype.trySavingLastModified=function(e){var t=e["last-modified"]||e["Last-Modified"];void 0!==t&&(this.lastResponseLastModified=t,A.debug("Saved last modified header value from response: %s",this.lastResponseLastModified))},e.prototype.setDatafileFromCacheIfAvailable=function(){var e=this;this.cache.get(this.cacheKey).then(function(t){e.isStarted&&!e.isReadyPromiseSettled&&""!==t&&(A.debug("Using datafile from cache"),e.currentDatafile=t,e.resolveReadyPromise())})},e}();t.default=h},36124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10870);t.HttpPollingDatafileManager=r.default},40939:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},65609:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendEventNotification=t.getQueue=t.validateAndGetBatchSize=t.validateAndGetFlushInterval=t.DEFAULT_BATCH_SIZE=t.DEFAULT_FLUSH_INTERVAL=void 0;var r=n(28344),o=n(72531),a=n(71185);t.DEFAULT_FLUSH_INTERVAL=3e4,t.DEFAULT_BATCH_SIZE=10;var s=o.getLogger("EventProcessor");t.validateAndGetFlushInterval=function(e){return e<=0&&(s.warn("Invalid flushInterval "+e+", defaulting to "+t.DEFAULT_FLUSH_INTERVAL),e=t.DEFAULT_FLUSH_INTERVAL),e},t.validateAndGetBatchSize=function(e){return(e=Math.floor(e))<1&&(s.warn("Invalid batchSize "+e+", defaulting to "+t.DEFAULT_BATCH_SIZE),e=t.DEFAULT_BATCH_SIZE),e=Math.max(1,e)},t.getQueue=function(e,t,n,o){return e>1?new r.DefaultEventQueue({flushInterval:t,maxQueueSize:e,sink:n,batchComparator:o}):new r.SingleEventQueue({sink:n})},t.sendEventNotification=function(e,t){e&&e.sendNotifications(a.NOTIFICATION_TYPES.LOG_EVENT,t)}},28344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultEventQueue=t.SingleEventQueue=void 0;var r=n(72531).getLogger("EventProcessor"),o=function(){function e(e){var t=e.timeout,n=e.callback;this.timeout=Math.max(t,0),this.callback=n}return e.prototype.start=function(){this.timeoutId=setTimeout(this.callback,this.timeout)},e.prototype.refresh=function(){this.stop(),this.start()},e.prototype.stop=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e}(),a=function(){function e(e){var t=e.sink;this.sink=t}return e.prototype.start=function(){},e.prototype.stop=function(){return Promise.resolve()},e.prototype.enqueue=function(e){this.sink([e])},e}();t.SingleEventQueue=a;var s=function(){function e(e){var t=e.flushInterval,n=e.maxQueueSize,r=e.sink,a=e.batchComparator;this.buffer=[],this.maxQueueSize=Math.max(n,1),this.sink=r,this.batchComparator=a,this.timer=new o({callback:this.flush.bind(this),timeout:t}),this.started=!1}return e.prototype.start=function(){this.started=!0},e.prototype.stop=function(){this.started=!1;var e=this.sink(this.buffer);return this.buffer=[],this.timer.stop(),e},e.prototype.enqueue=function(e){if(!this.started){r.warn("Queue is stopped, not accepting event");return}var t=this.buffer[0];t&&!this.batchComparator(t,e)&&this.flush(),0===this.buffer.length&&this.timer.refresh(),this.buffer.push(e),this.buffer.length>=this.maxQueueSize&&this.flush()},e.prototype.flush=function(){this.sink(this.buffer),this.buffer=[],this.timer.stop()},e}();t.DefaultEventQueue=s},88514:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areEventContextsEqual=void 0,t.areEventContextsEqual=function(e,t){var n=e.context,r=t.context;return n.accountId===r.accountId&&n.projectId===r.projectId&&n.clientName===r.clientName&&n.clientVersion===r.clientVersion&&n.revision===r.revision&&n.anonymizeIP===r.anonymizeIP&&n.botFiltering===r.botFiltering}},29473:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(88514),t),o(n(65609),t),o(n(40939),t),o(n(62949),t),o(n(52621),t),o(n(56066),t),o(n(65495),t)},62949:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},52621:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStoragePendingEventsDispatcher=t.PendingEventsDispatcher=void 0;var a=n(72531),s=n(85187),u=n(71185),c=a.getLogger("EventProcessor"),l=function(){function e(e){var t=e.eventDispatcher,n=e.store;this.dispatcher=t,this.store=n}return e.prototype.dispatchEvent=function(e,t){this.send({uuid:u.generateUUID(),timestamp:u.getTimestamp(),request:e},t)},e.prototype.sendPendingEvents=function(){var e=this,t=this.store.values();c.debug("Sending %s pending events from previous page",t.length),t.forEach(function(t){try{e.send(t,function(){})}catch(e){}})},e.prototype.send=function(e,t){var n=this;this.store.set(e.uuid,e),this.dispatcher.dispatchEvent(e.request,function(r){n.store.remove(e.uuid),t(r)})},e}();t.PendingEventsDispatcher=l;var A=function(e){function t(t){var n=t.eventDispatcher;return e.call(this,{eventDispatcher:n,store:new s.LocalStorageStore({maxValues:100,key:"fs_optly_pending_events"})})||this}return o(t,e),t}(l);t.LocalStoragePendingEventsDispatcher=A},85187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageStore=void 0;var r=n(71185),o=n(72531).getLogger("EventProcessor"),a=function(){function e(e){var t=e.key,n=e.maxValues;this.LS_KEY=t,this.maxValues=void 0===n?1e3:n}return e.prototype.get=function(e){return this.getMap()[e]||null},e.prototype.set=function(e,t){var n=this.getMap();n[e]=t,this.replace(n)},e.prototype.remove=function(e){var t=this.getMap();delete t[e],this.replace(t)},e.prototype.values=function(){return r.objectValues(this.getMap())},e.prototype.clear=function(){this.replace({})},e.prototype.replace=function(e){try{window.localStorage&&localStorage.setItem(this.LS_KEY,JSON.stringify(e)),this.clean()}catch(e){o.error(e)}},e.prototype.clean=function(){var e=this.getMap(),t=Object.keys(e),n=t.length-this.maxValues;if(!(n<1)){var r=t.map(function(t){return{key:t,value:e[t]}});r.sort(function(e,t){return e.value.timestamp-t.value.timestamp});for(var o=0;o<n;o++)delete e[r[o].key];this.replace(e)}},e.prototype.getMap=function(){try{var e=window.localStorage&&localStorage.getItem(this.LS_KEY);if(e)return JSON.parse(e)||{}}catch(e){o.error(e)}return{}},e}();t.LocalStorageStore=a},68349:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.reqsInFlightCount=0,this.reqsCompleteResolvers=[]}return e.prototype.trackRequest=function(e){var t=this;this.reqsInFlightCount++;var n=function(){t.reqsInFlightCount--,0===t.reqsInFlightCount&&(t.reqsCompleteResolvers.forEach(function(e){return e()}),t.reqsCompleteResolvers=[])};e.then(n,n)},e.prototype.onRequestsComplete=function(){var e=this;return new Promise(function(t){0===e.reqsInFlightCount?t():e.reqsCompleteResolvers.push(t)})},e}();t.default=n},56066:function(e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.formatEvents=t.buildConversionEventV1=t.buildImpressionEventV1=t.makeBatchedEventV1=void 0;var r="$opt_bot_filtering";function o(e){var t=[],n=e[0];return e.forEach(function(e){if("conversion"===e.type||"impression"===e.type){var n=u(e);"impression"===e.type?n.snapshots.push(s(e)):"conversion"===e.type&&n.snapshots.push(a(e)),t.push(n)}}),{client_name:n.context.clientName,client_version:n.context.clientVersion,account_id:n.context.accountId,project_id:n.context.projectId,revision:n.context.revision,anonymize_ip:n.context.anonymizeIP,enrich_decisions:!0,visitors:t}}function a(e){var t=n({},e.tags);delete t.revenue,delete t.value;var r={entity_id:e.event.id,key:e.event.key,timestamp:e.timestamp,uuid:e.uuid};return e.tags&&(r.tags=e.tags),null!=e.value&&(r.value=e.value),null!=e.revenue&&(r.revenue=e.revenue),{events:[r]}}function s(e){var t,n,r=e.layer,o=e.experiment,a=e.variation,s=e.ruleKey,u=e.flagKey,c=e.ruleType,l=e.enabled,A=r?r.id:null;return{decisions:[{campaign_id:A,experiment_id:null!==(t=null==o?void 0:o.id)&&void 0!==t?t:"",variation_id:null!==(n=null==a?void 0:a.id)&&void 0!==n?n:"",metadata:{flag_key:u,rule_key:s,rule_type:c,variation_key:a?a.key:"",enabled:l}}],events:[{entity_id:A,timestamp:e.timestamp,key:"campaign_activated",uuid:e.uuid}]}}function u(e){var t={snapshots:[],visitor_id:e.user.id,attributes:[]};return e.user.attributes.forEach(function(e){t.attributes.push({entity_id:e.entityId,key:e.key,type:"custom",value:e.value})}),"boolean"==typeof e.context.botFiltering&&t.attributes.push({entity_id:r,key:r,type:"custom",value:e.context.botFiltering}),t}t.makeBatchedEventV1=o,t.buildImpressionEventV1=function(e){var t=u(e);return t.snapshots.push(s(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.buildConversionEventV1=function(e){var t=u(e);return t.snapshots.push(a(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.formatEvents=function(e){return{url:"https://logx.optimizely.com/v1/events",httpVerb:"POST",params:o(e)}}},65495:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function u(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,u)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogTierV1EventProcessor=void 0;var s=n(72531),u=n(65609),c=a(n(68349)),l=n(88514),A=n(56066),d=s.getLogger("LogTierV1EventProcessor"),f=function(){function e(e){var t=e.dispatcher,n=e.flushInterval,r=void 0===n?u.DEFAULT_FLUSH_INTERVAL:n,o=e.batchSize,a=void 0===o?u.DEFAULT_BATCH_SIZE:o,s=e.notificationCenter;this.dispatcher=t,this.notificationCenter=s,this.requestTracker=new c.default,r=u.validateAndGetFlushInterval(r),a=u.validateAndGetBatchSize(a),this.queue=u.getQueue(a,r,this.drainQueue.bind(this),l.areEventContextsEqual)}return e.prototype.drainQueue=function(e){var t=this,n=new Promise(function(n){if(d.debug("draining queue with %s events",e.length),0===e.length){n();return}var r=A.formatEvents(e);t.dispatcher.dispatchEvent(r,function(){n()}),u.sendEventNotification(t.notificationCenter,r)});return this.requestTracker.trackRequest(n),n},e.prototype.process=function(e){this.queue.enqueue(e)},e.prototype.stop=function(){try{return this.queue.stop(),this.requestTracker.onRequestsComplete()}catch(e){d.error('Error stopping EventProcessor: "%s"',e.message,e)}return Promise.resolve()},e.prototype.start=function(){return r(this,void 0,void 0,function(){return o(this,function(e){return this.queue.start(),[2]})})},e}();t.LogTierV1EventProcessor=f},63077:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.handleError=function(e){},e}();t.NoopErrorHandler=n;var r=new n;t.setErrorHandler=function(e){r=e},t.getErrorHandler=function(){return r},t.resetErrorHandler=function(){r=new n}},72531:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(63077)),r(n(32011)),r(n(51628))},51628:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var a=arguments[t],s=0,u=a.length;s<u;s++,o++)r[o]=a[s];return r};Object.defineProperty(t,"__esModule",{value:!0});var o=n(63077),a=n(71185),s=n(32011),u={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4};function c(e){return"string"!=typeof e?e:("WARN"===(e=e.toUpperCase())&&(e="WARNING"),u[e])?u[e]:e}var l=function(){function e(){this.defaultLoggerFacade=new h,this.loggers={}}return e.prototype.getLogger=function(e){return e?(this.loggers[e]||(this.loggers[e]=new h({messagePrefix:e})),this.loggers[e]):this.defaultLoggerFacade},e}(),A=function(){function e(e){void 0===e&&(e={}),this.logLevel=s.LogLevel.NOTSET,void 0!==e.logLevel&&a.isValidEnum(s.LogLevel,e.logLevel)&&this.setLogLevel(e.logLevel),this.logToConsole=void 0===e.logToConsole||!!e.logToConsole,this.prefix=void 0!==e.prefix?e.prefix:"[OPTIMIZELY]"}return e.prototype.log=function(e,t){if(this.shouldLog(e)&&this.logToConsole){var n=this.prefix+" - "+this.getLogLevelName(e)+" "+this.getTime()+" "+t;this.consoleLog(e,[n])}},e.prototype.setLogLevel=function(e){e=c(e),a.isValidEnum(s.LogLevel,e)&&void 0!==e?this.logLevel=e:this.logLevel=s.LogLevel.ERROR},e.prototype.getTime=function(){return new Date().toISOString()},e.prototype.shouldLog=function(e){return e>=this.logLevel},e.prototype.getLogLevelName=function(e){switch(e){case s.LogLevel.DEBUG:return"DEBUG";case s.LogLevel.INFO:return"INFO ";case s.LogLevel.WARNING:return"WARN ";case s.LogLevel.ERROR:return"ERROR";default:return"NOTSET"}},e.prototype.consoleLog=function(e,t){switch(e){case s.LogLevel.DEBUG:console.log.apply(console,t);break;case s.LogLevel.INFO:console.info.apply(console,t);break;case s.LogLevel.WARNING:console.warn.apply(console,t);break;case s.LogLevel.ERROR:console.error.apply(console,t);break;default:console.log.apply(console,t)}},e}();t.ConsoleLogHandler=A;var d=s.LogLevel.NOTSET,f=null,h=function(){function e(e){void 0===e&&(e={}),this.messagePrefix="",e.messagePrefix&&(this.messagePrefix=e.messagePrefix)}return e.prototype.log=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.internalLog(c(e),{message:t,splat:n})},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(s.LogLevel.INFO,e,t)},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(s.LogLevel.DEBUG,e,t)},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(s.LogLevel.WARNING,e,t)},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(s.LogLevel.ERROR,e,t)},e.prototype.format=function(e){return(this.messagePrefix?this.messagePrefix+": ":"")+a.sprintf.apply(void 0,r([e.message],e.splat))},e.prototype.internalLog=function(e,t){f&&!(e<d)&&(f.log(e,this.format(t)),t.error&&t.error instanceof Error&&o.getErrorHandler().handleError(t.error))},e.prototype.namedLog=function(e,t,n){if(t instanceof Error){t=(r=t).message,this.internalLog(e,{error:r,message:t,splat:n});return}if(0===n.length){this.internalLog(e,{message:t,splat:n});return}var r,o=n[n.length-1];o instanceof Error&&(r=o,n.splice(-1)),this.internalLog(e,{message:t,error:r,splat:n})},e}(),p=new l;t.getLogger=function(e){return p.getLogger(e)},t.setLogHandler=function(e){f=e},t.setLogLevel=function(e){e=c(e),d=a.isValidEnum(s.LogLevel,e)&&void 0!==e?e:s.LogLevel.ERROR},t.getLogLevel=function(){return d},t.resetLogger=function(){p=new l,d=s.LogLevel.NOTSET}},32011:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),(n=t.LogLevel||(t.LogLevel={}))[n.NOTSET=0]="NOTSET",n[n.DEBUG=1]="DEBUG",n[n.INFO=2]="INFO",n[n.WARNING=3]="WARNING",n[n.ERROR=4]="ERROR"},71185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(63217);function a(e){return Object.keys(e).map(function(t){return e[t]})}t.generateUUID=function(){return o.v4()},t.getTimestamp=function(){return new Date().getTime()},t.isValidEnum=function(e,t){for(var n=!1,r=Object.keys(e),o=0;o<r.length;o++)if(t===e[r[o]]){n=!0;break}return n},t.groupBy=function(e,t){var n={};return e.forEach(function(e){var r=t(e);n[r]=n[r]||[],n[r].push(e)}),a(n)},t.objectValues=a,t.objectEntries=function(e){return Object.keys(e).map(function(t){return[t,e[t]]})},t.find=function(e,t){for(var n,r=0;r<e.length;r++){var o=e[r];if(t(o)){n=o;break}}return n},t.keyBy=function(e,t){var n={};return e.forEach(function(e){n[t(e)]=e}),n},t.sprintf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)})},(r=t.NOTIFICATION_TYPES||(t.NOTIFICATION_TYPES={})).ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",r.DECISION="DECISION:type, userId, attributes, decisionInfo",r.LOG_EVENT="LOG_EVENT:logEvent",r.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",r.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"},63217:function(e,t,n){var r=n(14195),o=n(35916);o.v1=r,o.v4=o,e.exports=o},54146:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]]].join("")}},48378:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var e,t=0;t<16;t++)(3&t)==0&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},14195:function(e,t,n){var r,o,a=n(48378),s=n(54146),u=0,c=0;e.exports=function(e,t,n){var l=t&&n||0,A=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var h=a();null==d&&(d=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==f&&(f=o=(h[6]<<8|h[7])&16383)}var p=void 0!==e.msecs?e.msecs:new Date().getTime(),g=void 0!==e.nsecs?e.nsecs:c+1,v=p-u+(g-c)/1e4;if(v<0&&void 0===e.clockseq&&(f=f+1&16383),(v<0||p>u)&&void 0===e.nsecs&&(g=0),g>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");u=p,c=g,o=f;var m=((268435455&(p+=122192928e5))*1e4+g)%4294967296;A[l++]=m>>>24&255,A[l++]=m>>>16&255,A[l++]=m>>>8&255,A[l++]=255&m;var y=p/4294967296*1e4&268435455;A[l++]=y>>>8&255,A[l++]=255&y,A[l++]=y>>>24&15|16,A[l++]=y>>>16&255,A[l++]=f>>>8|128,A[l++]=255&f;for(var b=0;b<6;++b)A[l+b]=d[b];return t||s(A)}},35916:function(e,t,n){var r=n(48378),o=n(54146);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var u=0;u<16;++u)t[a+u]=s[u];return t||o(s)}},41962:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o,a=n(72531),s=n(29473),u=r(n(69015)),c=r(n(86077)),l=n(36124),A=function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function d(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,u=a.length;s<u;s++,o++)r[o]=a[s];return r}function f(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)return{};if("function"==typeof Object.assign)return Object.assign.apply(Object,d([e],t));for(var r=Object(e),o=0;o<t.length;o++){var a=t[o];if(null!=a)for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=a[s])}return r}function h(e,t){var n,r,o;return e?(n=e,r=function(e){return e[t]},o={},n.forEach(function(e){o[r(e)]=e}),o):{}}function p(e){return Object.keys(e).map(function(t){return e[t]})}function g(e,t){for(var n,r=0;r<e.length;r++){var o=e[r];if(t(o)){n=o;break}}return n}function v(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)})}var m,y={assign:f,currentTimestamp:function(){return Math.round((new Date).getTime())},isSafeInteger:function(e){return"number"==typeof e&&9007199254740992>=Math.abs(e)},uuid:function(){return u()},isNumber:function(e){return"number"==typeof e}},b={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},w={CONDITION_EVALUATOR_ERROR:"%s: Error evaluating audience condition of type %s: %s",DATAFILE_AND_SDK_KEY_MISSING:"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely",EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_CONFIG:"%s: Provided Optimizely config is in an invalid format.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},_={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EVENT_KEY_NOT_FOUND:"%s: Event key %s is not in datafile.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_DEFAULT_DECIDE_OPTIONS:"%s: Provided default decide options is not an array.",INVALID_DECIDE_OPTIONS:"%s: Provided decide options is not an array. Using default decide options.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is not in "Running" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",UNRECOGNIZED_DECIDE_OPTION:"%s: Unrecognized decide option %s provided.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned bucket %s to user with bucketing ID %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Feature "%s" is not enabled for user %s. Returning the default variable value "%s".',VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Variable "%s" is not used in variation "%s". Returning default value.',USER_RECEIVED_VARIABLE_VALUE:'%s: Got variable value "%s" for variable "%s" of feature flag "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for %s "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for %s %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",UPDATED_OPTIMIZELY_CONFIG:"%s: Updated Optimizely config to revision %s (project id %s)",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].',UNABLE_TO_ATTACH_UNLOAD:'%s: unable to bind optimizely.close() to page unload event: "%s"'},E={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent",FORCED_DECISION_NULL_RULE_KEY:"$opt_null_rule_key"},C={AB_TEST:"ab-test",FEATURE:"feature",FEATURE_TEST:"feature-test",FEATURE_VARIABLE:"feature-variable",ALL_FEATURE_VARIABLES:"all-feature-variables",FLAG:"flag"},B={FEATURE_TEST:"feature-test",ROLLOUT:"rollout",EXPERIMENT:"experiment"},I={RULE:"rule",EXPERIMENT:"experiment"},x={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string",JSON:"json"},T={V2:"2",V3:"3",V4:"4"},S={SDK_NOT_READY:"Optimizely SDK not configured properly yet.",FLAG_KEY_INVALID:'No flag was found for key "%s".',VARIABLE_VALUE_INVALID:'Variable value for key "%s" is invalid or wrong type.'};(P=m||(m={})).ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",P.DECISION="DECISION:type, userId, attributes, decisionInfo",P.LOG_EVENT="LOG_EVENT:logEvent",P.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",P.TRACK="TRACK:event_key, user_id, attributes, event_tags, event";var k=Object.freeze({__proto__:null,LOG_LEVEL:b,ERROR_MESSAGES:w,LOG_MESSAGES:_,CONTROL_ATTRIBUTES:E,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",REACT_CLIENT_ENGINE:"react-sdk",REACT_NATIVE_CLIENT_ENGINE:"react-native-sdk",REACT_NATIVE_JS_CLIENT_ENGINE:"react-native-js-sdk",NODE_CLIENT_VERSION:"4.9.2",DECISION_NOTIFICATION_TYPES:C,DECISION_SOURCES:B,AUDIENCE_EVALUATION_TYPES:I,FEATURE_VARIABLE_TYPES:x,DATAFILE_VERSIONS:T,DECISION_MESSAGES:S,get NOTIFICATION_TYPES(){return m}}),D="CONFIG_VALIDATOR",N=[T.V2,T.V3,T.V4],O=function(e){if("object"==typeof e&&null!==e){var t=e.errorHandler,n=e.eventDispatcher,r=e.logger;if(t&&"function"!=typeof t.handleError)throw Error(v(w.INVALID_ERROR_HANDLER,D));if(n&&"function"!=typeof n.dispatchEvent)throw Error(v(w.INVALID_EVENT_DISPATCHER,D));if(r&&"function"!=typeof r.log)throw Error(v(w.INVALID_LOGGER,D));return!0}throw Error(v(w.INVALID_CONFIG,D))},F=function(e){if(!e)throw Error(v(w.NO_DATAFILE_SPECIFIED,D));if("string"==typeof e)try{e=JSON.parse(e)}catch(e){throw Error(v(w.INVALID_DATAFILE_MALFORMED,D))}if("object"==typeof e&&!Array.isArray(e)&&null!==e&&-1===N.indexOf(e.version))throw Error(v(w.INVALID_DATAFILE_VERSION,D,e.version));return e},R={dispatchEvent:function(e,t){var n,r=e.params,o=e.url;"POST"===e.httpVerb?((n=new XMLHttpRequest).open("POST",o,!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"==typeof t)try{t({statusCode:n.status})}catch(e){}},n.send(JSON.stringify(r))):(o+="?wxhr=true",r&&(o+="&"+Object.keys(r).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(r[e])}).join("&")),(n=new XMLHttpRequest).open("GET",o,!0),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"==typeof t)try{t({statusCode:n.status})}catch(e){}},n.send())}},L=function(){function e(){}return e.prototype.log=function(){},e}();function M(e){return new a.ConsoleLogHandler(e)}var P,U,j,Z=Object.freeze({__proto__:null,NoOpLogger:L,createLogger:M,createNoOpLogger:function(){return new L}});function Q(e,t,n){return{variationKey:null,enabled:!1,variables:{},ruleKey:null,flagKey:e,userContext:t,reasons:n}}(o=U||(U={})).BOOLEAN="boolean",o.DOUBLE="double",o.INTEGER="integer",o.STRING="string",o.JSON="json",(j=t.N1||(t.N1={})).DISABLE_DECISION_EVENT="DISABLE_DECISION_EVENT",j.ENABLED_FLAGS_ONLY="ENABLED_FLAGS_ONLY",j.IGNORE_USER_PROFILE_SERVICE="IGNORE_USER_PROFILE_SERVICE",j.INCLUDE_REASONS="INCLUDE_REASONS",j.EXCLUDE_VARIABLES="EXCLUDE_VARIABLES";var H=function(){function e(e){var t,n=e.optimizely,r=e.userId,o=e.attributes;this.optimizely=n,this.userId=r,this.attributes=null!==(t=A({},o))&&void 0!==t?t:{},this.forcedDecisionsMap={}}return e.prototype.setAttribute=function(e,t){this.attributes[e]=t},e.prototype.getUserId=function(){return this.userId},e.prototype.getAttributes=function(){return A({},this.attributes)},e.prototype.getOptimizely=function(){return this.optimizely},e.prototype.decide=function(e,t){return void 0===t&&(t=[]),this.optimizely.decide(this.cloneUserContext(),e,t)},e.prototype.decideForKeys=function(e,t){return void 0===t&&(t=[]),this.optimizely.decideForKeys(this.cloneUserContext(),e,t)},e.prototype.decideAll=function(e){return void 0===e&&(e=[]),this.optimizely.decideAll(this.cloneUserContext(),e)},e.prototype.trackEvent=function(e,t){this.optimizely.track(e,this.userId,this.attributes,t)},e.prototype.setForcedDecision=function(e,t){var n,r=e.flagKey,o=null!==(n=e.ruleKey)&&void 0!==n?n:E.FORCED_DECISION_NULL_RULE_KEY,a={variationKey:t.variationKey};return this.forcedDecisionsMap[r]||(this.forcedDecisionsMap[r]={}),this.forcedDecisionsMap[r][o]=a,!0},e.prototype.getForcedDecision=function(e){return this.findForcedDecision(e)},e.prototype.removeForcedDecision=function(e){var t,n=null!==(t=e.ruleKey)&&void 0!==t?t:E.FORCED_DECISION_NULL_RULE_KEY,r=e.flagKey,o=!1;return this.forcedDecisionsMap.hasOwnProperty(r)&&(this.forcedDecisionsMap[r].hasOwnProperty(n)&&(delete this.forcedDecisionsMap[r][n],o=!0),0===Object.keys(this.forcedDecisionsMap[r]).length&&delete this.forcedDecisionsMap[r]),o},e.prototype.removeAllForcedDecisions=function(){return this.forcedDecisionsMap={},!0},e.prototype.findForcedDecision=function(e){var t,n=null!==(t=e.ruleKey)&&void 0!==t?t:E.FORCED_DECISION_NULL_RULE_KEY,r=e.flagKey;if(this.forcedDecisionsMap.hasOwnProperty(e.flagKey)){var o=this.forcedDecisionsMap[r];if(o.hasOwnProperty(n))return{variationKey:o[n].variationKey}}return null},e.prototype.cloneUserContext=function(){var t=new e({optimizely:this.getOptimizely(),userId:this.getUserId(),attributes:this.getAttributes()});return Object.keys(this.forcedDecisionsMap).length>0&&(t.forcedDecisionsMap=A({},this.forcedDecisionsMap)),t},e}(),V=["and","or","not"];function K(e,t){if(Array.isArray(e)){var n=e[0],r=e.slice(1);switch("string"==typeof n&&-1===V.indexOf(n)&&(n="or",r=e),n){case"and":return function(e,t){var n=!1;if(Array.isArray(e)){for(var r=0;r<e.length;r++){var o=K(e[r],t);if(!1===o)return!1;null===o&&(n=!0)}return!n||null}return null}(r,t);case"not":return function(e,t){if(Array.isArray(e)&&e.length>0){var n=K(e[0],t);return null===n?null:!n}return null}(r,t);default:return function(e,t){var n=!1;if(Array.isArray(e)){for(var r=0;r<e.length;r++){var o=K(e[r],t);if(!0===o)return!0;null===o&&(n=!0)}return!!n&&null}return null}(r,t)}}return t(e)}var z=function(){function e(t,n){this.sdkKey=null!==(r=t.sdkKey)&&void 0!==r?r:"",this.environmentKey=null!==(o=t.environmentKey)&&void 0!==o?o:"",this.attributes=t.attributes,this.audiences=e.getAudiences(t),this.events=t.events,this.revision=t.revision;var r,o,a=(t.featureFlags||[]).reduce(function(e,t){return e[t.id]=t.variables,e},{}),s=e.getExperimentsMapById(t,a);this.experimentsMap=e.getExperimentsKeyMap(s),this.featuresMap=e.getFeaturesMap(t,a,s),this.datafile=n}return e.prototype.getDatafile=function(){return this.datafile},e.getAudiences=function(e){var t=[],n=[];return(e.typedAudiences||[]).forEach(function(e){t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name}),n.push(e.id)}),(e.audiences||[]).forEach(function(e){-1===n.indexOf(e.id)&&"$opt_dummy_audience"!=e.id&&t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name})}),t},e.getSerializedAudiences=function(t,n){var r="";if(t){var o="";t.forEach(function(t){var a="";if(t instanceof Array)a="("+(a=e.getSerializedAudiences(t,n))+")";else if(V.indexOf(t)>-1)o=t.toUpperCase();else{var s=n[t]?n[t].name:t;r||"NOT"===o?(o=""===o?"OR":o,r=""===r?o+' "'+n[t].name+'"':r.concat(" "+o+' "'+s+'"')):r='"'+s+'"'}""!==a&&(""!==r||"NOT"===o?(o=""===o?"OR":o,r=""===r?o+" "+a:r.concat(" "+o+" "+a)):r=r.concat(a))})}return r},e.getExperimentAudiences=function(t,n){return t.audienceConditions?e.getSerializedAudiences(t.audienceConditions,n.audiencesById):""},e.mergeFeatureVariables=function(e,t,n,r,o){var a=(e[n]||[]).reduce(function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e},{});return(r||[]).forEach(function(e){var n=t[e.id],r={id:e.id,key:n.key,type:n.type,value:o?e.value:n.defaultValue};a[n.key]=r}),a},e.getVariationsMap=function(t,n,r,o){return t.reduce(function(t,a){var s=e.mergeFeatureVariables(n,r,o,a.variables,a.featureEnabled);return t[a.key]={id:a.id,key:a.key,featureEnabled:a.featureEnabled,variablesMap:s},t},{})},e.getVariableIdMap=function(e){return(e.featureFlags||[]).reduce(function(e,t){return t.variables.forEach(function(t){e[t.id]=t}),e},{})},e.getDeliveryRules=function(t,n,r,o){var a=e.getVariableIdMap(t);return o.map(function(o){return{id:o.id,key:o.key,audiences:e.getExperimentAudiences(o,t),variationsMap:e.getVariationsMap(o.variations,n,a,r)}})},e.getRolloutExperimentIds=function(e){var t=[];return(e||[]).forEach(function(e){e.experiments.forEach(function(e){t.push(e.id)})}),t},e.getExperimentsMapById=function(t,n){var r=e.getVariableIdMap(t),o=this.getRolloutExperimentIds(t.rollouts);return(t.experiments||[]).reduce(function(a,s){if(-1===o.indexOf(s.id)){var u=t.experimentFeatureMap[s.id],c="";u&&u.length>0&&(c=u[0]);var l=e.getVariationsMap(s.variations,n,r,c.toString());a[s.id]={id:s.id,key:s.key,audiences:e.getExperimentAudiences(s,t),variationsMap:l}}return a},{})},e.getExperimentsKeyMap=function(e){var t={};for(var n in e){var r=e[n];t[r.key]=r}return t},e.getFeaturesMap=function(t,n,r){var o={};return t.featureFlags.forEach(function(a){var s={},u=[];a.experimentIds.forEach(function(e){var t=r[e];t&&(s[t.key]=t),u.push(r[e])});var c=(a.variables||[]).reduce(function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e},{}),l=[],A=t.rolloutIdMap[a.rolloutId];A&&(l=e.getDeliveryRules(t,n,a.id,A.experiments)),o[a.key]={id:a.id,key:a.key,experimentRules:u,deliveryRules:l,experimentsMap:s,variablesMap:c}}),o},e}(),G="PROJECT_CONFIG",W=function(e,t){void 0===t&&(t=null);var n,r,o,a,s=((a=f({},e)).audiences=(e.audiences||[]).map(function(e){return f({},e)}),a.experiments=(e.experiments||[]).map(function(e){return f({},e)}),a.featureFlags=(e.featureFlags||[]).map(function(e){return f({},e)}),a.groups=(e.groups||[]).map(function(e){var t=f({},e);return t.experiments=(e.experiments||[]).map(function(e){return f({},e)}),t}),a.rollouts=(e.rollouts||[]).map(function(e){var t=f({},e);return t.experiments=(e.experiments||[]).map(function(e){return f({},e)}),t}),a.environmentKey=null!==(r=e.environmentKey)&&void 0!==r?r:"",a.sdkKey=null!==(o=e.sdkKey)&&void 0!==o?o:"",a);return s.__datafileStr=null===t?JSON.stringify(e):t,(s.audiences||[]).forEach(function(e){e.conditions=JSON.parse(e.conditions)}),s.audiencesById=h(s.audiences,"id"),f(s.audiencesById,h(s.typedAudiences,"id")),s.attributeKeyMap=h(s.attributes,"key"),s.eventKeyMap=h(s.events,"key"),s.groupIdMap=h(s.groups,"id"),Object.keys(s.groupIdMap||{}).forEach(function(e){(s.groupIdMap[e].experiments||[]).forEach(function(t){s.experiments.push(f(t,{groupId:e}))})}),s.rolloutIdMap=h(s.rollouts||[],"id"),p(s.rolloutIdMap||{}).forEach(function(e){(e.experiments||[]).forEach(function(e){s.experiments.push(e),e.variationKeyMap=h(e.variations,"key")})}),s.experimentKeyMap=h(s.experiments,"key"),s.experimentIdMap=h(s.experiments,"id"),s.variationIdMap={},s.variationVariableUsageMap={},(s.experiments||[]).forEach(function(e){e.variationKeyMap=h(e.variations,"key"),f(s.variationIdMap,h(e.variations,"id")),p(e.variationKeyMap||{}).forEach(function(e){e.variables&&(s.variationVariableUsageMap[e.id]=h(e.variables,"id"))})}),s.experimentFeatureMap={},s.featureKeyMap=h(s.featureFlags||[],"key"),p(s.featureKeyMap||{}).forEach(function(e){e.variables.forEach(function(e){e.type===x.STRING&&e.subType===x.JSON&&(e.type=x.JSON,delete e.subType)}),e.variableKeyMap=h(e.variables,"key"),(e.experimentIds||[]).forEach(function(t){s.experimentFeatureMap[t]?s.experimentFeatureMap[t].push(e.id):s.experimentFeatureMap[t]=[e.id]})}),s.flagRulesMap={},(s.featureFlags||[]).forEach(function(e){var t=[];e.experimentIds.forEach(function(e){var n=s.experimentIdMap[e];n&&t.push(n)});var n=s.rolloutIdMap[e.rolloutId];n&&t.push.apply(t,n.experiments),s.flagRulesMap[e.key]=t}),s.flagVariationsMap={},Object.keys(n=s.flagRulesMap||{}).map(function(e){return[e,n[e]]}).forEach(function(e){var t=e[0],n=e[1],r=[];n.forEach(function(e){e.variations.forEach(function(e){g(r,function(t){return t.id===e.id})||r.push(e)})}),s.flagVariationsMap[t]=r}),s},q=function(e,t){var n=e.experimentIdMap[t];if(!n)throw Error(v(w.INVALID_EXPERIMENT_ID,G,t));return n.layerId},Y=function(e,t,n){var r=e.attributeKeyMap[t],o=0===t.indexOf("$opt_");return r?(o&&n.log(b.WARNING,"Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",t,"$opt_"),r.id):o?t:(n.log(b.DEBUG,w.UNRECOGNIZED_ATTRIBUTE,G,t),null)},$=function(e,t){var n=e.eventKeyMap[t];return n?n.id:null},X=function(e,t){var n=e.experimentKeyMap[t];if(!n)throw Error(v(w.INVALID_EXPERIMENT_KEY,G,t));return n.status},J=function(e,t){return e.variationIdMap.hasOwnProperty(t)?e.variationIdMap[t].key:null},ee=function(e,t){if(e.experimentKeyMap.hasOwnProperty(t)){var n=e.experimentKeyMap[t];if(n)return n}throw Error(v(w.EXPERIMENT_KEY_NOT_IN_DATAFILE,G,t))},et=function(e,t){var n=e.experimentIdMap[t];if(!n)throw Error(v(w.INVALID_EXPERIMENT_ID,G,t));return n.trafficAllocation},en=function(e,t,n){if(e.experimentIdMap.hasOwnProperty(t)){var r=e.experimentIdMap[t];if(r)return r}return n.log(b.ERROR,w.INVALID_EXPERIMENT_ID,G,t),null},er=function(e,t,n){return e&&g(e.flagVariationsMap[t],function(e){return e.key===n})||null},ei=function(e,t,n){if(e.featureKeyMap.hasOwnProperty(t)){var r=e.featureKeyMap[t];if(r)return r}return n.log(b.ERROR,w.FEATURE_NOT_IN_DATAFILE,G,t),null},eo=function(e){return e.__datafileStr},ea=function(e){try{t=F(e.datafile)}catch(e){return{configObj:null,error:e}}if(e.jsonSchemaValidator)try{e.jsonSchemaValidator.validate(t),e.logger.log(b.INFO,_.VALID_DATAFILE,G)}catch(e){return{configObj:null,error:e}}else e.logger.log(b.INFO,_.SKIPPING_JSON_VALIDATION,G);var t,n=[t];return"string"==typeof e.datafile&&n.push(e.datafile),{configObj:W.apply(void 0,n),error:null}},es=function(e){return!!e.sendFlagDecisions},eu=a.getLogger();function ec(e,t){return e instanceof Error?e.message:t||"Unknown error"}var el=function(){function e(e){this.updateListeners=[],this.configObj=null,this.optimizelyConfigObj=null,this.datafileManager=null;try{if(this.jsonSchemaValidator=e.jsonSchemaValidator,!e.datafile&&!e.sdkKey){var t=Error(v(w.DATAFILE_AND_SDK_KEY_MISSING,"PROJECT_CONFIG_MANAGER"));return this.readyPromise=Promise.resolve({success:!1,reason:ec(t)}),void eu.error(t)}var n=null;e.datafile&&(n=this.handleNewDatafile(e.datafile)),e.sdkKey&&e.datafileManager?(this.datafileManager=e.datafileManager,this.datafileManager.start(),this.readyPromise=this.datafileManager.onReady().then(this.onDatafileManagerReadyFulfill.bind(this),this.onDatafileManagerReadyReject.bind(this)),this.datafileManager.on("update",this.onDatafileManagerUpdate.bind(this))):this.configObj?this.readyPromise=Promise.resolve({success:!0}):this.readyPromise=Promise.resolve({success:!1,reason:ec(n,"Invalid datafile")})}catch(e){eu.error(e),this.readyPromise=Promise.resolve({success:!1,reason:ec(e,"Error in initialize")})}}return e.prototype.onDatafileManagerReadyFulfill=function(){if(this.datafileManager){var e=this.handleNewDatafile(this.datafileManager.get());return e?{success:!1,reason:ec(e)}:{success:!0}}return{success:!1,reason:ec(null,"Datafile manager is not provided")}},e.prototype.onDatafileManagerReadyReject=function(e){return{success:!1,reason:ec(e,"Failed to become ready")}},e.prototype.onDatafileManagerUpdate=function(){this.datafileManager&&this.handleNewDatafile(this.datafileManager.get())},e.prototype.handleNewDatafile=function(e){var t=ea({datafile:e,jsonSchemaValidator:this.jsonSchemaValidator,logger:eu}),n=t.configObj,r=t.error;if(r)eu.error(r);else{var o=this.configObj?this.configObj.revision:"null";n&&o!==n.revision&&(this.configObj=n,this.optimizelyConfigObj=null,this.updateListeners.forEach(function(e){return e(n)}))}return r},e.prototype.getConfig=function(){return this.configObj},e.prototype.getOptimizelyConfig=function(){return!this.optimizelyConfigObj&&this.configObj&&(this.optimizelyConfigObj=new z(this.configObj,eo(this.configObj))),this.optimizelyConfigObj},e.prototype.onReady=function(){return this.readyPromise},e.prototype.onUpdate=function(e){var t=this;return this.updateListeners.push(e),function(){var n=t.updateListeners.indexOf(e);n>-1&&t.updateListeners.splice(n,1)}},e.prototype.stop=function(){this.datafileManager&&this.datafileManager.stop(),this.updateListeners=[]},e}(),eA=function(e){var t=[],n=e.experimentIdMap[e.experimentId].groupId;if(n){var r=e.groupIdMap[n];if(!r)throw Error(v(w.INVALID_GROUP_ID,"BUCKETER",n));if("random"===r.policy){var o=ed(r,e.bucketingId,e.userId,e.logger);if(null===o)return e.logger.log(b.INFO,_.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,n),t.push([_.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,n]),{result:null,reasons:t};if(o!==e.experimentId)return e.logger.log(b.INFO,_.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n),t.push([_.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n]),{result:null,reasons:t};e.logger.log(b.INFO,_.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n),t.push([_.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n])}}var a=eh(""+e.bucketingId+e.experimentId);e.logger.log(b.DEBUG,_.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",a,e.userId),t.push([_.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",a,e.userId]);var s=ef(a,e.trafficAllocationConfig);return null===s||e.variationIdMap[s]?{result:s,reasons:t}:(s&&(e.logger.log(b.WARNING,_.INVALID_VARIATION_ID,"BUCKETER"),t.push([_.INVALID_VARIATION_ID,"BUCKETER"])),{result:null,reasons:t})},ed=function(e,t,n,r){var o=eh(""+t+e.id);return r.log(b.DEBUG,_.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",o,n),ef(o,e.trafficAllocation)},ef=function(e,t){for(var n=0;n<t.length;n++)if(e<t[n].endOfRange)return t[n].entityId;return null},eh=function(e){try{var t=c.v3(e,1)/4294967296;return Math.floor(1e4*t)}catch(t){throw Error(v(w.INVALID_BUCKETING_ID,"BUCKETER",e,t.message))}},ep=a.getLogger();function eg(e){return/^\d+$/.test(e)}function ev(e){var t=e.indexOf("-"),n=e.indexOf("+");return!(t<0)&&(n<0||t<n)}function em(e){var t=e.indexOf("-"),n=e.indexOf("+");return!(n<0)&&(t<0||n<t)}function ey(e){var t=e,n="";if(/\s/.test(e))return ep.warn(_.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;if(ev(e)?(t=e.substring(0,e.indexOf("-")),n=e.substring(e.indexOf("-")+1)):em(e)&&(t=e.substring(0,e.indexOf("+")),n=e.substring(e.indexOf("+")+1)),"string"!=typeof t||"string"!=typeof n)return null;var r=t.split(".").length-1;if(r>2)return ep.warn(_.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;var o=t.split(".");if(o.length!=r+1)return ep.warn(_.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;for(var a=0;a<o.length;a++)if(!eg(o[a]))return ep.warn(_.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;return n&&o.push(n),o}var eb="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",ew=a.getLogger(),e_=["exact","exists","gt","ge","lt","le","substring","semver_eq","semver_lt","semver_le","semver_gt","semver_ge"],eE={};function eC(e){return"string"==typeof e||"boolean"==typeof e||y.isNumber(e)}function eB(e,t){var n=e.value,r=typeof n,o=e.name,a=t[o],s=typeof a;return!eC(n)||y.isNumber(n)&&!y.isSafeInteger(n)?(ew.warn(_.UNEXPECTED_CONDITION_VALUE,eb,JSON.stringify(e)),null):null===a?(ew.debug(_.UNEXPECTED_TYPE_NULL,eb,JSON.stringify(e),o),null):eC(a)&&r===s?y.isNumber(a)&&!y.isSafeInteger(a)?(ew.warn(_.OUT_OF_BOUNDS,eb,JSON.stringify(e),o),null):n===a:(ew.warn(_.UNEXPECTED_TYPE,eb,JSON.stringify(e),s,o),null)}function eI(e,t){var n=e.name,r=t[n],o=typeof r,a=e.value;return null!==a&&y.isSafeInteger(a)?null===r?(ew.debug(_.UNEXPECTED_TYPE_NULL,eb,JSON.stringify(e),n),!1):y.isNumber(r)?!!y.isSafeInteger(r)||(ew.warn(_.OUT_OF_BOUNDS,eb,JSON.stringify(e),n),!1):(ew.warn(_.UNEXPECTED_TYPE,eb,JSON.stringify(e),o,n),!1):(ew.warn(_.UNEXPECTED_CONDITION_VALUE,eb,JSON.stringify(e)),!1)}function ex(e,t){var n=e.name,r=t[n],o=e.value;return"string"!=typeof o?(ew.warn(_.UNEXPECTED_CONDITION_VALUE,eb,JSON.stringify(e)),null):null===r?(ew.debug(_.UNEXPECTED_TYPE_NULL,eb,JSON.stringify(e),n),null):"string"!=typeof r?(ew.warn(_.UNEXPECTED_TYPE,eb,JSON.stringify(e),typeof r,n),null):function(e,t){var n=ey(t),r=ey(e);if(!n||!r)return null;for(var o=n.length,a=0;a<r.length;a++){if(o<=a)return ev(e)||em(e)?1:-1;if(eg(n[a])){var s=parseInt(n[a]),u=parseInt(r[a]);if(s>u)return 1;if(s<u)return -1}else{if(n[a]<r[a])return ev(e)&&!ev(t)?1:-1;if(n[a]>r[a])return!ev(e)&&ev(t)?-1:1}}return ev(t)&&!ev(e)?-1:0}(o,r)}eE.exact=eB,eE.exists=function(e,t){return null!=t[e.name]},eE.gt=function(e,t){var n=t[e.name],r=e.value;return eI(e,t)&&null!==r?n>r:null},eE.ge=function(e,t){var n=t[e.name],r=e.value;return eI(e,t)&&null!==r?n>=r:null},eE.lt=function(e,t){var n=t[e.name],r=e.value;return eI(e,t)&&null!==r?n<r:null},eE.le=function(e,t){var n=t[e.name],r=e.value;return eI(e,t)&&null!==r?n<=r:null},eE.substring=function(e,t){var n=e.name,r=t[e.name],o=typeof r,a=e.value;return"string"!=typeof a?(ew.warn(_.UNEXPECTED_CONDITION_VALUE,eb,JSON.stringify(e)),null):null===r?(ew.debug(_.UNEXPECTED_TYPE_NULL,eb,JSON.stringify(e),n),null):"string"!=typeof r?(ew.warn(_.UNEXPECTED_TYPE,eb,JSON.stringify(e),o,n),null):-1!==r.indexOf(a)},eE.semver_eq=function(e,t){var n=ex(e,t);return null===n?null:0===n},eE.semver_gt=function(e,t){var n=ex(e,t);return null===n?null:n>0},eE.semver_ge=function(e,t){var n=ex(e,t);return null===n?null:n>=0},eE.semver_lt=function(e,t){var n=ex(e,t);return null===n?null:n<0},eE.semver_le=function(e,t){var n=ex(e,t);return null===n?null:n<=0};var eT=Object.freeze({__proto__:null,evaluate:function(e,t){var n=e.match;if(void 0!==n&&-1===e_.indexOf(n))return ew.warn(_.UNKNOWN_MATCH_TYPE,eb,JSON.stringify(e)),null;var r=e.name;return t.hasOwnProperty(r)||"exists"==n?(n&&eE[n]||eB)(e,t):(ew.debug(_.MISSING_ATTRIBUTE_VALUE,eb,JSON.stringify(e),r),null)}}),eS=a.getLogger(),ek=function(){function e(e){this.typeToEvaluatorMap=y.assign({},e,{custom_attribute:eT})}return e.prototype.evaluate=function(e,t,n){var r=this;return void 0===n&&(n={}),!e||0===e.length||!!K(e,function(e){var o=t[e];if(o){eS.log(b.DEBUG,_.EVALUATING_AUDIENCE,"AUDIENCE_EVALUATOR",e,JSON.stringify(o.conditions));var a=K(o.conditions,r.evaluateConditionWithUserAttributes.bind(r,n)),s=null===a?"UNKNOWN":a.toString().toUpperCase();return eS.log(b.DEBUG,_.AUDIENCE_EVALUATION_RESULT,"AUDIENCE_EVALUATOR",e,s),a}return null})},e.prototype.evaluateConditionWithUserAttributes=function(e,t){var n=this.typeToEvaluatorMap[t.type];if(!n)return eS.log(b.WARNING,_.UNKNOWN_CONDITION_TYPE,"AUDIENCE_EVALUATOR",JSON.stringify(t)),null;try{return n.evaluate(t,e)}catch(e){eS.log(b.ERROR,w.CONDITION_EVALUATOR_ERROR,"AUDIENCE_EVALUATOR",t.type,e.message)}return null},e}();function eD(e){return"string"==typeof e&&""!==e}var eN="DECISION_SERVICE",eO=function(){function e(e){this.audienceEvaluator=new ek(e.UNSTABLE_conditionEvaluators),this.forcedVariationMap={},this.logger=e.logger,this.userProfileService=e.userProfileService||null}return e.prototype.getVariation=function(e,n,r,o){void 0===o&&(o={});var a=r.getUserId(),s=r.getAttributes(),u=this.getBucketingId(a,s),c=[],l=n.key;if(!this.checkIfExperimentIsActive(e,l))return this.logger.log(b.INFO,_.EXPERIMENT_NOT_RUNNING,eN,l),c.push([_.EXPERIMENT_NOT_RUNNING,eN,l]),{result:null,reasons:c};var A=this.getForcedVariation(e,l,a);c.push.apply(c,A.reasons);var d=A.result;if(d)return{result:d,reasons:c};var f=this.getWhitelistedVariation(n,a);c.push.apply(c,f.reasons);var h=f.result;if(h)return{result:h.key,reasons:c};var p=o[t.N1.IGNORE_USER_PROFILE_SERVICE],g=this.resolveExperimentBucketMap(a,s);if(!p&&(h=this.getStoredVariation(e,n,a,g)))return this.logger.log(b.INFO,_.RETURNING_STORED_VARIATION,eN,h.key,l,a),c.push([_.RETURNING_STORED_VARIATION,eN,h.key,l,a]),{result:h.key,reasons:c};var v=this.checkIfUserIsInAudience(e,n,I.EXPERIMENT,s,"");if(c.push.apply(c,v.reasons),!v.result)return this.logger.log(b.INFO,_.USER_NOT_IN_EXPERIMENT,eN,a,l),c.push([_.USER_NOT_IN_EXPERIMENT,eN,a,l]),{result:null,reasons:c};var m=eA(this.buildBucketerParams(e,n,u,a));c.push.apply(c,m.reasons);var y=m.result;return y&&(h=e.variationIdMap[y]),h?(this.logger.log(b.INFO,_.USER_HAS_VARIATION,eN,a,h.key,l),c.push([_.USER_HAS_VARIATION,eN,a,h.key,l]),p||this.saveUserProfile(n,h,a,g),{result:h.key,reasons:c}):(this.logger.log(b.DEBUG,_.USER_HAS_NO_VARIATION,eN,a,l),c.push([_.USER_HAS_NO_VARIATION,eN,a,l]),{result:null,reasons:c})},e.prototype.resolveExperimentBucketMap=function(e,t){t=t||{};var n=this.getUserProfile(e)||{},r=t[E.STICKY_BUCKETING_KEY];return y.assign({},n.experiment_bucket_map,r)},e.prototype.checkIfExperimentIsActive=function(e,t){return"Running"===X(e,t)},e.prototype.getWhitelistedVariation=function(e,t){var n=[];if(e.forcedVariations&&e.forcedVariations.hasOwnProperty(t)){var r=e.forcedVariations[t];return e.variationKeyMap.hasOwnProperty(r)?(this.logger.log(b.INFO,_.USER_FORCED_IN_VARIATION,eN,t,r),n.push([_.USER_FORCED_IN_VARIATION,eN,t,r]),{result:e.variationKeyMap[r],reasons:n}):(this.logger.log(b.ERROR,_.FORCED_BUCKETING_FAILED,eN,r,t),n.push([_.FORCED_BUCKETING_FAILED,eN,r,t]),{result:null,reasons:n})}return{result:null,reasons:n}},e.prototype.checkIfUserIsInAudience=function(e,t,n,r,o){var a=[],s=function(e,t){var n=e.experimentIdMap[t];if(!n)throw Error(v(w.INVALID_EXPERIMENT_ID,G,t));return n.audienceConditions||n.audienceIds}(e,t.id),u=e.audiencesById;this.logger.log(b.DEBUG,_.EVALUATING_AUDIENCES_COMBINED,eN,n,o||t.key,JSON.stringify(s)),a.push([_.EVALUATING_AUDIENCES_COMBINED,eN,n,o||t.key,JSON.stringify(s)]);var c=this.audienceEvaluator.evaluate(s,u,r);return this.logger.log(b.INFO,_.AUDIENCE_EVALUATION_RESULT_COMBINED,eN,n,o||t.key,c.toString().toUpperCase()),a.push([_.AUDIENCE_EVALUATION_RESULT_COMBINED,eN,n,o||t.key,c.toString().toUpperCase()]),{result:c,reasons:a}},e.prototype.buildBucketerParams=function(e,t,n,r){return{bucketingId:n,experimentId:t.id,experimentKey:t.key,experimentIdMap:e.experimentIdMap,experimentKeyMap:e.experimentKeyMap,groupIdMap:e.groupIdMap,logger:this.logger,trafficAllocationConfig:et(e,t.id),userId:r,variationIdMap:e.variationIdMap}},e.prototype.getStoredVariation=function(e,t,n,r){if(r.hasOwnProperty(t.id)){var o=r[t.id],a=o.variation_id;if(e.variationIdMap.hasOwnProperty(a))return e.variationIdMap[o.variation_id];this.logger.log(b.INFO,_.SAVED_VARIATION_NOT_FOUND,eN,n,a,t.key)}return null},e.prototype.getUserProfile=function(e){if(!this.userProfileService)return{user_id:e,experiment_bucket_map:{}};try{return this.userProfileService.lookup(e)}catch(t){this.logger.log(b.ERROR,w.USER_PROFILE_LOOKUP_ERROR,eN,e,t.message)}return null},e.prototype.saveUserProfile=function(e,t,n,r){if(this.userProfileService)try{r[e.id]={variation_id:t.id},this.userProfileService.save({user_id:n,experiment_bucket_map:r}),this.logger.log(b.INFO,_.SAVED_VARIATION,eN,t.key,e.key,n)}catch(e){this.logger.log(b.ERROR,w.USER_PROFILE_SAVE_ERROR,eN,n,e.message)}},e.prototype.getVariationForFeature=function(e,t,n,r){void 0===r&&(r={});var o=[],a=this.getVariationForFeatureExperiment(e,t,n,r);o.push.apply(o,a.reasons);var s=a.result;if(null!==s.variation)return{result:s,reasons:o};var u=this.getVariationForRollout(e,t,n);o.push.apply(o,u.reasons);var c=u.result,l=n.getUserId();return c.variation?(this.logger.log(b.DEBUG,_.USER_IN_ROLLOUT,eN,l,t.key),o.push([_.USER_IN_ROLLOUT,eN,l,t.key])):(this.logger.log(b.DEBUG,_.USER_NOT_IN_ROLLOUT,eN,l,t.key),o.push([_.USER_NOT_IN_ROLLOUT,eN,l,t.key])),{result:c,reasons:o}},e.prototype.getVariationForFeatureExperiment=function(e,t,n,r){void 0===r&&(r={});var o,a,s=[],u=null;if(t.experimentIds.length>0)for(a=0;a<t.experimentIds.length;a++){var c=en(e,t.experimentIds[a],this.logger);if(c&&(o=this.getVariationFromExperimentRule(e,t.key,c,n,r),s.push.apply(s,o.reasons),u=o.result)){var l=null;return(l=c.variationKeyMap[u])||(l=er(e,t.key,u)),{result:{experiment:c,variation:l,decisionSource:B.FEATURE_TEST},reasons:s}}}else this.logger.log(b.DEBUG,_.FEATURE_HAS_NO_EXPERIMENTS,eN,t.key),s.push([_.FEATURE_HAS_NO_EXPERIMENTS,eN,t.key]);return{result:{experiment:null,variation:null,decisionSource:B.FEATURE_TEST},reasons:s}},e.prototype.getVariationForRollout=function(e,t,n){var r=[];if(!t.rolloutId)return this.logger.log(b.DEBUG,_.NO_ROLLOUT_EXISTS,eN,t.key),r.push([_.NO_ROLLOUT_EXISTS,eN,t.key]),{result:{experiment:null,variation:null,decisionSource:B.ROLLOUT},reasons:r};var o=e.rolloutIdMap[t.rolloutId];if(!o)return this.logger.log(b.ERROR,w.INVALID_ROLLOUT_ID,eN,t.rolloutId,t.key),r.push([w.INVALID_ROLLOUT_ID,eN,t.rolloutId,t.key]),{result:{experiment:null,variation:null,decisionSource:B.ROLLOUT},reasons:r};var a,s,u,c=o.experiments;if(0===c.length)return this.logger.log(b.ERROR,_.ROLLOUT_HAS_NO_EXPERIMENTS,eN,t.rolloutId),r.push([_.ROLLOUT_HAS_NO_EXPERIMENTS,eN,t.rolloutId]),{result:{experiment:null,variation:null,decisionSource:B.ROLLOUT},reasons:r};for(var l=0;l<c.length;){if(a=this.getVariationFromDeliveryRule(e,t.key,c,l,n),r.push.apply(r,a.reasons),u=a.result,s=a.skipToEveryoneElse,u)return{result:{experiment:e.experimentIdMap[c[l].id],variation:u,decisionSource:B.ROLLOUT},reasons:r};l=s?c.length-1:l+1}return{result:{experiment:null,variation:null,decisionSource:B.ROLLOUT},reasons:r}},e.prototype.getBucketingId=function(e,t){var n=e;return null!=t&&"object"==typeof t&&t.hasOwnProperty(E.BUCKETING_ID)&&("string"==typeof t[E.BUCKETING_ID]?(n=t[E.BUCKETING_ID],this.logger.log(b.DEBUG,_.VALID_BUCKETING_ID,eN,n)):this.logger.log(b.WARNING,_.BUCKETING_ID_NOT_STRING,eN)),n},e.prototype.findValidatedForcedDecision=function(e,t,n,r){var o,a=[],s=t.getForcedDecision({flagKey:n,ruleKey:r}),u=null,c=t.getUserId();return e&&s&&((u=er(e,n,o=s.variationKey))?r?(this.logger.log(b.INFO,_.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,o,n,r,c),a.push([_.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,o,n,r,c])):(this.logger.log(b.INFO,_.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,o,n,c),a.push([_.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,o,n,c])):r?(this.logger.log(b.INFO,_.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,n,r,c),a.push([_.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,n,r,c])):(this.logger.log(b.INFO,_.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,n,c),a.push([_.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,n,c]))),{result:u,reasons:a}},e.prototype.removeForcedVariation=function(e,t,n){if(!e)throw Error(v(w.INVALID_USER_ID,eN));if(!this.forcedVariationMap.hasOwnProperty(e))throw Error(v(w.USER_NOT_IN_FORCED_VARIATION,eN,e));delete this.forcedVariationMap[e][t],this.logger.log(b.DEBUG,_.VARIATION_REMOVED_FOR_USER,eN,n,e)},e.prototype.setInForcedVariationMap=function(e,t,n){this.forcedVariationMap.hasOwnProperty(e)||(this.forcedVariationMap[e]={}),this.forcedVariationMap[e][t]=n,this.logger.log(b.DEBUG,_.USER_MAPPED_TO_FORCED_VARIATION,eN,n,t,e)},e.prototype.getForcedVariation=function(e,t,n){var r,o=[],a=this.forcedVariationMap[n];if(!a)return this.logger.log(b.DEBUG,_.USER_HAS_NO_FORCED_VARIATION,eN,n),{result:null,reasons:o};try{var s=ee(e,t);if(!s.hasOwnProperty("id"))return this.logger.log(b.ERROR,w.IMPROPERLY_FORMATTED_EXPERIMENT,eN,t),o.push([w.IMPROPERLY_FORMATTED_EXPERIMENT,eN,t]),{result:null,reasons:o};r=s.id}catch(e){return this.logger.log(b.ERROR,e.message),o.push(e.message),{result:null,reasons:o}}var u=a[r];if(!u)return this.logger.log(b.DEBUG,_.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,eN,t,n),{result:null,reasons:o};var c=J(e,u);return c?(this.logger.log(b.DEBUG,_.USER_HAS_FORCED_VARIATION,eN,c,t,n),o.push([_.USER_HAS_FORCED_VARIATION,eN,c,t,n])):this.logger.log(b.DEBUG,_.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,eN,t,n),{result:c,reasons:o}},e.prototype.setForcedVariation=function(e,t,n,r){if(null!=r&&!eD(r))return this.logger.log(b.ERROR,w.INVALID_VARIATION_KEY,eN),!1;try{var o,a,s=ee(e,t);if(!s.hasOwnProperty("id"))return this.logger.log(b.ERROR,w.IMPROPERLY_FORMATTED_EXPERIMENT,eN,t),!1;a=s.id}catch(e){return this.logger.log(b.ERROR,e.message),!1}if(null==r)try{return this.removeForcedVariation(n,a,t),!0}catch(e){return this.logger.log(b.ERROR,e.message),!1}var u=(o=e.experimentKeyMap[t]).variationKeyMap.hasOwnProperty(r)?o.variationKeyMap[r].id:null;if(!u)return this.logger.log(b.ERROR,w.NO_VARIATION_FOR_EXPERIMENT_KEY,eN,r,t),!1;try{return this.setInForcedVariationMap(n,a,u),!0}catch(e){return this.logger.log(b.ERROR,e.message),!1}},e.prototype.getVariationFromExperimentRule=function(e,t,n,r,o){void 0===o&&(o={});var a=[],s=this.findValidatedForcedDecision(e,r,t,n.key);a.push.apply(a,s.reasons);var u=s.result;if(u)return{result:u.key,reasons:a};var c=this.getVariation(e,n,r,o);return a.push.apply(a,c.reasons),{result:c.result,reasons:a}},e.prototype.getVariationFromDeliveryRule=function(e,t,n,r,o){var a=[],s=!1,u=n[r],c=this.findValidatedForcedDecision(e,o,t,u.key);a.push.apply(a,c.reasons);var l=c.result;if(l)return{result:l,reasons:a,skipToEveryoneElse:s};var A,d,f=o.getUserId(),h=o.getAttributes(),p=this.getBucketingId(f,h),g=r===n.length-1,v=g?"Everyone Else":r+1,m=null,y=this.checkIfUserIsInAudience(e,u,I.RULE,h,v);return a.push.apply(a,y.reasons),y.result?(this.logger.log(b.DEBUG,_.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,eN,f,v),a.push([_.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,eN,f,v]),d=eA(this.buildBucketerParams(e,u,p,f)),a.push.apply(a,d.reasons),(A=d.result)&&(m=e.variationIdMap.hasOwnProperty(A)?e.variationIdMap[A]:null),m?(this.logger.log(b.DEBUG,_.USER_BUCKETED_INTO_TARGETING_RULE,eN,f,v),a.push([_.USER_BUCKETED_INTO_TARGETING_RULE,eN,f,v])):g||(this.logger.log(b.DEBUG,_.USER_NOT_BUCKETED_INTO_TARGETING_RULE,eN,f,v),a.push([_.USER_NOT_BUCKETED_INTO_TARGETING_RULE,eN,f,v]),s=!0)):(this.logger.log(b.DEBUG,_.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,eN,f,v),a.push([_.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,eN,f,v])),{result:m,reasons:a,skipToEveryoneElse:s}},e}();function eF(e,t){if(e.hasOwnProperty("revenue")){var n=e.revenue,r=void 0;return"string"==typeof n?isNaN(r=parseInt(n))?(t.log(b.INFO,_.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",n),null):(t.log(b.INFO,_.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r),r):"number"==typeof n?(r=n,t.log(b.INFO,_.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r),r):null}return null}function eR(e,t){if(e.hasOwnProperty("value")){var n=e.value,r=void 0;return"string"==typeof n?isNaN(r=parseFloat(n))?(t.log(b.INFO,_.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",n),null):(t.log(b.INFO,_.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r),r):"number"==typeof n?(r=n,t.log(b.INFO,_.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r),r):null}return null}function eL(e,t){return"string"==typeof e&&("string"==typeof t||"boolean"==typeof t||y.isNumber(t)&&y.isSafeInteger(t))}var eM="https://logx.optimizely.com/v1/events";function eP(e){var t=e.attributes,n=e.userId,r=e.clientEngine,o=e.clientVersion,a=e.configObj,s=e.logger,u=!!a.anonymizeIP&&a.anonymizeIP,c=a.botFiltering,l={account_id:a.accountId,project_id:a.projectId,visitors:[{snapshots:[],visitor_id:n,attributes:[]}],revision:a.revision,client_name:r,client_version:o,anonymize_ip:u,enrich_decisions:!0};return t&&Object.keys(t||{}).forEach(function(e){if(eL(e,t[e])){var n=Y(a,e,s);n&&l.visitors[0].attributes.push({entity_id:n,key:e,type:"custom",value:t[e]})}}),"boolean"==typeof c&&l.visitors[0].attributes.push({entity_id:E.BOT_FILTERING,key:E.BOT_FILTERING,type:"custom",value:c}),l}function eU(e){var t,n;return null!==(n=null===(t=e.experiment)||void 0===t?void 0:t.key)&&void 0!==n?n:""}function ej(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.key)&&void 0!==n?n:""}function eZ(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.featureEnabled)&&void 0!==n&&n}function eQ(e){var t,n;return null!==(n=null===(t=e.experiment)||void 0===t?void 0:t.id)&&void 0!==n?n:null}function eH(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.id)&&void 0!==n?n:null}var eV=a.getLogger("EVENT_BUILDER");function eK(e,t){var n=[];return t&&Object.keys(t||{}).forEach(function(r){if(eL(r,t[r])){var o=Y(e,r,eV);o&&n.push({entityId:o,key:r,value:t[r]})}}),n}var ez="USER_PROFILE_SERVICE_VALIDATOR",eG=function(){function e(e){var n,r=this,o=e.clientEngine;o||(e.logger.log(b.INFO,_.INVALID_CLIENT_ENGINE,"OPTIMIZELY",o),o="node-sdk"),this.clientEngine=o,this.clientVersion=e.clientVersion||"4.9.2",this.errorHandler=e.errorHandler,this.isOptimizelyConfigValid=e.isValidInstance,this.logger=e.logger;var a=null!==(n=e.defaultDecideOptions)&&void 0!==n?n:[];Array.isArray(a)||(this.logger.log(b.DEBUG,_.INVALID_DEFAULT_DECIDE_OPTIONS,"OPTIMIZELY"),a=[]);var s={};a.forEach(function(e){t.N1[e]?s[e]=!0:r.logger.log(b.WARNING,_.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)}),this.defaultDecideOptions=s,this.projectConfigManager=new el({datafile:e.datafile,jsonSchemaValidator:e.jsonSchemaValidator,sdkKey:e.sdkKey,datafileManager:e.datafileManager}),this.disposeOnUpdate=this.projectConfigManager.onUpdate(function(e){r.logger.log(b.INFO,_.UPDATED_OPTIMIZELY_CONFIG,"OPTIMIZELY",e.revision,e.projectId),r.notificationCenter.sendNotifications(m.OPTIMIZELY_CONFIG_UPDATE)});var u=this.projectConfigManager.onReady(),c=null;if(e.userProfileService)try{(function(e){if("object"==typeof e&&null!==e){if("function"!=typeof e.lookup)throw Error(v(w.INVALID_USER_PROFILE_SERVICE,ez,"Missing function 'lookup'"));if("function"!=typeof e.save)throw Error(v(w.INVALID_USER_PROFILE_SERVICE,ez,"Missing function 'save'"));return!0}throw Error(v(w.INVALID_USER_PROFILE_SERVICE,ez))})(e.userProfileService)&&(c=e.userProfileService,this.logger.log(b.INFO,_.VALID_USER_PROFILE_SERVICE,"OPTIMIZELY"))}catch(e){this.logger.log(b.WARNING,e.message)}this.decisionService=new eO({userProfileService:c,logger:this.logger,UNSTABLE_conditionEvaluators:e.UNSTABLE_conditionEvaluators}),this.notificationCenter=e.notificationCenter,this.eventProcessor=e.eventProcessor;var l=this.eventProcessor.start();this.readyPromise=Promise.all([u,l]).then(function(e){return e[0]}),this.readyTimeouts={},this.nextReadyTimeoutId=0}return e.prototype.isValidInstance=function(){return this.isOptimizelyConfigValid&&!!this.projectConfigManager.getConfig()},e.prototype.activate=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(b.ERROR,_.INVALID_OBJECT,"OPTIMIZELY","activate"),null;if(!this.validateInputs({experiment_key:e,user_id:t},n))return this.notActivatingExperiment(e,t);var r=this.projectConfigManager.getConfig();if(!r)return null;try{var o=this.getVariation(e,t,n);if(null===o)return this.notActivatingExperiment(e,t);if("Running"!==X(r,e))return this.logger.log(b.DEBUG,_.SHOULD_NOT_DISPATCH_ACTIVATE,"OPTIMIZELY",e),o;var a=ee(r,e),s={experiment:a,variation:a.variationKeyMap[o],decisionSource:B.EXPERIMENT};return this.sendImpressionEvent(s,"",t,!0,n),o}catch(n){return this.logger.log(b.ERROR,n.message),this.logger.log(b.INFO,_.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),this.errorHandler.handleError(n),null}}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.sendImpressionEvent=function(e,t,n,r,o){var a=this.projectConfigManager.getConfig();if(a){var s,u,c,l,A,d,f,h,p,g,v,m,b,w,_,E=(u=(s={decisionObj:e,flagKey:t,enabled:r,userId:n,userAttributes:o,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:a}).configObj,c=s.decisionObj,l=s.userId,A=s.flagKey,d=s.enabled,f=s.userAttributes,h=s.clientEngine,p=s.clientVersion,g=c.decisionSource,v=eU(c),m=eQ(c),b=ej(c),w=eH(c),_=null!==m?q(u,m):null,{type:"impression",timestamp:y.currentTimestamp(),uuid:y.uuid(),user:{id:l,attributes:eK(u,f)},context:{accountId:u.accountId,projectId:u.projectId,revision:u.revision,clientName:h,clientVersion:p,anonymizeIP:u.anonymizeIP||!1,botFiltering:u.botFiltering},layer:{id:_},experiment:{id:m,key:v},variation:{id:w,key:b},ruleKey:v,flagKey:A,ruleType:g,enabled:d});this.eventProcessor.process(E),this.emitNotificationCenterActivate(e,t,n,r,o)}},e.prototype.emitNotificationCenterActivate=function(e,t,n,r,o){var a=this.projectConfigManager.getConfig();if(a){var s,u=e.decisionSource,c=eU(e),l=eQ(e),A=ej(e),d=eH(e);null!==l&&""!==A&&(s=a.experimentIdMap[l]);var f,h,p,g,v,b,w,_,E,C,B,I,x,T=(B=eP(f={attributes:o,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:a,experimentId:l,ruleKey:c,flagKey:t,ruleType:u,userId:n,enabled:r,variationId:d,logger:this.logger}),h=f.configObj,p=f.experimentId,g=f.variationId,v=f.ruleKey,b=f.ruleType,w=f.flagKey,_=f.enabled,E=p?q(h,p):null,C=g?J(h,g):null,I={decisions:[{campaign_id:E,experiment_id:p,variation_id:g,metadata:{flag_key:w,rule_key:v,rule_type:b,variation_key:C=C||"",enabled:_}}],events:[{entity_id:E,timestamp:y.currentTimestamp(),key:"campaign_activated",uuid:y.uuid()}]},B.visitors[0].snapshots.push(I),{httpVerb:"POST",url:eM,params:B});s&&s.variationKeyMap&&""!==A&&(x=s.variationKeyMap[A]),this.notificationCenter.sendNotifications(m.ACTIVATE,{experiment:s,userId:n,attributes:o,variation:x,logEvent:T})}},e.prototype.track=function(e,t,n,r){try{if(!this.isValidInstance())return void this.logger.log(b.ERROR,_.INVALID_OBJECT,"OPTIMIZELY","track");if(!this.validateInputs({user_id:t,event_key:e},n,r))return;var o,a,s,u,c,l,A,d,f,h,p,g=this.projectConfigManager.getConfig();if(!g)return;if(!g.eventKeyMap.hasOwnProperty(e))return this.logger.log(b.WARNING,_.EVENT_KEY_NOT_FOUND,"OPTIMIZELY",e),void this.logger.log(b.WARNING,_.NOT_TRACKING_USER,"OPTIMIZELY",t);var v=(a=(o={eventKey:e,eventTags:r=this.filterEmptyValues(r),userId:t,userAttributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:g}).configObj,s=o.userId,u=o.userAttributes,c=o.clientEngine,l=o.clientVersion,A=o.eventKey,d=o.eventTags,f=$(a,A),h=d?eF(d,eV):null,p=d?eR(d,eV):null,{type:"conversion",timestamp:y.currentTimestamp(),uuid:y.uuid(),user:{id:s,attributes:eK(a,u)},context:{accountId:a.accountId,projectId:a.projectId,revision:a.revision,clientName:c,clientVersion:l,anonymizeIP:a.anonymizeIP||!1,botFiltering:a.botFiltering},event:{id:f,key:A},revenue:h,value:p,tags:d});this.logger.log(b.INFO,_.TRACK_EVENT,"OPTIMIZELY",e,t),this.eventProcessor.process(v),this.emitNotificationCenterTrack(e,t,n,r)}catch(e){this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),this.logger.log(b.ERROR,_.NOT_TRACKING_USER,"OPTIMIZELY",t)}},e.prototype.emitNotificationCenterTrack=function(e,t,n,r){try{var o,a,s,u=this.projectConfigManager.getConfig();if(!u)return;var c=(o={attributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:u,eventKey:e,eventTags:r,logger:this.logger,userId:t},a=eP(o),s=function(e,t,n,r){var o={events:[]},a={entity_id:$(e,t),timestamp:y.currentTimestamp(),uuid:y.uuid(),key:t};if(r){var s=eF(r,n);null!==s&&(a.revenue=s);var u=eR(r,n);null!==u&&(a.value=u),a.tags=r}return o.events.push(a),o}(o.configObj,o.eventKey,o.logger,o.eventTags),a.visitors[0].snapshots=[s],{httpVerb:"POST",url:eM,params:a});this.notificationCenter.sendNotifications(m.TRACK,{eventKey:e,userId:t,attributes:n,eventTags:r,logEvent:c})}catch(e){this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.getVariation=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(b.ERROR,_.INVALID_OBJECT,"OPTIMIZELY","getVariation"),null;try{if(!this.validateInputs({experiment_key:e,user_id:t},n))return null;var r,o=this.projectConfigManager.getConfig();if(!o)return null;var a=o.experimentKeyMap[e];if(!a)return this.logger.log(b.DEBUG,w.INVALID_EXPERIMENT_KEY,"OPTIMIZELY",e),null;var s=this.decisionService.getVariation(o,a,this.createUserContext(t,n)).result,u=(r=a.id,o.experimentFeatureMap.hasOwnProperty(r)?C.FEATURE_TEST:C.AB_TEST);return this.notificationCenter.sendNotifications(m.DECISION,{type:u,userId:t,attributes:n||{},decisionInfo:{experimentKey:e,variationKey:s}}),s}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),null}}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.setForcedVariation=function(e,t,n){if(!this.validateInputs({experiment_key:e,user_id:t}))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;try{return this.decisionService.setForcedVariation(r,e,t,n)}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getForcedVariation=function(e,t){if(!this.validateInputs({experiment_key:e,user_id:t}))return null;var n=this.projectConfigManager.getConfig();if(!n)return null;try{return this.decisionService.getForcedVariation(n,e,t).result}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.validateInputs=function(e,t,n){try{if(e.hasOwnProperty("user_id")){var r=e.user_id;if("string"!=typeof r||null===r||"undefined"===r)throw Error(v(w.INVALID_INPUT_FORMAT,"OPTIMIZELY","user_id"));delete e.user_id}return Object.keys(e).forEach(function(t){if(!eD(e[t]))throw Error(v(w.INVALID_INPUT_FORMAT,"OPTIMIZELY",t))}),t&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw Error(v(w.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));Object.keys(e).forEach(function(t){if(void 0===e[t])throw Error(v(w.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",t))})}(t),n&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw Error(v(w.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"))}(n),!0}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.notActivatingExperiment=function(e,t){return this.logger.log(b.INFO,_.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),null},e.prototype.filterEmptyValues=function(e){for(var t in e)e.hasOwnProperty(t)&&(null===e[t]||void 0===e[t])&&delete e[t];return e},e.prototype.isFeatureEnabled=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(b.ERROR,_.INVALID_OBJECT,"OPTIMIZELY","isFeatureEnabled"),!1;if(!this.validateInputs({feature_key:e,user_id:t},n))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;var o=ei(r,e,this.logger);if(!o)return!1;var a={},s=this.createUserContext(t,n),u=this.decisionService.getVariationForFeature(r,o,s).result,c=u.decisionSource,l=eU(u),A=ej(u),d=eZ(u);c===B.FEATURE_TEST&&(a={experimentKey:l,variationKey:A}),(c===B.FEATURE_TEST||c===B.ROLLOUT&&es(r))&&this.sendImpressionEvent(u,o.key,t,d,n),!0===d?this.logger.log(b.INFO,_.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",e,t):(this.logger.log(b.INFO,_.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",e,t),d=!1);var f={featureKey:e,featureEnabled:d,source:u.decisionSource,sourceInfo:a};return this.notificationCenter.sendNotifications(m.DECISION,{type:C.FEATURE,userId:t,attributes:n||{},decisionInfo:f}),d}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getEnabledFeatures=function(e,t){var n=this;try{var r=[];if(!this.isValidInstance())return this.logger.log(b.ERROR,_.INVALID_OBJECT,"OPTIMIZELY","getEnabledFeatures"),r;if(!this.validateInputs({user_id:e}))return r;var o=this.projectConfigManager.getConfig();return o&&p(o.featureKeyMap).forEach(function(o){n.isFeatureEnabled(o.key,e,t)&&r.push(o.key)}),r}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),[]}},e.prototype.getFeatureVariable=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,null,n,r):(this.logger.log(b.ERROR,_.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariable"),null)}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableForType=function(e,t,n,r,o){if(!this.validateInputs({feature_key:e,variable_key:t,user_id:r},o))return null;var a,s,u=this.projectConfigManager.getConfig();if(!u)return null;var c=ei(u,e,this.logger);if(!c)return null;var l=(a=this.logger,(s=u.featureKeyMap[e])?s.variableKeyMap[t]||(a.log(b.ERROR,w.VARIABLE_KEY_NOT_IN_DATAFILE,G,t,e),null):(a.log(b.ERROR,w.FEATURE_NOT_IN_DATAFILE,G,e),null));if(!l)return null;if(n&&l.type!==n)return this.logger.log(b.WARNING,_.VARIABLE_REQUESTED_WITH_WRONG_TYPE,"OPTIMIZELY",n,l.type),null;var A=this.createUserContext(r,o),d=this.decisionService.getVariationForFeature(u,c,A).result,f=eZ(d),h=this.getFeatureVariableValueFromVariation(e,f,d.variation,l,r),p={};return d.decisionSource===B.FEATURE_TEST&&null!==d.experiment&&null!==d.variation&&(p={experimentKey:d.experiment.key,variationKey:d.variation.key}),this.notificationCenter.sendNotifications(m.DECISION,{type:C.FEATURE_VARIABLE,userId:r,attributes:o||{},decisionInfo:{featureKey:e,featureEnabled:f,source:d.decisionSource,variableKey:t,variableValue:h,variableType:l.type,sourceInfo:p}}),h},e.prototype.getFeatureVariableValueFromVariation=function(e,t,n,r,o){var a=this.projectConfigManager.getConfig();if(!a)return null;var s=r.defaultValue;if(null!==n){var u=function(e,t,n,r){if(!t||!n)return null;if(!e.variationVariableUsageMap.hasOwnProperty(n.id))return r.log(b.ERROR,w.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,G,n.id),null;var o=e.variationVariableUsageMap[n.id][t.id];return o?o.value:null}(a,r,n,this.logger);null!==u?t?(s=u,this.logger.log(b.INFO,_.USER_RECEIVED_VARIABLE_VALUE,"OPTIMIZELY",s,r.key,e)):this.logger.log(b.INFO,_.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",e,o,s):this.logger.log(b.INFO,_.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",r.key,n.key)}else this.logger.log(b.INFO,_.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",o,r.key,e);return function(e,t,n){var r;switch(t){case x.BOOLEAN:"true"!==e&&"false"!==e?(n.log(b.ERROR,w.UNABLE_TO_CAST_VALUE,G,e,t),r=null):r="true"===e;break;case x.INTEGER:isNaN(r=parseInt(e,10))&&(n.log(b.ERROR,w.UNABLE_TO_CAST_VALUE,G,e,t),r=null);break;case x.DOUBLE:isNaN(r=parseFloat(e))&&(n.log(b.ERROR,w.UNABLE_TO_CAST_VALUE,G,e,t),r=null);break;case x.JSON:try{r=JSON.parse(e)}catch(o){n.log(b.ERROR,w.UNABLE_TO_CAST_VALUE,G,e,t),r=null}break;default:r=e}return r}(s,r.type,this.logger)},e.prototype.getFeatureVariableBoolean=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,x.BOOLEAN,n,r):(this.logger.log(b.ERROR,_.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableBoolean"),null)}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableDouble=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,x.DOUBLE,n,r):(this.logger.log(b.ERROR,_.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableDouble"),null)}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableInteger=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,x.INTEGER,n,r):(this.logger.log(b.ERROR,_.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableInteger"),null)}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableString=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,x.STRING,n,r):(this.logger.log(b.ERROR,_.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableString"),null)}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableJSON=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,x.JSON,n,r):(this.logger.log(b.ERROR,_.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableJSON"),null)}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getAllFeatureVariables=function(e,t,n){var r=this;try{if(!this.isValidInstance())return this.logger.log(b.ERROR,_.INVALID_OBJECT,"OPTIMIZELY","getAllFeatureVariables"),null;if(!this.validateInputs({feature_key:e,user_id:t},n))return null;var o=this.projectConfigManager.getConfig();if(!o)return null;var a=ei(o,e,this.logger);if(!a)return null;var s=this.createUserContext(t,n),u=this.decisionService.getVariationForFeature(o,a,s).result,c=eZ(u),l={};a.variables.forEach(function(n){l[n.key]=r.getFeatureVariableValueFromVariation(e,c,u.variation,n,t)});var A={};return u.decisionSource===B.FEATURE_TEST&&null!==u.experiment&&null!==u.variation&&(A={experimentKey:u.experiment.key,variationKey:u.variation.key}),this.notificationCenter.sendNotifications(m.DECISION,{type:C.ALL_FEATURE_VARIABLES,userId:t,attributes:n||{},decisionInfo:{featureKey:e,featureEnabled:c,source:u.decisionSource,variableValues:l,sourceInfo:A}}),l}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getOptimizelyConfig=function(){try{return this.projectConfigManager.getConfig()?this.projectConfigManager.getOptimizelyConfig():null}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.close=function(){var e=this;try{var t=this.eventProcessor.stop();return this.disposeOnUpdate&&(this.disposeOnUpdate(),this.disposeOnUpdate=null),this.projectConfigManager&&this.projectConfigManager.stop(),Object.keys(this.readyTimeouts).forEach(function(t){var n=e.readyTimeouts[t];clearTimeout(n.readyTimeout),n.onClose()}),this.readyTimeouts={},t.then(function(){return{success:!0}},function(e){return{success:!1,reason:String(e)}})}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),Promise.resolve({success:!1,reason:String(e)})}},e.prototype.onReady=function(e){var t,n,r=this;"object"==typeof e&&null!==e&&void 0!==e.timeout&&(t=e.timeout),y.isSafeInteger(t)||(t=3e4);var o=new Promise(function(e){n=e}),a=this.nextReadyTimeoutId;this.nextReadyTimeoutId++;var s=setTimeout(function(){delete r.readyTimeouts[a],n({success:!1,reason:v("onReady timeout expired after %s ms",t)})},t);return this.readyTimeouts[a]={readyTimeout:s,onClose:function(){n({success:!1,reason:"Instance closed"})}},this.readyPromise.then(function(){clearTimeout(s),delete r.readyTimeouts[a],n({success:!0})}),Promise.race([this.readyPromise,o])},e.prototype.createUserContext=function(e,t){return this.validateInputs({user_id:e},t)?new H({optimizely:this,userId:e,attributes:t}):null},e.prototype.decide=function(e,n,r){var o,a,s,u,c=this;void 0===r&&(r=[]);var l,A=e.getUserId(),f=e.getAttributes(),h=this.projectConfigManager.getConfig(),p=[];if(!this.isValidInstance()||!h)return this.logger.log(b.INFO,_.INVALID_OBJECT,"OPTIMIZELY","decide"),Q(n,e,[S.SDK_NOT_READY]);var g=h.featureKeyMap[n];if(!g)return this.logger.log(b.ERROR,w.FEATURE_NOT_IN_DATAFILE,"OPTIMIZELY",n),Q(n,e,[v(S.FLAG_KEY_INVALID,n)]);var y=this.getAllDecideOptions(r),E=this.decisionService.findValidatedForcedDecision(h,e,n);p.push.apply(p,E.reasons);var I=E.result;if(I)l={experiment:null,variation:I,decisionSource:B.FEATURE_TEST};else{var x=this.decisionService.getVariationForFeature(h,g,e,y);p.push.apply(p,x.reasons),l=x.result}var T=l.decisionSource,k=null!==(a=null===(o=l.experiment)||void 0===o?void 0:o.key)&&void 0!==a?a:null,D=null!==(u=null===(s=l.variation)||void 0===s?void 0:s.key)&&void 0!==u?u:null,N=eZ(l);!0===N?this.logger.log(b.INFO,_.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",n,A):this.logger.log(b.INFO,_.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",n,A);var O={},F=!1;y[t.N1.EXCLUDE_VARIABLES]||g.variables.forEach(function(e){O[e.key]=c.getFeatureVariableValueFromVariation(n,N,l.variation,e,A)}),!y[t.N1.DISABLE_DECISION_EVENT]&&(T===B.FEATURE_TEST||T===B.ROLLOUT&&es(h))&&(this.sendImpressionEvent(l,n,A,N,f),F=!0);var R=[];y[t.N1.INCLUDE_REASONS]&&(R=p.map(function(e){return v.apply(void 0,d([e[0]],e.slice(1)))}));var L={flagKey:n,enabled:N,variationKey:D,ruleKey:k,variables:O,reasons:R,decisionEventDispatched:F};return this.notificationCenter.sendNotifications(m.DECISION,{type:C.FLAG,userId:A,attributes:f,decisionInfo:L}),{variationKey:D,enabled:N,variables:O,ruleKey:k,flagKey:n,userContext:e,reasons:R}},e.prototype.getAllDecideOptions=function(e){var n=this,r=A({},this.defaultDecideOptions);return Array.isArray(e)?e.forEach(function(e){t.N1[e]?r[e]=!0:n.logger.log(b.WARNING,_.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)}):this.logger.log(b.DEBUG,_.INVALID_DECIDE_OPTIONS,"OPTIMIZELY"),r},e.prototype.decideForKeys=function(e,n,r){var o=this;void 0===r&&(r=[]);var a={};if(!this.isValidInstance())return this.logger.log(b.ERROR,_.INVALID_OBJECT,"OPTIMIZELY","decideForKeys"),a;if(0===n.length)return a;var s=this.getAllDecideOptions(r);return n.forEach(function(n){var u=o.decide(e,n,r);s[t.N1.ENABLED_FLAGS_ONLY]&&!u.enabled||(a[n]=u)}),a},e.prototype.decideAll=function(e,t){void 0===t&&(t=[]);var n=this.projectConfigManager.getConfig();if(!this.isValidInstance()||!n)return this.logger.log(b.ERROR,_.INVALID_OBJECT,"OPTIMIZELY","decideAll"),{};var r=Object.keys(n.featureKeyMap);return this.decideForKeys(e,r,t)},e}(),eW=function(){function e(e){var t=this;this.logger=e.logger,this.errorHandler=e.errorHandler,this.notificationListeners={},p(m).forEach(function(e){t.notificationListeners[e]=[]}),this.listenerId=1}return e.prototype.addNotificationListener=function(e,t){try{if(!(p(m).indexOf(e)>-1))return -1;this.notificationListeners[e]||(this.notificationListeners[e]=[]);var n=!1;if((this.notificationListeners[e]||[]).forEach(function(e){e.callback!==t||(n=!0)}),n)return -1;this.notificationListeners[e].push({id:this.listenerId,callback:t});var r=this.listenerId;return this.listenerId+=1,r}catch(e){return this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e),-1}},e.prototype.removeNotificationListener=function(e){var t,n,r=this;try{if(Object.keys(this.notificationListeners).some(function(o){return(r.notificationListeners[o]||[]).every(function(r,a){return r.id!==e||(t=a,n=o,!1)}),void 0!==t&&void 0!==n}),void 0!==t&&void 0!==n)return this.notificationListeners[n].splice(t,1),!0}catch(e){this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e)}return!1},e.prototype.clearAllNotificationListeners=function(){var e=this;try{p(m).forEach(function(t){e.notificationListeners[t]=[]})}catch(e){this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.clearNotificationListeners=function(e){try{this.notificationListeners[e]=[]}catch(e){this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.sendNotifications=function(e,t){var n=this;try{(this.notificationListeners[e]||[]).forEach(function(r){var o=r.callback;try{o(t)}catch(t){n.logger.log(b.ERROR,_.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,t.message)}})}catch(e){this.logger.log(b.ERROR,e.message),this.errorHandler.handleError(e)}},e}(),eq={createEventProcessor:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(s.LogTierV1EventProcessor.bind.apply(s.LogTierV1EventProcessor,d([void 0],e)))},LocalStoragePendingEventsDispatcher:s.LocalStoragePendingEventsDispatcher},eY=a.getLogger();a.setLogHandler(M()),a.setLogLevel(a.LogLevel.INFO);var e$=!1,eX={logging:Z,errorHandler:{handleError:function(){}},eventDispatcher:R,enums:k,setLogger:a.setLogHandler,setLogLevel:a.setLogLevel,createInstance:function(e){try{var t,n,r=!1;e.errorHandler&&a.setErrorHandler(e.errorHandler),e.logger&&(a.setLogHandler(e.logger),a.setLogLevel(a.LogLevel.NOTSET)),void 0!==e.logLevel&&a.setLogLevel(e.logLevel);try{O(e),r=!0}catch(e){eY.error(e)}var o=void 0;null==e.eventDispatcher?(o=new s.LocalStoragePendingEventsDispatcher({eventDispatcher:R}),e$||(o.sendPendingEvents(),e$=!0)):o=e.eventDispatcher;var u=e.eventBatchSize,c=e.eventFlushInterval;t=e.eventBatchSize,!("number"!=typeof t||!y.isSafeInteger(t))&&t>=1||(eY.warn("Invalid eventBatchSize %s, defaulting to %s",e.eventBatchSize,10),u=10),n=e.eventFlushInterval,!("number"!=typeof n||!y.isSafeInteger(n))&&n>0||(eY.warn("Invalid eventFlushInterval %s, defaulting to %s",e.eventFlushInterval,1e3),c=1e3);var d=a.getErrorHandler(),f=new eW({logger:eY,errorHandler:d}),h={dispatcher:o,flushInterval:c,batchSize:u,maxQueueSize:e.eventMaxQueueSize||1e4,notificationCenter:f},p=A(A({clientEngine:"javascript-sdk"},e),{eventProcessor:eq.createEventProcessor(h),logger:eY,errorHandler:d,datafileManager:e.sdkKey?function(e,t,n,r){var o={sdkKey:e};if((void 0===r||"object"==typeof r&&null!==r)&&y.assign(o,r),n){var a=ea({datafile:n,jsonSchemaValidator:void 0,logger:t}),s=a.configObj,u=a.error;u&&t.error(u),s&&(o.datafile=eo(s))}return new l.HttpPollingDatafileManager(o)}(e.sdkKey,eY,e.datafile,e.datafileOptions):void 0,notificationCenter:f,isValidInstance:r}),g=new eG(p);try{if("function"==typeof window.addEventListener){var v="onpagehide"in window?"pagehide":"unload";window.addEventListener(v,function(){g.close()},!1)}}catch(e){eY.error(_.UNABLE_TO_ATTACH_UNLOAD,"INDEX_BROWSER",e.message)}return g}catch(e){return eY.error(e),null}},__internalResetRetryState:function(){e$=!1},OptimizelyDecideOption:t.N1};t.ZP=eX},69015:function(e,t,n){var r=n(70474),o=n(35977);o.v1=r,o.v4=o,e.exports=o},53219:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0;return[t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],"-",t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]],t[e[r++]]].join("")}},94102:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=Array(16);e.exports=function(){for(var e,t=0;t<16;t++)(3&t)==0&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},70474:function(e,t,n){var r,o,a=n(94102),s=n(53219),u=0,c=0;e.exports=function(e,t,n){var l=t&&n||0,A=t||[],d=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:o;if(null==d||null==f){var h=a();null==d&&(d=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==f&&(f=o=(h[6]<<8|h[7])&16383)}var p=void 0!==e.msecs?e.msecs:new Date().getTime(),g=void 0!==e.nsecs?e.nsecs:c+1,v=p-u+(g-c)/1e4;if(v<0&&void 0===e.clockseq&&(f=f+1&16383),(v<0||p>u)&&void 0===e.nsecs&&(g=0),g>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");u=p,c=g,o=f;var m=((268435455&(p+=122192928e5))*1e4+g)%4294967296;A[l++]=m>>>24&255,A[l++]=m>>>16&255,A[l++]=m>>>8&255,A[l++]=255&m;var y=p/4294967296*1e4&268435455;A[l++]=y>>>8&255,A[l++]=255&y,A[l++]=y>>>24&15|16,A[l++]=y>>>16&255,A[l++]=f>>>8|128,A[l++]=255&f;for(var b=0;b<6;++b)A[l+b]=d[b];return t||s(A)}},35977:function(e,t,n){var r=n(94102),o=n(53219);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var u=0;u<16;++u)t[a+u]=s[u];return t||o(s)}},45293:function(e,t,n){"use strict";function r(e,t){for(var n,r=arguments.length,o=Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];if(!e){if(void 0===t)n=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(n=Error(t.replace(/%s/g,function(){return o[s++]}))).name="Invariant Violation"}throw n.framesToPop=1,n}}n.d(t,{k:function(){return r}})},57320:function(e,t,n){"use strict";function r(e,t,n,r){var o=n?n.call(r,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),c=0;c<a.length;c++){var l=a[c];if(!u(l))return!1;var A=e[l],d=t[l];if(!1===(o=n?n.call(r,A,d,l):void 0)||void 0===o&&A!==d)return!1}return!0}n.d(t,{w:function(){return r}})},44172:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M1 4.5l7 4 7-4m-13-3h12a1 1 0 011 1v10a1 1 0 01-1 1H2a1 1 0 01-1-1v-10a1 1 0 011-1z",stroke:"var(--green-success)",strokeWidth:2})))}},39830:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:15,height:17,viewBox:"0 0 15 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M4.5 7.5v-3a3 3 0 016 0V5m-8 2.5h10a1 1 0 011 1v6a1 1 0 01-1 1h-10a1 1 0 01-1-1v-6a1 1 0 011-1z",stroke:"var(--green-success)",strokeWidth:2})))}},28257:function(e,t,n){"use strict";var r,o,a=n(2784);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/a.createElement("svg",s({width:19,height:19,viewBox:"0 0 19 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"var(--grey-1200)"},e),r||(r=/*#__PURE__*/a.createElement("path",{d:"M13.7 13.7h-1.2v-1.2h1.2v1.2zM10.1 13.7h1.2v-1.2h-1.2v1.2zM16.1 13.7h-1.2v-1.2h1.2v1.2z",fill:"currentColor"})),o||(o=/*#__PURE__*/a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.1 7.7v-3a4.2 4.2 0 018.4 0v3h1.8a1.8 1.8 0 011.8 1.8v.66a3.001 3.001 0 010 5.88v.66a1.8 1.8 0 01-1.8 1.8h-12a1.8 1.8 0 01-1.8-1.8V9.5a1.8 1.8 0 011.8-1.8h1.8zm1.2-3a3 3 0 016 0v3h-6v-3zm5.4 6.6a1.8 1.8 0 000 3.6h4.8a1.8 1.8 0 000-3.6h-4.8z",fill:"currentColor"})))}},11769:function(e,t,n){"use strict";var r,o,a=n(2784);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/a.createElement("svg",s({width:134,height:20,viewBox:"0 0 134 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/a.createElement("g",{clipPath:"url(#eraserLogo_svg__clip0_1108_14881)"},/*#__PURE__*/a.createElement("path",{d:"M63.006 17.28c-2.118 0-3.84-.67-5.156-2.008-1.317-1.337-1.979-3.114-1.979-5.337v-.41c0-1.485.286-2.816.864-3.986.571-1.17 1.38-2.083 2.418-2.731 1.038-.655 2.194-.976 3.47-.976 2.027 0 3.595.648 4.703 1.944 1.107 1.296 1.658 3.129 1.658 5.498v1.351H59.25c.098 1.233.509 2.202 1.233 2.92.718.717 1.63 1.072 2.718 1.072 1.533 0 2.78-.62 3.748-1.86l1.805 1.721a5.997 5.997 0 01-2.39 2.07c-.996.487-2.118.731-3.358.731zm-.397-12.765c-.92 0-1.659.32-2.223.961-.564.641-.927 1.54-1.08 2.683h6.375v-.251c-.076-1.122-.369-1.965-.892-2.543-.53-.558-1.254-.85-2.18-.85zM79.38 5.163a7.913 7.913 0 00-1.366-.112c-1.533 0-2.564.585-3.1 1.763v10.193h-3.345V2.104h3.198l.084 1.665c.808-1.296 1.93-1.944 3.358-1.944.474 0 .871.063 1.185.195l-.014 3.143zM90.123 17.007c-.146-.285-.278-.745-.383-1.393-1.066 1.108-2.369 1.665-3.909 1.665-1.498 0-2.717-.425-3.665-1.282-.947-.857-1.42-1.91-1.42-3.17 0-1.589.591-2.808 1.769-3.658 1.177-.85 2.864-1.275 5.058-1.275h2.049v-.976c0-.773-.216-1.386-.648-1.853-.432-.467-1.087-.697-1.972-.697-.76 0-1.387.188-1.874.572-.488.383-.732.864-.732 1.456h-3.344c0-.815.271-1.582.815-2.292.543-.711 1.275-1.269 2.209-1.673.933-.404 1.971-.606 3.121-.606 1.742 0 3.135.44 4.174 1.317 1.038.878 1.567 2.111 1.595 3.7v6.716c0 1.338.188 2.411.564 3.212v.237h-3.407zm-3.672-2.41c.662 0 1.283-.16 1.868-.481.585-.32 1.024-.753 1.317-1.296v-2.808H87.83c-1.24 0-2.174.216-2.794.648-.627.432-.934 1.045-.934 1.832 0 .641.216 1.157.641 1.533.418.383.99.572 1.707.572zM104.832 12.96c0-.6-.244-1.053-.739-1.366-.495-.314-1.303-.586-2.445-.83-1.136-.236-2.09-.543-2.85-.905-1.672-.808-2.508-1.979-2.508-3.512 0-1.282.543-2.362 1.623-3.219 1.08-.864 2.46-1.296 4.132-1.296 1.783 0 3.219.44 4.32 1.324 1.093.878 1.644 2.028 1.644 3.428h-3.345c0-.64-.236-1.177-.717-1.602-.481-.425-1.108-.641-1.902-.641-.732 0-1.331.167-1.798.508-.467.342-.697.794-.697 1.366 0 .515.216.913.648 1.198.432.286 1.303.572 2.62.864 1.31.293 2.341.634 3.094 1.031.745.397 1.303.878 1.665 1.443.362.557.543 1.24.543 2.041 0 1.338-.557 2.425-1.665 3.254-1.108.829-2.564 1.247-4.368 1.247-1.22 0-2.307-.223-3.261-.662-.955-.439-1.7-1.045-2.23-1.818-.53-.774-.801-1.603-.801-2.495h3.247c.049.788.341 1.4.892 1.826.55.425 1.282.64 2.187.64.878 0 1.554-.166 2.014-.5.467-.342.697-.781.697-1.325zM117.596 17.28c-2.118 0-3.839-.67-5.156-2.008-1.317-1.337-1.979-3.114-1.979-5.337v-.41c0-1.485.286-2.816.864-3.986.571-1.17 1.379-2.083 2.418-2.731 1.038-.655 2.194-.976 3.469-.976 2.028 0 3.596.648 4.703 1.944 1.108 1.296 1.659 3.129 1.659 5.498v1.351h-9.734c.098 1.233.509 2.202 1.233 2.92.718.717 1.631 1.072 2.718 1.072 1.533 0 2.78-.62 3.748-1.86l1.805 1.721a5.998 5.998 0 01-2.39 2.07c-.996.487-2.118.731-3.358.731zm-.398-12.765c-.919 0-1.658.32-2.222.961-.565.641-.927 1.54-1.08 2.683h6.375v-.251c-.077-1.122-.369-1.965-.892-2.543-.529-.558-1.254-.85-2.181-.85zM133.97 5.163a7.915 7.915 0 00-1.366-.112c-1.533 0-2.564.585-3.1 1.763v10.193h-3.345V2.104h3.198l.084 1.665c.808-1.296 1.93-1.944 3.358-1.944.474 0 .871.063 1.185.195l-.014 3.143z",fill:"currentColor"}),/*#__PURE__*/a.createElement("path",{d:"M23.292 19.112H1.45c-1.122 0-1.818-1.596-1.24-2.843L7.323.906C7.58.34 8.054 0 8.563 0h14.736v19.112h-.007z",fill:"#EC2C40"}),/*#__PURE__*/a.createElement("path",{d:"M25.8 0h21.85c1.123 0 1.82 1.596 1.24 2.843l-7.113 15.363c-.258.564-.731.906-1.24.906H25.801V0z",fill:"#00A9E5"}))),o||(o=/*#__PURE__*/a.createElement("defs",null,/*#__PURE__*/a.createElement("clipPath",{id:"eraserLogo_svg__clip0_1108_14881"},/*#__PURE__*/a.createElement("path",{fill:"#fff",d:"M0 0h133.984v19.112H0z"})))))}},20790:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"book-open_svg__feather book-open_svg__feather-book-open"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M2 3h6a4 4 0 014 4v14a3 3 0 00-3-3H2zM22 3h-6a4 4 0 00-4 4v14a3 3 0 013-3h7z"})))}},33695:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"edit-2_svg__feather edit-2_svg__feather-edit-2"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M17 3a2.828 2.828 0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"})))}},34484:function(e,t,n){"use strict";var r,o,a=n(2784);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"eye_svg__feather eye_svg__feather-eye"},e),r||(r=/*#__PURE__*/a.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"})),o||(o=/*#__PURE__*/a.createElement("circle",{cx:12,cy:12,r:3})))}},42946:function(e,t,n){"use strict";var r,o,a,s=n(2784);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/s.createElement("svg",u({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"robot_svg__lucide robot_svg__lucide-bot"},e),r||(r=/*#__PURE__*/s.createElement("rect",{width:18,height:10,x:3,y:11,rx:2})),o||(o=/*#__PURE__*/s.createElement("circle",{cx:12,cy:5,r:2})),a||(a=/*#__PURE__*/s.createElement("path",{d:"M12 7v4M8.01 16H8M16.01 16H16"})))}},4185:function(e,t,n){"use strict";var r,o,a=n(2784);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"x-circle_svg__feather x-circle_svg__feather-x-circle"},e),r||(r=/*#__PURE__*/a.createElement("circle",{cx:12,cy:12,r:10})),o||(o=/*#__PURE__*/a.createElement("path",{d:"M15 9l-6 6M9 9l6 6"})))}},72119:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:14,height:10,viewBox:"0 0 14 10",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M4.6 9l-.39.312a.5.5 0 00.39.188V9zM1.4 5l-.39-.312a.5.5 0 000 .624L1.4 5zm3.2-4V.5a.5.5 0 00-.39.188L4.6 1zm7.5.8v6.4h1V1.8h-1zm-.3 6.7H4.6v1h7.2v-1zm-6.81.188l-3.2-4-.78.624 3.2 4 .78-.624zm-3.2-3.376l3.2-4-.78-.624-3.2 4 .78.624zM4.6 1.5h7.2v-1H4.6v1zm7.5 6.7a.3.3 0 01-.3.3v1a1.3 1.3 0 001.3-1.3h-1zm1-6.4A1.3 1.3 0 0011.8.5v1a.3.3 0 01.3.3h1zM5.847 3.754l3.2 3.2.707-.708-3.2-3.2-.707.708zm3.2-.708l-3.2 3.2.707.708 3.2-3.2-.707-.708z",fill:"currentColor"})))}},96584:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M9.4 9.4v2.4a.8.8 0 01-.8.8H2.2a.8.8 0 01-.8-.8V5.4a.8.8 0 01.8-.8h2.4m0-2.4v6.4a.8.8 0 00.8.8h6.4a.8.8 0 00.8-.8V2.2a.8.8 0 00-.8-.8H5.4a.8.8 0 00-.8.8z",fill:"none",stroke:"currentColor"})))}},74442:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.8.8H4v.8H2.165l2.518 2.517-.566.566L1.6 2.165V4H.8V.8zm9.034.8H8V.8h3.2V4h-.8V2.165L7.883 4.683l-.566-.566L9.834 1.6zM4.683 7.883L2.165 10.4H4v.8H.8V8h.8v1.834l2.517-2.517.566.566zm3.2-.566L10.4 9.834V8h.8v3.2H8v-.8h1.834L7.317 7.883l.566-.566z",fill:"currentColor"})))}},48845:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M1.4 9.4l-.353-.354-.147.147V9.4h.5zm8-8l.354-.354a.5.5 0 00-.707 0L9.4 1.4zm3.2 3.2l.354.353a.5.5 0 000-.707L12.6 4.6zm-8 8v.5h.208l.146-.146L4.6 12.6zm-3.2 0H.9a.5.5 0 00.5.5v-.5zm.354-2.847l8-8-.707-.707-8 8 .707.707zm7.293-8l3.2 3.2.707-.707-3.2-3.2-.707.707zm3.2 2.493l-8 8 .707.707 8-8-.707-.707zM4.6 12.1H1.4v1h3.2v-1zm-2.7.5V9.4h-1v3.2h1z",fill:"currentColor"})))}},75203:function(e,t,n){"use strict";var r,o,a=n(2784);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/a.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",className:"alertCircle_svg__feather alertCircle_svg__feather-alert-circle"},e),r||(r=/*#__PURE__*/a.createElement("circle",{cx:12,cy:12,r:10})),o||(o=/*#__PURE__*/a.createElement("path",{d:"M12 8v4M12 16h.01"})))}},40758:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M4.998 7.8h4m-7.6-6.4h11.2v3.2h-11.2V1.4zm.8 3.2v7.2a.8.8 0 00.8.8h8a.8.8 0 00.8-.8V4.6h-9.6z",stroke:"currentColor"})))}},44885:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:14,height:12,viewBox:"0 0 14 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M10.2.4l2.4 2.4m0 0l-2.4 2.4m2.4-2.4H3.8a2.4 2.4 0 00-2.4 2.4v1.2m2.4 5.2L1.4 9.2m0 0l2.4-2.4M1.4 9.2h8.8a2.4 2.4 0 002.4-2.4V5.6",fill:"none",stroke:"currentColor",strokeLinejoin:"round"})))}},99283:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:5,height:5,viewBox:"0 0 5 3",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M.206 1.117l1.805 1.692c.272.255.71.255.983 0l1.804-1.692C5.23.705 4.924 0 4.303 0H.701C.074 0-.233.705.206 1.117z",fill:"currentColor"})))}},32538:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:6,height:9,viewBox:"0 0 6 9",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M1.5 7.5l3-3-3-3",stroke:"currentColor",fill:"none",strokeLinecap:"square"})))}},20417:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M11.25.758a.83.83 0 00-1.175 0L6 4.825 1.925.75A.83.83 0 10.75 1.925L4.825 6 .75 10.075a.83.83 0 101.175 1.175L6 7.175l4.075 4.075a.83.83 0 101.175-1.175L7.175 6l4.075-4.075a.835.835 0 000-1.167z",fill:"currentColor"})))}},5462:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M9.4 9.4v2.4a.8.8 0 01-.8.8H2.2a.8.8 0 01-.8-.8V5.4a.8.8 0 01.8-.8h2.4m0-2.4v6.4a.8.8 0 00.8.8h6.4a.8.8 0 00.8-.8V2.2a.8.8 0 00-.8-.8H5.4a.8.8 0 00-.8.8z",fill:"none",stroke:"currentColor"})))}},9622:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.793 7.5L1.146 1.854l.708-.708L7.5 6.793l5.646-5.647.708.708L8.207 7.5l5.647 5.646-.707.708L7.5 8.207l-5.646 5.647-.708-.707L6.793 7.5z",fill:"currentColor"})))}},6634:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:18,height:20,viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M5 9.494h-.5v1H5v-1zm8 1h.5v-1H13v1zM5 13.49h-.5v1H5v-1zm8 1.009h.5v-1H13v1zM5 5.496h-.5v1H5v-1zM10.333 6.5h.5v-1h-.5v1zM13 .667l.354-.354-.147-.146H13v.5zm4 4h.5v-.208l-.146-.146-.354.354zM5 10.494h8v-1H5v1zm0 3.997l8 .009v-1l-8-.009v1zm0-7.995l5.333.004v-1L5 5.496v1zm10.667 12.337H2.333v1h13.334v-1zM1.5 18V2h-1v16h1zm.833-16.834H13v-1H2.333v1zm14.167 3.5V18h1V4.666h-1zM12.646 1.02l4 4 .708-.707-4-4-.708.707zM2.333 18.833A.833.833 0 011.5 18h-1c0 1.012.82 1.833 1.833 1.833v-1zm13.334 1c1.012 0 1.833-.82 1.833-1.833h-1c0 .46-.373.833-.833.833v1zM1.5 2c0-.46.373-.833.833-.833v-1C1.321.167.5.987.5 2h1z",fill:"currentColor"})))}},41144:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:8,height:8,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M3 1h4v4M1 7l6-6",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})))}},18114:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:14,height:9,viewBox:"0 0 14 9",fill:"none"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M1.4 4.5l-.464-.186a.5.5 0 000 .372L1.4 4.5zm11.2 0l.464.186a.5.5 0 000-.372L12.6 4.5zM7 8C5.186 8 3.91 7.098 3.072 6.166a7.395 7.395 0 01-1.143-1.707 3.946 3.946 0 01-.065-.145L1.4 4.5l-.464.186v.002l.002.004a1.967 1.967 0 00.022.052l.064.141a8.394 8.394 0 001.304 1.95C3.288 7.901 4.814 9 7 9V8zM1.4 4.5a65.011 65.011 0 01.464.186.699.699 0 01.014-.032l.05-.113a7.395 7.395 0 011.143-1.707C3.912 1.902 5.187 1 7 1V0C4.814 0 3.289 1.098 2.328 2.166a8.394 8.394 0 00-1.304 1.949 4.937 4.937 0 00-.086.193l-.001.004v.001H.935L1.4 4.5zM7 1c1.814 0 3.089.902 3.928 1.834a7.401 7.401 0 011.143 1.707c.024.05.04.088.051.113l.012.027.002.005.464-.186a53.817 53.817 0 00.463-.188l-.001-.004-.005-.012a7.392 7.392 0 00-.334-.668 8.387 8.387 0 00-1.051-1.462C10.71 1.098 9.185 0 7 0v1zm5.6 3.5a67.702 67.702 0 01-.464-.186l-.002.005-.012.027-.05.113a7.401 7.401 0 01-1.143 1.707C10.088 7.098 8.813 8 6.998 8v1c2.187 0 3.712-1.098 4.673-2.166a8.387 8.387 0 001.304-1.949 4.613 4.613 0 00.08-.181l.006-.012a1.288 1.288 0 00.002-.006L12.6 4.5zM7 5.6a1.1 1.1 0 01-1.1-1.1h-1c0 1.16.94 2.1 2.1 2.1v-1zm1.1-1.1A1.1 1.1 0 017 5.6v1a2.1 2.1 0 002.1-2.1h-1zM7 3.4a1.1 1.1 0 011.1 1.1h1A2.1 2.1 0 007 2.4v1zm0-1a2.1 2.1 0 00-2.1 2.1h1A1.1 1.1 0 017 3.4v-1z",fill:"currentColor"})))}},49377:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:15,height:13,viewBox:"0 0 15 13",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M1.5 0A1.5 1.5 0 000 1.5v10A1.5 1.5 0 001.5 13h12a1.5 1.5 0 001.5-1.5v-8A1.5 1.5 0 0013.5 2H7.707l-2-2H1.5z",fill:"currentColor"})))}},90087:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({height:24,width:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})))}},91947:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:19,height:20,viewBox:"0 0 19 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M12.725 1.146a12.04 12.04 0 00-5.45 0C6.24.51 5.45.219 4.874.096a3.184 3.184 0 00-.747-.079 1.85 1.85 0 00-.342.042l-.013.004-.006.001-.003.001-.003.001.202.704L3.76.066a.733.733 0 00-.468.406 4.576 4.576 0 00-.233 3.081 4.919 4.919 0 00-1.126 3.143c0 2.278.672 3.809 1.817 4.792.802.69 1.777 1.056 2.754 1.266-.161.448-.203.922-.17 1.405v.877c-.598.126-1.01.086-1.305-.01-.37-.123-.653-.368-.923-.72a7.066 7.066 0 01-.395-.589l-.084-.137c-.104-.17-.216-.352-.329-.518-.28-.413-.693-.929-1.362-1.105l-.71-.186-.372 1.419.71.186c.116.03.27.14.52.509.092.135.18.279.28.442l.099.16c.137.224.295.472.48.711.37.485.876.973 1.627 1.22.515.17 1.098.211 1.763.109v2.74c0 .405.329.733.734.733h5.866a.733.733 0 00.734-.733v-5.225c0-.463-.02-.887-.15-1.282.97-.205 1.938-.572 2.735-1.262 1.144-.99 1.815-2.535 1.815-4.826v-.003a4.92 4.92 0 00-1.126-3.116 4.578 4.578 0 00-.233-3.081.733.733 0 00-.468-.406l-.202.705c.201-.705.2-.706.199-.706h-.003l-.006-.002-.013-.004a1.01 1.01 0 00-.111-.022 1.851 1.851 0 00-.231-.02 3.186 3.186 0 00-.747.079c-.575.123-1.367.414-2.401 1.05z",fill:"currentColor"})))}},81337:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:12,height:15,viewBox:"0 0 12 15",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M4.65 11.977a.5.5 0 10-.3-.954l.3.954zm-3.648-2.96l-.484-.128-.254.968.484.127.254-.968zM8 14v.5h1V14H8zm.063-4.813l-.054-.497a.5.5 0 00-.299.852l.353-.354zM11.5 5.413h.5V5.41l-.5.002zm-.833-2.007l-.466-.18a.5.5 0 00.112.533l.354-.353zm-.05-2.017l.456-.204a.5.5 0 00-.319-.276l-.137.48zm-2.173.792l-.126.484a.5.5 0 00.398-.064l-.272-.42zm-3.888 0l-.272.42a.5.5 0 00.398.064l-.126-.484zM2.383 1.39L2.246.91a.5.5 0 00-.32.276l.457.204zm-.05 2.017l.354.353a.5.5 0 00.112-.534l-.466.181zM1.5 5.43H2v-.002l-.5.002zm3.438 3.758l.352.355a.5.5 0 00-.293-.851l-.06.496zM4.5 10.5H5l-.001-.037-.499.037zM4 14v.5h1V14H4zm.35-2.977c-.603.19-.986.169-1.24.085-.251-.083-.444-.25-.629-.49a4.8 4.8 0 01-.27-.402c-.085-.139-.182-.302-.28-.447-.191-.281-.473-.633-.929-.753l-.254.968c.08.02.184.095.355.346.082.122.16.252.258.412.094.152.202.32.327.484.253.33.598.663 1.11.832.51.168 1.116.15 1.852-.081l-.3-.954zM9 10.438c0-.318-.014-.608-.104-.878-.096-.288-.262-.51-.481-.727l-.705.71c.155.153.208.245.237.333.035.105.053.254.053.562h1zm-.884-.753c.903-.097 1.888-.325 2.647-.982.78-.675 1.237-1.729 1.237-3.29h-1c0 1.359-.39 2.1-.892 2.534-.524.454-1.258.653-2.099.743l.107.995zM12 5.41a3.354 3.354 0 00-.98-2.358l-.707.706c.438.44.685 1.034.687 1.655l1-.003zm-.867-1.824c.15-.384.22-.794.21-1.207l-1 .025a2.12 2.12 0 01-.142.82l.932.362zm.21-1.207a3.119 3.119 0 00-.27-1.195l-.913.408c.115.256.177.532.184.812l1-.025zm-.726-.99c.137-.481.137-.482.136-.482h-.003l-.004-.002a.456.456 0 00-.03-.007 1.262 1.262 0 00-.212-.024 2.172 2.172 0 00-.51.054c-.425.091-1.024.317-1.82.832l.542.84c.719-.464 1.206-.634 1.488-.694a1.19 1.19 0 01.306-.03l-.008-.001a.278.278 0 01-.01-.002l-.006-.002h-.003l-.002-.001c-.001 0-.002 0 .136-.482zm-2.047.307a8.209 8.209 0 00-4.14 0l.252.968a7.209 7.209 0 013.636 0l.252-.968zm-3.743.064C4.03 1.246 3.43 1.02 3.005.93a2.17 2.17 0 00-.51-.053 1.261 1.261 0 00-.245.032h-.002-.001l.136.481.137.481h-.001l-.002.001-.003.001a.327.327 0 01-.016.004l-.008.001h.008a1.19 1.19 0 01.298.03c.282.06.769.23 1.488.694l.543-.84zm-2.9-.576a3.12 3.12 0 00-.27 1.195l1 .025c.006-.28.068-.556.183-.812l-.913-.408zm-.27 1.195c-.01.413.06.823.21 1.207l.932-.362a2.12 2.12 0 01-.143-.82l-1-.025zm.322.673a3.354 3.354 0 00-.726 1.091l.924.38c.118-.285.292-.545.51-.765l-.708-.706zm-.726 1.091A3.354 3.354 0 001 5.43l1-.003c0-.31.06-.616.177-.902l-.924-.38zM1 5.43c0 1.553.458 2.597 1.239 3.268.757.65 1.74.88 2.64.987l.118-.993C4.15 8.59 3.416 8.39 2.89 7.938 2.388 7.507 2 6.776 2 5.428H1zm3.585 3.404c-.5.498-.629 1.09-.584 1.704L5 10.463c-.03-.408.052-.683.291-.921l-.705-.709zM4 10.5V14h1v-3.5H4zM9 14v-1.5H8V14h1zm0-1.5v-2.063H8V12.5h1z",fill:"currentColor"})))}},41174:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:13,height:14,viewBox:"0 0 13 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M3.6 5.4v-.5a.5.5 0 00-.5.5h.5zm0 .8l.354.354.146-.147V6.2h-.5zm-1.366.235l-.353.353.353-.353zM5.2 11.4h.5v-.207l-.146-.146-.354.353zm-.8-.8h-.5v.207l.146.147.354-.354zm0-1.2h.5v-.207l-.146-.146L4.4 9.4zm-.8-.8h-.5v.207l.146.147L3.6 8.6zm0-.8v-.5a.5.5 0 00-.5.5h.5zm3.5-6.4V3h1V1.4h-1zm-.3 1.9H6v1h.8v-1zM4.4 4.9h-.8v1h.8v-1zm-1.3.5v.8h1v-.8h-1zm.146.447l-.234.234.707.707.235-.234-.708-.707zm-.658.234L1.154 4.647l-.708.707 1.435 1.434.707-.707zM4.7 4.601a.3.3 0 01-.3.3v1a1.3 1.3 0 001.3-1.3h-1zM6 3.3a1.3 1.3 0 00-1.3 1.3h1a.3.3 0 01.3-.3v-1zM3.012 6.08a.3.3 0 01-.424 0l-.707.707a1.3 1.3 0 001.838 0l-.707-.707zM7.1 3.001a.3.3 0 01-.3.3v1A1.3 1.3 0 008.1 3h-1zm-1.4 9.6v-1.2h-1v1.2h1zm-.146-1.554l-.8-.8-.708.707.8.8.708-.707zM4.9 10.6V9.4h-1v1.2h1zm-.146-1.553l-.8-.8-.708.707.8.8.708-.707zM4.1 8.6v-.8h-1v.8h1zm-.5-.3h3.2v-1H3.6v1zm3.5.3v.534h1V8.6h-1zm1.567 2.1H10.8v-1H8.667v1zM7.9 9.934c0 .423.343.766.767.766v-1c.129 0 .233.105.233.234h-1zM7.867 9.9c.018 0 .033.015.033.034h1c0-.571-.463-1.034-1.033-1.034v1zM7.1 9.134c0 .423.343.766.767.766v-1c.129 0 .233.105.233.234h-1zM6.8 8.3a.3.3 0 01.3.3h1a1.3 1.3 0 00-1.3-1.3v1zM6 12.1A5.1 5.1 0 01.9 7h-1A6.1 6.1 0 006 13.1v-1zM11.1 7A5.1 5.1 0 016 12.1v1A6.1 6.1 0 0012.1 7h-1zM6 1.9A5.1 5.1 0 0111.1 7h1A6.1 6.1 0 006 .9v1zm0-1A6.1 6.1 0 00-.1 7h1A5.1 5.1 0 016 1.9v-1z",fill:"currentColor"})))}},95757:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:7,height:10,viewBox:"0 0 7 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M1.5 8.5l4-3.5-4-3.5",stroke:"currentColor",strokeLinecap:"square"})))}},29340:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M3.603 6.2V3.8a2.4 2.4 0 114.8 0v2.4m-6.4 0h8a.8.8 0 01.8.8v4.8a.8.8 0 01-.8.8h-8a.8.8 0 01-.8-.8V7a.8.8 0 01.8-.8z",stroke:"currentColor"})))}},61649:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M10.8 6L8.4 8.6M10.8 6L8.4 3.6M10.8 6H3.2m3.2 4.8H1.2V1.2h5.2",fill:"none",stroke:"currentColor"})))}},46131:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M7 4.2v5.6M4.2 7h5.6M7 12.6A5.6 5.6 0 117 1.4a5.6 5.6 0 010 11.2z",fill:"none",stroke:"currentColor"})))}},39231:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:8,height:8,viewBox:"0 0 8 8",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M4 .733v6.534M.731 4h6.534",fill:"none",stroke:"currentColor"})))}},12967:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.8 2.8v2H10A1.2 1.2 0 0111.2 6v4.8A1.2 1.2 0 0110 12H2a1.2 1.2 0 01-1.2-1.2V6A1.2 1.2 0 012 4.8h1.2v-2a2.8 2.8 0 115.6 0zM4 2.8a2 2 0 114 0v2H4v-2z",fill:"currentColor"})))}},16294:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 .8A5.2 5.2 0 00.8 6H0a6 6 0 0110.4-4.08V0h.8v3.2H8v-.8h1.752A5.184 5.184 0 006 .8zm0 10.4A5.2 5.2 0 0011.2 6h.8a6 6 0 01-10.4 4.08V12H.8V8.8H4v.8H2.248A5.184 5.184 0 006 11.2z",fill:"currentColor"})))}},97848:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M11.6 11.6L8.4 8.4M5.2 10a4.8 4.8 0 110-9.6 4.8 4.8 0 010 9.6z",fill:"none",stroke:"currentColor",strokeWidth:.8})))}},95184:function(e,t,n){"use strict";var r,o,a=n(2784);function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/a.createElement("svg",s({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/a.createElement("path",{clipRule:"evenodd",d:"M5.756 1.4l-.07.35-.262 1.278c-.421.16-.803.388-1.148.659l-1.286-.43-.346-.108-.179.309-.885 1.48-.18.31.263.229.995.846c-.036.222-.082.44-.082.673 0 .233.046.452.082.674l-.995.846-.263.23.18.308.885 1.48.18.31.345-.108 1.286-.43c.345.27.727.498 1.148.659l.263 1.278.069.35h2.488l.07-.35.262-1.278c.421-.16.803-.389 1.148-.659l1.286.43.346.108.18-.31.884-1.48.18-.308-.263-.23-.995-.846c.037-.222.082-.441.082-.674 0-.232-.045-.451-.082-.673l.995-.846.263-.23-.18-.308-.884-1.481-.18-.309-.346.107-1.286.43a4.416 4.416 0 00-1.148-.658l-.262-1.279-.07-.349H5.756z",fill:"none",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"})),o||(o=/*#__PURE__*/a.createElement("path",{clipRule:"evenodd",d:"M8.6 6.996a1.6 1.6 0 11-3.2-.002 1.6 1.6 0 013.2.002z",fill:"none",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"})))}},54229:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M10.6 12.6h2v-1.2a2 2 0 00-2-2M7.8 3.798a2.4 2.4 0 11-4.798 0 2.4 2.4 0 014.798 0zm1.6 8.795h-8v-1.598a2.4 2.4 0 012.4-2.4H7a2.4 2.4 0 012.4 2.4v1.598zm.8-4.793a1.6 1.6 0 110-3.2 1.6 1.6 0 010 3.2z",fill:"none",stroke:"currentColor"})))}},57448:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:14,height:12,viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{d:"M7 1.2l.197-.46a.5.5 0 00-.394 0L7 1.2zM1.4 3.6l-.197-.46a.5.5 0 000 .92L1.4 3.6zM7 6l-.197.46a.5.5 0 00.394 0L7 6zm5.6-2.4l.197.46a.5.5 0 000-.92l-.197.46zM7 8.4l-.197.46.197.084.197-.084L7 8.4zm0 2.4l-.197.46.197.084.197-.085L7 10.8zM6.803.74l-5.6 2.4.394.92 5.6-2.4-.394-.92zm-5.6 3.32l5.6 2.4.394-.92-5.6-2.4-.394.92zm5.994 2.4l5.6-2.4-.394-.92-5.6 2.4.394.92zm5.6-3.32l-5.6-2.4-.394.92 5.6 2.4.394-.92zM1.203 6.46l5.6 2.4.394-.92-5.6-2.4-.394.92zm5.994 2.4l5.6-2.4-.394-.92-5.6 2.4.394.92zm-5.994 0l5.6 2.4.394-.92-5.6-2.4-.394.92zm5.994 2.4l5.6-2.4-.394-.92-5.6 2.4.394.92z",fill:"currentColor"})))}},31583:function(e,t,n){"use strict";var r,o=n(2784);function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.Z=function(e){return /*#__PURE__*/o.createElement("svg",a({width:12,height:10,viewBox:"0 0 12 10",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.646 8.004l-1.06 1.06L.344 4.82l1.06-1.06 3.184 3.183L10.595.936l1.06 1.06-6.008 6.01-.001-.002z",fill:"currentColor"})))}},43931:function(e){var t;/*! algoliasearch-lite.umd.js | 4.10.5 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */t=function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?e(Object(r),!0).forEach(function(e){var n;n=r[e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance")}()}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},a=JSON.stringify(n);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);var s=r(),u=o&&o.miss||function(){return Promise.resolve()};return s.then(function(e){return u(e)}).then(function(){return s})},set:function(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function a(e,t){return t&&Object.keys(t).forEach(function(n){e[n]=t[n](e)}),e}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=0;return e.replace(/%s/g,function(){return encodeURIComponent(n[o++])})}var u={WithinQueryParameters:0,WithinHeaders:1};function c(e,t){var n=e||{},r=n.data||{};return Object.keys(n).forEach(function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(r[e]=n[e])}),{data:Object.entries(r).length>0?r:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var l={Read:1,Write:2,Any:3};function A(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t(t({},e),{},{status:n,lastUpdate:Date.now()})}function d(e){return"string"==typeof e?{protocol:"https",url:e,accept:l.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||l.Any}}var f="POST";function h(e,n,o,a){var s,u,c,l=[],f=function(e,n){if("GET"!==e.method&&(void 0!==e.data||void 0!==n.data))return JSON.stringify(Array.isArray(e.data)?e.data:t(t({},e.data),n.data))}(o,a),h=(s=t(t({},e.headers),a.headers),u={},Object.keys(s).forEach(function(e){var t=s[e];u[e.toLowerCase()]=t}),u),m=o.method,y="GET"!==o.method?{}:t(t({},o.data),a.data),b=t(t(t({"x-algolia-agent":e.userAgent.value},e.queryParameters),y),a.queryParameters),w=0,_=function t(n,r){var s,u,c,d=n.pop();if(void 0===d)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:g(l)};var y={data:f,headers:h,method:m,url:(s=o.path,u=p(b),c="".concat(d.protocol,"://").concat(d.url,"/").concat("/"===s.charAt(0)?s.substr(1):s),u.length&&(c+="?".concat(u)),c),connectTimeout:r(w,e.timeouts.connect),responseTimeout:r(w,a.timeout)},_=function(e){var t={request:y,response:e,host:d,triesLeft:n.length};return l.push(t),t},E={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw{name:"DeserializationError",message:t.message,response:e}}}(e)},onRetry:function(o){var a=_(o);return o.isTimedOut&&w++,Promise.all([e.logger.info("Retryable failure",v(a)),e.hostsCache.set(d,A(d,o.isTimedOut?3:2))]).then(function(){return t(n,r)})},onFail:function(e){throw _(e),function(e,t){var n=e.content,r=e.status,o=n;try{o=JSON.parse(n).message}catch(e){}return{name:"ApiError",message:o,status:r,transporterStackTrace:t}}(e,g(l))}};return e.requester.send(y).then(function(e){var t,n,r;return(t=e.status,e.isTimedOut||(n=e.isTimedOut,r=e.status,!n&&0==~~r)||2!=~~(t/100)&&4!=~~(t/100))?E.onRetry(e):2==~~(e.status/100)?E.onSuccess(e):E.onFail(e)})};return(c=e.hostsCache,Promise.all(n.map(function(e){return c.get(e,function(){return Promise.resolve(A(e))})})).then(function(e){var t=e.filter(function(e){return 1===e.status||Date.now()-e.lastUpdate>12e4}),o=e.filter(function(e){return 3===e.status&&Date.now()-e.lastUpdate<=12e4}),a=[].concat(r(t),r(o));return{getTimeout:function(e,t){return(0===o.length&&0===e?1:o.length+3+e)*t},statelessHosts:a.length>0?a.map(function(e){return d(e)}):n}})).then(function(e){return _(r(e.statelessHosts).reverse(),e.getTimeout)})}function p(e){return Object.keys(e).map(function(t){var n;return s("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]))}).join("&")}function g(e){return e.map(function(e){return v(e)})}function v(e){var n=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return t(t({},e),{},{request:t(t({},e.request),{},{headers:t(t({},e.request.headers),n)})})}var m=function(e){var r,o,s,A,f,p,g,v,m,y,b,w,_,E=e.appId,C=(r=void 0!==e.authMode?e.authMode:u.WithinHeaders,o={"x-algolia-api-key":e.apiKey,"x-algolia-application-id":E},{headers:function(){return r===u.WithinHeaders?o:{}},queryParameters:function(){return r===u.WithinQueryParameters?o:{}}}),B=(A=(s=t(t({hosts:[{url:"".concat(E,"-dsn.algolia.net"),accept:l.Read},{url:"".concat(E,".algolia.net"),accept:l.Write}].concat(function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}([{url:"".concat(E,"-1.algolianet.com")},{url:"".concat(E,"-2.algolianet.com")},{url:"".concat(E,"-3.algolianet.com")}]))},e),{},{headers:t(t(t({},C.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:t(t({},C.queryParameters()),e.queryParameters)})).hostsCache,f=s.logger,p=s.requester,g=s.requestsCache,v=s.responsesCache,m=s.timeouts,y=s.userAgent,b=s.hosts,w=s.queryParameters,_={hostsCache:A,logger:f,requester:p,requestsCache:g,responsesCache:v,timeouts:m,userAgent:y,headers:s.headers,queryParameters:w,hosts:b.map(function(e){return d(e)}),read:function(e,t){var r=c(t,_.timeouts.read),o=function(){return h(_,_.hosts.filter(function(e){return 0!=(e.accept&l.Read)}),e,r)};if(!0!==(void 0!==r.cacheable?r.cacheable:e.cacheable))return o();var a={request:e,mappedRequestOptions:r,transporter:{queryParameters:_.queryParameters,headers:_.headers}};return _.responsesCache.get(a,function(){return _.requestsCache.get(a,function(){return _.requestsCache.set(a,o()).then(function(e){return Promise.all([_.requestsCache.delete(a),e])},function(e){return Promise.all([_.requestsCache.delete(a),Promise.reject(e)])}).then(function(e){var t=n(e,2);return t[0],t[1]})})},{miss:function(e){return _.responsesCache.set(a,e)}})},write:function(e,t){return h(_,_.hosts.filter(function(e){return 0!=(e.accept&l.Write)}),e,c(t,_.timeouts.write))}});return a({transporter:B,appId:E,addAlgoliaAgent:function(e,t){B.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([B.requestsCache.clear(),B.responsesCache.clear()]).then(function(){})}},e.methods)},y=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a({transporter:e.transporter,appId:e.appId,indexName:t},n.methods)}},b=function(e){return function(n,r){var o=n.map(function(e){return t(t({},e),{},{params:p(e.params||{})})});return e.transporter.read({method:f,path:"1/indexes/*/queries",data:{requests:o},cacheable:!0},r)}},w=function(e){return function(n,r){return Promise.all(n.map(function(n){var o=n.params,a=o.facetName,s=o.facetQuery,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(o,["facetName","facetQuery"]);return y(e)(n.indexName,{methods:{searchForFacetValues:C}}).searchForFacetValues(a,s,t(t({},r),u))}))}},_=function(e){return function(t,n,r){return e.transporter.read({method:f,path:s("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:n},cacheable:!0},r)}},E=function(e){return function(t,n){return e.transporter.read({method:f,path:s("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n)}},C=function(e){return function(t,n,r){return e.transporter.read({method:f,path:s("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},r)}};function B(e,a,s){var c,l,A,d,f,h;return m(t(t(t({},{appId:e,apiKey:a,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise(function(t){var n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach(function(t){return n.setRequestHeader(t,e.headers[t])});var r,o=function(e,r){return setTimeout(function(){n.abort(),t({status:0,content:r,isTimedOut:!0})},1e3*e)},a=o(e.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===r&&(clearTimeout(a),r=o(e.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(a),clearTimeout(r),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(a),clearTimeout(r),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)})}},logger:{debug:function(e,t){return Promise.resolve()},info:function(e,t){return Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}},responsesCache:o(),requestsCache:o({serializable:!1}),hostsCache:function e(t){var o=r(t.caches),a=o.shift();return void 0===a?{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then(function(e){return Promise.all([e,r.miss(e)])}).then(function(e){return n(e,1)[0]})},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return a.get(t,n,r).catch(function(){return e({caches:o}).get(t,n,r)})},set:function(t,n){return a.set(t,n).catch(function(){return e({caches:o}).set(t,n)})},delete:function(t){return a.delete(t).catch(function(){return e({caches:o}).delete(t)})},clear:function(){return a.clear().catch(function(){return e({caches:o}).clear()})}}}({caches:[(c={key:"".concat("4.10.5","-").concat(e)},A="algoliasearch-client-js-".concat(c.key),d=function(){return void 0===l&&(l=c.localStorage||window.localStorage),l},f=function(){return JSON.parse(d().getItem(A)||"{}")},{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){var n=JSON.stringify(e),r=f()[n];return Promise.all([r||t(),void 0!==r])}).then(function(e){var t=n(e,2),o=t[0];return Promise.all([o,t[1]||r.miss(o)])}).then(function(e){return n(e,1)[0]})},set:function(e,t){return Promise.resolve().then(function(){var n=f();return n[JSON.stringify(e)]=t,d().setItem(A,JSON.stringify(n)),t})},delete:function(e){return Promise.resolve().then(function(){var t=f();delete t[JSON.stringify(e)],d().setItem(A,JSON.stringify(t))})},clear:function(){return Promise.resolve().then(function(){d().removeItem(A)})}}),o()]}),userAgent:(h={value:"Algolia for JavaScript (".concat("4.10.5",")"),add:function(e){var t="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return -1===h.value.indexOf(t)&&(h.value="".concat(h.value).concat(t)),h}}).add({segment:"Browser",version:"lite"}),authMode:u.WithinQueryParameters}),s),{},{methods:{search:b,searchForFacetValues:w,multipleQueries:b,multipleSearchForFacetValues:w,initIndex:function(e){return function(t){return y(e)(t,{methods:{search:E,searchForFacetValues:C,findAnswers:_}})}}}}))}return B.version="4.10.5",B},e.exports=t()},95766:function(e,t){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return(n+r)*3/4-r},t.toByteArray=function(e){var t,n,a=c(e),s=a[0],u=a[1],l=new o((s+u)*3/4-u),A=0,d=u>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[A++]=t>>16&255,l[A++]=t>>8&255,l[A++]=255&t;return 2===u&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[A++]=255&t),1===u&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[A++]=t>>8&255,l[A++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,a=[],s=0,u=r-o;s<u;s+=16383)a.push(function(e,t,r){for(var o,a=[],s=t;s<r;s+=3)a.push(n[(o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]))>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}(e,s,s+16383>u?u:s+16383));return 1===o?a.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===o&&a.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),a.join("")};for(var n=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)n[s]=a[s],r[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},48834:function(e,t,n){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */let r=n(95766),o=n(62333),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function s(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return A(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!u.isEncoding(t))throw TypeError("Unknown encoding: "+t);let n=0|p(e,t),r=s(n),o=r.write(e,t);return o!==n&&(r=r.slice(0,o)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(P(e,Uint8Array)){let t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(P(e,ArrayBuffer)||e&&P(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(P(e,SharedArrayBuffer)||e&&P(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);let o=function(e){var t;if(u.isBuffer(e)){let t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?s(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function A(e){return l(e),s(e<0?0:0|h(e))}function d(e){let t=e.length<0?0:0|h(e.length),n=s(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){let r;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),u.prototype),r}function h(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||P(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return R(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return L(e).length;default:if(o)return r?-1:R(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){let o=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0||(n>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,n){let r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let r=t;r<n;++r)o+=U[e[r]];return o}(this,t,n);case"utf8":case"utf-8":return b(this,t,n);case"ascii":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}(this,t,n);case"latin1":case"binary":return function(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}(this,t,n);case"base64":var a,s;return a=t,s=n,0===a&&s===this.length?r.fromByteArray(this):r.fromByteArray(this.slice(a,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,n){let r=e.slice(t,n),o="";for(let e=0;e<r.length-1;e+=2)o+=String.fromCharCode(r[e]+256*r[e+1]);return o}(this,t,n);default:if(o)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function v(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){var a;if(0===e.length)return -1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),(a=n=+n)!=a&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return -1;n=e.length-1}else if(n<0){if(!o)return -1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){let a,s=1,u=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return -1;s=2,u/=2,c/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let r=-1;for(a=n;a<u;a++)if(l(e,a)===l(t,-1===r?0:a-r)){if(-1===r&&(r=a),a-r+1===c)return r*s}else -1!==r&&(a-=a-r),r=-1}else for(n+c>u&&(n=u-c),a=n;a>=0;a--){let n=!0;for(let r=0;r<c;r++)if(l(e,a+r)!==l(t,r)){n=!1;break}if(n)return a}return -1}function b(e,t,n){n=Math.min(e.length,n);let r=[],o=t;for(;o<n;){let t=e[o],a=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=n){let n,r,u,c;switch(s){case 1:t<128&&(a=t);break;case 2:(192&(n=e[o+1]))==128&&(c=(31&t)<<6|63&n)>127&&(a=c);break;case 3:n=e[o+1],r=e[o+2],(192&n)==128&&(192&r)==128&&(c=(15&t)<<12|(63&n)<<6|63&r)>2047&&(c<55296||c>57343)&&(a=c);break;case 4:n=e[o+1],r=e[o+2],u=e[o+3],(192&n)==128&&(192&r)==128&&(192&u)==128&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&u)>65535&&c<1114112&&(a=c)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),o+=s}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function w(e,t,n){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>n)throw RangeError("Trying to access beyond buffer length")}function _(e,t,n,r,o,a){if(!u.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<a)throw RangeError('"value" argument is out of bounds');if(n+r>e.length)throw RangeError("Index out of range")}function E(e,t,n,r,o){D(t,r,o,e,n,7);let a=Number(t&BigInt(4294967295));e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function C(e,t,n,r,o){D(t,r,o,e,n,7);let a=Number(t&BigInt(4294967295));e[n+7]=a,a>>=8,e[n+6]=a,a>>=8,e[n+5]=a,a>>=8,e[n+4]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function B(e,t,n,r,o,a){if(n+r>e.length||n<0)throw RangeError("Index out of range")}function I(e,t,n,r,a){return t=+t,n>>>=0,a||B(e,t,n,4,34028234663852886e22,-34028234663852886e22),o.write(e,t,n,r,23,4),n+4}function x(e,t,n,r,a){return t=+t,n>>>=0,a||B(e,t,n,8,17976931348623157e292,-17976931348623157e292),o.write(e,t,n,r,52,8),n+8}t.lW=u,t.h2=50,u.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return(l(e),e<=0)?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)},u.allocUnsafe=function(e){return A(e)},u.allocUnsafeSlow=function(e){return A(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(P(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),P(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,a=Math.min(n,r);o<a;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){let n;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);if(void 0===t)for(n=0,t=0;n<e.length;++n)t+=e[n].length;let r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){let t=e[n];if(P(t,Uint8Array))o+t.length>r.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else if(u.isBuffer(t))t.copy(r,o);else throw TypeError('"list" argument must be an Array of Buffers');o+=t.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):g.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="",n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},a&&(u.prototype[a]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,o){if(P(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return -1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,o>>>=0,this===e)return 0;let a=o-r,s=n-t,c=Math.min(a,s),l=this.slice(r,o),A=e.slice(t,n);for(let e=0;e<c;++e)if(l[e]!==A[e]){a=l[e],s=A[e];break}return a<s?-1:s<a?1:0},u.prototype.includes=function(e,t,n){return -1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){var o,a,s,u,c,l,A,d;if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-t;if((void 0===n||n>f)&&(n=f),e.length>0&&(n<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let h=!1;for(;;)switch(r){case"hex":return function(e,t,n,r){let o;n=Number(n)||0;let a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;let s=t.length;for(r>s/2&&(r=s/2),o=0;o<r;++o){let r=parseInt(t.substr(2*o,2),16);if(r!=r)break;e[n+o]=r}return o}(this,e,t,n);case"utf8":case"utf-8":return o=t,a=n,M(R(e,this.length-o),this,o,a);case"ascii":case"latin1":case"binary":return s=t,u=n,M(function(e){let t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(e),this,s,u);case"base64":return c=t,l=n,M(L(e),this,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A=t,d=n,M(function(e,t){let n,r;let o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o.push(n%256),o.push(r);return o}(e,this.length-A),this,A,d);default:if(h)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),h=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(e,t){let n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);let r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||w(e,t,this.length);let r=this[e],o=1,a=0;for(;++a<t&&(o*=256);)r+=this[e+a]*o;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||w(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=j(function(e){N(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&O(e,this.length-8);let r=t+256*this[++e]+65536*this[++e]+16777216*this[++e],o=this[++e]+256*this[++e]+65536*this[++e]+16777216*n;return BigInt(r)+(BigInt(o)<<BigInt(32))}),u.prototype.readBigUInt64BE=j(function(e){N(e>>>=0,"offset");let t=this[e],n=this[e+7];(void 0===t||void 0===n)&&O(e,this.length-8);let r=16777216*t+65536*this[++e]+256*this[++e]+this[++e],o=16777216*this[++e]+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)}),u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||w(e,t,this.length);let r=this[e],o=1,a=0;for(;++a<t&&(o*=256);)r+=this[e+a]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||w(e,t,this.length);let r=t,o=1,a=this[e+--r];for(;r>0&&(o*=256);)a+=this[e+--r]*o;return a>=(o*=128)&&(a-=Math.pow(2,8*t)),a},u.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);let n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);let n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=j(function(e){N(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&O(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),u.prototype.readBigInt64BE=j(function(e){N(e>>>=0,"offset");let t=this[e],n=this[e+7];return(void 0===t||void 0===n)&&O(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+n)}),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;_(this,e,t,n,r,0)}let o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){let r=Math.pow(2,8*n)-1;_(this,e,t,n,r,0)}let o=n-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=j(function(e,t=0){return E(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=j(function(e,t=0){return C(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){let r=Math.pow(2,8*n-1);_(this,e,t,n,r-1,-r)}let o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){let r=Math.pow(2,8*n-1);_(this,e,t,n,r-1,-r)}let o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=j(function(e,t=0){return E(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=j(function(e,t=0){return C(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return x(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return x(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);let o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},u.prototype.fill=function(e,t,n,r){let o;if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===e.length){let t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{let a=u.isBuffer(e)?e:u.from(e,r),s=a.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};let T={};function S(e,t,n){T[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function k(e){let t="",n=e.length,r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function D(e,t,n,r,o,a){if(e>n||e<t){let r;let o="bigint"==typeof t?"n":"";throw r=a>3?0===t||t===BigInt(0)?`>= 0${o} and < 2${o} ** ${(a+1)*8}${o}`:`>= -(2${o} ** ${(a+1)*8-1}${o}) and < 2 ** ${(a+1)*8-1}${o}`:`>= ${t}${o} and <= ${n}${o}`,new T.ERR_OUT_OF_RANGE("value",r,e)}N(o,"offset"),(void 0===r[o]||void 0===r[o+a])&&O(o,r.length-(a+1))}function N(e,t){if("number"!=typeof e)throw new T.ERR_INVALID_ARG_TYPE(t,"number",e)}function O(e,t,n){if(Math.floor(e)!==e)throw N(e,n),new T.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new T.ERR_BUFFER_OUT_OF_BOUNDS;throw new T.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}S("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),S("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),S("ERR_OUT_OF_RANGE",function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>4294967296?o=k(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=k(o)),o+="n"),r+=` It must be ${t}. Received ${o}`},RangeError);let F=/[^+/0-9A-Za-z-_]/g;function R(e,t){let n;t=t||1/0;let r=e.length,o=null,a=[];for(let s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319||s+1===r){(t-=3)>-1&&a.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&a.push(239,191,189),o=n;continue}n=(o-55296<<10|n-56320)+65536}else o&&(t-=3)>-1&&a.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;a.push(n)}else if(n<2048){if((t-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else if(n<1114112){if((t-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}else throw Error("Invalid code point")}return a}function L(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length)&&!(o>=e.length);++o)t[o+n]=e[o];return o}function P(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let U=function(){let e="0123456789abcdef",t=Array(256);for(let n=0;n<16;++n){let r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function j(e){return"undefined"==typeof BigInt?Z:e}function Z(){throw Error("BigInt not supported")}},19131:function(e){var t=!!("undefined"!=typeof window&&window.document&&window.document.createElement);e.exports=t},5792:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},61099:function(e,t,n){"use strict";/*!
 * cookies
 * Copyright(c) 2014 Jed Schmidt, http://jed.is/
 * Copyright(c) 2015-2016 Douglas Christopher Wilson
 * MIT Licensed
 */var r=n(64410)("cookies"),o=n(52810),a=n(35580),s={},u=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,c=/^(?:lax|none|strict)$/i;function l(e,t,n){if(!(this instanceof l))return new l(e,t,n);this.secure=void 0,this.request=e,this.response=t,n&&(Array.isArray(n)?(r('"keys" argument; provide using options {"keys": [...]}'),this.keys=new o(n)):n.constructor&&"Keygrip"===n.constructor.name?(r('"keys" argument; provide using options {"keys": keygrip}'),this.keys=n):(this.keys=Array.isArray(n.keys)?new o(n.keys):n.keys,this.secure=n.secure))}function A(e,t,n){if(!u.test(e))throw TypeError("argument name is invalid");if(t&&!u.test(t))throw TypeError("argument value is invalid");for(var e in this.name=e,this.value=t||"",n)this[e]=n[e];if(this.value||(this.expires=new Date(0),this.maxAge=null),this.path&&!u.test(this.path))throw TypeError("option path is invalid");if(this.domain&&!u.test(this.domain))throw TypeError("option domain is invalid");if(this.sameSite&&!0!==this.sameSite&&!c.test(this.sameSite))throw TypeError("option sameSite is invalid")}function d(e,t){if(t.overwrite)for(var n=e.length-1;n>=0;n--)0===e[n].indexOf(t.name+"=")&&e.splice(n,1);e.push(t.toHeader())}l.prototype.get=function(e,t){var n,r,o,a,u,c,l=e+".sig",A=t&&void 0!==t.signed?t.signed:!!this.keys;if((n=this.request.headers.cookie)&&(r=n.match(s[e]?s[e]:s[e]=RegExp("(?:^|;) *"+e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")+"=([^;]*)")))){if(o=r[1],!t||!A)return o;if(a=this.get(l)){if(u=e+"="+o,!this.keys)throw Error(".keys required for signed cookies");if(!((c=this.keys.index(u,a))<0))return c&&this.set(l,this.keys.sign(u),{signed:!1}),o;this.set(l,null,{path:"/",signed:!1})}}},l.prototype.set=function(e,t,n){var o=this.response,s=this.request,u=o.getHeader("Set-Cookie")||[],c=void 0!==this.secure?!!this.secure:"https"===s.protocol||s.connection.encrypted,l=new A(e,t,n),f=n&&void 0!==n.signed?n.signed:!!this.keys;if("string"==typeof u&&(u=[u]),!c&&n&&n.secure)throw Error("Cannot send secure cookie over unencrypted connection");if(l.secure=n&&void 0!==n.secure?n.secure:c,n&&"secureProxy"in n&&(r('"secureProxy" option; use "secure" option, provide "secure" to constructor if needed'),l.secure=n.secureProxy),d(u,l),n&&f){if(!this.keys)throw Error(".keys required for signed cookies");l.value=this.keys.sign(l.toString()),l.name+=".sig",d(u,l)}return(o.set?a.OutgoingMessage.prototype.setHeader:o.setHeader).call(o,"Set-Cookie",u),this},A.prototype.path="/",A.prototype.expires=void 0,A.prototype.domain=void 0,A.prototype.httpOnly=!0,A.prototype.sameSite=!1,A.prototype.secure=!1,A.prototype.overwrite=!1,A.prototype.toString=function(){return this.name+"="+this.value},A.prototype.toHeader=function(){var e=this.toString();return this.maxAge&&(this.expires=new Date(Date.now()+this.maxAge)),this.path&&(e+="; path="+this.path),this.expires&&(e+="; expires="+this.expires.toUTCString()),this.domain&&(e+="; domain="+this.domain),this.sameSite&&(e+="; samesite="+(!0===this.sameSite?"strict":this.sameSite.toLowerCase())),this.secure&&(e+="; secure"),this.httpOnly&&(e+="; httponly"),e},Object.defineProperty(A.prototype,"maxage",{configurable:!0,enumerable:!0,get:function(){return this.maxAge},set:function(e){return this.maxAge=e}}),r.property(A.prototype,"maxage",'"maxage"; use "maxAge" instead'),l.connect=l.express=function(e){return function(t,n,r){t.cookies=n.cookies=new l(t,n,{keys:e}),r()}},l.Cookie=A,e.exports=l},19562:function(e){var t,n;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var o=e[r]<<16|e[r+1]<<8|e[r+2],a=0;a<4;a++)8*r+6*a<=8*e.length?n.push(t.charAt(o>>>6*(3-a)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var n=[],r=0,o=0;r<e.length;o=++r%4)0!=o&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|t.indexOf(e.charAt(r))>>>6-2*o);return n}},e.exports=n},64410:function(e){"use strict";function t(e,t){if("function"!=typeof e)throw TypeError("argument fn must be a function");return e}function n(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("argument obj must be object");var r=Object.getOwnPropertyDescriptor(e,t);if(!r)throw TypeError("must call property on owner object");if(!r.configurable)throw TypeError("property must be configurable")}/*!
 * depd
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */e.exports=function(e){if(!e)throw TypeError("argument namespace is required");function r(e){}return r._file=void 0,r._ignored=!0,r._namespace=e,r._traced=!1,r._warned=Object.create(null),r.function=t,r.property=n,r}},93636:function(e){"use strict";e.exports=function(e){return(e=String(e||""),r.test(e))?"rtl":o.test(e)?"ltr":"neutral"};var t="֑-߿יִ-﷽ﹰ-ﻼ",n="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",r=RegExp("^[^"+n+"]*["+t+"]"),o=RegExp("^[^"+t+"]*["+n+"]")},10161:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,s){if("function"!=typeof r)throw TypeError("The listener must be a function");var u=new o(r,a||e,s),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],u]:e._events[c].push(u):(e._events[c]=u,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function u(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1)),u.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},u.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,s=Array(a);o<a;o++)s[o]=r[o].fn;return s},u.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,o,a,s){var u=n?n+e:e;if(!this._events[u])return!1;var c,l,A=this._events[u],d=arguments.length;if(A.fn){switch(A.once&&this.removeListener(e,A.fn,void 0,!0),d){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,t),!0;case 3:return A.fn.call(A.context,t,r),!0;case 4:return A.fn.call(A.context,t,r,o),!0;case 5:return A.fn.call(A.context,t,r,o,a),!0;case 6:return A.fn.call(A.context,t,r,o,a,s),!0}for(l=1,c=Array(d-1);l<d;l++)c[l-1]=arguments[l];A.fn.apply(A.context,c)}else{var f,h=A.length;for(l=0;l<h;l++)switch(A[l].once&&this.removeListener(e,A[l].fn,void 0,!0),d){case 1:A[l].fn.call(A[l].context);break;case 2:A[l].fn.call(A[l].context,t);break;case 3:A[l].fn.call(A[l].context,t,r);break;case 4:A[l].fn.call(A[l].context,t,r,o);break;default:if(!c)for(f=1,c=Array(d-1);f<d;f++)c[f-1]=arguments[f];A[l].fn.apply(A[l].context,c)}}return!0},u.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,r,o){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var u=this._events[a];if(u.fn)u.fn!==t||o&&!u.once||r&&u.context!==r||s(this,a);else{for(var c=0,l=[],A=u.length;c<A;c++)(u[c].fn!==t||o&&!u[c].once||r&&u[c].context!==r)&&l.push(u[c]);l.length?this._events[a]=1===l.length?l[0]:l:s(this,a)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u},40199:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function u(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,u)}c((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(53339),s=n(36727);t.backOff=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,function(){return o(this,function(n){switch(n.label){case 0:return[4,new u(e,a.getSanitizedOptions(t)).execute()];case 1:return[2,n.sent()]}})})};var u=function(){function e(e,t){this.request=e,this.options=t,this.attemptNumber=0}return e.prototype.execute=function(){return r(this,void 0,void 0,function(){var e;return o(this,function(t){switch(t.label){case 0:if(this.attemptLimitReached)return[3,7];t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return t.sent(),[4,this.request()];case 3:return[2,t.sent()];case 4:return e=t.sent(),this.attemptNumber++,[4,this.options.retry(e,this.attemptNumber)];case 5:if(!t.sent()||this.attemptLimitReached)throw e;return[3,6];case 6:return[3,0];case 7:throw Error("Something went wrong.")}})})},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),e.prototype.applyDelay=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,s.DelayFactory(this.options,this.attemptNumber).apply()];case 1:return e.sent(),[2]}})})},e}()},71293:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(n(21674).Delay);t.AlwaysDelay=a},21674:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55686),o=function(){function e(e){this.options=e,this.attempt=0}return e.prototype.apply=function(){var e=this;return new Promise(function(t){return setTimeout(t,e.jitteredDelay)})},e.prototype.setAttemptNumber=function(e){this.attempt=e},Object.defineProperty(e.prototype,"jitteredDelay",{get:function(){return r.JitterFactory(this.options)(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){return Math.min(this.options.startingDelay*Math.pow(this.options.timeMultiple,this.numOfDelayedAttempts),this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),e}();t.Delay=o},36727:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22073),o=n(71293);t.DelayFactory=function(e,t){var n=e.delayFirstAttempt?new o.AlwaysDelay(e):new r.SkipFirstDelay(e);return n.setAttemptNumber(t),n}},22073:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function u(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(s,u)}c((r=r.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(t,"__esModule",{value:!0});var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.apply=function(){return a(this,void 0,void 0,function(){return s(this,function(t){return[2,!!this.isFirstAttempt||e.prototype.apply.call(this)]})})},Object.defineProperty(t.prototype,"isFirstAttempt",{get:function(){return 0===this.attempt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),t}(n(21674).Delay);t.SkipFirstDelay=u},67216:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullJitter=function(e){return Math.round(Math.random()*e)}},55686:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67216),o=n(37129);t.JitterFactory=function(e){return"full"===e.jitter?r.fullJitter:o.noJitter}},37129:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noJitter=function(e){return e}},53339:function(e,t){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};t.getSanitizedOptions=function(e){var t=n(n({},r),e);return t.numOfAttempts<1&&(t.numOfAttempts=1),t}},69378:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,a[o]))return!1;for(o=r;0!=o--;){var r,o,a,s=a[o];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},35532:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(72475),o="8.10.1";/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */r.Z.registerVersion("firebase",o,"app"),r.Z.SDK_VERSION=o},99688:function(e,t,n){"use strict";var r,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y,b,w=n(72475),_=n(32444),E=n(76765),C=n(22970),B=n(13936);e=n.hmd(e);var I=n(34406),x="",T=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,E.Pz)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,E.cI)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),S=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,E.r3)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),k=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new T(t)}}catch(e){}return new S},D=k("localStorage"),N=k("sessionStorage"),O=new B.Yd("@firebase/database"),F=(a=1,function(){return a++}),R=function(e){var t=(0,E.dS)(e),n=new E.gQ;n.update(t);var r=n.digest();return E.US.encodeByteArray(r)},L=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var o=e[r];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?n+=L.apply(null,o):"object"==typeof o?n+=(0,E.Pz)(o):n+=o,n+=" "}return n},M=null,P=!0,U=function(e,t){(0,E.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(O.logLevel=B.in.VERBOSE,M=O.log.bind(O),t&&N.set("logging_enabled",!0)):"function"==typeof e?M=e:(M=null,N.remove("logging_enabled"))},j=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===P&&(P=!1,null===M&&!0===N.get("logging_enabled")&&U(!0)),M){var n=L.apply(null,e);M(n)}},Z=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];j.apply(void 0,(0,C.__spreadArray)([e],(0,C.__read)(t)))}},Q=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+L.apply(void 0,(0,C.__spreadArray)([],(0,C.__read)(e)));O.error(n)},H=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+L.apply(void 0,(0,C.__spreadArray)([],(0,C.__read)(e)));throw O.error(n),Error(n)},V=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+L.apply(void 0,(0,C.__spreadArray)([],(0,C.__read)(e)));O.warn(n)},K=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&V("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},z=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},G=function(e){if((0,E.Yr)()||"complete"===document.readyState)e();else{var t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},W="[MIN_NAME]",q="[MAX_NAME]",Y=function(e,t){if(e===t)return 0;if(e===W||t===q)return -1;if(t===W||e===q)return 1;var n=ei(e),r=ei(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},$=function(e,t){return e===t?0:e<t?-1:1},X=function(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+(0,E.Pz)(t))},J=function(e){if("object"!=typeof e||null===e)return(0,E.Pz)(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",o=0;o<t.length;o++)0!==o&&(r+=","),r+=(0,E.Pz)(t[o])+":"+J(e[t[o]]);return r+"}"},ee=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],o=0;o<n;o+=t)o+t>n?r.push(e.substring(o,n)):r.push(e.substring(o,o+t));return r};function et(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var en=function(e){(0,E.hu)(!z(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=22250738585072014e-324?(n=(o=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-o)-4503599627370496)):(n=0,r=Math.round(e/5e-324)));var t,n,r,o,a,s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},er=RegExp("^-?(0*)\\d{1,10}$"),ei=function(e){if(er.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},eo=function(e){try{e()}catch(e){setTimeout(function(){throw V("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},ea=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},es=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(function(e){return n.appCheck=e})}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(n,r){setTimeout(function(){t.appCheck?t.getToken(e).then(n,r):n(null)},0)})},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(function(t){return t.addTokenListener(e)})},e.prototype.notifyForInvalidToken=function(){V('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),eu=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(function(e){return r.auth_=e})}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch(function(e){return e&&"auth/token-not-initialized"===e.code?(j("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}):new Promise(function(n,r){setTimeout(function(){t.auth_?t.getToken(e).then(n,r):n(null)},0)})},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(t){return t.addAuthTokenListener(e)})},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then(function(t){return t.removeAuthTokenListener(e)})},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',V(e)},e}(),ec=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),el=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eA="websocket",ed="long_polling",ef=function(){function e(e,t,n,r,o,a,s){void 0===o&&(o=!1),void 0===a&&(a=""),void 0===s&&(s=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=D.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&D.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function eh(e,t,n){if((0,E.hu)("string"==typeof t,"typeof type must == string"),(0,E.hu)("object"==typeof n,"typeof params must == object"),t===eA)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===ed)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw Error("Unknown connection type: "+t);(e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams)&&(n.ns=e.namespace);var r,o=[];return et(n,function(e,t){o.push(e+"="+t)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ep=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,E.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,E.p$)(this.counters_)},e}(),eg={},ev={};function em(e){var t=e.toString();return eg[t]||(eg[t]=new ep),eg[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ey=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=this;this.pendingResponses[this.currentResponseNum]&&"break"!==function(){var e=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var t=function(t){e[t]&&eo(function(){n.onMessage_(e[t])})},o=0;o<e.length;++o)t(o);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}(););},e}(),eb="start",ew=function(){function e(e,t,n,r,o,a,s){var u=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.transportSessionId=a,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Z(e),this.stats_=em(t),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),eh(t,ed,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ey(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),G(function(){if(!n.isClosed_){n.scriptTagHolder=new e_(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,C.__read)(e,5),o=r[0],a=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder){if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===eb)n.id=a,n.password=s;else if("close"===o)a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,function(){n.onClosed_()})):n.onClosed_();else throw Error("Unrecognized command received: "+o)}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,C.__read)(e,2),o=r[0],a=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(o,a)},function(){n.onClosed_()},n.urlFn);var e={};e[eb]="t",e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&el.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,E.Yr)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){!this.isClosed_&&(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,E.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=ee((0,E.h$)(t),1840),r=0;r<n.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[r]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,E.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={};n.dframe="t",n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,E.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),e_=function(){function e(t,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,E.Yr)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=F(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";</script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){j("frame writing exception"),e.stack&&j(e.stack),j(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||j("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(!this.alive||!this.sendNewPolls||!(this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)))return!1;this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;)if(this.pendingSegs[0].d.length+30+n.length<=1870){var o=this.pendingSegs.shift();n=n+"&seg"+r+"="+o.seg+"&ts"+r+"="+o.ts+"&d"+r+"="+o.d,r++}else break;return t+=n,this.addLongPollTag_(t,this.currentSerial),!0},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(e,function(){clearTimeout(o),r()})},e.prototype.addTag=function(e,t){var n=this;(0,E.Yr)()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){j("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}},Math.floor(1))},e}(),eE=null;"undefined"!=typeof MozWebSocket?eE=MozWebSocket:"undefined"!=typeof WebSocket&&(eE=WebSocket);var eC=function(){function e(t,n,r,o,a,s,u){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Z(this.connId),this.stats_=em(n),this.connURL=e.connectionURL_(n,s,u,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var o={};return o.v="5",!(0,E.Yr)()&&"undefined"!=typeof location&&location.hostname&&el.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o.ac=r),eh(e,eA,o)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,D.set("previous_websocket_failure",!0);try{if((0,E.Yr)()){var r=this.nodeAdmin?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+x+"/"+I.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(o.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a=I.env,s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(o.proxy={origin:s}),this.mySock=new eE(this.connURL,[],o)}else{var o={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new eE(this.connURL,[],o)}}catch(e){this.log_("Error instantiating WebSocket.");var u=e.message||e.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&4.4>parseFloat(n[1])&&(t=!0)}return!t&&null!==eE&&!e.forceDisallow_},e.previouslyFailed=function(){return D.isInMemoryStorage||!0===D.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){D.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,E.cI)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,E.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,E.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=ee(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){!this.isClosed_&&(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),eB=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[ew,eC]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,o=eC&&eC.isAvailable(),a=o&&!eC.previouslyFailed();if(t.webSocketOnly&&(o||V("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[eC];else{var s=this.transports_=[];try{for(var u=(0,C.__values)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),eI=function(){function e(e,t,n,r,o,a,s,u,c,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=a,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Z("c:"+this.id+":"),this.transportManager_=new eB(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=ea(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(o)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){this.sendData_({t:"d",d:e})},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=X("t",e),n=X("d",e);if("c"===t)this.onSecondaryControl_(n);else if("d"===t)this.pendingDataMessages.push(n);else throw Error("Unknown protocol layer: "+t)},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=X("t",e),n=X("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){!this.isHealthy_&&(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=X("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Q("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Q("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&V("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ea(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ea(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(D.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ex=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),eT=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,E.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,C.__spreadArray)([],(0,C.__read)(this.listeners_[e])),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],o=0;o<r.length;o++)if(r[o].callback===t&&(!n||n===r[o].context)){r.splice(o,1);return}},e.prototype.validateEventType_=function(e){(0,E.hu)(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},e}(),eS=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,E.uI)()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return(0,C.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,E.hu)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(eT),ek=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function eD(){return new ek("")}function eN(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function eO(e){return e.pieces_.length-e.pieceNum_}function eF(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ek(e.pieces_,t)}function eR(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function eL(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function eM(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ek(t,0)}function eP(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ek)for(var r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else for(var o=t.split("/"),r=0;r<o.length;r++)o[r].length>0&&n.push(o[r]);return new ek(n,0)}function eU(e){return e.pieceNum_>=e.pieces_.length}function ej(e,t){var n=eN(e),r=eN(t);if(null===n)return t;if(n===r)return ej(eF(e),eF(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function eZ(e,t){for(var n=eL(e,0),r=eL(t,0),o=0;o<n.length&&o<r.length;o++){var a=Y(n[o],r[o]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function eQ(e,t){if(eO(e)!==eO(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function eH(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(eO(e)>eO(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var eV=function(e,t){this.errorPrefix_=t,this.parts_=eL(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,E.ug)(this.parts_[n]);eK(this)};function eK(e){if(e.byteLength_>768)throw Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ez(e))}function ez(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eG=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))},!1),r}return(0,C.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,E.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(eT),eW=function(e){function t(n,r,o,a,s,u,c,l){var A=e.call(this)||this;if(A.repoInfo_=n,A.applicationId_=r,A.onDataUpdate_=o,A.onConnectStatus_=a,A.onServerInfoUpdate_=s,A.authTokenProvider_=u,A.appCheckTokenProvider_=c,A.authOverride_=l,A.id=t.nextPersistentConnectionId_++,A.log_=Z("p:"+A.id+":"),A.interruptReasons_={},A.listens=new Map,A.outstandingPuts_=[],A.outstandingGets_=[],A.outstandingPutCount_=0,A.outstandingGetCount_=0,A.onDisconnectRequestQueue_=[],A.connected_=!1,A.reconnectDelay_=1e3,A.maxReconnectDelay_=3e5,A.securityDebugCallback_=null,A.lastSessionId=null,A.establishConnectionTimer_=null,A.visible_=!1,A.requestCBHash_={},A.requestNumber_=0,A.realtime_=null,A.authToken_=null,A.appCheckToken_=null,A.forceTokenRefresh_=!1,A.invalidAuthTokenCount_=0,A.invalidAppCheckTokenCount_=0,A.firstConnection_=!0,A.lastConnectionAttemptTime_=null,A.lastConnectionEstablishedTime_=null,l&&!(0,E.Yr)())throw Error("Auth override specified in options, but not supported on non Node.js platforms");return eG.getInstance().on("visible",A.onVisible_,A),-1===n.host.indexOf("fblocal")&&eS.getInstance().on("online",A.onOnline_,A),A}return(0,C.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_((0,E.Pz)(o)),(0,E.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new E.BH,r={p:e._path.toString(),q:e._queryObject},o={action:"g",request:r,onComplete:function(e){var o=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,o,!1,null),n.resolve(o)):n.reject(o)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var e=t.outstandingGets_[a];void 0!==e&&o===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),(0,E.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,E.hu)(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(o,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},t.prototype.sendListen_=function(e){var n=this,r=e.query,o=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+o+" for "+a);var s={p:o};e.tag&&(s.q=r._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,function(s){var u=s.d,c=s.s;t.warnOnListenWarnings_(u,r),(n.listens.get(o)&&n.listens.get(o).get(a))===e&&(n.log_("listen response",s),"ok"!==c&&n.removeListen_(o,a),e.onComplete&&e.onComplete(c,u))})},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&(0,E.r3)(e,"w")){var n=(0,E.DV)(e,"w");Array.isArray(n)&&~n.indexOf("no_index")&&V('Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ".indexOn": "'+t._queryParams.getIndex().toString()+'" at '+t._path.toString()+" to your security rules for better performance.")}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,E.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,E.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,o=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,o))})}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)})},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,E.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var o={p:e};r&&(o.q=n,o.t=r),this.sendRequest("n",o)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var o={p:t,d:n};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,o){this.initConnection_();var a={p:t,d:n};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),o&&o(r.s,r.d)})},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}})}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,E.Pz)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else if("error"in e)throw"A server-side error has occurred: "+e.error;else"a"in e&&this.onDataPush_(e.a,e.b)},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Q("Unrecognized action received from server: "+(0,E.Pz)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,E.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){!e||this.visible_||this.reconnectDelay_!==this.maxReconnectDelay_||(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());var e=new Date().getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,C.__awaiter)(this,void 0,void 0,function(){var e,n,r,o,a,s,u,c,l,A,d,f,h,p,g=this;return(0,C.__generator)(this,function(v){switch(v.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,r())},l=function(e){(0,E.hu)(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:l},A=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(A),this.appCheckTokenProvider_.getToken(A)])];case 2:return f=(d=C.__read.apply(void 0,[v.sent(),2]))[0],h=d[1],s?j("getToken() completed but was canceled"):(j("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,u=new eI(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,function(e){V(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")},a)),[3,4];case 3:return p=v.sent(),this.log_("Failed to get token: "+p),s||(this.repoInfo_.nodeAdmin&&V(p),c()),[3,4];case 4:return[2]}})})},t.prototype.interrupt=function(e){j("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){j("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,E.xb)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){n=t?t.map(function(e){return J(e)}).join("$"):"default";var n,r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new ek(e).toString();if(this.listens.has(r)){var o=this.listens.get(r);n=o.get(t),o.delete(t),0===o.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){j("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){j("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var o=(0,C.__values)(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,(0,C.__values)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(e){n={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}for(var A=0;A<this.outstandingPuts_.length;A++)this.outstandingPuts_[A]&&this.sendPut_(A);for(;this.onDisconnectRequestQueue_.length;){var d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(var A=0;A<this.outstandingGets_.length;A++)this.outstandingGets_[A]&&this.sendGet_(A)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,E.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+x.replace(/\./g,"-")]=1,(0,E.uI)()?e["framework.cordova"]=1:(0,E.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=eS.getInstance().currentlyOnline();return(0,E.xb)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(ex),eq=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),eY=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new eq(W,e),r=new eq(W,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return eq.MIN},e}(),e$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,C.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return l},set:function(e){l=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return Y(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,E.g5)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return eq.MIN},t.prototype.maxPost=function(){return new eq(q,l)},t.prototype.makePost=function(e,t){return(0,E.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new eq(e,l)},t.prototype.toString=function(){return".key"},t}(eY),eX=new e$,eJ=function(){function e(e,t,n,r,o){void 0===o&&(o=null),this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];for(var a=1;!e.isEmpty();)if(a=t?n(e.key,t):1,r&&(a*=-1),a<0)e=this.isReverse_?e.left:e.right;else if(0===a){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),e0=function(){function e(t,n,r,o,a){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=o?o:e2.EMPTY_NODE,this.right=null!=a?a:e2.EMPTY_NODE}return e.prototype.copy=function(t,n,r,o,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=a?a:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,o=n(e,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return e2.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(n=this,0>t(e,n.key))n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return e2.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){return Math.pow(2,this.check_())<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e===this.right.check_())return e+(this.isRed_()?0:1);throw Error("Black depths differ")},e.RED=!0,e.BLACK=!1,e}(),e1=function(){function e(){}return e.prototype.copy=function(e,t,n,r,o){return this},e.prototype.insert=function(e,t,n){return new e0(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),e2=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,e0.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,e0.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty()){if(r)return r.key;return null}for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new eJ(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new eJ(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new eJ(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new eJ(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new e1,e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(e,t){return Y(e.name,t.name)}function e3(e,t){return Y(e,t)}var e5=function(e){return"number"==typeof e?"number:"+en(e):"string:"+e},e6=function(e){if(e.isLeafNode()){var t=e.val();(0,E.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,E.r3)(t,".sv"),"Priority must be a string or number.")}else(0,E.hu)(e===A||e.isEmpty(),"priority of unexpected type.");(0,E.hu)(e===A||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},e8=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,E.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),e6(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return d},set:function(e){d=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return eU(t)?this:".priority"===eN(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=eN(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,E.hu)(".priority"!==r||1===eO(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(eF(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+e5(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":","number"===t?e+=en(this.value_):e+=this.value_,this.lazyHash_=R(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,E.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return((0,E.hu)(o>=0,"Unknown leaf type: "+n),(0,E.hu)(a>=0,"Unknown leaf type: "+r),o!==a)?a-o:"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}(),e9=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,C.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),o=n.compareTo(r);return 0===o?Y(e.name,t.name):o},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return eq.MIN},t.prototype.maxPost=function(){return new eq(q,new e8("[PRIORITY-POST]",h))},t.prototype.makePost=function(e,t){return new eq(t,new e8("[PRIORITY-POST]",f(e)))},t.prototype.toString=function(){return".priority"},t}(eY)),e7=Math.log(2),te=function(){function e(e){this.count=parseInt(Math.log(e+1)/e7,10),this.current_=this.count-1;var t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),tt=function(e,t,n,r){e.sort(t);var o=function(t,r){var a,s=r-t;if(0===s)return null;if(1===s)return a=e[t],new e0(n?n(a):a,a.node,e0.BLACK,null,null);var u=parseInt(s/2,10)+t,c=o(t,u),l=o(u+1,r);return a=e[u],new e0(n?n(a):a,a.node,e0.BLACK,c,l)};return new e2(r||t,function(t){for(var r=null,a=null,s=e.length,u=function(t,r){var a=s-t,u=s;s-=t;var l=o(a+1,u),A=e[a];c(new e0(n?n(A):A,A.node,r,null,l))},c=function(e){r?r.left=e:a=e,r=e},l=0;l<t.count;++l){var A=t.nextBitIsOne(),d=Math.pow(2,t.count-(l+1));A?u(d,e0.BLACK):(u(d,e0.BLACK),u(d,e0.RED))}return a}(new te(e.length)))},tn={},tr=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,E.hu)(tn&&e9,"ChildrenNode.ts has not been loaded"),p=p||new e({".priority":tn},{".priority":e9})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,E.DV)(this.indexes_,e);if(!t)throw Error("No index defined for "+e);return t instanceof e2?t:null},e.prototype.hasIndex=function(e){return(0,E.r3)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,E.hu)(t!==eX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,o=[],a=!1,s=n.getIterator(eq.Wrap),u=s.getNext();u;)a=a||t.isDefinedOn(u.node),o.push(u),u=s.getNext();r=a?tt(o,t.getCompare()):tn;var c=t.toString(),l=(0,C.__assign)({},this.indexSet_);l[c]=t;var A=(0,C.__assign)({},this.indexes_);return A[c]=r,new e(A,l)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,E.UI)(this.indexes_,function(e,o){var a=(0,E.DV)(r.indexSet_,o);if((0,E.hu)(a,"Missing index implementation for "+o),e===tn){if(!a.isDefinedOn(t.node))return tn;for(var s=[],u=n.getIterator(eq.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),tt(s,a.getCompare())}var l=n.get(t.name),A=e;return l&&(A=A.remove(new eq(t.name,l))),A.insert(t,t.node)}),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,E.UI)(this.indexes_,function(e){if(e===tn)return e;var r=n.get(t.name);return r?e.remove(new eq(t.name,r)):e}),this.indexSet_)},e}(),ti=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&e6(this.priorityNode_),this.children_.isEmpty()&&(0,E.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return g||(g=new e(new e2(e3),null,tr.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||g},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?g:t},e.prototype.getChild=function(e){var t=eN(e);return null===t?this:this.getImmediateChild(t).getChild(eF(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,E.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new eq(t,n),o=void 0,a=void 0;n.isEmpty()?(o=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=o.isEmpty()?g:this.priorityNode_;return new e(o,s,a)},e.prototype.updateChild=function(e,t){var n=eN(e);if(null===n)return t;(0,E.hu)(".priority"!==eN(e)||1===eO(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(eF(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,o=0,a=!0;if(this.forEachChild(e9,function(s,u){n[s]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(s)?o=Math.max(o,Number(s)):a=!1}),t||!a||!(o<2*r))return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n;var s=[];for(var u in n)s[u]=n[u];return s},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+e5(this.getPriority().val())+":"),this.forEachChild(e9,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":R(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(!r)return this.children_.getPredecessorKey(e);var o=r.getPredecessorKey(new eq(e,t));return o?o.name:null},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(!t)return this.children_.minKey();var n=t.minKey();return n&&n.name},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new eq(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(!t)return this.children_.maxKey();var n=t.maxKey();return n&&n.name},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new eq(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,eq.Wrap),o=r.peek();null!=o&&0>t.compare(o,e);)r.getNext(),o=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,eq.Wrap),o=r.peek();null!=o&&t.compare(o,e)>0;)r.getNext(),o=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===to?-1:0},e.prototype.withIndex=function(t){if(t===eX||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===eX||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()||!this.getPriority().equals(e.getPriority())||this.children_.count()!==e.children_.count())return!1;for(var t=this.getIterator(e9),n=e.getIterator(e9),r=t.getNext(),o=n.getNext();r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=t.getNext(),o=n.getNext()}return null===r&&null===o},e.prototype.resolveIndex_=function(e){return e===eX?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),to=new(function(e){function t(){return e.call(this,new e2(e3),ti.EMPTY_NODE,tr.Default)||this}return(0,C.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return ti.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(ti));function ta(e,t){if(void 0===t&&(t=null),null===e)return ti.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,E.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new e8(e,ta(t));if(e instanceof Array){var n=ti.EMPTY_NODE;return et(e,function(t,r){if((0,E.r3)(e,t)&&"."!==t.substring(0,1)){var o=ta(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(t,o))}}),n.updatePriority(ta(t))}var r=[],o=!1;if(et(e,function(e,t){if("."!==e.substring(0,1)){var n=ta(t);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),r.push(new eq(e,n)))}}),0===r.length)return ti.EMPTY_NODE;var a=tt(r,e4,function(e){return e.name},e3);if(!o)return new ti(a,ta(t),tr.Default);var s=tt(r,e9.getCompare());return new ti(a,ta(t),new tr({".priority":s},{".priority":e9}))}Object.defineProperties(eq,{MIN:{value:new eq(W,ti.EMPTY_NODE)},MAX:{value:new eq(q,to)}}),e$.__EMPTY_NODE=ti.EMPTY_NODE,e8.__childrenNodeConstructor=ti,A=to,h=to,f=ta;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ts=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,E.hu)(!eU(t)&&".priority"!==eN(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,C.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),o=n.compareTo(r);return 0===o?Y(e.name,t.name):o},t.prototype.makePost=function(e,t){var n=ta(e);return new eq(t,ti.EMPTY_NODE.updateChild(this.indexPath_,n))},t.prototype.maxPost=function(){return new eq(q,ti.EMPTY_NODE.updateChild(this.indexPath_,to))},t.prototype.toString=function(){return eL(this.indexPath_,0).join("/")},t}(eY),tu=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,C.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?Y(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return eq.MIN},t.prototype.maxPost=function(){return eq.MAX},t.prototype.makePost=function(e,t){return new eq(t,ta(e))},t.prototype.toString=function(){return".value"},t}(eY)),tc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",tl=(s=0,u=[],function(e){var t,n=e===s;s=e;var r=Array(8);for(t=7;t>=0;t--)r[t]=tc.charAt(e%64),e=Math.floor(e/64);(0,E.hu)(0===e,"Cannot push at time == 0");var o=r.join("");if(n){for(t=11;t>=0&&63===u[t];t--)u[t]=0;u[t]++}else for(t=0;t<12;t++)u[t]=Math.floor(64*Math.random());for(t=0;t<12;t++)o+=tc.charAt(u[t]);return(0,E.hu)(20===o.length,"nextPushId: Length should be 20."),o}),tA=function(e){if("2147483647"===e)return"-";var t=ei(e);if(null!=t)return""+(t+1);for(var n=Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var o=n.length-1;o>=0&&"z"===n[o];)o--;if(-1===o)return q;var a=n[o],s=tc.charAt(tc.indexOf(a)+1);return n[o]=s,n.slice(0,o+1).join("")},td=function(e){if("-2147483648"===e)return W;var t=ei(e);if(null!=t)return""+(t-1);for(var n=Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=tc.charAt(tc.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(e){return{type:"value",snapshotNode:e}}function th(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function tp(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function tg(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tv=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,o,a){(0,E.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(tp(t,s)):(0,E.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(th(t,n)):a.trackChildChange(tg(t,n,s))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(t,n).withIndex(this.index_)},e.prototype.updateFullNode=function(e,t,n){return null==n||(e.isLeafNode()||e.forEachChild(e9,function(e,r){t.hasChild(e)||n.trackChildChange(tp(e,r))}),t.isLeafNode()||t.forEachChild(e9,function(t,r){if(e.hasChild(t)){var o=e.getImmediateChild(t);o.equals(r)||n.trackChildChange(tg(t,r,o))}else n.trackChildChange(th(t,r))})),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?ti.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),tm=function(){function e(t){this.indexedFilter_=new tv(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return 0>=this.index_.compare(this.getStartPost(),e)&&0>=this.index_.compare(e,this.getEndPost())},e.prototype.updateChild=function(e,t,n,r,o,a){return this.matches(new eq(t,n))||(n=ti.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,o,a)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=ti.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ti.EMPTY_NODE);var o=this;return t.forEachChild(e9,function(e,t){o.matches(new eq(e,t))||(r=r.updateImmediateChild(e,ti.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(!e.hasStart())return e.getIndex().minPost();var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)},e.getEndPost_=function(e){if(!e.hasEnd())return e.getIndex().maxPost();var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)},e}(),ty=function(){function e(e){this.rangedFilter_=new tm(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,o,a){return(this.rangedFilter_.matches(new eq(t,n))||(n=ti.EMPTY_NODE),e.getImmediateChild(t).equals(n))?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,o,a):this.fullLimitUpdateChild_(e,t,n,o,a)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ti.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=ti.EMPTY_NODE.withIndex(this.index_);var o=void 0;o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;o.hasNext()&&a<this.limit_;){var s=o.getNext(),u=void 0;if(u=this.reverse_?0>=this.index_.compare(this.rangedFilter_.getStartPost(),s):0>=this.index_.compare(s,this.rangedFilter_.getEndPost()))r=r.updateImmediateChild(s.name,s.node),a++;else break}}else{r=(r=t.withIndex(this.index_)).updatePriority(ti.EMPTY_NODE);var c=void 0,l=void 0,A=void 0,o=void 0;if(this.reverse_){o=r.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),l=this.rangedFilter_.getStartPost();var d=this.index_.getCompare();A=function(e,t){return d(t,e)}}else o=r.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),l=this.rangedFilter_.getEndPost(),A=this.index_.getCompare();for(var a=0,f=!1;o.hasNext();){var s=o.getNext();!f&&0>=A(c,s)&&(f=!0);var u=f&&a<this.limit_&&0>=A(s,l);u?a++:r=r.updateImmediateChild(s.name,ti.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,o){if(this.reverse_){var a,s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();(0,E.hu)(e.numChildren()===this.limit_,"");var u=new eq(t,n),c=this.reverse_?e.getFirstChild(this.index_):e.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(e.hasChild(t)){for(var A=e.getImmediateChild(t),d=r.getChildAfterChild(this.index_,c,this.reverse_);null!=d&&(d.name===t||e.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var f=null==d?1:a(d,u);if(l&&!n.isEmpty()&&f>=0)return null!=o&&o.trackChildChange(tg(t,n,A)),e.updateImmediateChild(t,n);null!=o&&o.trackChildChange(tp(t,A));var h=e.updateImmediateChild(t,ti.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=o&&o.trackChildChange(th(d.name,d.node)),h.updateImmediateChild(d.name,d.node)):h}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=o&&(o.trackChildChange(tp(c.name,c.node)),o.trackChildChange(th(t,n))),e.updateImmediateChild(t,n).updateImmediateChild(c.name,ti.EMPTY_NODE)):e},e}(),tb=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=e9}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,E.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return((0,E.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_)?this.indexStartName_:W},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,E.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return((0,E.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_)?this.indexEndName_:q},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,E.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===e9},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function tw(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function t_(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function tE(e,t){var n=e.copy();return n.index_=t,n}function tC(e){var t,n={};return e.isDefault()||(e.index_===e9?t="$priority":e.index_===tu?t="$value":e.index_===eX?t="$key":((0,E.hu)(e.index_ instanceof ts,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,E.Pz)(t),e.startSet_&&(n.startAt=(0,E.Pz)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,E.Pz)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,E.Pz)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,E.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function tB(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==e9&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tI=function(e){function t(t,n,r,o){var a=e.call(this)||this;return a.repoInfo_=t,a.onDataUpdate_=n,a.authTokenProvider_=r,a.appCheckTokenProvider_=o,a.log_=Z("p:rest:"),a.listens_={},a}return(0,C.__extends)(t,e),t.prototype.reportStats=function(e){throw Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,E.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,o){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=tC(e._queryParams);this.restRequest_(s+".json",l,function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,E.DV)(a.listens_,u)===c&&o(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=tC(e._queryParams),r=e._path.toString(),o=new E.BH;return this.restRequest_(r+".json",n,function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),o.resolve(a)):o.reject(Error(a))}),o.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(o){var a=(0,C.__read)(o,2),s=a[0],u=a[1];s&&s.accessToken&&(t.auth=s.accessToken),u&&u.token&&(t.ac=u.token);var c=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,E.xO)(t);r.log_("Sending REST request for "+c);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(n&&4===l.readyState){r.log_("REST Response for "+c+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=(0,E.cI)(l.responseText)}catch(e){V("Failed to parse JSON response for "+c+": "+l.responseText)}n(null,e)}else 401!==l.status&&404!==l.status&&V("Got unsuccessful REST response for "+c+" Status: "+l.status),n(l.status);n=null}},l.open("GET",c,!0),l.send()})},t}(ex),tx=function(){function e(){this.rootNode_=ti.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){return{value:null,children:new Map}}function tS(e,t,n){if(eU(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=eN(t);e.children.has(r)||e.children.set(r,tT()),tS(e.children.get(r),t=eF(t),n)}}function tk(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(function(e,n){t(n,e)})}(e,function(e,r){tk(r,new ek(t.toString()+"/"+e),n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tD=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,C.__assign)({},e);return this.last_&&et(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t},e}(),tN=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new tD(e);var n=1e4+2e4*Math.random();ea(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;et(t,function(t,o){o>0&&(0,E.r3)(e.statsToReport_,t)&&(n[t]=o,r=!0)}),r&&this.server_.reportStats(n),ea(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function tO(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function tF(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function tR(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(c=v||(v={}))[c.OVERWRITE=0]="OVERWRITE",c[c.MERGE=1]="MERGE",c[c.ACK_USER_WRITE=2]="ACK_USER_WRITE",c[c.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tL=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=v.ACK_USER_WRITE,this.source=tO()}return e.prototype.operationForChild=function(t){if(!eU(this.path))return(0,E.hu)(eN(this.path)===t,"operationForChild called for unrelated child."),new e(eF(this.path),this.affectedTree,this.revert);if(null!=this.affectedTree.value)return(0,E.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ek(t));return new e(eD(),n,this.revert)},e}(),tM=function(){function e(e,t){this.source=e,this.path=t,this.type=v.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return eU(this.path)?new e(this.source,eD()):new e(this.source,eF(this.path))},e}(),tP=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=v.OVERWRITE}return e.prototype.operationForChild=function(t){return eU(this.path)?new e(this.source,eD(),this.snap.getImmediateChild(t)):new e(this.source,eF(this.path),this.snap)},e}(),tU=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=v.MERGE}return e.prototype.operationForChild=function(t){if(!eU(this.path))return(0,E.hu)(eN(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,eF(this.path),this.children);var n=this.children.subtree(new ek(t));return n.isEmpty()?null:n.value?new tP(this.source,eD(),n.value):new e(this.source,eD(),n)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),tj=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(eU(e))return this.isFullyInitialized()&&!this.filtered_;var t=eN(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),tZ=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function tQ(e,t,n,r,o,a){var s=r.filter(function(e){return e.type===n});s.sort(function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,E.g5)("Should only compare child_ events.");var r=new eq(t.childName,t.snapshotNode),o=new eq(n.childName,n.snapshotNode);return e.index_.compare(r,o)}(e,t,n)}),s.forEach(function(n){var r=("value"===n.type||"child_removed"===n.type||(n.prevName=a.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n);o.forEach(function(o){o.respondsTo(n.type)&&t.push(o.createEvent(r,e.query_))})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(e,t){return{eventCache:e,serverCache:t}}function tV(e,t,n,r){return tH(new tj(t,n,r),e.serverCache)}function tK(e,t,n,r){return tH(e.eventCache,new tj(t,n,r))}function tz(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function tG(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var tW=function(){function e(e,t){void 0===t&&(m||(m=new e2($)),t=m),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return et(t,function(e,t){n=n.set(new ek(e),t)}),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:eD(),value:this.value};if(eU(e))return null;var n=eN(e),r=this.children.get(n);if(null===r)return null;var o=r.findRootMostMatchingPathAndValue(eF(e),t);return null!=o?{path:eP(new ek(n),o.path),value:o.value}:null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},e.prototype.subtree=function(t){if(eU(t))return this;var n=eN(t),r=this.children.get(n);return null!==r?r.subtree(eF(t)):new e(null)},e.prototype.set=function(t,n){if(eU(t))return new e(n,this.children);var r=eN(t),o=(this.children.get(r)||new e(null)).set(eF(t),n),a=this.children.insert(r,o);return new e(this.value,a)},e.prototype.remove=function(t){if(eU(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=eN(t),r=this.children.get(n);if(!r)return this;var o=r.remove(eF(t)),a=void 0;return(a=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&a.isEmpty())?new e(null):new e(this.value,a)},e.prototype.get=function(e){if(eU(e))return this.value;var t=eN(e),n=this.children.get(t);return n?n.get(eF(e)):null},e.prototype.setTree=function(t,n){if(eU(t))return n;var r=eN(t),o=(this.children.get(r)||new e(null)).setTree(eF(t),n),a=void 0;return a=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new e(this.value,a)},e.prototype.fold=function(e){return this.fold_(eD(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal(function(r,o){n[r]=o.fold_(eP(e,r),t)}),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,eD(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(eU(e))return null;var o=eN(e),a=this.children.get(o);return a?a.findOnPath_(eF(e),eP(t,o),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,eD(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(eU(t))return this;this.value&&r(n,this.value);var o=eN(t),a=this.children.get(o);return a?a.foreachOnPath_(eF(t),eP(n,o),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(eD(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(eP(e,n),t)}),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},e}(),tq=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new tW(null))},e}();function tY(e,t,n){if(eU(t))return new tq(new tW(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var o=r.path,a=r.value,s=ej(o,t);return a=a.updateChild(s,n),new tq(e.writeTree_.set(o,a))}var u=new tW(n);return new tq(e.writeTree_.setTree(t,u))}function t$(e,t,n){var r=e;return et(n,function(e,n){r=tY(r,eP(t,e),n)}),r}function tX(e,t){return eU(t)?tq.empty():new tq(e.writeTree_.setTree(t,new tW(null)))}function tJ(e,t){return null!=t0(e,t)}function t0(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ej(n.path,t)):null}function t1(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(e9,function(e,n){t.push(new eq(e,n))}):e.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new eq(e,n.value))}),t}function t2(e,t){if(eU(t))return e;var n=t0(e,t);return new tq(null!=n?new tW(n):e.writeTree_.subtree(t))}function t4(e){return e.writeTree_.isEmpty()}function t3(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var o=null;return n.children.inorderTraversal(function(n,a){".priority"===n?((0,E.hu)(null!==a.value,"Priority writes must always be leaf nodes"),o=a.value):r=e(eP(t,n),a,r)}),r.getChild(t).isEmpty()||null===o||(r=r.updateChild(eP(t,".priority"),o)),r}(eD(),e.writeTree_,t)}function t5(e){return e.visible}function t6(e,t,n){for(var r=tq.empty(),o=0;o<e.length;++o){var a=e[o];if(t(a)){var s=a.path,u=void 0;if(a.snap)eH(n,s)?r=tY(r,u=ej(n,s),a.snap):eH(s,n)&&(u=ej(s,n),r=tY(r,eD(),a.snap.getChild(u)));else if(a.children){if(eH(n,s))r=t$(r,u=ej(n,s),a.children);else if(eH(s,n)){if(eU(u=ej(s,n)))r=t$(r,eD(),a.children);else{var c=(0,E.DV)(a.children,eN(u));if(c){var l=c.getChild(eF(u));r=tY(r,eD(),l)}}}}else throw(0,E.g5)("WriteRecord should have .snap or .children")}}return r}function t8(e,t,n,r,o){if(r||o){var a=t2(e.visibleWrites,t);if(!o&&t4(a))return n;if(!o&&null==n&&!tJ(a,eD()))return null;var s=t6(e.allWrites,function(e){return(e.visible||o)&&(!r||!~r.indexOf(e.writeId))&&(eH(e.path,t)||eH(t,e.path))},t),u=n||ti.EMPTY_NODE;return t3(s,u)}var c=t0(e.visibleWrites,t);if(null!=c)return c;var l=t2(e.visibleWrites,t);if(t4(l))return n;if(null==n&&!tJ(l,eD()))return null;var u=n||ti.EMPTY_NODE;return t3(l,u)}function t9(e,t,n,r){return t8(e.writeTree,e.treePath,t,n,r)}function t7(e,t){return function(e,t,n){var r=ti.EMPTY_NODE,o=t0(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(e9,function(e,t){r=r.updateImmediateChild(e,t)}),r;if(!n)return t1(t2(e.visibleWrites,t)).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r;var a=t2(e.visibleWrites,t);return n.forEachChild(e9,function(e,t){var n=t3(t2(a,new ek(e)),t);r=r.updateImmediateChild(e,n)}),t1(a).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function ne(e,t,n,r){return function(e,t,n,r,o){(0,E.hu)(r||o,"Either existingEventSnap or existingServerSnap must exist");var a=eP(t,n);if(tJ(e.visibleWrites,a))return null;var s=t2(e.visibleWrites,a);return t4(s)?o.getChild(n):t3(s,o.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function nt(e,t){var n,r;return n=e.writeTree,r=eP(e.treePath,t),t0(n.visibleWrites,r)}function nn(e,t,n){var r,o,a;return r=e.writeTree,o=eP(e.treePath,t),null!=(a=t0(r.visibleWrites,o))?a:n.isCompleteForChild(t)?t3(t2(r.visibleWrites,o),n.getNode().getImmediateChild(t)):null}function nr(e,t){return ni(eP(e.treePath,t),e.writeTree)}function ni(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var no=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,E.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,E.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(n,tg(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(n,tp(n,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(n,th(n,e.snapshotNode));else if("child_changed"===t&&"child_changed"===o)this.changeMap.set(n,tg(n,e.snapshotNode,r.oldSnap));else throw(0,E.g5)("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),na=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),ns=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new tj(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r,o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tG(this.viewCache_),a=function(e,t,n,r,o,a,s){var u,c=t2(e.visibleWrites,t),l=t0(c,eD());if(null!=l)u=l;else{if(null==n)return[];u=t3(c,n)}if((u=u.withIndex(s)).isEmpty()||u.isLeafNode())return[];for(var A=[],d=s.getCompare(),f=a?u.getReverseIteratorFrom(r,s):u.getIteratorFrom(r,s),h=f.getNext();h&&A.length<1;)0!==d(h,r)&&A.push(h),h=f.getNext();return A}((r=this.writes_).writeTree,r.treePath,o,t,0,n,e);return 0===a.length?null:a[0]},e}();function nu(e,t,n,r,o,a){var s=t.eventCache;if(null!=nt(r,n))return t;var u=void 0,c=void 0;if(eU(n)){if((0,E.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=tG(t),A=t7(r,l instanceof ti?l:ti.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),A,a)}else{var d=t9(r,tG(t));u=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}}else{var f=eN(n);if(".priority"===f){(0,E.hu)(1===eO(n),"Can't have a priority with additional path components");var h=s.getNode(),p=ne(r,n,h,c=t.serverCache.getNode());u=null!=p?e.filter.updatePriority(h,p):s.getNode()}else{var g=eF(n),v=void 0;if(s.isCompleteForChild(f)){c=t.serverCache.getNode();var m=ne(r,n,s.getNode(),c);v=null!=m?s.getNode().getImmediateChild(f).updateChild(g,m):s.getNode().getImmediateChild(f)}else v=nn(r,f,t.serverCache);u=null!=v?e.filter.updateChild(s.getNode(),f,v,g,o,a):s.getNode()}}return tV(t,u,s.isFullyInitialized()||eU(n),e.filter.filtersNodes())}function nc(e,t,n,r,o,a,s,u){var c,l=t.serverCache,A=s?e.filter:e.filter.getIndexedFilter();if(eU(n))c=A.updateFullNode(l.getNode(),r,null);else if(A.filtersNodes()&&!l.isFiltered()){var d=l.getNode().updateChild(n,r);c=A.updateFullNode(l.getNode(),d,null)}else{var f=eN(n);if(!l.isCompleteForPath(n)&&eO(n)>1)return t;var h=eF(n),p=l.getNode().getImmediateChild(f).updateChild(h,r);c=".priority"===f?A.updatePriority(l.getNode(),p):A.updateChild(l.getNode(),f,p,h,na,null)}var g=tK(t,c,l.isFullyInitialized()||eU(n),A.filtersNodes()),v=new ns(o,g,a);return nu(e,g,n,o,v,u)}function nl(e,t,n,r,o,a,s){var u,c,l=t.eventCache,A=new ns(o,t,a);if(eU(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,s),u=tV(t,c,!0,e.filter.filtersNodes());else{var d=eN(n);if(".priority"===d)c=e.filter.updatePriority(t.eventCache.getNode(),r),u=tV(t,c,l.isFullyInitialized(),l.isFiltered());else{var f=eF(n),h=l.getNode().getImmediateChild(d),p=void 0;if(eU(f))p=r;else{var g=A.getCompleteChild(d);p=null!=g?".priority"===eR(f)&&g.getChild(eM(f)).isEmpty()?g:g.updateChild(f,r):ti.EMPTY_NODE}u=h.equals(p)?t:tV(t,e.filter.updateChild(l.getNode(),d,p,f,A,s),l.isFullyInitialized(),e.filter.filtersNodes())}}return u}function nA(e,t){return e.eventCache.isCompleteForChild(t)}function nd(e,t,n){return n.foreach(function(e,n){t=t.updateChild(e,n)}),t}function nf(e,t,n,r,o,a,s,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var c,l=t;c=eU(n)?r:new tW(null).setTree(n,r);var A=t.serverCache.getNode();return c.children.inorderTraversal(function(n,r){if(A.hasChild(n)){var c=nd(e,t.serverCache.getNode().getImmediateChild(n),r);l=nc(e,l,new ek(n),c,o,a,s,u)}}),c.children.inorderTraversal(function(n,r){var c=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!A.hasChild(n)&&!c){var d=nd(e,t.serverCache.getNode().getImmediateChild(n),r);l=nc(e,l,new ek(n),d,o,a,s,u)}}),l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nh=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_._queryParams,r=new tv(n.getIndex()),o=n.loadsAllData()?new tv(n.getIndex()):n.hasLimit()?new ty(n):new tm(n);this.processor_={filter:o};var a=t.serverCache,s=t.eventCache,u=r.updateFullNode(ti.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(ti.EMPTY_NODE,s.getNode(),null),l=new tj(u,a.isFullyInitialized(),r.filtersNodes()),A=new tj(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=tH(A,l),this.eventGenerator_=new tZ(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function np(e){return 0===e.eventRegistrations_.length}function ng(e,t,n){var r=[];if(n){(0,E.hu)(null==t,"A cancel should cancel all event registrations.");var o=e.query._path;e.eventRegistrations_.forEach(function(e){var t=e.createCancelEvent(n,o);t&&r.push(t)})}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function nv(e,t,n,r){t.type===v.MERGE&&null!==t.source.queryId&&((0,E.hu)(tG(e.viewCache_),"We should always have a full cache before handling merges"),(0,E.hu)(tz(e.viewCache_),"Missing event cache, even though we have a server cache"));var o,a,s=e.viewCache_,u=function(e,t,n,r,o){var a,s,u,c,l,A,d,f=new no;if(n.type===v.OVERWRITE)n.source.fromUser?A=nl(e,t,n.path,n.snap,r,o,f):((0,E.hu)(n.source.fromServer,"Unknown source."),d=n.source.tagged||t.serverCache.isFiltered()&&!eU(n.path),A=nc(e,t,n.path,n.snap,r,o,d,f));else if(n.type===v.MERGE)n.source.fromUser?(a=n.path,s=n.children,u=t,s.foreach(function(n,s){var c=eP(a,n);nA(t,eN(c))&&(u=nl(e,u,c,s,r,o,f))}),s.foreach(function(n,s){var c=eP(a,n);nA(t,eN(c))||(u=nl(e,u,c,s,r,o,f))}),A=u):((0,E.hu)(n.source.fromServer,"Unknown source."),d=n.source.tagged||t.serverCache.isFiltered(),A=nf(e,t,n.path,n.children,r,o,d,f));else if(n.type===v.ACK_USER_WRITE)A=n.revert?function(e,t,n,r,o,a){if(null!=nt(r,n))return t;var s,u=new ns(r,t,o),c=t.eventCache.getNode(),l=void 0;if(eU(n)||".priority"===eN(n)){var A=void 0;if(t.serverCache.isFullyInitialized())A=t9(r,tG(t));else{var d=t.serverCache.getNode();(0,E.hu)(d instanceof ti,"serverChildren would be complete if leaf node"),A=t7(r,d)}l=e.filter.updateFullNode(c,A,a)}else{var f=eN(n),h=nn(r,f,t.serverCache);null==h&&t.serverCache.isCompleteForChild(f)&&(h=c.getImmediateChild(f)),(l=null!=h?e.filter.updateChild(c,f,h,eF(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,ti.EMPTY_NODE,eF(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=t9(r,tG(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=nt(r,eD()),tV(t,l,s,e.filter.filtersNodes())}(e,t,n.path,r,o,f):function(e,t,n,r,o,a,s){if(null!=nt(o,n))return t;var u=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(eU(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return nc(e,t,n,c.getNode().getChild(n),o,a,u,s);if(!eU(n))return t;var l=new tW(null);return c.getNode().forEachChild(eX,function(e,t){l=l.set(new ek(e),t)}),nf(e,t,n,l,o,a,u,s)}var A=new tW(null);return r.foreach(function(e,t){var r=eP(n,e);c.isCompleteForPath(r)&&(A=A.set(e,c.getNode().getChild(r)))}),nf(e,t,n,A,o,a,u,s)}(e,t,n.path,n.affectedTree,r,o,f);else if(n.type===v.LISTEN_COMPLETE)c=n.path,l=t.serverCache,A=nu(e,tK(t,l.getNode(),l.isFullyInitialized()||eU(c),l.isFiltered()),c,r,na,f);else throw(0,E.g5)("Unknown operation type: "+n.type);var h=f.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var o=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=tz(e);!(n.length>0)&&e.eventCache.isFullyInitialized()&&(!o||r.getNode().equals(a))&&r.getNode().getPriority().equals(a.getPriority())||n.push(tf(tz(t)))}}(t,A,h),{viewCache:A,changes:h}}(e.processor_,s,t,n,r);return o=e.processor_,a=u.viewCache,(0,E.hu)(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,E.hu)(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),(0,E.hu)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,nm(e,u.changes,u.viewCache.eventCache.getNode(),null)}function nm(e,t,n,r){var o,a,s,u=r?[r]:e.eventRegistrations_;return o=e.eventGenerator_,a=[],s=[],t.forEach(function(e){if("child_changed"===e.type&&o.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)){var t;s.push((t=e.childName,{type:"child_moved",snapshotNode:e.snapshotNode,childName:t}))}}),tQ(o,a,"child_removed",t,u,n),tQ(o,a,"child_added",t,u,n),tQ(o,a,"child_moved",s,u,n),tQ(o,a,"child_changed",t,u,n),tQ(o,a,"value",t,u,n),a}var ny=function(){this.views=new Map};function nb(e,t,n,r){var o,a,s=t.source.queryId;if(null!==s){var u=e.views.get(s);return(0,E.hu)(null!=u,"SyncTree gave us an op for an invalid query."),nv(u,t,n,r)}var c=[];try{for(var l=(0,C.__values)(e.views.values()),A=l.next();!A.done;A=l.next()){var u=A.value;c=c.concat(nv(u,t,n,r))}}catch(e){o={error:e}}finally{try{A&&!A.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}return c}function nw(e,t,n,r,o){var a=t._queryIdentifier,s=e.views.get(a);if(!s){var u=t9(n,o?r:null),c=!1;return u?c=!0:(u=r instanceof ti?t7(n,r):ti.EMPTY_NODE,c=!1),new nh(t,tH(new tj(u,c,!1),new tj(r,o,!1)))}return s}function n_(e){var t,n,r=[];try{for(var o=(0,C.__values)(e.views.values()),a=o.next();!a.done;a=o.next()){var s=a.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}function nE(e,t){var n,r,o=null;try{for(var a=(0,C.__values)(e.views.values()),s=a.next();!s.done;s=a.next()){var u=s.value;o=o||function(e,t){var n=tG(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!eU(t)&&!n.getImmediateChild(eN(t)).isEmpty())?n.getChild(t):null}(u,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o}function nC(e,t){if(t._queryParams.loadsAllData())return nI(e);var n=t._queryIdentifier;return e.views.get(n)}function nB(e){return null!=nI(e)}function nI(e){var t,n;try{for(var r=(0,C.__values)(e.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;if(a.query._queryParams.loadsAllData())return a}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var nx=1,nT=function(e){this.listenProvider_=e,this.syncPointTree_=new tW(null),this.pendingWriteTree_={visibleWrites:tq.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function nS(e,t,n,r,o){var a,s;return(a=e.pendingWriteTree_,s=o,(0,E.hu)(r>a.lastWriteId,"Stacking an older write on top of newer ones"),void 0===s&&(s=!0),a.allWrites.push({path:t,snap:n,writeId:r,visible:s}),s&&(a.visibleWrites=tY(a.visibleWrites,t,n)),a.lastWriteId=r,o)?nR(e,new tP(tO(),t,n)):[]}function nk(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(!function(e,t){var n=e.allWrites.findIndex(function(e){return e.writeId===t});(0,E.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var o=r.visible,a=!1,s=e.allWrites.length-1;o&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&function(e,t){if(e.snap)return eH(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&eH(eP(e.path,n),t))return!0;return!1}(u,r.path)?o=!1:eH(r.path,u.path)&&(a=!0)),s--}return!!o&&(a?(e.visibleWrites=t6(e.allWrites,t5,eD()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1):r.snap?e.visibleWrites=tX(e.visibleWrites,r.path):et(r.children,function(t){e.visibleWrites=tX(e.visibleWrites,eP(r.path,t))}),!0)}(e.pendingWriteTree_,t))return[];var o=new tW(null);return null!=r.snap?o=o.set(eD(),!0):et(r.children,function(e){o=o.set(new ek(e),!0)}),nR(e,new tL(r.path,o,n))}function nD(e,t,n){return nR(e,new tP(tF(),t,n))}function nN(e,t,n,r){var o=t._path,a=e.syncPointTree_.get(o),s=[];if(a&&("default"===t._queryIdentifier||null!=nC(a,t))){var u=function(e,t,n,r){var o,a,s=t._queryIdentifier,u=[],c=[],l=nB(e);if("default"===s)try{for(var A=(0,C.__values)(e.views.entries()),d=A.next();!d.done;d=A.next()){var f=(0,C.__read)(d.value,2),h=f[0],p=f[1];c=c.concat(ng(p,n,r)),np(p)&&(e.views.delete(h),p.query._queryParams.loadsAllData()||u.push(p.query))}}catch(e){o={error:e}}finally{try{d&&!d.done&&(a=A.return)&&a.call(A)}finally{if(o)throw o.error}}else{var p=e.views.get(s);p&&(c=c.concat(ng(p,n,r)),np(p)&&(e.views.delete(s),p.query._queryParams.loadsAllData()||u.push(p.query)))}return l&&!nB(e)&&u.push(new((0,E.hu)(y,"Reference.ts has not been loaded"),y)(t._repo,t._path)),{removed:u,events:c}}(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex(function(e){return e._queryParams.loadsAllData()}),A=e.syncPointTree_.findOnPath(o,function(e,t){return nB(t)});if(l&&!A){var d=e.syncPointTree_.subtree(o);if(!d.isEmpty())for(var f=d.fold(function(e,t,n){if(t&&nB(t))return[nI(t)];var r=[];return t&&(r=n_(t)),et(n,function(e,t){r=r.concat(t)}),r}),h=0;h<f.length;++h){var p=f[h],g=p.query,v=nL(e,p);e.listenProvider_.startListening(nQ(g),nM(e,g),v.hashFn,v.onComplete)}}A||!(c.length>0)||r||(l?e.listenProvider_.stopListening(nQ(t),null):c.forEach(function(t){var n=e.queryToTagMap.get(nP(t));e.listenProvider_.stopListening(nQ(t),n)})),function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var o=nP(r),a=e.queryToTagMap.get(o);e.queryToTagMap.delete(o),e.tagToQueryMap.delete(a)}}}(e,c)}return s}function nO(e,t,n){var r,o,a,s,u,c=t._path,l=null,A=!1;e.syncPointTree_.foreachOnPath(c,function(e,t){var n=ej(e,c);l=l||nE(t,n),A=A||nB(t)});var d=e.syncPointTree_.get(c);d?(A=A||nB(d),l=l||nE(d,eD())):(d=new ny,e.syncPointTree_=e.syncPointTree_.set(c,d)),null!=l?u=!0:(u=!1,l=ti.EMPTY_NODE,e.syncPointTree_.subtree(c).foreachChild(function(e,t){var n=nE(t,eD());n&&(l=l.updateImmediateChild(e,n))}));var f=null!=nC(d,t);if(!f&&!t._queryParams.loadsAllData()){var h=nP(t);(0,E.hu)(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");var p=nx++;e.queryToTagMap.set(h,p),e.tagToQueryMap.set(p,h)}var g=ni(c,e.pendingWriteTree_),v=(o=nw(r=d,t,g,l,u),r.views.has(t._queryIdentifier)||r.views.set(t._queryIdentifier,o),!function(e,t){e.eventRegistrations_.push(t)}(o,n),a=o.viewCache_.eventCache,s=[],a.getNode().isLeafNode()||a.getNode().forEachChild(e9,function(e,t){s.push(th(e,t))}),a.isFullyInitialized()&&s.push(tf(a.getNode())),nm(o,s,a.getNode(),n));if(!f&&!A){var m=nC(d,t);v=v.concat(function(e,t,n){var r=t._path,o=nM(e,t),a=nL(e,n),s=e.listenProvider_.startListening(nQ(t),o,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(o)(0,E.hu)(!nB(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(e,t,n){if(!eU(e)&&t&&nB(t))return[nI(t).query];var r=[];return t&&(r=r.concat(n_(t).map(function(e){return e.query}))),et(n,function(e,t){r=r.concat(t)}),r}),l=0;l<c.length;++l){var A=c[l];e.listenProvider_.stopListening(nQ(A),nM(e,A))}return s}(e,t,m))}return v}function nF(e,t,n){var r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,function(e,n){var r=nE(n,ej(e,t));if(r)return r});return t8(r,t,o,n,!0)}function nR(e,t){var n;return function e(t,n,r,o){if(eU(t.path))return function e(t,n,r,o){var a=n.get(eD());null==r&&null!=a&&(r=nE(a,eD()));var s=[];return n.children.inorderTraversal(function(n,a){var u=r?r.getImmediateChild(n):null,c=nr(o,n),l=t.operationForChild(n);l&&(s=s.concat(e(l,a,u,c)))}),a&&(s=s.concat(nb(a,t,o,r))),s}(t,n,r,o);var a=n.get(eD());null==r&&null!=a&&(r=nE(a,eD()));var s=[],u=eN(t.path),c=t.operationForChild(u),l=n.children.get(u);if(l&&c){var A=r?r.getImmediateChild(u):null,d=nr(o,u);s=s.concat(e(c,l,A,d))}return a&&(s=s.concat(nb(a,t,o,r))),s}(t,e.syncPointTree_,null,(n=e.pendingWriteTree_,ni(eD(),n)))}function nL(e,t){var n=t.query,r=nM(e,n);return{hashFn:function(){return(t.viewCache_.serverCache.getNode()||ti.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=nU(e,n);if(!r)return[];var o=nj(r),a=o.path,s=o.queryId,u=ej(a,t);return nZ(e,a,new tM(tR(s),u))}(e,n._path,r):(o=n._path,nR(e,new tM(tF(),o)));var o,a,s,u=(a="Unknown Error","too_big"===t?a="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?a="Client doesn't have permission to access the desired data.":"unavailable"===t&&(a="The service is unavailable"),(s=Error(t+" at "+n._path.toString()+": "+a)).code=t.toUpperCase(),s);return nN(e,n,null,u)}}}function nM(e,t){var n=nP(t);return e.queryToTagMap.get(n)}function nP(e){return e._path.toString()+"$"+e._queryIdentifier}function nU(e,t){return e.tagToQueryMap.get(t)}function nj(e){var t=e.indexOf("$");return(0,E.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ek(e.substr(0,t))}}function nZ(e,t,n){var r=e.syncPointTree_.get(t);return(0,E.hu)(r,"Missing sync point for query tag that we're tracking"),nb(r,n,ni(t,e.pendingWriteTree_),null)}function nQ(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,E.hu)(b,"Reference.ts has not been loaded"),b)(e._repo,e._path):e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nH=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),nV=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=eP(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return nF(this.syncTree_,this.path_)},e}(),nK=function(e,t,n){return e&&"object"==typeof e?((0,E.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"])?nz(e[".sv"],t,n):"object"==typeof e[".sv"]?nG(e[".sv"],t):void(0,E.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2)):e},nz=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,E.hu)(!1,"Unexpected server value: "+e)},nG=function(e,t,n){e.hasOwnProperty("increment")||(0,E.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&(0,E.hu)(!1,"Unexpected increment value: "+r);var o=t.node();if((0,E.hu)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;var a=o.getValue();return"number"!=typeof a?r:a+r},nW=function(e,t,n,r){return nY(t,new nV(n,e),r)},nq=function(e,t,n){return nY(e,new nH(t),n)};function nY(e,t,n){var r,o=nK(e.getPriority().val(),t.getImmediateChild(".priority"),n);if(!e.isLeafNode())return r=e,o!==e.getPriority().val()&&(r=r.updatePriority(new e8(o))),e.forEachChild(e9,function(e,o){var a=nY(o,t.getImmediateChild(e),n);a!==o&&(r=r.updateImmediateChild(e,a))}),r;var a=nK(e.getValue(),t,n);return a!==e.getValue()||o!==e.getPriority().val()?new e8(a,ta(o)):e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n$=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function nX(e,t){for(var n=t instanceof ek?t:new ek(t),r=e,o=eN(n);null!==o;){var a=(0,E.DV)(r.node.children,o)||{children:{},childCount:0};r=new n$(o,r,a),o=eN(n=eF(n))}return r}function nJ(e){return e.node.value}function n0(e,t){e.node.value=t,function e(t){var n,r,o,a,s;null!==t.parent&&(n=t.parent,r=t.name,a=void 0===nJ(o=t)&&!n1(o),s=(0,E.r3)(n.node.children,r),a&&s?(delete n.node.children[r],n.node.childCount--,e(n)):a||s||(n.node.children[r]=o.node,n.node.childCount++,e(n)))}(e)}function n1(e){return e.node.childCount>0}function n2(e,t){et(e.node.children,function(n,r){t(new n$(n,e,r))})}function n4(e){return new ek(null===e.parent?e.name:n4(e.parent)+"/"+e.name)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n3=/[\[\].#$\/\u0000-\u001F\u007F]/,n5=/[\[\].#$\u0000-\u001F\u007F]/,n6=function(e){return"string"==typeof e&&0!==e.length&&!n3.test(e)},n8=function(e){return"string"==typeof e&&0!==e.length&&!n5.test(e)},n9=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!z(e)||e&&"object"==typeof e&&(0,E.r3)(e,".sv")},n7=function(e,t,n,r){r&&void 0===t||re((0,E.gK)(e,"value"),t,n)},re=function(e,t,n){var r=n instanceof ek?new eV(n,e):n;if(void 0===t)throw Error(e+"contains undefined "+ez(r));if("function"==typeof t)throw Error(e+"contains a function "+ez(r)+" with contents = "+t.toString());if(z(t))throw Error(e+"contains "+t.toString()+" "+ez(r));if("string"==typeof t&&t.length>3495253.3333333335&&(0,E.ug)(t)>10485760)throw Error(e+"contains a string greater than 10485760 utf8 bytes "+ez(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var o=!1,a=!1;if(et(t,function(t,n){var s;if(".value"===t)o=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!n6(t)))throw Error(e+" contains an invalid key ("+t+") "+ez(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=(0,E.ug)(t),eK(r),re(e,n,r),s=r.parts_.pop(),r.byteLength_-=(0,E.ug)(s),r.parts_.length>0&&(r.byteLength_-=1)}),o&&a)throw Error(e+' contains ".value" child '+ez(r)+" in addition to actual children.")}},rt=function(e,t){for(n=0;n<t.length;n++)for(var n,r,o=eL(r=t[n]),a=0;a<o.length;a++)if(".priority"===o[a]&&a===o.length-1);else if(!n6(o[a]))throw Error(e+"contains an invalid key ("+o[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(eZ);var s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&eH(s,r))throw Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},rn=function(e,t,n,r){if(!r||void 0!==t){var o=(0,E.gK)(e,"values");if(!(t&&"object"==typeof t)||Array.isArray(t))throw Error(o+" must be an object containing the children to replace.");var a=[];et(t,function(e,t){var r=new ek(e);if(re(o,t,eP(n,r)),".priority"===eR(r)&&!n9(t))throw Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),rt(o,a)}},rr=function(e,t,n){if(!n||void 0!==t){if(z(t))throw Error((0,E.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!n9(t))throw Error((0,E.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ri=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error((0,E.gK)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ro=function(e,t,n,r){if((!r||void 0!==n)&&!n6(n))throw Error((0,E.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ra=function(e,t,n,r){if((!r||void 0!==n)&&!n8(n))throw Error((0,E.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},rs=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ra(e,t,n,r)},ru=function(e,t){if(".info"===eN(t))throw Error(e+" failed = Can't modify data under /.info/")},rc=function(e,t){var n,r=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!n6(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==r.length&&((n=r)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),!n8(n)))throw Error((0,E.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},rl=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw Error((0,E.gK)(e,t)+"must be a boolean.")},rA=function(){this.eventLists_=[],this.recursionDepth_=0};function rd(e,t){for(var n=null,r=0;r<t.length;r++){var o=t[r],a=o.getPath();null===n||eQ(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(o)}n&&e.eventLists_.push(n)}function rf(e,t,n){rd(e,n),rp(e,function(e){return eQ(e,t)})}function rh(e,t,n){rd(e,n),rp(e,function(e){return eH(e,t)||eH(t,e)})}function rp(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var o=e.eventLists_[r];o&&(t(o.path)?(function(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();M&&j("event: "+n.toString()),eo(r)}}}(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rg="repo_interrupt",rv=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new rA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tT(),this.transactionQueueTree_=new n$,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function rm(e){var t=e.infoData_.getNode(new ek(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function ry(e){var t;return(t=t={timestamp:rm(e)}).timestamp=t.timestamp||new Date().getTime(),t}function rb(e,t,n,r,o){e.dataUpdateCount++;var a=new ek(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(o){if(r){var u=(0,E.UI)(n,function(e){return ta(e)});s=function(e,t,n,r){var o=nU(e,r);if(!o)return[];var a=nj(o),s=a.path,u=a.queryId,c=ej(s,t),l=tW.fromObject(n);return nZ(e,s,new tU(tR(u),c,l))}(e.serverSyncTree_,a,u,o)}else{var c=ta(n);s=function(e,t,n,r){var o=nU(e,r);if(null==o)return[];var a=nj(o),s=a.path,u=a.queryId,c=ej(s,t);return nZ(e,s,new tP(tR(u),c,n))}(e.serverSyncTree_,a,c,o)}}else if(r){var l,A,d=(0,E.UI)(n,function(e){return ta(e)});l=e.serverSyncTree_,A=tW.fromObject(d),s=nR(l,new tU(tF(),a,A))}else{var f=ta(n);s=nD(e.serverSyncTree_,a,f)}var h=a;s.length>0&&(h=rN(e,a)),rh(e.eventQueue_,h,s)}function rw(e,t){var n,r,o;r_(e,"connected",t),!1===t&&(rT(e,"onDisconnectEvents"),n=ry(e),r=tT(),tk(e.onDisconnect_,eD(),function(t,o){var a=nW(t,o,e.serverSyncTree_,n);tS(r,t,a)}),o=[],tk(r,eD(),function(t,n){o=o.concat(nD(e.serverSyncTree_,t,n));var r=rL(e,t);rN(e,r)}),e.onDisconnect_=tT(),rh(e.eventQueue_,eD(),o))}function r_(e,t,n){var r=new ek("/.info/"+t),o=ta(n);e.infoData_.updateSnapshot(r,o);var a=nD(e.infoSyncTree_,r,o);rh(e.eventQueue_,r,a)}function rE(e){return e.nextWriteId_++}function rC(e,t,n,r,o){rT(e,"set",{path:t.toString(),value:n,priority:r});var a=ry(e),s=ta(n,r),u=nq(s,nF(e.serverSyncTree_,t),a),c=rE(e),l=nS(e.serverSyncTree_,t,u,c,!0);rd(e.eventQueue_,l),e.server_.put(t.toString(),s.val(!0),function(n,r){var a="ok"===n;a||V("set at "+t+" failed: "+n);var s=nk(e.serverSyncTree_,c,!a);rh(e.eventQueue_,t,s),rS(e,o,n,r)});var A=rL(e,t);rN(e,A),rh(e.eventQueue_,A,[])}function rB(e,t,n,r){var o=ta(n);e.server_.onDisconnectPut(t.toString(),o.val(!0),function(n,a){"ok"===n&&tS(e.onDisconnect_,t,o),rS(e,r,n,a)})}function rI(e,t,n){var r;r=".info"===eN(t._path)?nN(e.infoSyncTree_,t,n):nN(e.serverSyncTree_,t,n),rf(e.eventQueue_,t._path,r)}function rx(e){e.persistentConnection_&&e.persistentConnection_.interrupt(rg)}function rT(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),j.apply(void 0,(0,C.__spreadArray)([r],(0,C.__read)(t)))}function rS(e,t,n,r){t&&eo(function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),o=e;r&&(o+=": "+r);var a=Error(o);a.code=e,t(a)}})}function rk(e,t,n){return nF(e.serverSyncTree_,t,n)||ti.EMPTY_NODE}function rD(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||rR(e,t),nJ(t)){var n=rF(e,t);(0,E.hu)(n.length>0,"Sending zero length transaction queue"),n.every(function(e){return 0===e.status})&&function(e,t,n){for(var r=rk(e,t,n.map(function(e){return e.currentWriteId})),o=r,a=r.hash(),s=0;s<n.length;s++){var u=n[s];(0,E.hu)(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=ej(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0);e.server_.put(t.toString(),l,function(r){rT(e,"transaction put response",{path:t.toString(),status:r});var o=[];if("ok"===r){for(var a=[],s=function(t){n[t].status=2,o=o.concat(nk(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push(function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)}),n[t].unwatcher()},u=0;u<n.length;u++)s(u);rR(e,nX(e.transactionQueueTree_,t)),rD(e,e.transactionQueueTree_),rh(e.eventQueue_,t,o);for(var u=0;u<a.length;u++)eo(a[u])}else{if("datastale"===r)for(var u=0;u<n.length;u++)3===n[u].status?n[u].status=4:n[u].status=0;else{V("transaction at "+t.toString()+" failed: "+r);for(var u=0;u<n.length;u++)n[u].status=4,n[u].abortReason=r}rN(e,t)}},a)}(e,n4(t),n)}else n1(t)&&n2(t,function(t){rD(e,t)})}function rN(e,t){var n=rO(e,t),r=n4(n),o=rF(e,n);return function(e,t,n){if(0!==t.length){for(var r=[],o=[],a=t.filter(function(e){return 0===e.status}).map(function(e){return e.currentWriteId}),s=function(s){var u,c=t[s],l=ej(n,c.path),A=!1;if((0,E.hu)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)A=!0,u=c.abortReason,o=o.concat(nk(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status){if(c.retryCount>=25)A=!0,u="maxretry",o=o.concat(nk(e.serverSyncTree_,c.currentWriteId,!0));else{var d=rk(e,c.path,a);c.currentInputSnapshot=d;var f=t[s].update(d.val());if(void 0!==f){re("transaction failed: Data returned ",f,c.path);var h=ta(f);"object"==typeof f&&null!=f&&(0,E.r3)(f,".priority")||(h=h.updatePriority(d.getPriority()));var p=c.currentWriteId,g=nq(h,d,ry(e));c.currentOutputSnapshotRaw=h,c.currentOutputSnapshotResolved=g,c.currentWriteId=rE(e),a.splice(a.indexOf(p),1),o=(o=o.concat(nS(e.serverSyncTree_,c.path,g,c.currentWriteId,c.applyLocally))).concat(nk(e.serverSyncTree_,p,!0))}else A=!0,u="nodata",o=o.concat(nk(e.serverSyncTree_,c.currentWriteId,!0))}}rh(e.eventQueue_,n,o),o=[],A&&(t[s].status=2,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push(function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)}):r.push(function(){return t[s].onComplete(Error(u),!1,null)})))},u=0;u<t.length;u++)s(u);rR(e,e.transactionQueueTree_);for(var u=0;u<r.length;u++)eo(r[u]);rD(e,e.transactionQueueTree_)}}(e,o,r),r}function rO(e,t){var n,r=e.transactionQueueTree_;for(n=eN(t);null!==n&&void 0===nJ(r);)r=nX(r,n),n=eN(t=eF(t));return r}function rF(e,t){var n=[];return function e(t,n,r){var o=nJ(n);if(o)for(var a=0;a<o.length;a++)r.push(o[a]);n2(n,function(n){e(t,n,r)})}(e,t,n),n.sort(function(e,t){return e.order-t.order}),n}function rR(e,t){var n=nJ(t);if(n){for(var r=0,o=0;o<n.length;o++)2!==n[o].status&&(n[r]=n[o],r++);n.length=r,n0(t,n.length>0?n:void 0)}n2(t,function(t){rR(e,t)})}function rL(e,t){var n=n4(rO(e,t)),r=nX(e.transactionQueueTree_,t);return!function(e,t,n){for(var r=e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,function(t){rM(e,t)}),rM(e,r),!function e(t,n,r,o){r&&!o&&n(t),n2(t,function(t){e(t,n,!0,o)}),r&&o&&n(t)}(r,function(t){rM(e,t)}),n}function rM(e,t){var n=nJ(t);if(n){for(var r=[],o=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,E.hu)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,E.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),o=o.concat(nk(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,Error("set"),!1,null))));-1===a?n0(t,void 0):n.length=a+1,rh(e.eventQueue_,n4(t),o);for(var s=0;s<r.length;s++)eo(r[s])}}var rP=function(e,t){var n=rU(e),r=n.namespace;"firebase.com"===n.domain&&H(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||H("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||K();var o="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ef(n.host,n.secure,r,t,o,"",r!==n.subdomain),path:new ek(n.pathString)}},rU=function(e){var t="",n="",r="",o="",a="",s=!0,u="https",c=443;if("string"==typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var A=e.indexOf("/");-1===A&&(A=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(A,d)),A<d&&(o=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(e){}t+="/"+o}return t}(e.substring(A,d)));var f=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var o=(0,C.__values)(e.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):V("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,d)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var h=t.slice(0,l);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:o,namespace:a}},rj=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,E.Pz)(this.snapshot.exportVal())},e}(),rZ=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),rQ=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,E.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),rH=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new E.BH;return function(e,t,n){e.server_.onDisconnectCancel(t.toString(),function(r,o){"ok"===r&&function e(t,n){if(eU(n))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var r=t.value;return t.value=null,r.forEachChild(e9,function(e,n){tS(t,new ek(e),n)}),e(t,n)}if(!(t.children.size>0))return!0;var o=eN(n);return n=eF(n),t.children.has(o)&&e(t.children.get(o),n)&&t.children.delete(o),0===t.children.size}(e.onDisconnect_,t),rS(e,n,r,o)})}(this._repo,this._path,e.wrapCallback(function(){})),e.promise},e.prototype.remove=function(){ru("OnDisconnect.remove",this._path);var e=new E.BH;return rB(this._repo,this._path,null,e.wrapCallback(function(){})),e.promise},e.prototype.set=function(e){ru("OnDisconnect.set",this._path),n7("OnDisconnect.set",e,this._path,!1);var t=new E.BH;return rB(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise},e.prototype.setWithPriority=function(e,t){ru("OnDisconnect.setWithPriority",this._path),n7("OnDisconnect.setWithPriority",e,this._path,!1),rr("OnDisconnect.setWithPriority",t,!1);var n=new E.BH;return function(e,t,n,r,o){var a=ta(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),function(n,r){"ok"===n&&tS(e.onDisconnect_,t,a),rS(e,o,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(function(){})),n.promise},e.prototype.update=function(e){ru("OnDisconnect.update",this._path),rn("OnDisconnect.update",e,this._path,!1);var t=new E.BH;return function(e,t,n,r){if((0,E.xb)(n)){j("onDisconnect().update() called with empty data.  Don't do anything."),rS(e,r,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,function(o,a){"ok"===o&&et(n,function(n,r){var o=ta(r);tS(e.onDisconnect_,eP(t,n),o)}),rS(e,r,o,a)})}(this._repo,this._path,e,t.wrapCallback(function(){})),t.promise},e}(),rV=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return eU(this._path)?null:eR(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new rW(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=J(tB(this._queryParams));return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return tB(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,E.m9)(t))instanceof e))return!1;var n=this._repo===t._repo,r=eQ(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return n&&r&&o},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function rK(e,t){if(!0===e._orderByCalled)throw Error(t+": You can't combine multiple orderBy calls.")}function rz(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===eX){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==W)throw Error(r);if("string"!=typeof t)throw Error(o)}if(e.hasEnd()){if(e.getIndexEndName()!==q)throw Error(r);if("string"!=typeof n)throw Error(o)}}else if(e.getIndex()===e9){if(null!=t&&!n9(t)||null!=n&&!n9(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,E.hu)(e.getIndex() instanceof ts||e.getIndex()===tu,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function rG(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var rW=function(e){function t(t,n){return e.call(this,t,n,new tb,!1)||this}return(0,C.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=eM(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(rV),rq=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new ek(t),r=rX(this.ref,t);return new e(this._node.getChild(n),r,e9)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,function(r,o){return t(new e(o,rX(n.ref,r),e9))})},e.prototype.hasChild=function(e){var t=new ek(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function rY(e,t){return(e=(0,E.m9)(e))._checkNotDeleted("ref"),void 0!==t?rX(e._root,t):e._root}function r$(e,t){(e=(0,E.m9)(e))._checkNotDeleted("refFromURL");var n=rP(t,e._repo.repoInfo_.nodeAdmin);rc("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||H("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),rY(e,n.path.toString())}function rX(e,t){return null===eN((e=(0,E.m9)(e))._path)?rs("child","path",t,!1):ra("child","path",t,!1),new rW(e._repo,eP(e._path,t))}function rJ(e,t){ru("set",(e=(0,E.m9)(e))._path),n7("set",t,e._path,!1);var n=new E.BH;return rC(e._repo,e._path,t,null,n.wrapCallback(function(){})),n.promise}var r0=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new rj("value",this,new rq(e.snapshotNode,new rW(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new rZ(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),r1=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new rZ(this,e,t):null},e.prototype.createEvent=function(e,t){(0,E.hu)(null!=e.childName,"Child events should have a childName.");var n=rX(new rW(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new rj(e.type,this,new rq(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function r2(e,t,n,r,o){if("object"==typeof r&&(u=void 0,o=r),"function"==typeof r&&(u=r),o&&o.onlyOnce){var a,s,u,c=n,l=function(t,n){rI(e._repo,e,d),c(t,n)};l.userCallback=n.userCallback,l.context=n.context,n=l}var A=new rQ(n,u||void 0),d="value"===t?new r0(A):new r1(t,A);return a=e._repo,s=".info"===eN(e._path)?nO(a.infoSyncTree_,e,d):nO(a.serverSyncTree_,e,d),rf(a.eventQueue_,e._path,s),function(){return rI(e._repo,e,d)}}function r4(e,t,n,r){return r2(e,"value",t,n,r)}function r3(e,t,n,r){return r2(e,"child_added",t,n,r)}function r5(e,t,n,r){return r2(e,"child_changed",t,n,r)}function r6(e,t,n,r){return r2(e,"child_moved",t,n,r)}function r8(e,t,n,r){return r2(e,"child_removed",t,n,r)}function r9(e,t,n){var r=null,o=n?new rQ(n):null;"value"===t?r=new r0(o):t&&(r=new r1(t,o)),rI(e._repo,e,r)}var r7=function(){},ie=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,C.__extends)(t,e),t.prototype._apply=function(e){n7("endAt",this._value,e._path,!0);var t=t_(e._queryParams,this._value,this._key);if(rG(t),rz(t),e._queryParams.hasEnd())throw Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new rV(e._repo,e._path,t,e._orderByCalled)},t}(r7),it=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,C.__extends)(t,e),t.prototype._apply=function(e){n7("endBefore",this._value,e._path,!1);var t,n,r,o,a=(t=e._queryParams,n=this._value,r=this._key,t.index_===eX?("string"==typeof n&&(n=td(n)),o=t_(t,n,r)):o=t_(t,n,null==r?W:td(r)),o.endBeforeSet_=!0,o);if(rG(a),rz(a),e._queryParams.hasEnd())throw Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new rV(e._repo,e._path,a,e._orderByCalled)},t}(r7),ir=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,C.__extends)(t,e),t.prototype._apply=function(e){n7("startAt",this._value,e._path,!0);var t=tw(e._queryParams,this._value,this._key);if(rG(t),rz(t),e._queryParams.hasStart())throw Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new rV(e._repo,e._path,t,e._orderByCalled)},t}(r7),ii=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,C.__extends)(t,e),t.prototype._apply=function(e){n7("startAfter",this._value,e._path,!1);var t,n,r,o,a=(t=e._queryParams,n=this._value,r=this._key,t.index_===eX?("string"==typeof n&&(n=tA(n)),o=tw(t,n,r)):o=tw(t,n,null==r?q:tA(r)),o.startAfterSet_=!0,o);if(rG(a),rz(a),e._queryParams.hasStart())throw Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new rV(e._repo,e._path,a,e._orderByCalled)},t}(r7),io=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,C.__extends)(t,e),t.prototype._apply=function(e){var t,n,r;if(e._queryParams.hasLimit())throw Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new rV(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="l",r),e._orderByCalled)},t}(r7),ia=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,C.__extends)(t,e),t.prototype._apply=function(e){var t,n,r;if(e._queryParams.hasLimit())throw Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new rV(e._repo,e._path,(t=e._queryParams,n=this._limit,(r=t.copy()).limitSet_=!0,r.limit_=n,r.viewFrom_="r",r),e._orderByCalled)},t}(r7),is=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,C.__extends)(t,e),t.prototype._apply=function(e){rK(e,"orderByChild");var t=new ek(this._path);if(eU(t))throw Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ts(t),r=tE(e._queryParams,n);return rz(r),new rV(e._repo,e._path,r,!0)},t}(r7),iu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,C.__extends)(t,e),t.prototype._apply=function(e){rK(e,"orderByKey");var t=tE(e._queryParams,eX);return rz(t),new rV(e._repo,e._path,t,!0)},t}(r7),ic=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,C.__extends)(t,e),t.prototype._apply=function(e){rK(e,"orderByPriority");var t=tE(e._queryParams,e9);return rz(t),new rV(e._repo,e._path,t,!0)},t}(r7),il=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,C.__extends)(t,e),t.prototype._apply=function(e){rK(e,"orderByValue");var t=tE(e._queryParams,tu);return rz(t),new rV(e._repo,e._path,t,!0)},t}(r7),iA=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,C.__extends)(t,e),t.prototype._apply=function(e){if(n7("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ie(this._value,this._key)._apply(new ir(this._value,this._key)._apply(e))},t}(r7);function id(e){for(var t,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var a=(0,E.m9)(e);try{for(var s=(0,C.__values)(r),u=s.next();!u.done;u=s.next())a=u.value._apply(a)}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return a}(0,E.hu)(!y,"__referenceConstructor has already been defined"),y=rW,(0,E.hu)(!b,"__referenceConstructor has already been defined"),b=rW;var ih={},ip=!1;function ig(e,t,n,r,o){var a,s,u,c,l,A=r||e.options.databaseURL;void 0===A&&(e.options.projectId||H("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),j("Using default host for project ",e.options.projectId),A=e.options.projectId+"-default-rtdb.firebaseio.com");var d=rP(A,o),f=d.repoInfo,h=void 0;void 0!==I&&(h=I.env.FIREBASE_DATABASE_EMULATOR_HOST),h?(l=!0,f=(d=rP(A="http://"+h+"?ns="+f.namespace,o)).repoInfo):l=!d.repoInfo.secure;var p=o&&l?new ec(ec.OWNER):new eu(e.name,e.options,t);return rc("Invalid Firebase Database URL",d),eU(d.path)||H("Database URL must point to the root of a Firebase Database (not including a child path)."),new iv((a=f,s=new es(e.name,n),(u=ih[e.name])||(u={},ih[e.name]=u),(c=u[a.toURLString()])&&H("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new rv(a,ip,p,s),u[a.toURLString()]=c,c),e)}var iv=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(function(e,t,n){var r,o,a;if(e.stats_=em(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new tI(e.repoInfo_,function(t,n,r,o){rb(e,t,n,r,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return rw(e,!0)},0);else{if(null!=n){if("object"!=typeof n)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,E.Pz)(n)}catch(e){throw Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new eW(e.repoInfo_,t,function(t,n,r,o){rb(e,t,n,r,o)},function(t){rw(e,t)},function(t){et(t,function(t,n){r_(e,t,n)})},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(t){e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(function(t){e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=(r=e.repoInfo_,o=function(){return new tN(e.stats_,e.server_)},ev[a=r.toString()]||(ev[a]=o()),ev[a]),e.infoData_=new tx,e.infoSyncTree_=new nT({startListening:function(t,n,r,o){var a=[],s=e.infoData_.getNode(t._path);return s.isEmpty()||(a=nD(e.infoSyncTree_,t._path,s),setTimeout(function(){o("ok")},0)),a},stopListening:function(){}}),r_(e,"connected",!1),e.serverSyncTree_=new nT({startListening:function(t,n,r,o){return e.server_.listen(t,r,n,function(n,r){var a=o(n,r);rh(e.eventQueue_,t._path,a)}),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new rW(this._repo,eD())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){if(null!==this._rootInternal){var e,t,n;e=this._repo,(n=ih[t=this.app.name])&&n[e.key]===e||H("Database "+t+"("+e.repoInfo_+") has already been deleted."),rx(e),delete n[e.key],this._repoInternal=null,this._rootInternal=null}return Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&H("Cannot call "+e+" on a deleted database.")},e}(),im={".sv":"timestamp"},iy=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),ib=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,E.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,E.Wj)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then(function(){return e(null)},function(t){return e(t)}),t},e.prototype.remove=function(e){(0,E.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,E.Wj)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then(function(){return e(null)},function(t){return e(t)}),t},e.prototype.set=function(e,t){(0,E.Dv)("OnDisconnect.set",1,2,arguments.length),(0,E.Wj)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then(function(){return t(null)},function(e){return t(e)}),n},e.prototype.setWithPriority=function(e,t,n){(0,E.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,E.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then(function(){return n(null)},function(e){return n(e)}),r},e.prototype.update=function(e,t){if((0,E.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,V("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,E.Wj)("OnDisconnect.update","onComplete",t,!0);var o=this._delegate.update(e);return t&&o.then(function(){return t(null)},function(e){return t(e)}),o},e}(),iw=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,E.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),i_=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,E.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,E.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,E.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,E.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,E.Dv)("DataSnapshot.child",0,1,arguments.length),ra("DataSnapshot.child","path",t=String(t),!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,E.Dv)("DataSnapshot.hasChild",1,1,arguments.length),ra("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,E.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,E.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,E.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(function(r){return t(new e(n._database,r))})},e.prototype.hasChildren=function(){return(0,E.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,E.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,E.Dv)("DataSnapshot.ref",0,0,arguments.length),new iC(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),iE=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,o){var a,s=this;(0,E.Dv)("Query.on",2,4,arguments.length),(0,E.Wj)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,o),c=function(e,t){n.call(u.context,new i_(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return r4(this._delegate,c,l),n;case"child_added":return r3(this._delegate,c,l),n;case"child_removed":return r8(this._delegate,c,l),n;case"child_changed":return r5(this._delegate,c,l),n;case"child_moved":return r6(this._delegate,c,l),n;default:throw Error((0,E.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,E.Dv)("Query.off",0,3,arguments.length),ri("Query.off",e,!0),(0,E.Wj)("Query.off","callback",t,!0),(0,E.lb)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,r9(this._delegate,e,r)}else r9(this._delegate,e)},e.prototype.get=function(){var e,t,n,r,o=this;return(e=this._delegate,(t=(e=(0,E.m9)(e))._repo,n=e,null!=(r=function(e,t){var n,r=t._path,o=null;e.syncPointTree_.foreachOnPath(r,function(e,t){var n=ej(e,r);o=o||nE(t,n)});var a=e.syncPointTree_.get(r);a?o=o||nE(a,eD()):(a=new ny,e.syncPointTree_=e.syncPointTree_.set(r,a));var s=null!=o,u=s?new tj(o,!0,!1):null,c=(n=e.pendingWriteTree_,ni(t._path,n));return tz(nw(a,t,c,s?u.getNode():ti.EMPTY_NODE,s).viewCache_)}(t.serverSyncTree_,n))?Promise.resolve(r):t.server_.get(n).then(function(e){var r=ta(e).withIndex(n._queryParams.getIndex()),o=nD(t.serverSyncTree_,n._path,r);return rf(t.eventQueue_,n._path,o),Promise.resolve(r)},function(e){return rT(t,"get for query "+(0,E.Pz)(n)+" failed: "+e),Promise.reject(Error(e))})).then(function(t){return new rq(t,new rW(e._repo,e._path),e._queryParams.getIndex())})).then(function(e){return new i_(o.database,e)})},e.prototype.once=function(t,n,r,o){var a=this;(0,E.Dv)("Query.once",1,4,arguments.length),(0,E.Wj)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,o),u=new E.BH,c=function(e,t){var r=new i_(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":r4(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":r3(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":r8(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":r5(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":r6(this._delegate,c,l,{onlyOnce:!0});break;default:throw Error((0,E.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,E.Dv)("Query.limitToFirst",1,1,arguments.length),new e(this.database,id(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw Error("limitToFirst: First argument must be a positive integer.");return new io(e)}(t)))},e.prototype.limitToLast=function(t){return(0,E.Dv)("Query.limitToLast",1,1,arguments.length),new e(this.database,id(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw Error("limitToLast: First argument must be a positive integer.");return new ia(e)}(t)))},e.prototype.orderByChild=function(t){return(0,E.Dv)("Query.orderByChild",1,1,arguments.length),new e(this.database,id(this._delegate,function(e){if("$key"===e)throw Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ra("orderByChild","path",e,!1),new is(e)}(t)))},e.prototype.orderByKey=function(){return(0,E.Dv)("Query.orderByKey",0,0,arguments.length),new e(this.database,id(this._delegate,new iu))},e.prototype.orderByPriority=function(){return(0,E.Dv)("Query.orderByPriority",0,0,arguments.length),new e(this.database,id(this._delegate,new ic))},e.prototype.orderByValue=function(){return(0,E.Dv)("Query.orderByValue",0,0,arguments.length),new e(this.database,id(this._delegate,new il))},e.prototype.startAt=function(t,n){var r;return void 0===t&&(t=null),(0,E.Dv)("Query.startAt",0,2,arguments.length),new e(this.database,id(this._delegate,(void 0===(r=t)&&(r=null),ro("startAt","key",n,!0),new ir(r,n))))},e.prototype.startAfter=function(t,n){var r;return void 0===t&&(t=null),(0,E.Dv)("Query.startAfter",0,2,arguments.length),new e(this.database,id(this._delegate,(r=t,ro("startAfter","key",n,!0),new ii(r,n))))},e.prototype.endAt=function(t,n){var r;return void 0===t&&(t=null),(0,E.Dv)("Query.endAt",0,2,arguments.length),new e(this.database,id(this._delegate,(r=t,ro("endAt","key",n,!0),new ie(r,n))))},e.prototype.endBefore=function(t,n){var r;return void 0===t&&(t=null),(0,E.Dv)("Query.endBefore",0,2,arguments.length),new e(this.database,id(this._delegate,(r=t,ro("endBefore","key",n,!0),new it(r,n))))},e.prototype.equalTo=function(t,n){return(0,E.Dv)("Query.equalTo",1,2,arguments.length),new e(this.database,id(this._delegate,(ro("equalTo","key",n,!0),new iA(t,n))))},e.prototype.toString=function(){return(0,E.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,E.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,E.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof e))throw Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,E.Wj)(e,"cancel",r.cancel,!0),r.context=n,(0,E.lb)(e,"context",r.context,!0);else if(t){if("object"==typeof t&&null!==t)r.context=t;else if("function"==typeof t)r.cancel=t;else throw Error((0,E.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.")}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new iC(this.database,new rW(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),iC=function(e){function t(t,n){var r=e.call(this,t,new rV(n._repo,n._path,new tb,!1))||this;return r.database=t,r._delegate=n,r}return(0,C.__extends)(t,e),t.prototype.getKey=function(){return(0,E.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,E.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new t(this.database,rX(this._delegate,e))},t.prototype.getParent=function(){(0,E.Dv)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,E.Dv)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,E.Dv)("Reference.set",1,2,arguments.length),(0,E.Wj)("Reference.set","onComplete",t,!0);var n=rJ(this._delegate,e);return t&&n.then(function(){return t(null)},function(e){return t(e)}),n},t.prototype.update=function(e,t){if((0,E.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n,r,o,a={},s=0;s<e.length;++s)a[""+s]=e[s];e=a,V("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ru("Reference.update",this._delegate._path),(0,E.Wj)("Reference.update","onComplete",t,!0);var u=(n=this._delegate,rn("update",r=e,n._path,!1),o=new E.BH,function(e,t,n,r){rT(e,"update",{path:t.toString(),value:n});var o=!0,a=ry(e),s={};if(et(n,function(n,r){o=!1,s[n]=nW(eP(t,n),ta(r),e.serverSyncTree_,a)}),o)j("update() called with empty data.  Don't do anything."),rS(e,r,"ok",void 0);else{var u,c,l,A=rE(e),d=(c=(u=e.serverSyncTree_).pendingWriteTree_,(0,E.hu)(A>c.lastWriteId,"Stacking an older merge on top of newer ones"),c.allWrites.push({path:t,children:s,writeId:A,visible:!0}),c.visibleWrites=t$(c.visibleWrites,t,s),c.lastWriteId=A,l=tW.fromObject(s),nR(u,new tU(tO(),t,l)));rd(e.eventQueue_,d),e.server_.merge(t.toString(),n,function(n,o){var a="ok"===n;a||V("update at "+t+" failed: "+n);var s=nk(e.serverSyncTree_,A,!a),u=s.length>0?rN(e,t):t;rh(e.eventQueue_,u,s),rS(e,r,n,o)}),et(n,function(n){var r=rL(e,eP(t,n));rN(e,r)}),rh(e.eventQueue_,t,[])}}(n._repo,n._path,r,o.wrapCallback(function(){})),o.promise);return t&&u.then(function(){return t(null)},function(e){return t(e)}),u},t.prototype.setWithPriority=function(e,t,n){(0,E.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,E.Wj)("Reference.setWithPriority","onComplete",n,!0);var r=function(e,t,n){if(ru("setWithPriority",e._path),n7("setWithPriority",t,e._path,!1),rr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new E.BH;return rC(e._repo,e._path,t,n,r.wrapCallback(function(){})),r.promise}(this._delegate,e,t);return n&&r.then(function(){return n(null)},function(e){return n(e)}),r},t.prototype.remove=function(e){(0,E.Dv)("Reference.remove",0,1,arguments.length),(0,E.Wj)("Reference.remove","onComplete",e,!0);var t,n=(ru("remove",(t=this._delegate)._path),rJ(t,null));return e&&n.then(function(){return e(null)},function(t){return e(t)}),n},t.prototype.transaction=function(e,t,n){var r=this;(0,E.Dv)("Reference.transaction",1,3,arguments.length),(0,E.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,E.Wj)("Reference.transaction","onComplete",t,!0),rl("Reference.transaction","applyLocally",n,!0);var o=(function(e,t,n){if(ru("Reference.transaction",(e=(0,E.m9)(e))._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var r,o=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,a=new E.BH,s=r4(e,function(){});return function(e,t,n,r,o,a){rT(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:F(),applyLocally:a,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=rk(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{re("transaction failed: Data returned ",c,s.path),s.status=0;var l=nX(e.transactionQueueTree_,t),A=nJ(l)||[];A.push(s),n0(l,A);var d=void 0;"object"==typeof c&&null!==c&&(0,E.r3)(c,".priority")?(d=(0,E.DV)(c,".priority"),(0,E.hu)(n9(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(nF(e.serverSyncTree_,t)||ti.EMPTY_NODE).getPriority().val();var f=ry(e),h=ta(c,d),p=nq(h,u,f);s.currentOutputSnapshotRaw=h,s.currentOutputSnapshotResolved=p,s.currentWriteId=rE(e);var g=nS(e.serverSyncTree_,t,p,s.currentWriteId,s.applyLocally);rh(e.eventQueue_,t,g),rD(e,e.transactionQueueTree_)}}(e._repo,e._path,t,function(t,n,r){var o=null;t?a.reject(t):(o=new rq(r,new rW(e._repo,e._path),e9),a.resolve(new iy(n,o)))},s,o),a.promise})(this._delegate,e,{applyLocally:n}).then(function(e){return new iw(e.committed,new i_(r.database,e.snapshot))});return t&&o.then(function(e){return t(null,e.committed,e.snapshot)},function(e){return t(e,!1,null)}),o},t.prototype.setPriority=function(e,t){(0,E.Dv)("Reference.setPriority",1,2,arguments.length),(0,E.Wj)("Reference.setPriority","onComplete",t,!0);var n,r,o=(n=this._delegate,ru("setPriority",(n=(0,E.m9)(n))._path),rr("setPriority",e,!1),r=new E.BH,rC(n._repo,eP(n._path,".priority"),e,null,r.wrapCallback(function(){})),r.promise);return t&&o.then(function(){return t(null)},function(e){return t(e)}),o},t.prototype.push=function(e,n){var r,o,a,s,u,c=this;(0,E.Dv)("Reference.push",0,2,arguments.length),(0,E.Wj)("Reference.push","onComplete",n,!0);var l=(r=this._delegate,ru("push",(r=(0,E.m9)(r))._path),n7("push",e,r._path,!0),a=tl(rm(r._repo)),s=rX(r,a),u=rX(r,a),o=null!=e?rJ(u,e).then(function(){return u}):Promise.resolve(u),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s),A=l.then(function(e){return new t(c.database,e)});n&&A.then(function(){return n(null)},function(e){return n(e)});var d=new t(this.database,l);return d.then=A.then.bind(A),d.catch=A.catch.bind(A,void 0),d},t.prototype.onDisconnect=function(){return ru("Reference.onDisconnect",this._delegate._path),new ib(new rH(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(iE),iB=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){var r,o,a,s,u;void 0===n&&(n={}),r=this._delegate,void 0===(o=n)&&(o={}),(r=(0,E.m9)(r))._checkNotDeleted("useEmulator"),r._instanceStarted&&H("Cannot call useEmulator() after instance has already been initialized."),a=r._repoInternal,s=void 0,a.repoInfo_.nodeAdmin?(o.mockUserToken&&H('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ec(ec.OWNER)):o.mockUserToken&&(s=new ec("string"==typeof o.mockUserToken?o.mockUserToken:(0,E.Sg)(o.mockUserToken,r.app.options.projectId))),u=s,a.repoInfo_=new ef(e+":"+t,!1,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams),u&&(a.authTokenProvider_=u)},e.prototype.ref=function(e){if((0,E.Dv)("database.ref",0,1,arguments.length),e instanceof iC){var t=r$(this._delegate,e.toString());return new iC(this,t)}var t=rY(this._delegate,e);return new iC(this,t)},e.prototype.refFromURL=function(e){return(0,E.Dv)("database.refFromURL",1,1,arguments.length),new iC(this,r$(this._delegate,e))},e.prototype.goOffline=function(){var e;return(0,E.Dv)("database.goOffline",0,0,arguments.length),e=this._delegate,void((e=(0,E.m9)(e))._checkNotDeleted("goOffline"),rx(e._repo))},e.prototype.goOnline=function(){var e,t;return(0,E.Dv)("database.goOnline",0,0,arguments.length),e=this._delegate,void((e=(0,E.m9)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(rg))},e.ServerValue={TIMESTAMP:im,increment:function(e){return{".sv":{increment:e}}}},e}(),iI=/*#__PURE__*/Object.freeze({__proto__:null,forceLongPolling:function(){eC.forceDisallow(),ew.forceAllow()},forceWebSockets:function(){ew.forceDisallow()},isWebSocketsAvailable:function(){return eC.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!=typeof console){t?(e.statsListener_||(e.statsListener_=new tD(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var n,r=Object.keys(n).reduce(function(e,t){return Math.max(t.length,e)},0);et(n,function(e,t){for(var n=e,o=e.length;o<r+2;o++)n+=" ";console.log(n+t)})}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){var n;(n=e._delegate._repo).stats_.incrementCounter(t),n.statsReporter_.statsToReport_[t]=!0},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){e._delegate._repo.interceptServerDataCallback_=t},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin;x=r;var u=new _.zt("auth-internal",new _.H0("database-standalone"));return u.setComponent(new _.wA("auth-internal",function(){return o},"PRIVATE")),{instance:new iB(ig(t,u,void 0,n,void 0!==s&&s),t),namespace:a}}});eW.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},eW.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var ix=/*#__PURE__*/Object.freeze({__proto__:null,DataConnection:eW,RealTimeConnection:eI,hijackHash:function(e){var t=eW.prototype.put;return eW.prototype.put=function(n,r,o,a){void 0!==a&&(a=e()),t.call(this,n,r,o,a)},function(){eW.prototype.put=t}},ConnectionTarget:ef,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){ip=e}}),iT=iB.ServerValue;x=(r=w.Z).SDK_VERSION,o=r.INTERNAL.registerComponent(new _.wA("database",function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate();return new iB(ig(r,e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),r)},"PUBLIC").setServiceProps({Reference:iC,Query:iE,Database:iB,DataSnapshot:i_,enableLogging:U,INTERNAL:iI,ServerValue:iT,TEST_ACCESS:ix}).setMultipleInstances(!0)),r.registerVersion("@firebase/database","0.11.0"),(0,E.Yr)()&&(e.exports=o)},70015:function(e,t){!function(e){"use strict";function t(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function n(e,n,r){var o,a=new Promise(function(a,s){t(o=e[n].apply(e,r)).then(a,s)});return a.request=o,a}function r(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,t,r,o){o.forEach(function(o){o in r.prototype&&(e.prototype[o]=function(){return n(this[t],o,arguments)})})}function a(e,t,n,r){r.forEach(function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})})}function s(e,t,r,o){o.forEach(function(o){o in r.prototype&&(e.prototype[o]=function(){var e,r,a;return e=this[t],r=arguments,(a=n(e,o,r)).then(function(e){if(e)return new c(e,a.request)})})})}function u(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function l(e){this._store=e}function A(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new A(n)}function f(e){this._db=e}r(u,"_index",["name","keyPath","multiEntry","unique"]),o(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),s(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),r(c,"_cursor",["direction","key","primaryKey","value"]),o(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(e){e in IDBCursor.prototype&&(c.prototype[e]=function(){var n=this,r=arguments;return Promise.resolve().then(function(){return n._cursor[e].apply(n._cursor,r),t(n._request).then(function(e){if(e)return new c(e,n._request)})})})}),l.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},l.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},r(l,"_store",["name","keyPath","indexNames","autoIncrement"]),o(l,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),s(l,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(l,"_store",IDBObjectStore,["deleteIndex"]),A.prototype.objectStore=function(){return new l(this._tx.objectStore.apply(this._tx,arguments))},r(A,"_tx",["objectStoreNames","mode"]),a(A,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new l(this._db.createObjectStore.apply(this._db,arguments))},r(d,"_db",["name","version","objectStoreNames"]),a(d,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new A(this._db.transaction.apply(this._db,arguments))},r(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[l,u].forEach(function(t){e in t.prototype&&(t.prototype[e.replace("open","iterate")]=function(){var t,n=(t=arguments,Array.prototype.slice.call(t)),r=n[n.length-1],o=this._store||this._index,a=o[e].apply(o,n.slice(0,-1));a.onsuccess=function(){r(a.result)}})})}),[u,l].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise(function(o){n.iterateCursor(e,function(e){if(!e||(r.push(e.value),void 0!==t&&r.length==t)){o(r);return}e.continue()})})})}),e.openDb=function(e,t,r){var o=n(indexedDB,"open",[e,t]),a=o.request;return a&&(a.onupgradeneeded=function(e){r&&r(new d(a.result,e.oldVersion,a.transaction))}),o.then(function(e){return new f(e)})},e.deleteDb=function(e){return n(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},62333:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,n,r,o){var a,s,u=8*o-r-1,c=(1<<u)-1,l=c>>1,A=-7,d=n?o-1:0,f=n?-1:1,h=e[t+d];for(d+=f,a=h&(1<<-A)-1,h>>=-A,A+=u;A>0;a=256*a+e[t+d],d+=f,A-=8);for(s=a&(1<<-A)-1,a>>=-A,A+=r;A>0;s=256*s+e[t+d],d+=f,A-=8);if(0===a)a=1-l;else{if(a===c)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),a-=l}return(h?-1:1)*s*Math.pow(2,a-r)},t.write=function(e,t,n,r,o,a){var s,u,c,l=8*a-o-1,A=(1<<l)-1,d=A>>1,f=23===o?5960464477539062e-23:0,h=r?0:a-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(u=isNaN(t)?1:0,s=A):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),s+d>=1?t+=f/c:t+=f*Math.pow(2,1-d),t*c>=2&&(s++,c/=2),s+d>=A?(u=0,s=A):s+d>=1?(u=(t*c-1)*Math.pow(2,o),s+=d):(u=t*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;e[n+h]=255&u,h+=p,u/=256,o-=8);for(s=s<<o|u,l+=o;l>0;e[n+h]=255&s,h+=p,s/=256,l-=8);e[n+h-p]|=128*g}},87202:function(e,t){"use strict";for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},o={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},a={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},s=1;s<20;s++)a["f"+s]=111+s;function u(e){return e=o[e=e.toLowerCase()]||e}t.TB=function(e,t){var n,o,s,c,l;return n=e,o={byKey:!0},s=t,!o||"byKey"in o||(s=o,o=null),Array.isArray(n)||(n=[n]),c=n.map(function(e){return function(e,t){var n=t&&t.byKey,o={},s=(e=e.replace("++","+add")).split("+"),c=s.length;for(var l in r)o[r[l]]=!1;var A=!0,d=!1,f=void 0;try{for(var h,p=s[Symbol.iterator]();!(A=(h=p.next()).done);A=!0){var g,v=h.value,m=v.endsWith("?")&&v.length>1;m&&(v=v.slice(0,-1));var y=u(v),b=r[y];1!==c&&b||(n?o.key=y:o.which=(g=v,a[g=u(g)]||g.toUpperCase().charCodeAt(0))),b&&(o[b]=!m||null)}}catch(e){d=!0,f=e}finally{try{!A&&p.return&&p.return()}finally{if(d)throw f}}return o}(e,o)}),l=function(e){return c.some(function(t){return function(e,t){for(var n in e){var r=e[n],o=void 0;if(null!=r&&(null!=(o="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&o!==r)return!1}return!0}(t,e)})},null==s?l:l(s)}},52810:function(e,t,n){"use strict";/*!
 * keygrip
 * Copyright(c) 2011-2014 Jed Schmidt
 * MIT Licensed
 */var r=n(42294),o=n(98554);function a(e,t,n){if(t||(t="sha1"),n||(n="base64"),!(this instanceof a))return new a(e,t,n);if(!e||!(0 in e))throw Error("Keys must be provided.");function s(e,r){return o.createHmac(t,r).update(e).digest(n).replace(/\/|\+|=/g,function(e){return({"/":"_","+":"-","=":""})[e]})}this.sign=function(t){return s(t,e[0])},this.verify=function(e,t){return this.index(e,t)>-1},this.index=function(t,n){for(var o=0,a=e.length;o<a;o++)if(r(n,s(t,e[o])))return o;return -1}}a.sign=a.verify=a.index=function(){throw Error("Usage: require('keygrip')(<array-of-keys>)")},e.exports=a},80594:function(e,t,n){var r=0/0,o=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,A="object"==typeof self&&self&&self.Object===Object&&self,d=l||A||Function("return this")(),f=Object.prototype.toString,h=Math.max,p=Math.min,g=function(){return d.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==f.call(t))return r;if(v(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=v(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var l=s.test(e);return l||u.test(e)?c(e.slice(2),l?2:8):a.test(e)?r:+e}e.exports=function(e,t,n){var r,o,a,s,u,c,l=0,A=!1,d=!1,f=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var n=r,a=o;return r=o=void 0,l=t,s=e.apply(a,n)}function b(e){var n=e-c,r=e-l;return void 0===c||n>=t||n<0||d&&r>=a}function w(){var e,n,r,o=g();if(b(o))return _(o);u=setTimeout(w,(e=o-c,n=o-l,r=t-e,d?p(r,a-n):r))}function _(e){return(u=void 0,f&&r)?y(e):(r=o=void 0,s)}function E(){var e,n=g(),a=b(n);if(r=arguments,o=this,c=n,a){if(void 0===u)return l=e=c,u=setTimeout(w,t),A?y(e):s;if(d)return u=setTimeout(w,t),y(c)}return void 0===u&&(u=setTimeout(w,t)),s}return t=m(t)||0,v(n)&&(A=!!n.leading,a=(d="maxWait"in n)?h(m(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),E.cancel=function(){void 0!==u&&clearTimeout(u),l=0,r=c=o=u=void 0},E.flush=function(){return void 0===u?s:_(g())},E}},98357:function(e,t,n){var r="Expected a function",o=0/0,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,A="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,f=A||d||Function("return this")(),h=Object.prototype.toString,p=Math.max,g=Math.min,v=function(){return f.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==h.call(t))return o;if(m(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=m(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var r=u.test(e);return r||c.test(e)?l(e.slice(2),r?2:8):s.test(e)?o:+e}e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw TypeError(r);return m(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),function(e,t,n){var o,a,s,u,c,l,A=0,d=!1,f=!1,h=!0;if("function"!=typeof e)throw TypeError(r);function b(t){var n=o,r=a;return o=a=void 0,A=t,u=e.apply(r,n)}function w(e){var n=e-l,r=e-A;return void 0===l||n>=t||n<0||f&&r>=s}function _(){var e,n,r,o=v();if(w(o))return E(o);c=setTimeout(_,(e=o-l,n=o-A,r=t-e,f?g(r,s-n):r))}function E(e){return(c=void 0,h&&o)?b(e):(o=a=void 0,u)}function C(){var e,n=v(),r=w(n);if(o=arguments,a=this,l=n,r){if(void 0===c)return A=e=l,c=setTimeout(_,t),d?b(e):u;if(f)return c=setTimeout(_,t),b(l)}return void 0===c&&(c=setTimeout(_,t)),u}return t=y(t)||0,m(n)&&(d=!!n.leading,s=(f="maxWait"in n)?p(y(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),C.cancel=function(){void 0!==c&&clearTimeout(c),A=0,o=l=a=c=void 0},C.flush=function(){return void 0===c?u:E(v())},C}(e,t,{leading:o,maxWait:t,trailing:a})}},39515:function(e,t,n){var r=n(38761)(n(37772),"DataView");e.exports=r},89612:function(e,t,n){var r=n(52118),o=n(96909),a=n(98138),s=n(4174),u=n(7942);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},80235:function(e,t,n){var r=n(3945),o=n(21846),a=n(88028),s=n(72344),u=n(94769);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},10326:function(e,t,n){var r=n(38761)(n(37772),"Map");e.exports=r},96738:function(e,t,n){var r=n(92411),o=n(36417),a=n(86928),s=n(79493),u=n(24150);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},52760:function(e,t,n){var r=n(38761)(n(37772),"Promise");e.exports=r},2143:function(e,t,n){var r=n(38761)(n(37772),"Set");e.exports=r},45386:function(e,t,n){var r=n(96738),o=n(52842),a=n(52482);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=o,s.prototype.has=a,e.exports=s},86571:function(e,t,n){var r=n(80235),o=n(15243),a=n(72858),s=n(4417),u=n(8605),c=n(71418);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=o,l.prototype.delete=a,l.prototype.get=s,l.prototype.has=u,l.prototype.set=c,e.exports=l},50857:function(e,t,n){var r=n(37772).Symbol;e.exports=r},79162:function(e,t,n){var r=n(37772).Uint8Array;e.exports=r},93215:function(e,t,n){var r=n(38761)(n(37772),"WeakMap");e.exports=r},49432:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},65338:function(e){e.exports=function(e,t,n,r){for(var o=-1,a=null==e?0:e.length;++o<a;){var s=e[o];t(r,s,n(s),e)}return r}},72517:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},67552:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var s=e[n];t(s,n,e)&&(a[o++]=s)}return a}},38333:function(e,t,n){var r=n(77832);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},34893:function(e){e.exports=function(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}},1634:function(e,t,n){var r=n(36473),o=n(79631),a=n(86152),s=n(73226),u=n(39045),c=n(77598),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),A=!n&&o(e),d=!n&&!A&&s(e),f=!n&&!A&&!d&&c(e),h=n||A||d||f,p=h?r(e.length,String):[],g=p.length;for(var v in e)(t||l.call(e,v))&&!(h&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||u(v,g)))&&p.push(v);return p}},50343:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},65067:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},33977:function(e,t,n){var r=n(5809);e.exports=function(e){var t=e.length;return t?e[r(0,t-1)]:void 0}},87064:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},50217:function(e){e.exports=function(e){return e.split("")}},28582:function(e,t,n){var r=n(13940),o=n(41225);e.exports=function(e,t,n){(void 0===n||o(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},60091:function(e,t,n){var r=n(13940),o=n(41225),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];a.call(e,t)&&o(s,n)&&(void 0!==n||t in e)||r(e,t,n)}},22218:function(e,t,n){var r=n(41225);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return -1}},12825:function(e,t,n){var r=n(24303);e.exports=function(e,t,n,o){return r(e,function(e,r,a){t(o,e,n(e),a)}),o}},67993:function(e,t,n){var r=n(752),o=n(90249);e.exports=function(e,t){return e&&r(t,o(t),e)}},55906:function(e,t,n){var r=n(752),o=n(18582);e.exports=function(e,t){return e&&r(t,o(t),e)}},13940:function(e,t,n){var r=n(83043);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},14034:function(e){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},18874:function(e,t,n){var r=n(86571),o=n(72517),a=n(60091),s=n(67993),u=n(55906),c=n(92175),l=n(51522),A=n(7680),d=n(19987),f=n(13483),h=n(76939),p=n(70940),g=n(99917),v=n(8222),m=n(78725),y=n(86152),b=n(73226),w=n(4714),_=n(29259),E=n(43679),C=n(90249),B=n(18582),I="[object Arguments]",x="[object Function]",T="[object Object]",S={};S[I]=S["[object Array]"]=S["[object ArrayBuffer]"]=S["[object DataView]"]=S["[object Boolean]"]=S["[object Date]"]=S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Map]"]=S["[object Number]"]=S[T]=S["[object RegExp]"]=S["[object Set]"]=S["[object String]"]=S["[object Symbol]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S["[object Error]"]=S[x]=S["[object WeakMap]"]=!1,e.exports=function e(t,n,k,D,N,O){var F,R=1&n,L=2&n,M=4&n;if(k&&(F=N?k(t,D,N,O):k(t)),void 0!==F)return F;if(!_(t))return t;var P=y(t);if(P){if(F=g(t),!R)return l(t,F)}else{var U=p(t),j=U==x||"[object GeneratorFunction]"==U;if(b(t))return c(t,R);if(U==T||U==I||j&&!N){if(F=L||j?{}:m(t),!R)return L?d(t,u(F,t)):A(t,s(F,t))}else{if(!S[U])return N?t:{};F=v(t,U,R)}}O||(O=new r);var Z=O.get(t);if(Z)return Z;O.set(t,F),E(t)?t.forEach(function(r){F.add(e(r,n,k,r,t,O))}):w(t)&&t.forEach(function(r,o){F.set(o,e(r,n,k,o,t,O))});var Q=M?L?h:f:L?B:C,H=P?void 0:Q(t);return o(H||t,function(r,o){H&&(r=t[o=r]),a(F,o,e(r,n,k,o,t,O))}),F}},39413:function(e,t,n){var r=n(29259),o=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(o)return o(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=a},85246:function(e,t,n){var r=n(45386),o=n(38333),a=n(34893),s=n(50343),u=n(47826),c=n(59950);e.exports=function(e,t,n,l){var A=-1,d=o,f=!0,h=e.length,p=[],g=t.length;if(!h)return p;n&&(t=s(t,u(n))),l?(d=a,f=!1):t.length>=200&&(d=c,f=!1,t=new r(t));t:for(;++A<h;){var v=e[A],m=null==n?v:n(v);if(v=l||0!==v?v:0,f&&m==m){for(var y=g;y--;)if(t[y]===m)continue t;p.push(v)}else d(t,m,l)||p.push(v)}return p}},24303:function(e,t,n){var r=n(26548),o=n(92019)(r);e.exports=o},2229:function(e,t,n){var r=n(4795);e.exports=function(e,t,n){for(var o=-1,a=e.length;++o<a;){var s=e[o],u=t(s);if(null!=u&&(void 0===c?u==u&&!r(u):n(u,c)))var c=u,l=s}return l}},21359:function(e){e.exports=function(e,t,n,r){for(var o=e.length,a=n+(r?1:-1);r?a--:++a<o;)if(t(e[a],a,e))return a;return -1}},62034:function(e,t,n){var r=n(65067),o=n(95882);e.exports=function e(t,n,a,s,u){var c=-1,l=t.length;for(a||(a=o),u||(u=[]);++c<l;){var A=t[c];n>0&&a(A)?n>1?e(A,n-1,a,s,u):r(u,A):s||(u[u.length]=A)}return u}},15308:function(e,t,n){var r=n(55463)();e.exports=r},26548:function(e,t,n){var r=n(15308),o=n(90249);e.exports=function(e,t){return e&&r(e,t,o)}},13324:function(e,t,n){var r=n(17297),o=n(33812);e.exports=function(e,t){t=r(t,e);for(var n=0,a=t.length;null!=e&&n<a;)e=e[o(t[n++])];return n&&n==a?e:void 0}},1897:function(e,t,n){var r=n(65067),o=n(86152);e.exports=function(e,t,n){var a=t(e);return o(e)?a:r(a,n(e))}},53366:function(e,t,n){var r=n(50857),o=n(62107),a=n(37157),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):a(e)}},84134:function(e){e.exports=function(e,t){return e>t}},20187:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},77832:function(e,t,n){var r=n(21359),o=n(22195),a=n(66024);e.exports=function(e,t,n){return t==t?a(e,t,n):r(e,o,n)}},15183:function(e,t,n){var r=n(53366),o=n(15125);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},88746:function(e,t,n){var r=n(51952),o=n(15125);e.exports=function e(t,n,a,s,u){return t===n||(null!=t&&null!=n&&(o(t)||o(n))?r(t,n,a,s,e,u):t!=t&&n!=n)}},51952:function(e,t,n){var r=n(86571),o=n(74871),a=n(11491),s=n(17416),u=n(70940),c=n(86152),l=n(73226),A=n(77598),d="[object Arguments]",f="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,m){var y=c(e),b=c(t),w=y?f:u(e),_=b?f:u(t);w=w==d?h:w,_=_==d?h:_;var E=w==h,C=_==h,B=w==_;if(B&&l(e)){if(!l(t))return!1;y=!0,E=!1}if(B&&!E)return m||(m=new r),y||A(e)?o(e,t,n,g,v,m):a(e,t,w,n,g,v,m);if(!(1&n)){var I=E&&p.call(e,"__wrapped__"),x=C&&p.call(t,"__wrapped__");if(I||x){var T=I?e.value():e,S=x?t.value():t;return m||(m=new r),v(T,S,n,g,m)}}return!!B&&(m||(m=new r),s(e,t,n,g,v,m))}},74511:function(e,t,n){var r=n(70940),o=n(15125);e.exports=function(e){return o(e)&&"[object Map]"==r(e)}},37036:function(e,t,n){var r=n(86571),o=n(88746);e.exports=function(e,t,n,a){var s=n.length,u=s,c=!a;if(null==e)return!u;for(e=Object(e);s--;){var l=n[s];if(c&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<u;){var A=(l=n[s])[0],d=e[A],f=l[1];if(c&&l[2]){if(void 0===d&&!(A in e))return!1}else{var h=new r;if(a)var p=a(d,f,A,e,t,h);if(!(void 0===p?o(f,d,3,a,h):p))return!1}}return!0}},22195:function(e){e.exports=function(e){return e!=e}},6840:function(e,t,n){var r=n(61049),o=n(47394),a=n(29259),s=n(87035),u=/^\[object .+?Constructor\]$/,c=Object.prototype,l=Function.prototype.toString,A=c.hasOwnProperty,d=RegExp("^"+l.call(A).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||o(e))&&(r(e)?d:u).test(s(e))}},8109:function(e,t,n){var r=n(70940),o=n(15125);e.exports=function(e){return o(e)&&"[object Set]"==r(e)}},35522:function(e,t,n){var r=n(53366),o=n(61158),a=n(15125),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&o(e.length)&&!!s[r(e)]}},68286:function(e,t,n){var r=n(26423),o=n(74716),a=n(23059),s=n(86152),u=n(65798);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?s(e)?o(e[0],e[1]):r(e):u(e)}},86411:function(e,t,n){var r=n(16001),o=n(54248),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},18390:function(e,t,n){var r=n(29259),o=n(16001),a=n(62966),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=o(e),n=[];for(var u in e)"constructor"==u&&(t||!s.call(e,u))||n.push(u);return n}},26423:function(e,t,n){var r=n(37036),o=n(49882),a=n(73477);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},74716:function(e,t,n){var r=n(88746),o=n(72579),a=n(95041),s=n(21401),u=n(28792),c=n(73477),l=n(33812);e.exports=function(e,t){return s(e)&&u(t)?c(l(e),t):function(n){var s=o(n,e);return void 0===s&&s===t?a(n,e):r(t,s,3)}}},84565:function(e,t,n){var r=n(86571),o=n(28582),a=n(15308),s=n(25561),u=n(29259),c=n(18582),l=n(52434);e.exports=function e(t,n,A,d,f){t!==n&&a(n,function(a,c){if(f||(f=new r),u(a))s(t,n,c,A,e,d,f);else{var h=d?d(l(t,c),a,c+"",t,n,f):void 0;void 0===h&&(h=a),o(t,c,h)}},c)}},25561:function(e,t,n){var r=n(28582),o=n(92175),a=n(6190),s=n(51522),u=n(78725),c=n(79631),l=n(86152),A=n(93746),d=n(73226),f=n(61049),h=n(29259),p=n(97030),g=n(77598),v=n(52434),m=n(63329);e.exports=function(e,t,n,y,b,w,_){var E=v(e,n),C=v(t,n),B=_.get(C);if(B){r(e,n,B);return}var I=w?w(E,C,n+"",e,t,_):void 0,x=void 0===I;if(x){var T=l(C),S=!T&&d(C),k=!T&&!S&&g(C);I=C,T||S||k?l(E)?I=E:A(E)?I=s(E):S?(x=!1,I=o(C,!0)):k?(x=!1,I=a(C,!0)):I=[]:p(C)||c(C)?(I=E,c(E)?I=m(E):(!h(E)||f(E))&&(I=u(C))):x=!1}x&&(_.set(C,I),b(I,C,y,w,_),_.delete(C)),r(e,n,I)}},20256:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},82952:function(e,t,n){var r=n(13324);e.exports=function(e){return function(t){return r(t,e)}}},5809:function(e){var t=Math.floor,n=Math.random;e.exports=function(e,r){return e+t(n()*(r-e+1))}},36060:function(e,t,n){var r=n(23059),o=n(43114),a=n(75251);e.exports=function(e,t){return a(o(e,t,r),e+"")}},46543:function(e,t,n){var r=n(33977),o=n(98346);e.exports=function(e){return r(o(e))}},86532:function(e,t,n){var r=n(86874),o=n(83043),a=n(23059),s=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=s},39872:function(e){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(o);++r<o;)a[r]=e[r+t];return a}},36473:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},1054:function(e,t,n){var r=n(50857),o=n(50343),a=n(86152),s=n(4795),u=1/0,c=r?r.prototype:void 0,l=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return o(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-u?"-0":n}},51704:function(e,t,n){var r=n(52153),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},47826:function(e){e.exports=function(e){return function(t){return e(t)}}},67326:function(e,t,n){var r=n(45386),o=n(38333),a=n(34893),s=n(59950),u=n(78803),c=n(16909);e.exports=function(e,t,n){var l=-1,A=o,d=e.length,f=!0,h=[],p=h;if(n)f=!1,A=a;else if(d>=200){var g=t?null:u(e);if(g)return c(g);f=!1,A=s,p=new r}else p=t?[]:h;t:for(;++l<d;){var v=e[l],m=t?t(v):v;if(v=n||0!==v?v:0,f&&m==m){for(var y=p.length;y--;)if(p[y]===m)continue t;t&&p.push(m),h.push(v)}else A(p,m,n)||(p!==h&&p.push(m),h.push(v))}return h}},29078:function(e,t,n){var r=n(17297),o=n(56974),a=n(62721),s=n(33812);e.exports=function(e,t){return t=r(t,e),null==(e=a(e,t))||delete e[s(o(t))]}},50753:function(e,t,n){var r=n(50343);e.exports=function(e,t){return r(t,function(t){return e[t]})}},59950:function(e){e.exports=function(e,t){return e.has(t)}},89419:function(e,t,n){var r=n(23059);e.exports=function(e){return"function"==typeof e?e:r}},17297:function(e,t,n){var r=n(86152),o=n(21401),a=n(54452),s=n(66188);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:a(s(e))}},23895:function(e,t,n){var r=n(39872);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},79882:function(e,t,n){var r=n(79162);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},92175:function(e,t,n){e=n.nmd(e);var r=n(37772),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=u?u(n):new e.constructor(n);return e.copy(r),r}},34727:function(e,t,n){var r=n(79882);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},96058:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},70169:function(e,t,n){var r=n(50857),o=r?r.prototype:void 0,a=o?o.valueOf:void 0;e.exports=function(e){return a?Object(a.call(e)):{}}},6190:function(e,t,n){var r=n(79882);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},51522:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},752:function(e,t,n){var r=n(60091),o=n(13940);e.exports=function(e,t,n,a){var s=!n;n||(n={});for(var u=-1,c=t.length;++u<c;){var l=t[u],A=a?a(n[l],e[l],l,n,e):void 0;void 0===A&&(A=e[l]),s?o(n,l,A):r(n,l,A)}return n}},7680:function(e,t,n){var r=n(752),o=n(80633);e.exports=function(e,t){return r(e,o(e),t)}},19987:function(e,t,n){var r=n(752),o=n(12680);e.exports=function(e,t){return r(e,o(e),t)}},24019:function(e,t,n){var r=n(37772)["__core-js_shared__"];e.exports=r},36740:function(e,t,n){var r=n(65338),o=n(12825),a=n(68286),s=n(86152);e.exports=function(e,t){return function(n,u){var c=s(n)?r:o,l=t?t():{};return c(n,e,a(u,2),l)}}},97263:function(e,t,n){var r=n(36060),o=n(82406);e.exports=function(e){return r(function(t,n){var r=-1,a=n.length,s=a>1?n[a-1]:void 0,u=a>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(a--,s):void 0,u&&o(n[0],n[1],u)&&(s=a<3?void 0:s,a=1),t=Object(t);++r<a;){var c=n[r];c&&e(t,c,r,s)}return t})}},92019:function(e,t,n){var r=n(67878);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var a=n.length,s=t?a:-1,u=Object(n);(t?s--:++s<a)&&!1!==o(u[s],s,u););return n}}},55463:function(e){e.exports=function(e){return function(t,n,r){for(var o=-1,a=Object(t),s=r(t),u=s.length;u--;){var c=s[e?u:++o];if(!1===n(a[c],c,a))break}return t}}},83126:function(e,t,n){var r=n(23895),o=n(33880),a=n(8435),s=n(66188);e.exports=function(e){return function(t){var n=o(t=s(t))?a(t):void 0,u=n?n[0]:t.charAt(0),c=n?r(n,1).join(""):t.slice(1);return u[e]()+c}}},78803:function(e,t,n){var r=n(2143),o=n(34291),a=n(16909),s=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:o;e.exports=s},48642:function(e,t,n){var r=n(97030);e.exports=function(e){return r(e)?void 0:e}},83043:function(e,t,n){var r=n(38761),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},74871:function(e,t,n){var r=n(45386),o=n(87064),a=n(59950);e.exports=function(e,t,n,s,u,c){var l=1&n,A=e.length,d=t.length;if(A!=d&&!(l&&d>A))return!1;var f=c.get(e),h=c.get(t);if(f&&h)return f==t&&h==e;var p=-1,g=!0,v=2&n?new r:void 0;for(c.set(e,t),c.set(t,e);++p<A;){var m=e[p],y=t[p];if(s)var b=l?s(y,m,p,t,e,c):s(m,y,p,e,t,c);if(void 0!==b){if(b)continue;g=!1;break}if(v){if(!o(t,function(e,t){if(!a(v,t)&&(m===e||u(m,e,n,s,c)))return v.push(t)})){g=!1;break}}else if(!(m===y||u(m,y,n,s,c))){g=!1;break}}return c.delete(e),c.delete(t),g}},11491:function(e,t,n){var r=n(50857),o=n(79162),a=n(41225),s=n(74871),u=n(75179),c=n(16909),l=r?r.prototype:void 0,A=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,d,f){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!d(new o(e),new o(t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=u;case"[object Set]":var p=1&r;if(h||(h=c),e.size!=t.size&&!p)break;var g=f.get(e);if(g)return g==t;r|=2,f.set(e,t);var v=s(h(e),h(t),r,l,d,f);return f.delete(e),v;case"[object Symbol]":if(A)return A.call(e)==A.call(t)}return!1}},17416:function(e,t,n){var r=n(13483),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,u){var c=1&n,l=r(e),A=l.length;if(A!=r(t).length&&!c)return!1;for(var d=A;d--;){var f=l[d];if(!(c?f in t:o.call(t,f)))return!1}var h=u.get(e),p=u.get(t);if(h&&p)return h==t&&p==e;var g=!0;u.set(e,t),u.set(t,e);for(var v=c;++d<A;){var m=e[f=l[d]],y=t[f];if(a)var b=c?a(y,m,f,t,e,u):a(m,y,f,e,t,u);if(!(void 0===b?m===y||s(m,y,n,a,u):b)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var w=e.constructor,_=t.constructor;w!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _)&&(g=!1)}return u.delete(e),u.delete(t),g}},29097:function(e,t,n){var r=n(35676),o=n(43114),a=n(75251);e.exports=function(e){return a(o(e,void 0,r),e+"")}},51242:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},13483:function(e,t,n){var r=n(1897),o=n(80633),a=n(90249);e.exports=function(e){return r(e,a,o)}},76939:function(e,t,n){var r=n(1897),o=n(12680),a=n(18582);e.exports=function(e){return r(e,a,o)}},27937:function(e,t,n){var r=n(98304);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},49882:function(e,t,n){var r=n(28792),o=n(90249);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var a=t[n],s=e[a];t[n]=[a,s,r(s)]}return t}},38761:function(e,t,n){var r=n(6840),o=n(98109);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},47353:function(e,t,n){var r=n(60241)(Object.getPrototypeOf,Object);e.exports=r},62107:function(e,t,n){var r=n(50857),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var o=s.call(e);return r&&(t?e[u]=n:delete e[u]),o}},80633:function(e,t,n){var r=n(67552),o=n(30981),a=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(e){return null==e?[]:r(s(e=Object(e)),function(t){return a.call(e,t)})}:o;e.exports=u},12680:function(e,t,n){var r=n(65067),o=n(47353),a=n(80633),s=n(30981),u=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,a(e)),e=o(e);return t}:s;e.exports=u},70940:function(e,t,n){var r=n(39515),o=n(10326),a=n(52760),s=n(2143),u=n(93215),c=n(53366),l=n(87035),A="[object Map]",d="[object Promise]",f="[object Set]",h="[object WeakMap]",p="[object DataView]",g=l(r),v=l(o),m=l(a),y=l(s),b=l(u),w=c;(r&&w(new r(new ArrayBuffer(1)))!=p||o&&w(new o)!=A||a&&w(a.resolve())!=d||s&&w(new s)!=f||u&&w(new u)!=h)&&(w=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case g:return p;case v:return A;case m:return d;case y:return f;case b:return h}return t}),e.exports=w},98109:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},1369:function(e,t,n){var r=n(17297),o=n(79631),a=n(86152),s=n(39045),u=n(61158),c=n(33812);e.exports=function(e,t,n){t=r(t,e);for(var l=-1,A=t.length,d=!1;++l<A;){var f=c(t[l]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++l!=A?d:!!(A=null==e?0:e.length)&&u(A)&&s(f,A)&&(a(e)||o(e))}},33880:function(e){var t=RegExp("[\\u200d\ud800-\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},52118:function(e,t,n){var r=n(99191);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},96909:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},98138:function(e,t,n){var r=n(99191),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},4174:function(e,t,n){var r=n(99191),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},7942:function(e,t,n){var r=n(99191);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},99917:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},8222:function(e,t,n){var r=n(79882),o=n(34727),a=n(96058),s=n(70169),u=n(6190);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return a(e);case"[object Symbol]":return s(e)}}},78725:function(e,t,n){var r=n(39413),o=n(47353),a=n(16001);e.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(o(e))}},95882:function(e,t,n){var r=n(50857),o=n(79631),a=n(86152),s=r?r.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||o(e)||!!(s&&e&&e[s])}},39045:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},82406:function(e,t,n){var r=n(41225),o=n(67878),a=n(39045),s=n(29259);e.exports=function(e,t,n){if(!s(n))return!1;var u=typeof t;return("number"==u?!!(o(n)&&a(t,n.length)):"string"==u&&t in n)&&r(n[t],e)}},21401:function(e,t,n){var r=n(86152),o=n(4795),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!!("number"==n||"symbol"==n||"boolean"==n||null==e||o(e))||s.test(e)||!a.test(e)||null!=t&&e in Object(t)}},98304:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},47394:function(e,t,n){var r,o=n(24019),a=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!a&&a in e}},16001:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},28792:function(e,t,n){var r=n(29259);e.exports=function(e){return e==e&&!r(e)}},3945:function(e){e.exports=function(){this.__data__=[],this.size=0}},21846:function(e,t,n){var r=n(22218),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},88028:function(e,t,n){var r=n(22218);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},72344:function(e,t,n){var r=n(22218);e.exports=function(e){return r(this.__data__,e)>-1}},94769:function(e,t,n){var r=n(22218);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},92411:function(e,t,n){var r=n(89612),o=n(80235),a=n(10326);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},36417:function(e,t,n){var r=n(27937);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},86928:function(e,t,n){var r=n(27937);e.exports=function(e){return r(this,e).get(e)}},79493:function(e,t,n){var r=n(27937);e.exports=function(e){return r(this,e).has(e)}},24150:function(e,t,n){var r=n(27937);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},75179:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},73477:function(e){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},77777:function(e,t,n){var r=n(30733);e.exports=function(e){var t=r(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}},99191:function(e,t,n){var r=n(38761)(Object,"create");e.exports=r},54248:function(e,t,n){var r=n(60241)(Object.keys,Object);e.exports=r},62966:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},4146:function(e,t,n){e=n.nmd(e);var r=n(51242),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o&&r.process,u=function(){try{var e=a&&a.require&&a.require("util").types;if(e)return e;return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=u},37157:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},60241:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},43114:function(e,t,n){var r=n(49432),o=Math.max;e.exports=function(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var a=arguments,s=-1,u=o(a.length-t,0),c=Array(u);++s<u;)c[s]=a[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=a[s];return l[t]=n(c),r(e,this,l)}}},62721:function(e,t,n){var r=n(13324),o=n(39872);e.exports=function(e,t){return t.length<2?e:r(e,o(t,0,-1))}},37772:function(e,t,n){var r=n(51242),o="object"==typeof self&&self&&self.Object===Object&&self,a=r||o||Function("return this")();e.exports=a},52434:function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},52842:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},52482:function(e){e.exports=function(e){return this.__data__.has(e)}},16909:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},75251:function(e,t,n){var r=n(86532),o=n(97787)(r);e.exports=o},97787:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var o=t(),a=16-(o-r);if(r=o,a>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},15243:function(e,t,n){var r=n(80235);e.exports=function(){this.__data__=new r,this.size=0}},72858:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},4417:function(e){e.exports=function(e){return this.__data__.get(e)}},8605:function(e){e.exports=function(e){return this.__data__.has(e)}},71418:function(e,t,n){var r=n(80235),o=n(10326),a=n(96738);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(s)}return n.set(e,t),this.size=n.size,this}},66024:function(e){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return -1}},8435:function(e,t,n){var r=n(50217),o=n(33880),a=n(63344);e.exports=function(e){return o(e)?a(e):r(e)}},54452:function(e,t,n){var r=n(77777),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,s=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,function(e,n,r,o){t.push(r?o.replace(a,"$1"):n||e)}),t});e.exports=s},33812:function(e,t,n){var r=n(4795),o=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}},87035:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},52153:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},63344:function(e){var t="\ud800-\udfff",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\ud83c[\udffb-\udfff]",o="[^"+t+"]",a="(?:\ud83c[\udde6-\uddff]){2}",s="[\ud800-\udbff][\udc00-\udfff]",u="(?:"+n+"|"+r+")?",c="[\\ufe0e\\ufe0f]?",l="(?:\\u200d(?:"+[o,a,s].join("|")+")"+c+u+")*",A=RegExp(r+"(?="+r+")|(?:"+[o+n+"?",n,a,s,"["+t+"]"].join("|")+")"+(c+u+l),"g");e.exports=function(e){return e.match(A)||[]}},82108:function(e,t,n){var r=n(66188),o=n(23779);e.exports=function(e){return o(r(e).toLowerCase())}},93586:function(e,t,n){var r=n(39872),o=n(82406),a=n(38101),s=Math.ceil,u=Math.max;e.exports=function(e,t,n){t=(n?o(e,t,n):void 0===t)?1:u(a(t),0);var c=null==e?0:e.length;if(!c||t<1)return[];for(var l=0,A=0,d=Array(s(c/t));l<c;)d[A++]=r(e,l,l+=t);return d}},27875:function(e,t,n){var r=n(14034),o=n(7642);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=o(n))==n?n:0),void 0!==t&&(t=(t=o(t))==t?t:0),r(o(e),t,n)}},9850:function(e,t,n){var r=n(18874);e.exports=function(e){return r(e,5)}},60417:function(e){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var a=e[t];a&&(o[r++]=a)}return o}},86874:function(e){e.exports=function(e){return function(){return e}}},54073:function(e,t,n){var r=n(29259),o=n(61100),a=n(7642),s=Math.max,u=Math.min;e.exports=function(e,t,n){var c,l,A,d,f,h,p=0,g=!1,v=!1,m=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var n=c,r=l;return c=l=void 0,p=t,d=e.apply(r,n)}function b(e){var n=e-h,r=e-p;return void 0===h||n>=t||n<0||v&&r>=A}function w(){var e,n,r,a=o();if(b(a))return _(a);f=setTimeout(w,(e=a-h,n=a-p,r=t-e,v?u(r,A-n):r))}function _(e){return(f=void 0,m&&c)?y(e):(c=l=void 0,d)}function E(){var e,n=o(),r=b(n);if(c=arguments,l=this,h=n,r){if(void 0===f)return p=e=h,f=setTimeout(w,t),g?y(e):d;if(v)return clearTimeout(f),f=setTimeout(w,t),y(h)}return void 0===f&&(f=setTimeout(w,t)),d}return t=a(t)||0,r(n)&&(g=!!n.leading,A=(v="maxWait"in n)?s(a(n.maxWait)||0,t):A,m="trailing"in n?!!n.trailing:m),E.cancel=function(){void 0!==f&&clearTimeout(f),p=0,c=h=l=f=void 0},E.flush=function(){return void 0===f?d:_(o())},E}},79421:function(e,t,n){e.exports=n(59756)},41225:function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},12982:function(e,t,n){var r=n(21359),o=n(68286),a=n(38101),s=Math.max;e.exports=function(e,t,n){var u=null==e?0:e.length;if(!u)return -1;var c=null==n?0:a(n);return c<0&&(c=s(u+c,0)),r(e,o(t,3),c)}},35676:function(e,t,n){var r=n(62034);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},59756:function(e,t,n){var r=n(72517),o=n(24303),a=n(89419),s=n(86152);e.exports=function(e,t){return(s(e)?r:o)(e,a(t))}},10017:function(e){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r}},72579:function(e,t,n){var r=n(13324);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},95041:function(e,t,n){var r=n(20187),o=n(1369);e.exports=function(e,t){return null!=e&&o(e,t,r)}},23059:function(e){e.exports=function(e){return e}},79631:function(e,t,n){var r=n(15183),o=n(15125),a=Object.prototype,s=a.hasOwnProperty,u=a.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&s.call(e,"callee")&&!u.call(e,"callee")};e.exports=c},86152:function(e){var t=Array.isArray;e.exports=t},67878:function(e,t,n){var r=n(61049),o=n(61158);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},93746:function(e,t,n){var r=n(67878),o=n(15125);e.exports=function(e){return o(e)&&r(e)}},73226:function(e,t,n){e=n.nmd(e);var r=n(37772),o=n(79207),a=t&&!t.nodeType&&t,s=a&&e&&!e.nodeType&&e,u=s&&s.exports===a?r.Buffer:void 0,c=u?u.isBuffer:void 0;e.exports=c||o},45455:function(e,t,n){var r=n(86411),o=n(70940),a=n(79631),s=n(86152),u=n(67878),c=n(73226),l=n(16001),A=n(77598),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(u(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||A(e)||a(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},18149:function(e,t,n){var r=n(88746);e.exports=function(e,t){return r(e,t)}},61049:function(e,t,n){var r=n(53366),o=n(29259);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},61158:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},4714:function(e,t,n){var r=n(74511),o=n(47826),a=n(4146),s=a&&a.isMap,u=s?o(s):r;e.exports=u},61726:function(e,t,n){var r=n(37036),o=n(49882);e.exports=function(e,t){return e===t||r(e,t,o(t))}},29259:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},15125:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},97030:function(e,t,n){var r=n(53366),o=n(47353),a=n(15125),s=Object.prototype,u=Function.prototype.toString,c=s.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=r(e))return!1;var t=o(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},43679:function(e,t,n){var r=n(8109),o=n(47826),a=n(4146),s=a&&a.isSet,u=s?o(s):r;e.exports=u},4795:function(e,t,n){var r=n(53366),o=n(15125);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},77598:function(e,t,n){var r=n(35522),o=n(47826),a=n(4146),s=a&&a.isTypedArray,u=s?o(s):r;e.exports=u},87622:function(e,t,n){var r=n(13940),o=n(36740)(function(e,t,n){r(e,n,t)});e.exports=o},90249:function(e,t,n){var r=n(1634),o=n(86411),a=n(67878);e.exports=function(e){return a(e)?r(e):o(e)}},18582:function(e,t,n){var r=n(1634),o=n(18390),a=n(67878);e.exports=function(e){return a(e)?r(e,!0):o(e)}},56974:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},34519:function(e,t,n){var r=n(13940),o=n(26548),a=n(68286);e.exports=function(e,t){var n={};return t=a(t,3),o(e,function(e,o,a){r(n,o,t(e,o,a))}),n}},45126:function(e,t,n){var r=n(18874),o=n(26423);e.exports=function(e){return o(r(e,1))}},55324:function(e,t,n){var r=n(2229),o=n(84134),a=n(68286);e.exports=function(e,t){return e&&e.length?r(e,a(t,2),o):void 0}},30733:function(e,t,n){var r=n(96738);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var s=e.apply(this,r);return n.cache=a.set(o,s)||a,s};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},98537:function(e,t,n){var r=n(84565),o=n(97263)(function(e,t,n){r(e,t,n)});e.exports=o},12782:function(e,t,n){var r=n(84565),o=n(97263)(function(e,t,n,o){r(e,t,n,o)});e.exports=o},34291:function(e){e.exports=function(){}},61100:function(e,t,n){var r=n(37772);e.exports=function(){return r.Date.now()}},17620:function(e,t,n){var r=n(50343),o=n(18874),a=n(29078),s=n(17297),u=n(752),c=n(48642),l=n(29097),A=n(76939),d=l(function(e,t){var n={};if(null==e)return n;var l=!1;t=r(t,function(t){return t=s(t,e),l||(l=t.length>1),t}),u(e,A(e),n),l&&(n=o(n,7,c));for(var d=t.length;d--;)a(n,t[d]);return n});e.exports=d},96795:function(e,t,n){var r=n(36740)(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});e.exports=r},65798:function(e,t,n){var r=n(20256),o=n(82952),a=n(21401),s=n(33812);e.exports=function(e){return a(e)?r(s(e)):o(e)}},62349:function(e,t,n){var r=n(5809),o=n(82406),a=n(5707),s=parseFloat,u=Math.min,c=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&o(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=a(e),void 0===t?(t=e,e=0):t=a(t)),e>t){var l=e;e=t,t=l}if(n||e%1||t%1){var A=c();return u(e+A*(t-e+s("1e-"+((A+"").length-1))),t)}return r(e,t)}},4742:function(e,t,n){var r=n(33977),o=n(46543),a=n(86152);e.exports=function(e){return(a(e)?r:o)(e)}},30981:function(e){e.exports=function(){return[]}},79207:function(e){e.exports=function(){return!1}},12436:function(e,t,n){var r=n(54073),o=n(29259);e.exports=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw TypeError("Expected a function");return o(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:t,trailing:s})}},61258:function(e,t,n){var r=n(36473),o=n(89419),a=n(38101),s=Math.min;e.exports=function(e,t){if((e=a(e))<1||e>9007199254740991)return[];var n=4294967295,u=s(e,4294967295);t=o(t),e-=4294967295;for(var c=r(u,t);++n<e;)t(n);return c}},5707:function(e,t,n){var r=n(7642),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-o?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}},38101:function(e,t,n){var r=n(5707);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},7642:function(e,t,n){var r=n(51704),o=n(29259),a=n(4795),s=0/0,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,A=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return s;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||l.test(e)?A(e.slice(2),n?2:8):u.test(e)?s:+e}},63329:function(e,t,n){var r=n(752),o=n(18582);e.exports=function(e){return r(e,o(e))}},66188:function(e,t,n){var r=n(1054);e.exports=function(e){return null==e?"":r(e)}},75652:function(e,t,n){var r=n(67326);e.exports=function(e){return e&&e.length?r(e):[]}},23779:function(e,t,n){var r=n(83126)("toUpperCase");e.exports=r},98346:function(e,t,n){var r=n(50753),o=n(90249);e.exports=function(e){return null==e?[]:r(e,o(e))}},67304:function(e,t,n){var r=n(85246),o=n(36060),a=n(93746),s=o(function(e,t){return a(e)?r(e,t):[]});e.exports=s},68762:function(e,t,n){var r,o,a,s,u;r=n(19562),o=n(5792).utf8,a=n(16656),s=n(5792).bin,(u=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?s.stringToBytes(e):o.stringToBytes(e):a(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var n=r.bytesToWords(e),c=8*e.length,l=1732584193,A=-271733879,d=-1732584194,f=271733878,h=0;h<n.length;h++)n[h]=(n[h]<<8|n[h]>>>24)&16711935|(n[h]<<24|n[h]>>>8)&4278255360;n[c>>>5]|=128<<c%32,n[(c+64>>>9<<4)+14]=c;for(var p=u._ff,g=u._gg,v=u._hh,m=u._ii,h=0;h<n.length;h+=16){var y=l,b=A,w=d,_=f;l=p(l,A,d,f,n[h+0],7,-680876936),f=p(f,l,A,d,n[h+1],12,-389564586),d=p(d,f,l,A,n[h+2],17,606105819),A=p(A,d,f,l,n[h+3],22,-1044525330),l=p(l,A,d,f,n[h+4],7,-176418897),f=p(f,l,A,d,n[h+5],12,1200080426),d=p(d,f,l,A,n[h+6],17,-1473231341),A=p(A,d,f,l,n[h+7],22,-45705983),l=p(l,A,d,f,n[h+8],7,1770035416),f=p(f,l,A,d,n[h+9],12,-1958414417),d=p(d,f,l,A,n[h+10],17,-42063),A=p(A,d,f,l,n[h+11],22,-1990404162),l=p(l,A,d,f,n[h+12],7,1804603682),f=p(f,l,A,d,n[h+13],12,-40341101),d=p(d,f,l,A,n[h+14],17,-1502002290),A=p(A,d,f,l,n[h+15],22,1236535329),l=g(l,A,d,f,n[h+1],5,-165796510),f=g(f,l,A,d,n[h+6],9,-1069501632),d=g(d,f,l,A,n[h+11],14,643717713),A=g(A,d,f,l,n[h+0],20,-373897302),l=g(l,A,d,f,n[h+5],5,-701558691),f=g(f,l,A,d,n[h+10],9,38016083),d=g(d,f,l,A,n[h+15],14,-660478335),A=g(A,d,f,l,n[h+4],20,-405537848),l=g(l,A,d,f,n[h+9],5,568446438),f=g(f,l,A,d,n[h+14],9,-1019803690),d=g(d,f,l,A,n[h+3],14,-187363961),A=g(A,d,f,l,n[h+8],20,1163531501),l=g(l,A,d,f,n[h+13],5,-1444681467),f=g(f,l,A,d,n[h+2],9,-51403784),d=g(d,f,l,A,n[h+7],14,1735328473),A=g(A,d,f,l,n[h+12],20,-1926607734),l=v(l,A,d,f,n[h+5],4,-378558),f=v(f,l,A,d,n[h+8],11,-2022574463),d=v(d,f,l,A,n[h+11],16,1839030562),A=v(A,d,f,l,n[h+14],23,-35309556),l=v(l,A,d,f,n[h+1],4,-1530992060),f=v(f,l,A,d,n[h+4],11,1272893353),d=v(d,f,l,A,n[h+7],16,-155497632),A=v(A,d,f,l,n[h+10],23,-1094730640),l=v(l,A,d,f,n[h+13],4,681279174),f=v(f,l,A,d,n[h+0],11,-358537222),d=v(d,f,l,A,n[h+3],16,-722521979),A=v(A,d,f,l,n[h+6],23,76029189),l=v(l,A,d,f,n[h+9],4,-640364487),f=v(f,l,A,d,n[h+12],11,-421815835),d=v(d,f,l,A,n[h+15],16,530742520),A=v(A,d,f,l,n[h+2],23,-995338651),l=m(l,A,d,f,n[h+0],6,-198630844),f=m(f,l,A,d,n[h+7],10,1126891415),d=m(d,f,l,A,n[h+14],15,-1416354905),A=m(A,d,f,l,n[h+5],21,-57434055),l=m(l,A,d,f,n[h+12],6,1700485571),f=m(f,l,A,d,n[h+3],10,-1894986606),d=m(d,f,l,A,n[h+10],15,-1051523),A=m(A,d,f,l,n[h+1],21,-2054922799),l=m(l,A,d,f,n[h+8],6,1873313359),f=m(f,l,A,d,n[h+15],10,-30611744),d=m(d,f,l,A,n[h+6],15,-1560198380),A=m(A,d,f,l,n[h+13],21,1309151649),l=m(l,A,d,f,n[h+4],6,-145523070),f=m(f,l,A,d,n[h+11],10,-1120210379),d=m(d,f,l,A,n[h+2],15,718787259),A=m(A,d,f,l,n[h+9],21,-343485551),l=l+y>>>0,A=A+b>>>0,d=d+w>>>0,f=f+_>>>0}return r.endian([l,A,d,f])})._ff=function(e,t,n,r,o,a,s){var u=e+(t&n|~t&r)+(o>>>0)+s;return(u<<a|u>>>32-a)+t},u._gg=function(e,t,n,r,o,a,s){var u=e+(t&r|n&~r)+(o>>>0)+s;return(u<<a|u>>>32-a)+t},u._hh=function(e,t,n,r,o,a,s){var u=e+(t^n^r)+(o>>>0)+s;return(u<<a|u>>>32-a)+t},u._ii=function(e,t,n,r,o,a,s){var u=e+(n^(t|~r))+(o>>>0)+s;return(u<<a|u>>>32-a)+t},u._blocksize=16,u._digestsize=16,e.exports=function(e,t){if(null==e)throw Error("Illegal argument "+e);var n=r.wordsToBytes(u(e,t));return t&&t.asBytes?n:t&&t.asString?s.bytesToString(n):r.bytesToHex(n)}},16656:function(e){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */e.exports=function(e){return null!=e&&(t(e)||"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))||!!e._isBuffer)}},27495:function(e,t,n){var r;!function(o,a,s){if(o){for(var u,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},A={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},f=1;f<20;++f)c[111+f]="f"+f;for(f=0;f<=9;++f)c[f+96]=f.toString();m.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},m.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},m.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},m.prototype.reset=function(){return this._callbacks={},this._directMap={},this},m.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1||function e(t,n){return null!==t&&t!==a&&(t===n||e(t.parentNode,n))}(t,this.target))return!1;if("composedPath"in e&&"function"==typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},m.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},m.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(c[t]=e[t]);u=null},m.init=function(){var e=m(a);for(var t in e)"_"!==t.charAt(0)&&(m[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},m.init(),o.Mousetrap=m,e.exports&&(e.exports=m),s!==(r=(function(){return m}).call(t,n,t,e))&&(e.exports=r)}function h(e,t,n){if(e.addEventListener){e.addEventListener(t,n,!1);return}e.attachEvent("on"+t,n)}function p(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return c[e.which]?c[e.which]:l[e.which]?l[e.which]:String.fromCharCode(e.which).toLowerCase()}function g(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function v(e,t){var n,r,o,a,s,l,f=[];for(l=0,a="+"===(n=e)?["+"]:(n=n.replace(/\+{2}/g,"+plus")).split("+");l<a.length;++l)d[s=a[l]]&&(s=d[s]),t&&"keypress"!=t&&A[s]&&(s=A[s],f.push("shift")),g(s)&&f.push(s);return r=s,(o=t)||(o=function(){if(!u)for(var e in u={},c)(!(e>95)||!(e<112))&&c.hasOwnProperty(e)&&(u[c[e]]=e);return u}()[r]?"keydown":"keypress"),"keypress"==o&&f.length&&(o="keydown"),{key:s,modifiers:f,action:t=o}}function m(e){var t,n=this;if(e=e||a,!(n instanceof m))return new m(e);n.target=e,n._callbacks={},n._directMap={};var r={},o=!1,s=!1,u=!1;function c(e){e=e||{};var t,n=!1;for(t in r){if(e[t]){n=!0;continue}r[t]=0}n||(u=!1)}function l(e,t,o,a,s,u){var c,l,A=[],d=o.type;if(!n._callbacks[e])return[];for("keyup"==d&&g(e)&&(t=[e]),c=0;c<n._callbacks[e].length;++c)if(l=n._callbacks[e][c],(a||!l.seq||r[l.seq]==l.level)&&d==l.action&&("keypress"==d&&!o.metaKey&&!o.ctrlKey||(f=t,h=l.modifiers,f.sort().join(",")===h.sort().join(",")))){var f,h,p=!a&&l.combo==s,v=a&&l.seq==a&&l.level==u;(p||v)&&n._callbacks[e].splice(c,1),A.push(l)}return A}function A(e,t,r,o){n.stopCallback(t,t.target||t.srcElement,r,o)||!1!==e(t,r)||(!function(e){if(e.preventDefault){e.preventDefault();return}e.returnValue=!1}(t),function(e){if(e.stopPropagation){e.stopPropagation();return}e.cancelBubble=!0}(t))}function d(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t,r=p(e);if(r){if("keyup"==e.type&&o===r){o=!1;return}n.handleKey(r,(t=[],e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t),e)}}n._handleKey=function(e,t,n){var r,o=l(e,t,n),a={},d=0,f=!1;for(r=0;r<o.length;++r)o[r].seq&&(d=Math.max(d,o[r].level));for(r=0;r<o.length;++r){if(o[r].seq){if(o[r].level!=d)continue;f=!0,a[o[r].seq]=1,A(o[r].callback,n,o[r].combo,o[r].seq);continue}f||A(o[r].callback,n,o[r].combo)}var h="keypress"==n.type&&s;n.type!=u||g(e)||h||c(a),s=f&&"keydown"==n.type},n._bindMultiple=function(e,a,s){for(var d=0;d<e.length;++d)(function e(a,s,d,f,h){n._directMap[a+":"+d]=s;var g,m=(a=a.replace(/\s+/g," ")).split(" ");if(m.length>1){!function(n,a,s,l){function d(e){A(s,e,n),"keyup"!==l&&(o=p(e)),setTimeout(c,10)}r[n]=0;for(var f=0;f<a.length;++f){var h=f+1===a.length?d:function(e){return function(){u=e,++r[n],clearTimeout(t),t=setTimeout(c,1e3)}}(l||v(a[f+1]).action);e(a[f],h,l,n,f)}}(a,m,s,d);return}g=v(a,d),n._callbacks[g.key]=n._callbacks[g.key]||[],l(g.key,g.modifiers,{type:g.action},f,a,h),n._callbacks[g.key][f?"unshift":"push"]({callback:s,modifiers:g.modifiers,action:g.action,seq:f,level:h,combo:a})})(e[d],a,s)},h(e,"keypress",d),h(e,"keydown",d),h(e,"keyup",d)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},86077:function(e){!function(){function t(e,t){var n,r,o,a,s,u;for(n=3&e.length,r=e.length-n,o=t,u=0;u<r;)s=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,o^=s=(65535&(s=(s=(65535&s)*3432918353+(((s>>>16)*3432918353&65535)<<16)&4294967295)<<15|s>>>17))*461845907+(((s>>>16)*461845907&65535)<<16)&4294967295,o=(65535&(a=(65535&(o=o<<13|o>>>19))*5+(((o>>>16)*5&65535)<<16)&4294967295))+27492+(((a>>>16)+58964&65535)<<16);switch(s=0,n){case 3:s^=(255&e.charCodeAt(u+2))<<16;case 2:s^=(255&e.charCodeAt(u+1))<<8;case 1:s^=255&e.charCodeAt(u),o^=s=(65535&(s=(s=(65535&s)*3432918353+(((s>>>16)*3432918353&65535)<<16)&4294967295)<<15|s>>>17))*461845907+(((s>>>16)*461845907&65535)<<16)&4294967295}return o^=e.length,o^=o>>>16,o=(65535&o)*2246822507+(((o>>>16)*2246822507&65535)<<16)&4294967295,o^=o>>>13,o=(65535&o)*3266489909+(((o>>>16)*3266489909&65535)<<16)&4294967295,(o^=o>>>16)>>>0}t.v2=function(e,t){for(var n,r=e.length,o=t^r,a=0;r>=4;)n=(65535&(n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))*1540483477+(((n>>>16)*1540483477&65535)<<16),n^=n>>>24,o=(65535&o)*1540483477+(((o>>>16)*1540483477&65535)<<16)^(n=(65535&n)*1540483477+(((n>>>16)*1540483477&65535)<<16)),r-=4,++a;switch(r){case 3:o^=(255&e.charCodeAt(a+2))<<16;case 2:o^=(255&e.charCodeAt(a+1))<<8;case 1:o^=255&e.charCodeAt(a),o=(65535&o)*1540483477+(((o>>>16)*1540483477&65535)<<16)}return o^=o>>>13,o=(65535&o)*1540483477+(((o>>>16)*1540483477&65535)<<16),(o^=o>>>15)>>>0},t.v3=t,e.exports=t}()},12041:function(e,t,n){e.exports=n(88381)},86570:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(93041)}])},65253:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDomainLocale=function(e,t,n,r){return!1},("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},90162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(54566).Z;n(19178).default,Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(23903).Z,a=n(15154).Z,s=o(n(2784)),u=n(29918),c=n(94400),l=n(33220),A=n(64069),d=n(22030),f=n(65253),h=n(73952),p={};function g(e,t,n,r){if(e&&u.isLocalURL(t)){Promise.resolve(e.prefetch(t,n,r)).catch(function(e){});var o=r&&void 0!==r.locale?r.locale:e&&e.locale;p[t+"%"+n+(o?"%"+o:"")]=!0}}var v=/*#__PURE__*/s.default.forwardRef(function(e,t){var n,o,v=e.href,m=e.as,y=e.children,b=e.prefetch,w=e.passHref,_=e.replace,E=e.shallow,C=e.scroll,B=e.locale,I=e.onClick,x=e.onMouseEnter,T=e.onTouchStart,S=e.legacyBehavior,k=void 0===S||S,D=a(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter","onTouchStart","legacyBehavior"]);n=y,k&&("string"==typeof n||"number"==typeof n)&&(n=/*#__PURE__*/s.default.createElement("a",null,n));var N=!1!==b,O=s.default.useContext(l.RouterContext),F=s.default.useContext(A.AppRouterContext);F&&(O=F);var R=s.default.useMemo(function(){var e=r(u.resolveHref(O,v,!0),2),t=e[0],n=e[1];return{href:t,as:m?u.resolveHref(O,m):n||t}},[O,v,m]),L=R.href,M=R.as,P=s.default.useRef(L),U=s.default.useRef(M);k&&(o=s.default.Children.only(n));var j=k?o&&"object"==typeof o&&o.ref:t,Z=r(d.useIntersection({rootMargin:"200px"}),3),Q=Z[0],H=Z[1],V=Z[2],K=s.default.useCallback(function(e){(U.current!==M||P.current!==L)&&(V(),U.current=M,P.current=L),Q(e),j&&("function"==typeof j?j(e):"object"==typeof j&&(j.current=e))},[M,j,L,V,Q]);s.default.useEffect(function(){var e=H&&N&&u.isLocalURL(L),t=void 0!==B?B:O&&O.locale,n=p[L+"%"+M+(t?"%"+t:"")];e&&!n&&g(O,L,M,{locale:t})},[M,L,H,B,N,O]);var z={ref:K,onClick:function(e){k||"function"!=typeof I||I(e),k&&o.props&&"function"==typeof o.props.onClick&&o.props.onClick(e),e.defaultPrevented||function(e,t,n,r,o,a,c,l,A,d){if("A"!==e.currentTarget.nodeName.toUpperCase()||(!(f=e.currentTarget.target)||"_self"===f)&&!e.metaKey&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&(!e.nativeEvent||2!==e.nativeEvent.which)&&u.isLocalURL(n)){e.preventDefault();var f,h=function(){"beforePopState"in t?t[o?"replace":"push"](n,r,{shallow:a,locale:l,scroll:c}):t[o?"replace":"push"](n,{forceOptimisticNavigation:!d})};A?s.default.startTransition(h):h()}}(e,O,L,M,_,E,C,B,!!F,N)},onMouseEnter:function(e){k||"function"!=typeof x||x(e),k&&o.props&&"function"==typeof o.props.onMouseEnter&&o.props.onMouseEnter(e),!(!N&&F)&&u.isLocalURL(L)&&g(O,L,M,{priority:!0})},onTouchStart:function(e){k||"function"!=typeof T||T(e),k&&o.props&&"function"==typeof o.props.onTouchStart&&o.props.onTouchStart(e),!(!N&&F)&&u.isLocalURL(L)&&g(O,L,M,{priority:!0})}};if(!k||w||"a"===o.type&&!("href"in o.props)){var G=void 0!==B?B:O&&O.locale,W=O&&O.isLocaleDomain&&f.getDomainLocale(M,G,O.locales,O.domainLocales);z.href=W||h.addBasePath(c.addLocale(M,G,O&&O.defaultLocale))}return k?/*#__PURE__*/s.default.cloneElement(o,z):/*#__PURE__*/s.default.createElement("a",Object.assign({},D,z),n)});t.default=v,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},22030:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(54566).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,n=e.rootMargin,l=e.disabled||!s,A=r(o.useState(!1),2),d=A[0],f=A[1],h=r(o.useState(null),2),p=h[0],g=h[1];return o.useEffect(function(){if(s){if(!l&&!d&&p&&p.tagName){var e,r,o,A,h;return e=function(e){return e&&f(e)},o=(r=function(e){var t,n={root:e.root||null,margin:e.rootMargin||""},r=c.find(function(e){return e.root===n.root&&e.margin===n.margin});if(r&&(t=u.get(r)))return t;var o=new Map;return t={id:n,observer:new IntersectionObserver(function(e){e.forEach(function(e){var t=o.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)})},e),elements:o},c.push(n),u.set(n,t),t}({root:null==t?void 0:t.current,rootMargin:n})).id,A=r.observer,(h=r.elements).set(p,e),A.observe(p),function(){if(h.delete(p),A.unobserve(p),0===h.size){A.disconnect(),u.delete(o);var e=c.findIndex(function(e){return e.root===o.root&&e.margin===o.margin});e>-1&&c.splice(e,1)}}}}else if(!d){var g=a.requestIdleCallback(function(){return f(!0)});return function(){return a.cancelIdleCallback(g)}}},[p,l,n,t,d]),[g,d,o.useCallback(function(){f(!1)},[])]};var o=n(2784),a=n(49071),s="function"==typeof IntersectionObserver,u=new Map,c=[];("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},64069:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TemplateContext=t.GlobalLayoutRouterContext=t.LayoutRouterContext=t.AppRouterContext=void 0;var r=(0,n(23903).Z)(n(2784)),o=r.default.createContext(null);t.AppRouterContext=o;var a=r.default.createContext(null);t.LayoutRouterContext=a;var s=r.default.createContext(null);t.GlobalLayoutRouterContext=s;var u=r.default.createContext(null);t.TemplateContext=u},95805:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(70237).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=s.default,a=(null==t?void 0:t.suspense)?{}:{loading:function(e){return e.error,e.isLoading,e.pastDelay,null}};if(r(e,Promise)?a.loader=function(){return e}:"function"==typeof e?a.loader=e:"object"==typeof e&&(a=o({},a,e)),(a=o({},a,t)).suspense)throw Error("Invalid suspense option usage in next/dynamic. Read more: https://nextjs.org/docs/messages/invalid-dynamic-suspense");if(a.suspense&&(delete a.ssr,delete a.loading),a.loadableGenerated&&(a=o({},a,a.loadableGenerated),delete a.loadableGenerated),"boolean"==typeof a.ssr&&!a.suspense){if(!a.ssr)return delete a.ssr,u(n,a);delete a.ssr}return n(a)},t.noSSR=u;var o=n(59419).Z,a=n(23903).Z,s=(a(n(2784)),a(n(42060)));function u(e,t){return delete t.webpack,delete t.modules,e(t)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},46941:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var r=(0,n(23903).Z)(n(2784)).default.createContext(null);t.LoadableContext=r},42060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(60616).Z,o=n(90416).Z;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(59419).Z,s=(0,n(23903).Z)(n(2784)),u=n(46941),c=n(43100).useSyncExternalStore,l=[],A=[],d=!1;function f(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(function(e){return n.loading=!1,n.loaded=e,e}).catch(function(e){throw n.loading=!1,n.error=e,e}),n}var h=/*#__PURE__*/function(){function e(t,n){r(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return o(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"==typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout(function(){e._update({pastDelay:!0})},n.delay)),"number"==typeof n.timeout&&(this._timeout=setTimeout(function(){e._update({timedOut:!0})},n.timeout))),this._res.promise.then(function(){e._update({}),e._clearTimeouts()}).catch(function(t){e._update({}),e._clearTimeouts()}),this._update({})}},{key:"_update",value:function(e){this._state=a({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach(function(e){return e()})}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function p(e){return function(e,t){var n=function(){if(!l){var t=new h(e,o);l={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return l.promise()},r=function(){n();var e=s.default.useContext(u.LoadableContext);e&&Array.isArray(o.modules)&&o.modules.forEach(function(t){e(t)})},o=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},t);o.suspense&&(o.lazy=s.default.lazy(o.loader));var l=null;if(!d){var f=o.webpack?o.webpack():o.modules;f&&A.push(function(e){var t=!0,r=!1,o=void 0;try{for(var a,s=f[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var u=a.value;if(-1!==e.indexOf(u))return n()}}catch(e){r=!0,o=e}finally{try{t||null==s.return||s.return()}finally{if(r)throw o}}})}var p=o.suspense?function(e,t){return r(),s.default.createElement(o.lazy,a({},e,{ref:t}))}:function(e,t){r();var n=c(l.subscribe,l.getCurrentValue,l.getCurrentValue);return s.default.useImperativeHandle(t,function(){return{retry:l.retry}},[]),s.default.useMemo(function(){var t;return n.loading||n.error?s.default.createElement(o.loading,{isLoading:n.loading,pastDelay:n.pastDelay,timedOut:n.timedOut,error:n.error,retry:l.retry}):n.loaded?s.default.createElement((t=n.loaded)&&t.__esModule?t.default:t,e):null},[e,n])};return p.preload=function(){return n()},p.displayName="LoadableComponent",s.default.forwardRef(p)}(f,e)}function g(e,t){for(var n=[];e.length;){var r=e.pop();n.push(r(t))}return Promise.all(n).then(function(){if(e.length)return g(e,t)})}p.preloadAll=function(){return new Promise(function(e,t){g(l).then(e,t)})},p.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise(function(t){var n=function(){return d=!0,t()};g(A,e).then(n,n)})},window.__NEXT_PRELOADREADY=p.preloadReady,t.default=p},66161:function(e,t,n){"use strict";var r=n(52322),o=n(2784),a=n(5632),s=n(69023),u=n(24179),c=n(57821),l=n(25487),A=n(96933),d=n(42541),f=n(71059),h=n(70759);t.Z=function(e){var t=e.redirect,n=void 0===t||t,p=e.closable,g=void 0===p||p,v=e.hideSplashOnLoad,m=void 0===v||v,y=e.children,b=e.showFullPageAuth,w=e.profileArgs,_=(0,o.useState)(!1),E=_[0],C=_[1],B=(0,A.fC)(),I=(0,l.ZP)(),x=(0,a.useRouter)(),T=(0,o.useCallback)(function(){var e=null==w?void 0:w.signUpOrigin,t=null==w?void 0:w.signUpPage,n=e?"?ref=".concat(null!=e?e:"","&page=").concat(null!=t?t:""):"";d.Z.trackEvent(null,"page_view",{page_title:"Sign Up",page_location:"".concat(document.location.origin,"/auth/sign-up/").concat(n,"}"),page_path:"/auth/sign-up".concat(n),embedded_at_path:x.asPath})},[x,w]),S=(0,A.Mg)(B),k=S&&(0,A.TF)(B);return((0,f.Z)(function(){S&&(k?n?x.push({pathname:"/auth/sign-up",query:{redirect:x.asPath,ref:null==w?void 0:w.signUpOrigin}},"/auth/sign-up"):((0,c.hf)(),T(),I.isAuthModalOpen||b||I.openSignUpModal({isClosable:g,profileArgs:w})):m&&(0,c.hf)())},[S,k,n,m,I,g,b,T,x,w]),(0,A.TF)(B))?b?E?/*#__PURE__*/(0,r.jsx)(s.Z,{staticLogo:!0,children:/*#__PURE__*/(0,r.jsx)(h.o,{profileArgs:w,onGoToSignUp:function(){return C(!1)}})}):/*#__PURE__*/(0,r.jsx)(s.Z,{staticLogo:!0,children:/*#__PURE__*/(0,r.jsx)(u.Z,{profileArgs:w,onGoToSignIn:function(){return C(!0)}})}):null:/*#__PURE__*/(0,r.jsx)(r.Fragment,{children:y})}},30739:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(70865),o=n(96670),a=n(26297),s=n(52322),u=n(2784),c=n(3635),l=n(8018),A=/*#__PURE__*/n.n(l),d=/*#__PURE__*/(0,u.memo)(function(e){var t=e.className,n=e.error,u=(0,a.Z)(e,["className","error"]);return(null==n?void 0:n.length)?/*#__PURE__*/(0,s.jsx)("div",(0,o.Z)((0,r.Z)({className:(0,c.Z)(A().authFlowFormError,t)},u),{children:n})):null})},48617:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(52322),o=n(2784),a=n(3635),s=n(89911),u=n(42762),c=/*#__PURE__*/n.n(u),l=/*#__PURE__*/(0,o.memo)(function(e){var t=e.className,n=e.label,o=e.labelIcon,u=e.title,l=e.footer,A=e.children;return/*#__PURE__*/(0,r.jsxs)("div",{className:(0,a.Z)(c().authFlowViewLayout,t),"data-is-ready":"true",children:[/*#__PURE__*/(0,r.jsxs)("div",{className:c().content,children:[/*#__PURE__*/(0,r.jsx)(s.ZP,{horizontal:!0,className:c().eraserLogo}),/*#__PURE__*/(0,r.jsxs)("div",{className:c().label,children:[o,n]}),/*#__PURE__*/(0,r.jsx)("h1",{children:u}),A]}),!!l&&/*#__PURE__*/(0,r.jsx)("div",{className:c().footer,children:/*#__PURE__*/(0,r.jsx)("p",{children:l})})]})})},10380:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(70865),o=n(96670),a=n(26297),s=n(52322),u=n(2784),c=n(3635),l=n(98025),A=/*#__PURE__*/n.n(l),d=/*#__PURE__*/(0,u.memo)(function(e){var t=e.className,n=e.children,u=(0,a.Z)(e,["className","children"]);return/*#__PURE__*/(0,s.jsx)("div",(0,o.Z)((0,r.Z)({className:(0,c.Z)(A().authFormLayout,t)},u),{children:n}))})},94254:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(70865),o=n(26297),a=n(52322),s=n(2784),u=n(3635),c=n(71481),l=/*#__PURE__*/n.n(c),A=/*#__PURE__*/(0,s.memo)(function(e){var t=e.className,n=(0,o.Z)(e,["className"]);return/*#__PURE__*/(0,a.jsx)("div",(0,r.Z)({className:(0,u.Z)(l().authViewActionButtons,t)},n))})},87076:function(e,t,n){"use strict";n.d(t,{D:function(){return f},Z:function(){return h}});var r=n(87394),o=n(52322),a=n(2784),s=n(3635),u=n(57597),c=/*#__PURE__*/n.n(u),l=/*#__PURE__*/(0,a.memo)(function(e){var t=e.className,n=e.onSelectionChange,u=e.teamsToJoin,l=(0,a.useState)(),A=l[0],d=l[1],f=(0,a.useCallback)(function(e){var t=e.target.value;d(t),n(t)},[n]);return/*#__PURE__*/(0,o.jsx)("div",{className:(0,s.Z)(c().joinTeamSelection,t),children:null==u?void 0:u.map(function(e){var t="teamId"in e,n=(0,r.Z)(t?[e.teamId,e.teamName]:[e.id,e.name],2),a=n[0],u=n[1];return/*#__PURE__*/(0,o.jsxs)("label",{className:(0,s.Z)(c().team,A===a&&c().selected),children:[/*#__PURE__*/(0,o.jsx)("input",{type:"radio",value:a,checked:A===a,onChange:f}),u]},a)})})}),A=n(4313),d=n(47519),f=function(e){var t=e.teamsToJoin,n=(0,A.K)({}),r=n.canCreateTeam,a=n.isLoadingCreateTeamCheck,s=n.workDomain;if(a)return null;if(r){if(null==t?void 0:t.length)return/*#__PURE__*/(0,o.jsxs)("p",{children:["Pick one of the below teams to join, or ",/*#__PURE__*/(0,o.jsx)("a",{href:"/team/create",children:"create a new one"})]});if(t)return/*#__PURE__*/(0,o.jsxs)("p",{children:["You have no available teams. ",/*#__PURE__*/(0,o.jsx)("a",{href:"/team/create",children:"Create a new one"})]})}return/*#__PURE__*/(0,o.jsxs)(o.Fragment,{children:[/*#__PURE__*/(0,o.jsx)("p",{children:"Pick one of the below teams to join."}),/*#__PURE__*/(0,o.jsxs)(d.U,{className:"marginTopMedium",children:[/*#__PURE__*/(0,o.jsx)("b",{children:s})," already has a team with a free plan. To create a new team, contact ",/*#__PURE__*/(0,o.jsx)("a",{href:"mailto:hello@eraser.io",children:"hello@eraser.io"})]})]})},h=l},99572:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r,o,a,s,u,c,l,A,d,f=n(52322),h=n(2784),p=n(3635),g=n(25487);function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){return /*#__PURE__*/h.createElement("svg",v({width:18,height:18,viewBox:"0 0 23 23",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/h.createElement("path",{d:"M5.097 13.9l-.8 2.988-2.926.062A11.449 11.449 0 010 11.5c0-1.907.464-3.705 1.286-5.289l2.606.478 1.14 2.59a6.836 6.836 0 00-.368 2.221c0 .844.153 1.653.433 2.4z",fill:"#FBBB00"})),o||(o=/*#__PURE__*/h.createElement("path",{d:"M22.8 9.352c.131.695.2 1.414.2 2.148a11.497 11.497 0 01-4.3 8.968h-.001l-3.281-.168-.465-2.899a6.854 6.854 0 002.95-3.5h-6.15v-4.55h11.046z",fill:"#518EF8"})),a||(a=/*#__PURE__*/h.createElement("path",{d:"M18.699 20.468A11.452 11.452 0 0111.5 23c-4.38 0-8.187-2.448-10.13-6.05l3.727-3.05a6.838 6.838 0 009.856 3.501l3.746 3.067z",fill:"#28B446"})),s||(s=/*#__PURE__*/h.createElement("path",{d:"M18.84 2.648l-3.725 3.05a6.84 6.84 0 00-10.082 3.58L1.286 6.211A11.498 11.498 0 0111.5 0c2.79 0 5.349.994 7.34 2.648z",fill:"#F14336"})))};function y(){return(y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=function(e){return /*#__PURE__*/h.createElement("svg",y({width:18,height:18,viewBox:"0 0 2499.6 2500",xmlns:"http://www.w3.org/2000/svg"},e),u||(u=/*#__PURE__*/h.createElement("path",{d:"M1187.9 1187.9H0V0h1187.9z",fill:"#f1511b"})),c||(c=/*#__PURE__*/h.createElement("path",{d:"M2499.6 1187.9h-1188V0h1187.9v1187.9z",fill:"#80cc28"})),l||(l=/*#__PURE__*/h.createElement("path",{d:"M1187.9 2500H0V1312.1h1187.9z",fill:"#00adef"})),A||(A=/*#__PURE__*/h.createElement("path",{d:"M2499.6 2500h-1188V1312.1h1187.9V2500z",fill:"#fbbc09"})))},w=n(95162),_=n(69474);function E(){return(E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var C=function(e){return /*#__PURE__*/h.createElement("svg",E({width:19,height:18,viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),d||(d=/*#__PURE__*/h.createElement("g",{fill:"var(--grey-1200)"},/*#__PURE__*/h.createElement("path",{d:"M.5 3a1.8 1.8 0 011.8-1.8h14.4A1.8 1.8 0 0118.5 3v1.448l-9 5.063-9-5.063V3z"}),/*#__PURE__*/h.createElement("path",{d:"M.5 5.825V15a1.8 1.8 0 001.8 1.8h14.4a1.8 1.8 0 001.8-1.8V5.825l-9 5.063-9-5.063z"}))))},B=n(28257),I=n(65181),x=/*#__PURE__*/n.n(I),T=/*#__PURE__*/(0,h.memo)(function(e){var t=e.className,n=e.actionText,r=e.asModal,o=e.onSignIn,a=e.onCredentialsAuthClick,s=e.onThirdPartySsoClick,u=(0,g.ZP)(),c=u.signInWithGoogle,l=u.signInWithMicrosoft;return r=!!(0,_.$)()||r,/*#__PURE__*/(0,f.jsxs)("div",{className:(0,p.Z)(x().ssoButtons,t),children:[/*#__PURE__*/(0,f.jsxs)(w.ZP,{variant:w.ZP.Variants.TRANSPARENT,size:w.ZP.Sizes.X_LARGE,className:x().button,type:"button","data-testid":"google-sign-in",onClick:function(){return c({asModal:r}).then(o)},children:[/*#__PURE__*/(0,f.jsx)(m,{}),/*#__PURE__*/(0,f.jsx)("span",{children:"".concat(n," with Google")})]}),/*#__PURE__*/(0,f.jsxs)(w.ZP,{variant:w.ZP.Variants.TRANSPARENT,size:w.ZP.Sizes.X_LARGE,type:"button",className:x().button,onClick:function(){return l({asModal:r}).then(o)},children:[/*#__PURE__*/(0,f.jsx)(b,{}),/*#__PURE__*/(0,f.jsx)("span",{children:"".concat(n," with Microsoft")})]}),/*#__PURE__*/(0,f.jsxs)("div",{className:x().buttonSize,children:[/*#__PURE__*/(0,f.jsxs)(w.ZP,{variant:w.ZP.Variants.TRANSPARENT,size:w.ZP.Sizes.X_LARGE,type:"button",className:(0,p.Z)(x().button,x().halfWidthButton),onClick:a,children:[/*#__PURE__*/(0,f.jsx)(C,{}),/*#__PURE__*/(0,f.jsx)("span",{children:"Email"})]}),/*#__PURE__*/(0,f.jsxs)(w.ZP,{variant:w.ZP.Variants.TRANSPARENT,size:w.ZP.Sizes.X_LARGE,onClick:s,className:(0,p.Z)(x().button,x().halfWidthButton),"data-testid":"sso-button",children:[/*#__PURE__*/(0,f.jsx)(B.Z,{}),"SSO"]})]})]})})},77003:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(70865),o=n(96670),a=n(52322),s=n(2784),u=n(63955),c=n(11929),l=n(55929),A=n(44784),d=n(25487),f=n(95162),h=n(10380),p=n(94254),g=n(30739),v=n(56860),m=/*#__PURE__*/n.n(v),y=/*#__PURE__*/(0,s.memo)(function(e){var t=e.className,n=e.onSignIn,v=e.onResetPasswordClick,y=(0,d.ZP)().signInWithEmailAndPassword,b=(0,u.cI)({reValidateMode:"onChange"}),w=b.register,_=b.formState,E=b.handleSubmit,C=b.getValues,B=_.errors,I=_.submitCount,x=C(),T=(0,s.useMemo)(function(){return!!Object.keys(_.dirtyFields).length&&Object.keys(x).every(function(e){return!!x[e]})},[_.dirtyFields,x]),S=(0,c.UK)(function(e){return y(e.email,e.password).then(n)}),k=S.execute,D=S.error,N=S.loading;return/*#__PURE__*/(0,a.jsxs)(a.Fragment,{children:[/*#__PURE__*/(0,a.jsx)("form",{id:"sign-in-form",onSubmit:E(k),children:/*#__PURE__*/(0,a.jsxs)(h.Z,{className:t,children:[/*#__PURE__*/(0,a.jsx)(l.Z,(0,o.Z)((0,r.Z)({size:l.Z.Sizes.LARGE,label:"Email address",placeholder:"Email",type:"email",autoComplete:"email",autoFocus:!0},w("email",{required:!0,validate:A.Le})),{error:B.email,touched:I>0})),/*#__PURE__*/(0,a.jsx)(l.Z,(0,o.Z)((0,r.Z)({size:l.Z.Sizes.LARGE,label:"Password",placeholder:"Password",type:"password",autoComplete:"current-password"},w("password",{required:!0})),{error:B.password,touched:I>0})),v&&/*#__PURE__*/(0,a.jsx)("div",{className:m().resetPassword,children:/*#__PURE__*/(0,a.jsx)("a",{onMouseDown:v,children:"Reset Password"})})]})}),/*#__PURE__*/(0,a.jsx)(p.Z,{children:/*#__PURE__*/(0,a.jsx)(f.ZP,{form:"sign-in-form",variant:f.ZP.Variants.REGULAR,size:f.ZP.Sizes.X_LARGE,isLoading:N,type:"submit",disabled:!T,children:"Log In"})}),/*#__PURE__*/(0,a.jsx)(g.Z,{error:null==D?void 0:D.message})]})})},70759:function(e,t,n){"use strict";n.d(t,{o:function(){return k},Z:function(){return D}});var r=n(52322),o=n(2784),a=n(66140),s=n(25487),u=n(15559),c=n(48617),l=n(99572),A=n(77003),d=n(21332),f=n(63560),h=n(70865),p=n(96670),g=n(63955),v=n(11929),m=n(42541),y=n(55929),b=n(44784),w=n(95162),_=n(10380),E=n(94254),C=n(30739),B=/*#__PURE__*/(0,o.memo)(function(e){var t=e.className,n=e.onResetRequested,a=(0,s.ZP)().sendPasswordResetEmail,u=(0,g.cI)({reValidateMode:"onChange"}),c=u.register,l=u.formState,A=u.handleSubmit,d=u.getValues,f=l.errors,B=l.submitCount,I=d(),x=(0,o.useMemo)(function(){return!!Object.keys(l.dirtyFields).length&&Object.keys(I).every(function(e){return!!I[e]})},[l.dirtyFields,I]),T=(0,v.UK)(function(e){return a(e.email).then(function(){m.Z.trackEvent("account","reset_password_requested"),n(d("email"))})}),S=T.execute,k=T.error,D=T.loading;return/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:[/*#__PURE__*/(0,r.jsx)("form",{id:"request-password-reset",onSubmit:A(S),children:/*#__PURE__*/(0,r.jsx)(_.Z,{className:t,children:/*#__PURE__*/(0,r.jsx)(y.Z,(0,p.Z)((0,h.Z)({size:y.Z.Sizes.LARGE,label:"Email address",placeholder:"Email",type:"email",autoComplete:"email",autoFocus:!0},c("email",{required:!0,validate:b.Le})),{error:f.email,touched:B>0}))})}),/*#__PURE__*/(0,r.jsx)(E.Z,{children:/*#__PURE__*/(0,r.jsx)(w.ZP,{form:"request-password-reset",variant:w.ZP.Variants.REGULAR,size:w.ZP.Sizes.X_LARGE,isLoading:D,type:"submit",disabled:!x,children:"Reset Password"})}),/*#__PURE__*/(0,r.jsx)(C.Z,{error:null==k?void 0:k.message})]})}),I=n(39830),x=n(44172),T=n(70520),S=/*#__PURE__*/n.n(T),k=function(e){var t=e.profileArgs,n=e.asModal,h=e.onSignIn,p=e.onGoToSignUp;(0,u.T)(t);var g=(0,o.useState)(d.k.SSO),v=g[0],m=g[1],y=(0,o.useState)(),b=y[0],w=y[1],_=(0,s.ZP)(),E=(0,o.useCallback)(function(){m(d.k.CREDENTIALS)},[]),C=(0,o.useCallback)(function(){m(d.k.RESET_PASSWORD)},[]),T=(0,o.useCallback)(function(e){m(d.k.RESET_REQUESTED),w(e)},[]),k=(0,o.useCallback)(function(){m(d.k.THIRD_PARTY_SSO)},[]),D=(0,o.useCallback)(function(e){if(a.OB.isDev){e.preventDefault(),_.openSignUpModal({isClosable:!0});return}if(p){e.preventDefault(),p();return}n&&(e.preventDefault(),_.openSignUpModal())},[n,_.openSignUpModal,p]);return v===d.k.CREDENTIALS?/*#__PURE__*/(0,r.jsxs)(c.Z,{className:S().signInView,label:"Email Log In",labelIcon:/*#__PURE__*/(0,r.jsx)(x.Z,{}),title:"Log into Eraser",footer:/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:["New to Eraser?"," ",/*#__PURE__*/(0,r.jsx)("a",{href:"/auth/sign-up",onClick:D,children:"Sign up for free"})]}),children:[/*#__PURE__*/(0,r.jsxs)("p",{children:["Or use ",/*#__PURE__*/(0,r.jsx)("a",{onMouseDown:function(){return _.signInWithGoogle({asModal:n}).then(h)},children:"Google"})," ","or"," ",/*#__PURE__*/(0,r.jsx)("a",{onMouseDown:function(){return _.signInWithMicrosoft({asModal:n}).then(h)},children:"Microsoft"})]}),/*#__PURE__*/(0,r.jsx)(A.Z,{className:S().signInForm,onSignIn:h,onResetPasswordClick:C})]}):v===d.k.RESET_PASSWORD?/*#__PURE__*/(0,r.jsxs)(c.Z,{className:S().signInView,label:"Password Reset",labelIcon:/*#__PURE__*/(0,r.jsx)(I.Z,{}),title:"Reset your password",children:[/*#__PURE__*/(0,r.jsxs)("p",{children:["Or return to ",/*#__PURE__*/(0,r.jsx)("a",{onMouseDown:E,children:"Log in"})]}),/*#__PURE__*/(0,r.jsx)(B,{className:S().resetPasswordForm,onResetRequested:T})]}):v===d.k.RESET_REQUESTED?/*#__PURE__*/(0,r.jsx)(c.Z,{className:S().signInView,label:"Password Reset",labelIcon:/*#__PURE__*/(0,r.jsx)(I.Z,{}),title:"Check your email",children:/*#__PURE__*/(0,r.jsxs)("p",{children:["We sent an email to ",/*#__PURE__*/(0,r.jsx)("b",{children:b})," which contains a link to reset your password"]})}):v===d.k.THIRD_PARTY_SSO?/*#__PURE__*/(0,r.jsx)(c.Z,{className:S().signInView,title:"Log into Eraser with SSO",label:"Single Sign-On",children:/*#__PURE__*/(0,r.jsx)(f.Z,{onCredentialsAuthClick:E})}):/*#__PURE__*/(0,r.jsxs)(c.Z,{className:S().signInView,label:"Log In",labelIcon:/*#__PURE__*/(0,r.jsx)(I.Z,{}),title:"Log into Eraser",children:[/*#__PURE__*/(0,r.jsxs)("p",{children:["New to Eraser?"," ",/*#__PURE__*/(0,r.jsx)("a",{href:"/auth/sign-up",onClick:D,children:"Sign up for free"})]}),/*#__PURE__*/(0,r.jsx)(l.Z,{className:S().ssoButtons,actionText:"Log in",asModal:n,onSignIn:h,onCredentialsAuthClick:E,onThirdPartySsoClick:k})]})},D=/*#__PURE__*/(0,o.memo)(k)},21332:function(e,t,n){"use strict";var r,o;n.d(t,{k:function(){return r}}),(o=r||(r={})).SSO="SSO",o.CREDENTIALS="CREDENTIALS",o.RESET_PASSWORD="RESET_PASSWORD",o.RESET_REQUESTED="RESET_REQUESTED",o.THIRD_PARTY_SSO="THIRD_PARTY_SSO"},24179:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r,o,a=n(52322),s=n(2784),u=n(66140),c=n(25487),l=n(15559),A=n(48617),d=n(99572),f=n(70865),h=n(96670),p=n(63955),g=n(11929),v=n(55929),m=n(44784),y=n(95162),b=n(10380),w=n(94254),_=n(30739),E=/*#__PURE__*/(0,s.memo)(function(e){var t=e.className,n=e.onSignIn,r=(0,c.ZP)().createUserWithEmailAndPassword,o=(0,p.cI)({reValidateMode:"onChange"}),u=o.register,l=o.formState,A=o.handleSubmit,d=o.getValues,E=l.errors,C=l.submitCount,B=d(),I=(0,s.useMemo)(function(){return!!Object.keys(l.dirtyFields).length&&Object.keys(B).every(function(e){return!!B[e]})},[l.dirtyFields,B]),x=(0,g.UK)(function(e){return r(e.email,e.password,e.name).then(n)}),T=x.execute,S=x.error,k=x.loading;return/*#__PURE__*/(0,a.jsxs)(a.Fragment,{children:[/*#__PURE__*/(0,a.jsx)("form",{id:"sign-up-form",onSubmit:A(T),children:/*#__PURE__*/(0,a.jsxs)(b.Z,{className:t,children:[/*#__PURE__*/(0,a.jsx)(v.Z,(0,h.Z)((0,f.Z)({size:v.Z.Sizes.LARGE,label:"Email address",placeholder:"Work email works best",type:"email",autoComplete:"email",autoFocus:!0},u("email",{required:!0,validate:m.Le})),{error:E.email,touched:C>0})),/*#__PURE__*/(0,a.jsx)(v.Z,(0,h.Z)((0,f.Z)({size:v.Z.Sizes.LARGE,label:"User name",placeholder:"What others will see",autoComplete:"full-name"},u("name",{required:!0,minLength:3})),{error:E.name,touched:C>0,minLength:3})),/*#__PURE__*/(0,a.jsx)(v.Z,(0,h.Z)((0,f.Z)({size:v.Z.Sizes.LARGE,label:"Password",placeholder:"Password",type:"password",autoComplete:"current-password"},u("password",{required:!0,validate:m.ym})),{error:E.password,touched:C>0,minLength:12}))]})}),/*#__PURE__*/(0,a.jsx)(w.Z,{children:/*#__PURE__*/(0,a.jsx)(y.ZP,{form:"sign-up-form",variant:y.ZP.Variants.REGULAR,size:y.ZP.Sizes.X_LARGE,isLoading:k,type:"submit",disabled:!I,children:"Create Account"})}),/*#__PURE__*/(0,a.jsx)(_.Z,{error:null==S?void 0:S.message})]})});function C(){return(C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var B=function(e){return /*#__PURE__*/s.createElement("svg",C({width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/s.createElement("path",{d:"M1 4.5l7 4 7-4m-13-3h12a1 1 0 011 1v10a1 1 0 01-1 1H2a1 1 0 01-1-1v-10a1 1 0 011-1z",stroke:"var(--green-success)",strokeWidth:2})))};function I(){return(I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x=function(e){return /*#__PURE__*/s.createElement("svg",I({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=/*#__PURE__*/s.createElement("path",{d:"M7.707 10.202l.707-.707L7 8.081l-.707.706 1.414 1.415zM9 11.493v1h2v-1H9zm2-.999v-1H9v1h2zM9 2.5v1h2v-1H9zm2-.999v-1H9v1h2zM5 5.497H4v2h1v-2zm1 2h1v-2H6v2zm8-2h-1v2h1v-2zm1 2h1v-2h-1v2zM12.293 2.79l-.707.707L13 4.913l.707-.707-1.414-1.415zm2.414.416l.707-.707L14 1.085l-.707.707 1.414 1.415zm-8-1.415L6 1.085 4.586 2.5l.707.707 1.414-1.415zm-.414 2.414L7 4.913l1.414-1.415-.707-.707-1.414 1.415zm7.414 4.581L13 8.081l-1.414 1.414.707.707 1.414-1.415zm-.414 2.414l.707.707 1.414-1.414-.707-.707-1.414 1.414zM1.707 16.198l6-5.996-1.414-1.415-6 5.996 1.414 1.415zM11 11.493v-.999H9v1h2zM11 2.5V1.5H9v1h2zM5 7.497h1v-2H5v2zm9 0h1v-2h-1v2zm-.293-3.29l1-1-1.414-1.415-1 1 1.414 1.414zm-8.414-1l1 1L7.707 2.79l-1-.999-1.414 1.415zm7 6.995l1 1 1.414-1.415-1-1-1.414 1.415z",fill:"var(--green-success)"})))},T=n(86066),S=/*#__PURE__*/n.n(T),k=n(63560),D=/*#__PURE__*/(0,s.memo)(function(e){var t=e.profileArgs,n=e.customSubTitle,r=e.asModal,o=e.onSignIn,f=e.onGoToSignIn;(0,l.T)(t);var h=(0,s.useState)(),p=h[0],g=h[1],v=(0,c.ZP)(),m=(0,s.useCallback)(function(){g("credentials")},[]),b=(0,s.useCallback)(function(){g("thirdPartySso")},[]),w=(0,s.useCallback)(function(e){if(u.OB.isDev){e.preventDefault(),v.openSignInModal({isClosable:!0});return}if(f){e.preventDefault(),f();return}r&&(e.preventDefault(),v.openSignInModal())},[r,v.openSignInModal,f]);return"credentials"===p?/*#__PURE__*/(0,a.jsxs)(A.Z,{className:S().signUpView,label:"Email Sign Up",labelIcon:/*#__PURE__*/(0,a.jsx)(B,{}),title:"Set your user name & password",footer:/*#__PURE__*/(0,a.jsxs)(a.Fragment,{children:["Already have an account?"," ",/*#__PURE__*/(0,a.jsx)("a",{href:"/auth/sign-in",onClick:w,children:"Log in"})," ","instead"]}),children:[/*#__PURE__*/(0,a.jsxs)("p",{children:["Or use ",/*#__PURE__*/(0,a.jsx)("a",{onClick:function(){return v.signInWithGoogle({asModal:r}).then(o)},children:"Google"}),","," ",/*#__PURE__*/(0,a.jsx)("a",{onClick:function(){return v.signInWithMicrosoft({asModal:r}).then(o)},children:"Microsoft"}),", or"," ",/*#__PURE__*/(0,a.jsx)("a",{onClick:b,children:"SSO"}),"."]}),/*#__PURE__*/(0,a.jsx)(E,{className:S().signUpForm,onSignIn:o})]}):"thirdPartySso"===p?/*#__PURE__*/(0,a.jsx)(A.Z,{className:S().signInView,title:"Setup Eraser with SSO",label:"Single Sign-On",children:/*#__PURE__*/(0,a.jsx)(k.Z,{onCredentialsAuthClick:m})}):/*#__PURE__*/(0,a.jsxs)(A.Z,{className:S().signUpView,label:"Sign Up",labelIcon:/*#__PURE__*/(0,a.jsx)(x,{}),title:"Create your Eraser account",children:[n||/*#__PURE__*/(0,a.jsxs)("p",{children:["By signing up, you agree to our ",/*#__PURE__*/(0,a.jsx)("a",{href:"".concat(u.CF.url,"/terms"),children:"terms of service"})]}),/*#__PURE__*/(0,a.jsx)("main",{children:/*#__PURE__*/(0,a.jsx)(d.Z,{className:S().ssoButtons,actionText:"Sign up",asModal:r,onSignIn:o,onCredentialsAuthClick:m,onThirdPartySsoClick:b})}),/*#__PURE__*/(0,a.jsx)("a",{className:S().signInLink,href:"/auth/sign-in",onClick:w,children:/*#__PURE__*/(0,a.jsx)(y.ZP,{variant:y.ZP.Variants.TRANSPARENT,size:y.ZP.Sizes.LARGE,children:"Log In"})})]})})},63560:function(e,t,n){"use strict";var r=n(98788),o=n(42838),a=n(22970),s=n(52322),u=n(2784),c=n(3635),l=n(25487),A=n(95162),d=n(69474),f=n(21902),h=/*#__PURE__*/n.n(f),p=n(55929),g=n(27038),v=n(98559),m=n(94254),y=n(70621),b=n(44371),w=n(75426);t.Z=/*#__PURE__*/(0,u.memo)(function(e){var t,n=e.className,f=e.asModal,_=e.onCredentialsAuthClick,E=(0,l.ZP)(),C=E.signInWithGoogle,B=E.signInWithMicrosoft;f=!!(0,d.$)()||f;var I=(0,u.useState)(""),x=I[0],T=I[1],S=(0,u.useState)(),k=S[0],D=S[1],N=(0,u.useState)(!1),O=N[0],F=N[1],R=(0,u.useCallback)((t=(0,r.Z)(function(e){var t,n,r;return(0,a.__generator)(this,function(a){switch(a.label){case 0:if(e.preventDefault(),F(!0),!(t=x.split("@")[1].toLowerCase()))return[3,5];if("gmail.com"===t)return D("Please click the Google button to sign in with Gmail"),F(!1),[2];if("outlook.com"===t||"hotmail.com"===t)return D("Please click the Microsoft button to sign in with Outlook"),F(!1),[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,g.Z)(x)];case 2:return n=a.sent(),window.location.href=n,[3,4];case 3:return r=a.sent(),F(!1),(0,o.Z)(r,y.MS)&&404===r.statusCode?D(/*#__PURE__*/(0,s.jsxs)(s.Fragment,{children:["SSO has not been enabled for ",t,"."," ",/*#__PURE__*/(0,s.jsx)("a",{href:"https://docs.eraser.io/docs/sso",target:"_blank",rel:"noreferrer",children:"Learn more here"}),"."]})):b.a1.error("An error occurred. Please try again."),[3,4];case 4:return[3,6];case 5:D("Invalid email address"),a.label=6;case 6:return[2]}})}),function(e){return t.apply(this,arguments)}),[x]),L=(0,u.useCallback)(function(e){T(e.target.value),D(void 0)},[]),M=(0,u.useCallback)(function(e){var t,n=e.target;if((null===(t=n.parentElement)||void 0===t?void 0:t.dataset.providers)!==void 0){e.preventDefault();var r=n.innerText;"Google"===r?C():"Microsoft"===r?B():"email"===r&&_()}},[C,B,_]);return/*#__PURE__*/(0,s.jsxs)("div",{className:(0,c.Z)(h().container,n),onClick:M,children:[/*#__PURE__*/(0,s.jsxs)("p",{"data-providers":!0,children:["Or use ",/*#__PURE__*/(0,s.jsx)("a",{href:"#",children:"Google"}),", ",/*#__PURE__*/(0,s.jsx)("a",{href:"#",children:"Microsoft"}),", or ",/*#__PURE__*/(0,s.jsx)("a",{href:"#",children:"email"}),"."]}),/*#__PURE__*/(0,s.jsx)("form",{onSubmit:R,children:/*#__PURE__*/(0,s.jsxs)("div",{className:h().formContainer,children:[/*#__PURE__*/(0,s.jsx)("fieldset",{children:/*#__PURE__*/(0,s.jsx)(p.Z,{label:"Email Address",placeholder:"Work Email",onChange:L,error:k,"data-testid":"email-input"})}),/*#__PURE__*/(0,s.jsx)(m.Z,{children:/*#__PURE__*/(0,s.jsx)(A.ZP,{variant:A.ZP.Variants.REGULAR,size:A.ZP.Sizes.X_LARGE,className:h().button,type:"submit",disabled:!1===(0,v.J)(x)||O,"data-testid":"continue",children:O?/*#__PURE__*/(0,s.jsx)(w.Z,{}):"Continue with SSO"})})]})})]})})},15559:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(2784),o=n(41217);function a(e){(0,r.useEffect)(function(){e&&(0,o.jj)(e)},[e])}},58410:function(e,t,n){"use strict";n.d(t,{ZP:function(){return S},J5:function(){return l.J5},XD:function(){return T}});var r=n(42838),o=n(52322),a=n(5632),s=/*#__PURE__*/n.n(a),u=n(69904),c=n(57821),l=n(70621),A=n(42541),d=n(69023),f=n(2784),h=n(78528),p=n(96933),g=n(3635),v=n(95162),m=n(24292),y=/*#__PURE__*/n.n(m),b=function(e){var t=e.href,n=e.children,r=e.isOutline,a=e.onClick;return/*#__PURE__*/(0,o.jsx)("div",{className:y().errorCtaButton,children:/*#__PURE__*/(0,o.jsx)(v.ZP,{className:(0,g.Z)(r&&y().isOutline),size:r?v.ZP.Sizes.LARGE:v.ZP.Sizes.X_LARGE,variant:r?v.ZP.Variants.TRANSPARENT:v.ZP.Variants.REGULAR,onClick:function(){if(!t){null==a||a();return}s().push(t)},children:n})})},w=/*#__PURE__*/(0,f.memo)(b),_=/*#__PURE__*/(0,f.memo)(function(e){var t=e.statusCode,n=e.hideActionButtons,r=(0,p.g5)();return 404===t?/*#__PURE__*/(0,o.jsxs)(h.Z,{statusCode:t,title:"Page not found",children:[/*#__PURE__*/(0,o.jsx)("p",{children:"We couldn’t locate this page. Please double check the URL."}),!n&&/*#__PURE__*/(0,o.jsx)(b,{href:r?"https://eraser.io":"/dashboard/all",children:r?"Return to Eraser":"Return to Dashboard"})]}):/*#__PURE__*/(0,o.jsxs)(h.Z,{statusCode:t,title:"Oops! That's embarrassing",children:[/*#__PURE__*/(0,o.jsx)("p",{children:"Something went wrong. Please let us know at hello@eraser.io if this keeps happening."}),!n&&/*#__PURE__*/(0,o.jsx)(b,{onClick:function(){return location.reload()},children:"Refresh Page"})]})}),E=/*#__PURE__*/(0,f.memo)(function(e){var t,n=e.statusCode,r=e.hideActionButtons,a=(0,p.aF)(),s=(0,p.g5)();return 404===n?/*#__PURE__*/(0,o.jsxs)(h.Z,{statusCode:n,title:"File not found",children:[/*#__PURE__*/(0,o.jsx)("p",{children:"We couldn’t locate this file. Double check the URL, or try searching your files."}),!r&&!s&&/*#__PURE__*/(0,o.jsx)(w,{href:"/dashboard/all",isOutline:!0,children:"Search on Dashboard"})]}):[401,403].includes(n)?s?/*#__PURE__*/(0,o.jsxs)(h.Z,{statusCode:n,title:"Access Restricted",children:[/*#__PURE__*/(0,o.jsx)("p",{children:"This file is not publicly accessible. Try signing into Eraser if you believe you have access."}),!r&&/*#__PURE__*/(0,o.jsx)(w,{href:"/auth/sign-in",children:"Log In"})]}):/*#__PURE__*/(0,o.jsxs)(h.Z,{statusCode:n,title:"Access Restricted",children:[/*#__PURE__*/(0,o.jsxs)("p",{children:["You do not have access to this file. Ask the file owner(s) to share with"," ",null!==(t=null==a?void 0:a.email)&&void 0!==t?t:"your email"]}),!r&&/*#__PURE__*/(0,o.jsx)(w,{href:"/dashboard/all",isOutline:!0,children:"Return on Dashboard"})]}):/*#__PURE__*/(0,o.jsx)(_,{statusCode:n,hideActionButtons:r})}),C=/*#__PURE__*/(0,f.memo)(function(e){var t=e.statusCode,n=e.hideActionButtons,r=(0,p.aF)(),a=(0,p.g5)();return 403===t?/*#__PURE__*/(0,o.jsxs)(h.Z,{statusCode:t,title:"Email doesn’t match",children:[/*#__PURE__*/(0,o.jsxs)("p",{children:["You are logged in as ",null==r?void 0:r.email,". The invited email doesn’t match this."]}),!n&&/*#__PURE__*/(0,o.jsx)(w,{href:"/auth/logout",isOutline:!0,children:"Sign out"})]}):404===t?/*#__PURE__*/(0,o.jsxs)(h.Z,{statusCode:t,title:"Invite not found",children:[/*#__PURE__*/(0,o.jsx)("p",{children:"We couldn’t locate this invite. Please double check the invite URL or request a new invite."}),!n&&!a&&/*#__PURE__*/(0,o.jsx)(w,{href:"/dashboard/all",children:"Return to Dashboard"})]}):/*#__PURE__*/(0,o.jsx)(_,{statusCode:t,hideActionButtons:n})}),B=/*#__PURE__*/(0,f.memo)(function(e){var t=e.statusCode,n=e.hideActionButtons;return 402===t?/*#__PURE__*/(0,o.jsxs)(h.Z,{statusCode:t,title:"File limit reached",children:[/*#__PURE__*/(0,o.jsx)("p",{children:"Please upgrade plan or archive unused files."}),!n&&/*#__PURE__*/(0,o.jsx)(w,{href:"/dashboard?settings=plans",children:"Upgrade"})]}):/*#__PURE__*/(0,o.jsx)(_,{statusCode:t,hideActionButtons:n})}),I=n(67640);function x(e){return"error"in e&&(0,r.Z)(e.error,l.tk)?{statusCode:e.error.statusCode,title:e.error.message,error:"error"in e.error?e.error:void 0}:e}function T(e){var t,n,r,o,a,s;A.Z.trackEvent("app","error",{errorCode:e.statusCode,errorTitle:e.title,source:null!==(t=e.location)&&void 0!==t?t:"app"}),e.statusCode>=500&&I.Z.post("logging",{type:"appCrash",message:e.title,error:e.error,location:null!==(s=e.location)&&void 0!==s?s:"app",stack:null===(n=e.error)||void 0===n?void 0:n.stack,cause:null===(r=e.error)||void 0===r?void 0:r.cause,causeStack:null===(a=null===(o=e.error)||void 0===o?void 0:o.cause)||void 0===a?void 0:a.stack})}var S=function(e){var t,n,r=x(e).statusCode;(0,c.r4)(),t=x(e),(0,u.Z)(function(){T(t)});var s=(0,a.useRouter)();return/*#__PURE__*/(0,o.jsx)("div",{id:"error-page",children:/*#__PURE__*/(0,o.jsx)(d.Z,{children:(n=_,s.pathname.match("workspace")&&(n=E),s.pathname.match("invite")&&(n=C),s.pathname.match("new")&&(n=B),/*#__PURE__*/(0,o.jsx)(n,{statusCode:r,hideActionButtons:e.hideActionButtons}))})})}},97238:function(e,t,n){"use strict";var r=n(90581),o=n(21218),a=n(70865),s=n(96670),u=n(39309),c=n(2784),l=n(89960),A={componentStack:null,error:null},d=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,u.Z)(n);function n(){var e;return(0,r.Z)(this,n),e=t.apply(this,arguments),e.state=A,e.resetErrorBoundary=function(){e.setState(A)},e}var d=n.prototype;return d.componentDidCatch=function(e,t){var n,r=t.componentStack,o=this.props.onError;(n=Error(e.message)).name="[React ErrorBoundary] ".concat(e.name),n.stack=r,e.cause=n;var a=Error("ErrorBoundary caught error",{cause:e});(0,l.T)(a,{contexts:{react:{componentStack:r}}}),null==o||o(e),this.props.ignoreErrors||this.setState({error:e,componentStack:r})},d.render=function(){var e,t=this.props,n=t.fallback,r=t.children,o=this.state.error;return o?(e="function"==typeof n?n((0,s.Z)((0,a.Z)({},this.state),{error:o,resetError:this.resetErrorBoundary})):n)&&!/*#__PURE__*/(0,c.isValidElement)(e)?(console.warn("Invalid fallback"),null):e:r},n}(c.Component);t.Z=d},78528:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r,o=n(52322),a=n(2784),s=n(3635);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e){return /*#__PURE__*/a.createElement("svg",u({width:17,height:17,viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/a.createElement("path",{d:"M9.5 11.5v-1h-2v1h2zm-2 .01v1h2v-1h-2zM7.5 5v4h2V5h-2zm0 6.5v.01h2v-.01h-2zm1 3a6 6 0 01-6-6h-2a8 8 0 008 8v-2zm6-6a6 6 0 01-6 6v2a8 8 0 008-8h-2zm-6-6a6 6 0 016 6h2a8 8 0 00-8-8v2zm0-2a8 8 0 00-8 8h2a6 6 0 016-6v-2z",fill:"#FB4B87"})))},l=n(14052),A=/*#__PURE__*/n.n(l),d={401:"Access Error",402:"Plan Limit",403:"Access Error",404:"404 Error",500:"500 Error"},f=/*#__PURE__*/(0,a.memo)(function(e){var t=e.className,n=e.statusCode,r=e.title,a=e.children,u=e.hideFooter;return/*#__PURE__*/(0,o.jsxs)(o.Fragment,{children:[/*#__PURE__*/(0,o.jsx)("div",{className:(0,s.Z)(A().errorViewLayout,t),children:/*#__PURE__*/(0,o.jsxs)("div",{className:A().content,children:[/*#__PURE__*/(0,o.jsxs)("div",{className:A().label,children:[/*#__PURE__*/(0,o.jsx)(c,{}),d[n]||"Error"]}),/*#__PURE__*/(0,o.jsx)("h1",{children:r}),a]})}),!u&&/*#__PURE__*/(0,o.jsx)("div",{className:A().footer,children:/*#__PURE__*/(0,o.jsxs)("p",{children:["Learn more at ",/*#__PURE__*/(0,o.jsx)("a",{href:"https://eraser.io",children:"eraser.io"})]})})]})})},53327:function(e,t,n){"use strict";var r=n(52322),o=n(2784),a=n(42541),s=n(3635),u=n(40819),c=/*#__PURE__*/n.n(u),l=n(24089),A=n(95162),d=n(21732),f=n(64442);t.Z=function(e){var t=e.stickTo,n=e.className,u=(0,f.l)().register,h=(0,d.Y)().openCommandKModal,p="left"===t?c().stickyLeft:c().stickyRight,g=(0,l.I)(),v=(g.isOpen,g.onOpen),m=(0,o.useCallback)(function(){var e;null===(e=window.Intercom)||void 0===e||e.call(window,"show")},[]),y=(0,o.useCallback)(function(){a.Z.trackEvent("help_center","eraser_website_click")},[]),b=(0,o.useCallback)(function(){a.Z.trackEvent("help_center","slack_click")},[]),w=(0,o.useCallback)(function(){a.Z.trackEvent("help_center","docs_click")},[]),_=(0,o.useCallback)(function(){a.Z.trackEvent("help_center","feature_request_click")},[]);return(0,o.useCallback)(function(e){e&&a.Z.trackEvent("help_center","help_center_click")},[]),(0,o.useEffect)(function(){u("eraserDocs",w),u("joinSlack",b),u("sendFeedback",m),u("submitRequest",_),u("eraserWebsite",y),u("openKeyboardShortcuts",v)},[u,w,b,m,y,_,v]),/*#__PURE__*/(0,r.jsx)(A.ZP,{onClick:function(){return h({screen:"help"})},variant:A.ZP.Variants.LIGHT,className:(0,s.Z)(c().helpButton,c().container,p,n),"data-testid":"help-center",children:"?"})}},89911:function(e,t,n){"use strict";n.d(t,{$q:function(){return c}});var r=n(52322),o=n(2784),a=n(3635),s=n(27846),u=/*#__PURE__*/n.n(s),c=/*#__PURE__*/(0,o.forwardRef)(function(e,t){var n=e.className,o=e.width,a=e.height;return/*#__PURE__*/(0,r.jsxs)("svg",{className:n,width:o,height:a,viewBox:"0 0 1699 660",ref:t,children:[/*#__PURE__*/(0,r.jsx)("path",{fill:"#EC2C40",d:"M804.7,660.3H50c-38.8,0-62.8-55-42.7-98.2L253,31.4C262,11.9,278.2,0,295.7,0h509V660.3z"}),/*#__PURE__*/(0,r.jsx)("path",{fill:"#00A9E5",d:"M891.3,0L1646,0c38.8,0,62.8,55,42.7,98.2L1443,628.9c-9,19.5-25.2,31.4-42.7,31.4h-509V0z"})]})}),l=function(e){var t=e.className;return/*#__PURE__*/(0,r.jsxs)("svg",{className:t,viewBox:"0 0 670 135",fill:"currentColor",children:[/*#__PURE__*/(0,r.jsx)("path",{d:"M61.1,132.4c-18.2,0-32.9-5.7-44.2-17.2C5.6,103.8,0,88.6,0,69.5V66c0-12.7,2.5-24.1,7.4-34.2 c4.9-10,11.8-17.8,20.7-23.4C37,2.8,46.9,0,57.8,0c17.4,0,30.8,5.5,40.3,16.6s14.2,26.8,14.2,47.1v11.6H28.9 c0.9,10.5,4.4,18.9,10.6,25c6.2,6.1,13.9,9.2,23.3,9.2c13.1,0,23.8-5.3,32.1-15.9l15.5,14.7c-5.1,7.6-11.9,13.6-20.5,17.8 C81.3,130.3,71.8,132.4,61.1,132.4z M57.7,23c-7.9,0-14.2,2.8-19.1,8.3s-7.9,13.2-9.3,23H84v-2.1c-0.6-9.6-3.2-16.9-7.7-21.8 C71.9,25.5,65.7,23,57.7,23z"}),/*#__PURE__*/(0,r.jsx)("path",{d:"M201.5,28.6c-3.8-0.6-7.7-0.9-11.7-0.9c-13.1,0-22,5-26.6,15.1v87.3h-28.7V2.4h27.4l0.7,14.3 C169.5,5.5,179.1,0,191.4,0c4.1,0,7.5,0.6,10.1,1.7L201.5,28.6z"}),/*#__PURE__*/(0,r.jsx)("path",{d:"M293.5,130.1c-1.3-2.4-2.4-6.4-3.3-11.9c-9.1,9.5-20.3,14.3-33.5,14.3c-12.8,0-23.3-3.7-31.4-11 c-8.1-7.3-12.2-16.4-12.2-27.1c0-13.6,5.1-24.1,15.2-31.3S252.9,52,271.7,52h17.6v-8.4c0-6.6-1.9-11.9-5.5-15.9 c-3.7-4-9.3-6-16.9-6c-6.5,0-11.9,1.6-16,4.9c-4.2,3.3-6.3,7.4-6.3,12.4h-28.7c0-7,2.3-13.5,7-19.6c4.6-6.1,11-10.9,18.9-14.3 c8-3.5,16.9-5.2,26.7-5.2c14.9,0,26.9,3.8,35.8,11.3c8.9,7.5,13.5,18.1,13.7,31.7v57.6c0,11.5,1.6,20.7,4.8,27.5v2H293.5z M262,109.4c5.7,0,11-1.4,16-4.1c5-2.8,8.8-6.5,11.3-11.1V70.1h-15.5c-10.6,0-18.6,1.8-24,5.5c-5.4,3.7-8,8.9-8,15.7 c0,5.5,1.8,9.9,5.5,13.2C251,107.8,255.9,109.4,262,109.4z"}),/*#__PURE__*/(0,r.jsx)("path",{d:"M419.6,95.4c0-5.1-2.1-9-6.3-11.7c-4.2-2.7-11.2-5-20.9-7.1c-9.8-2-17.9-4.6-24.4-7.8 c-14.3-6.9-21.5-17-21.5-30.1c0-11,4.6-20.2,13.9-27.6C369.6,3.7,381.4,0,395.7,0c15.3,0,27.6,3.8,37,11.3 c9.4,7.6,14.1,17.3,14.1,29.4h-28.7c0-5.5-2-10.1-6.1-13.8c-4.1-3.7-9.5-5.5-16.3-5.5c-6.3,0-11.4,1.5-15.4,4.4 c-4,2.9-6,6.8-6,11.7c0,4.4,1.8,7.8,5.5,10.3c3.7,2.4,11.2,4.9,22.4,7.4c11.3,2.5,20.1,5.4,26.5,8.8c6.4,3.4,11.2,7.5,14.3,12.3 c3.1,4.8,4.7,10.6,4.7,17.5c0,11.5-4.8,20.8-14.3,27.9c-9.5,7.1-22,10.7-37.4,10.7c-10.5,0-19.8-1.9-28-5.7 c-8.2-3.8-14.6-9-19.1-15.6c-4.6-6.6-6.8-13.7-6.8-21.4H370c0.4,6.8,2.9,12,7.7,15.6c4.7,3.7,11,5.5,18.8,5.5 c7.6,0,13.3-1.4,17.2-4.3C417.6,103.8,419.6,100,419.6,95.4z"}),/*#__PURE__*/(0,r.jsx)("path",{d:"M529,132.4c-18.2,0-32.9-5.7-44.2-17.2c-11.3-11.4-16.9-26.7-16.9-45.7V66c0-12.7,2.5-24.1,7.4-34.2 c4.9-10,11.8-17.8,20.7-23.4c8.9-5.6,18.8-8.4,29.7-8.4C543,0,556.5,5.5,566,16.6c9.5,11.1,14.2,26.8,14.2,47.1v11.6h-83.4 c0.9,10.5,4.4,18.9,10.6,25c6.2,6.1,13.9,9.2,23.3,9.2c13.1,0,23.8-5.3,32.1-15.9l15.5,14.7c-5.1,7.6-11.9,13.6-20.5,17.8 C549.2,130.3,539.6,132.4,529,132.4z M525.5,23c-7.9,0-14.2,2.8-19.1,8.3c-4.8,5.5-7.9,13.2-9.3,23h54.6v-2.1 c-0.6-9.6-3.2-16.9-7.7-21.8C539.7,25.5,533.5,23,525.5,23z"}),/*#__PURE__*/(0,r.jsx)("path",{d:"M669.3,28.6c-3.8-0.6-7.7-0.9-11.7-0.9c-13.1,0-22,5-26.6,15.1v87.3h-28.7V2.4h27.4l0.7,14.3 C637.4,5.5,647,0,659.3,0c4.1,0,7.5,0.6,10.1,1.7L669.3,28.6z"})]})};c.displayName="EraserIconSVG",t.ZP=function(e){var t=e.className,n=e.horizontal,o=e.vertical,s=e.width,A=e.height;return/*#__PURE__*/(0,r.jsxs)("div",{className:(0,a.Z)(t,u().logo,(void 0===n||n)&&u().horizontal,void 0!==o&&o&&u().vertical),children:[/*#__PURE__*/(0,r.jsx)(c,{className:u().icon,width:s,height:A}),/*#__PURE__*/(0,r.jsx)(l,{className:u().text})]})}},28649:function(e,t,n){"use strict";n.d(t,{nV:function(){return h}});var r=n(70865),o=n(52322),a=n(2784),s=n(66804),u=n(28563),c=n(27198),l=n(3635),A=n(98850),d=/*#__PURE__*/n.n(A);t.ZP=function(e){var t=e.workspaceMembersInfo,n=t.invitedGuests,a=t.invitedMembers,s=t.pendingInvitees;return t.isLoading?null:/*#__PURE__*/(0,o.jsxs)("div",{className:(0,l.Z)(d().userList,"column gapMedium"),children:[/*#__PURE__*/(0,o.jsx)(f,(0,r.Z)({isOwnerRow:!0},e)),null==s?void 0:s.map(function(t){return/*#__PURE__*/(0,o.jsx)(f,(0,r.Z)({invite:t},e),t.id)}),null==a?void 0:a.map(function(t){return/*#__PURE__*/(0,o.jsx)(f,(0,r.Z)({member:t},e),t.id)}),null==n?void 0:n.map(function(t){return/*#__PURE__*/(0,o.jsx)(f,(0,r.Z)({guest:t},e),t.id)})]})};var f=function(e){var t,n=e.isOwnerRow,s=e.member,u=e.guest,A=e.invite,f=e.workspaceMembersInfo,p=e.workspace,g=n?null==p?void 0:p.ownerId:null!==(t=null==s?void 0:s.id)&&void 0!==t?t:null==u?void 0:u.id,v=null==A?void 0:A.inviteeEmail,m=(0,a.useMemo)(function(){var e,t,n,r;return e={userId:g,email:v},t=f.knownPeople,n=e.userId,r=e.email,null==t?void 0:t.find(function(e){if(e.userId&&e.userId===n||e.email&&e.email===r)return!0})},[g,v,f.knownPeople]),y=(0,a.useMemo)(function(){var e,t,r,o;return t=(e={invite:A,member:s,guest:u,isOwnerRow:n}).invite,r=e.member,o=e.guest,e.isOwnerRow?"Author":t?"Invited":o?"Can Edit (Guest)":r?"Member":""},[A,s,u,n]),b=(0,a.useMemo)(function(){var t,n,r,o,a,s,u,c,l;return n=(t=e).invite,r=t.guest,o=t.member,a=t.isExternalUser,s=t.userId,u=t.onCancelInvite,c=t.onAddMemberToTeam,l=t.onRemoveMemberFromWorkspace,t.isOwnerRow?[]:n?[{label:"Cancel Invitation",asyncOnClick:function(){return u(n.id)}}]:a&&r&&r.inviteId?[{label:"Leave",asyncOnClick:function(){return l(r)}}]:r?[{label:"Add to Team",asyncOnClick:function(){return c(r)}},{label:"Remove Guest from File",asyncOnClick:function(){return l(r)}}]:o?[{label:o.id===s?"Leave file":"Remove from File",asyncOnClick:function(){return l(o)}}]:[]},[e]);return/*#__PURE__*/(0,o.jsxs)("div",{className:(0,l.Z)(d().userRow,"rowCentered"),children:[/*#__PURE__*/(0,o.jsx)(c.a,(0,r.Z)({userId:g,email:v,avatarSize:26},m)),/*#__PURE__*/(0,o.jsx)(h,{unopenedText:y,dropdownOptions:b})]})},h=function(e){var t=e.unopenedText,n=e.dropdownOptions;return n.length?/*#__PURE__*/(0,o.jsx)(s.Lt,{title:t,isMountedInPopper:!0,asNested:!1,variant:s.Lt.Variants.LightGrey,popperModifiers:[{name:"offset",options:{offset:[0,8]}}],children:n.map(function(e){var t=e.label,n=e.asyncOnClick;return/*#__PURE__*/(0,o.jsx)(u.Z,{label:t,asyncOnClick:n},t)})}):/*#__PURE__*/(0,o.jsx)("div",{className:d().accessBadge,children:t})}},53030:function(e,t,n){"use strict";n.d(t,{Xh:function(){return c},vQ:function(){return u}});var r,o=n(47842),a=n(66804),s=n(28563),u={width:265,asNested:!1,spacing:"medium",popperPlacement:"left-start",variant:a.Lt.Variants.Grey,popperModifiers:[{name:"offset",options:{offset:[0,30]}}],selectionVariant:s.Z.SelectionVariants.Grey},c=(r={none:"Only team members or invited guests can view or edit this file.",write:"Anyone with a link can edit. Requires Eraser account to edit.",read:"Anyone with a link can view. Does not require Eraser account."},(0,o.Z)(r,"anonymous-write","Anyone with a link can edit. Does not require Eraser account."),(0,o.Z)(r,"private","Link access cannot be changed for Private Files"),r)},25248:function(e,t,n){"use strict";n.d(t,{b:function(){return f}});var r=n(52322),o=n(2784),a=n(2595),s=n(95162),u=n(68457),c=n(55929),l=n(44784),A=n(80498),d=n(89960),f=function(e){var t=e.unsearchableUserId,n=e.unsearchableEmail,f=e.unsearchableErrorMessage,h=void 0===f?"That input is invalid.":f,p=e.placeholder,g=e.onInvite,v=(0,o.useState)(""),m=v[0],y=v[1],b=(0,o.useState)(!1),w=b[0],_=b[1],E=(0,o.useRef)(null),C=(0,a.Z)(),B=(0,A.Z)({defaultIsOpen:!1}),I=B.isOpen,x=B.onOpen,T=B.onClose,S=!(0,l.Le)(m),k=m===n,D=(0,o.useCallback)(function(e){_(!0),y(""),C.promise(g(e),{loading:"Inviting ".concat(e),success:"Invitation sent to ".concat(e),error:function(e){return(0,d.T)(Error("Failed to invite user",{cause:e})),"Invitation sending failed"}}).finally(function(){_(!1)})},[g]),N=(0,o.useCallback)(function(e){if(e.preventDefault(),k){C.error(h);return}S&&!w&&D(m)},[k,S,m,w,D,h]),O=(0,o.useCallback)(function(e){var t=e.email;y(t),D(t)},[D]),F=(0,o.useCallback)(function(e){return e.memberId!==t},[t]);return/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:[/*#__PURE__*/(0,r.jsx)("form",{onSubmit:N,style:{width:"100%"},children:/*#__PURE__*/(0,r.jsx)(c.Z,{autoFocus:!0,ref:E,placeholder:p,onChange:function(e){return y(e.target.value)},value:m,button:/*#__PURE__*/(0,r.jsx)(s.ZP,{disabled:!S,type:"submit",isLoading:w,children:"Invite"}),onBlur:T,onFocus:x,"data-testid":"invite-input"})}),I&&E.current&&/*#__PURE__*/(0,r.jsx)(u.Z,{targetNode:E.current,search:m||void 0,onSelect:O,isPopperVisible:!0,shouldIncludeEmails:!0,className:"marginTopMedium",filterPredicate:F})]})}},96737:function(e,t,n){"use strict";n.d(t,{_:function(){return U},E:function(){return j}});var r=n(98788),o=n(70865),a=n(96670),s=n(87394),u=n(22970),c=n(2784),l=n(20810),A=n(39739),d=n(68594),f=n(77984),h=n(39369),p=n(12335),g=n(69071),v=n(34224),m=n(2595),y=n(96933),b=n(39183),w=n(97594),_=n(95550),E=n(10097),C=n(10186),B=function(e,t){var n,o=C.Z.team(e).withConverter(w.ML);return E.RZ.runTransaction((n=(0,r.Z)(function(n){var r,a,s,c;return(0,u.__generator)(this,function(u){switch(u.label){case 0:return[4,n.get(o)];case 1:if(!(r=u.sent().data()))throw Error("Team does not exist");if(!r.inviteId)return[3,3];return a=C.Z.invite(r.inviteId).withConverter(w.xI),[4,n.get(a)];case 2:if(u.sent().exists)return[2,r.inviteId];u.label=3;case 3:return s=C.Z.invites.doc(),c={type:_.PA.Link,inviteTo:_.FU.Team,inviterId:t,teamId:e},n.set(s,c),n.update(o,{inviteId:s.id}),[2,s.id]}})}),function(e){return n.apply(this,arguments)}))},I=function(e){var t,n=C.Z.team(e).withConverter(w.ML);return E.RZ.runTransaction((t=(0,r.Z)(function(e){var t,r;return(0,u.__generator)(this,function(o){switch(o.label){case 0:return[4,e.get(n)];case 1:if(!(t=o.sent().data()))throw Error("Team does not exist");return t.inviteId&&(r=C.Z.invite(t.inviteId),e.delete(r),e.update(n,{inviteId:E.ZP.firestore.FieldValue.delete()})),[2]}})}),function(e){return t.apply(this,arguments)}))},x=n(57398),T=n(28043),S=function(e){var t=e.workspaceId,n=e.isDirectAccessAllowed,r=e.directAccessMode;return C.Z.workspace(t).update({isDirectAccessAllowed:n,directAccessMode:r,updatedAt:T.GH.serverTimestamp()})},k=n(355),D=n(66140),N=n(89960),O=n(45403),F=function(e,t){var n=(0,O.Pe)(),o=(0,c.useMemo)(function(){return function(e){return new d.y(function(t){return n.workspaces.getWorkspaceDataStream({workspaceId:e}).subscribe(t)})}},[]);return{createInvite:(0,c.useCallback)(/*#__PURE__*/(0,r.Z)(function(){return(0,u.__generator)(this,function(n){switch(n.label){case 0:return[4,S({workspaceId:e,isDirectAccessAllowed:!0,directAccessMode:t})];case 1:return n.sent(),[2]}})}),[e,t]),removeInvite:(0,c.useCallback)(/*#__PURE__*/(0,r.Z)(function(){return(0,u.__generator)(this,function(t){switch(t.label){case 0:return[4,S({workspaceId:e,isDirectAccessAllowed:!1})];case 1:return t.sent(),[2]}})}),[e]),setDirectAccessMode:(0,c.useCallback)(function(t){return S({workspaceId:e,directAccessMode:t})},[e]),observeEntity:o}},R={isReady:!1,isCreating:!1,isDeleting:!1},L=function(e){var t=e.teamId,n=e.setState,r=e.observeEntity,u=(0,l.m)(function(e){return e.pipe((0,f.U)(function(e){return(0,s.Z)(e,1)[0]}),(0,h.x)(),(0,p.w)(function(e){return r(e)}),(0,f.U)(function(e){return null==e?void 0:e.inviteId}),(0,h.x)())},[t]);(0,A.m)(u,(0,c.useCallback)(function(e){var t=!!e;n(function(n){return(0,a.Z)((0,o.Z)({},n),{isReady:!0,isRemoteEnabled:t,isEnabled:t,isCreating:!1,isDeleting:!1,inviteId:e})})},[n]),N.T)},M=function(e){var t=e.workspaceId,n=e.setState,r=e.setAccessMode,u=e.observeEntity,d=(0,l.m)(function(e){return e.pipe((0,f.U)(function(e){return(0,s.Z)(e,1)[0]}),(0,h.x)(),(0,p.w)(function(e){return u(e)}),(0,f.U)(function(e){return{isDirectAccessAllowed:null==e?void 0:e.isDirectAccessAllowed,directAccessMode:null==e?void 0:e.directAccessMode}}))},[t]);(0,A.m)(d,(0,c.useCallback)(function(e){var t=!!(null==e?void 0:e.isDirectAccessAllowed),s=null==e?void 0:e.directAccessMode;s&&r(s),n(function(e){return(0,a.Z)((0,o.Z)({},e),{isReady:!0,isRemoteEnabled:t,isEnabled:t,isCreating:!1,isDeleting:!1})})},[n,r]),N.T)},P=function(e){var t=e.entityId,n=e.createInvite,r=e.removeInvite,s=(0,m.Z)(),u=(0,c.useState)(R),l=u[0],A=u[1],d=(0,g.Z)(n),f=(0,g.Z)(r),h=(0,c.useCallback)(function(e){(0,N.T)(e),s.error("Something went wrong")},[]),p=(0,c.useCallback)(function(){A(function(e){return(0,a.Z)((0,o.Z)({},e),{isEnabled:!0,isCreating:!0})}),f.reset(),d.execute().catch(h)},[h]),v=(0,c.useCallback)(function(){A(function(e){return(0,a.Z)((0,o.Z)({},e),{isDeleting:!0})}),d.reset(),f.execute().catch(h)},[t,h]);return{toast:s,state:l,setState:A,onTurnOff:v,onTurnOn:p}},U=function(e){var t,n=e.entityId,s=(0,y.II)(),l={createInvite:(0,c.useCallback)(/*#__PURE__*/(0,r.Z)(function(){return(0,u.__generator)(this,function(e){switch(e.label){case 0:return[4,B(n,s)];case 1:return e.sent(),[2]}})}),[n,s]),removeInvite:(0,c.useCallback)(/*#__PURE__*/(0,r.Z)(function(){return(0,u.__generator)(this,function(e){switch(e.label){case 0:return[4,I(n)];case 1:return[2,e.sent()]}})}),[n]),observeEntity:x.Z},A=l.createInvite,d=l.removeInvite,f=l.observeEntity,h=P({entityId:n,createInvite:A,removeInvite:d}),p=h.setState,g=h.state,v=h.onTurnOff,m=h.onTurnOn,b=g.inviteId?(t=g.inviteId,"".concat(D.l2.url,"/invite/").concat(t)):"";return L({teamId:n,setState:p,observeEntity:f}),(0,a.Z)((0,o.Z)({},g),{isEnabled:!!(g.isEnabled||g.isRemoteEnabled),onTurnOn:m,onTurnOff:v,inviteLink:b})},j=function(e){var t=e.entityId,n=e.accessMode,r=e.shareOrigin,s=void 0===r?"share":r,u=(0,c.useState)(n),l=u[0],A=u[1],d=(0,b.ZP)(),f=(0,v.Z)(),h=F(t,l),p=h.createInvite,g=h.removeInvite,m=h.setDirectAccessMode,y=h.observeEntity,w=P({entityId:t,createInvite:p,removeInvite:g}),_=w.setState,E=w.state,C=w.onTurnOff,B=w.onTurnOn;M({workspaceId:t,setState:_,setAccessMode:A,observeEntity:y});var I=(0,c.useCallback)(function(e){m(e)},[m]),x=(0,k.NY)({workspaceId:t,params:{origin:s}}),T=(0,c.useCallback)(function(e){var n="Link copied";d&&"isDirectAccessAllowed"in d&&!d.isDirectAccessAllowed&&(n="".concat(n," - only collaborators can access"));var r={workspaceId:t,params:{origin:s}};e&&(r.params.elements=e),f((0,k.NY)(r),n)},[d,t,s]);return(0,a.Z)((0,o.Z)({},E),{accessMode:l,isEnabled:!!(E.isEnabled||E.isRemoteEnabled),copyLinkToClipboard:T,onTurnOn:B,onTurnOff:C,onAccessModeChange:I,inviteLink:x})}},69023:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(52322),o=n(2784),a=n(89911),s=n(46966),u=/*#__PURE__*/n.n(s),c=/*#__PURE__*/(0,o.memo)(function(e){var t=e.children,n=e.staticLogo,o=/*#__PURE__*/(0,r.jsx)(a.ZP,{horizontal:!0,className:u().eraserLogo});return/*#__PURE__*/(0,r.jsxs)("div",{className:u().minimalPageLayout,children:[n?o:/*#__PURE__*/(0,r.jsx)("a",{href:"/",children:o}),/*#__PURE__*/(0,r.jsx)("div",{className:u().content,children:t})]})})},64870:function(e,t,n){"use strict";n.d(t,{BD:function(){return m},a_:function(){return p}});var r=n(70865),o=n(96670),a=n(52322),s=n(2784),u=n(21746),c=n(5632),l=n(29446),A=n(26340),d=n(96933),f=n(10185),h=n(48696),p=(0,u.kr)({files:[],updateOrder:function(){return null},orderBy:l.nm.orderBy,orderDir:l.nm.orderDir}),g={title:"asc",updatedAt:"desc",createdAt:"desc",folderId:"desc",nComments:"desc"},v=function(e,t,n){if(!e)return{};switch(e){case"private":return{ownerId:t,isPrivate:!0};case"folder":return{folderId:n};case"unsorted":return{folderId:null,isPrivate:!1};case"archived":return{isArchived:!0,ownerId:t};case"created-by-me":return{ownerId:t};default:return{}}};t.ZP=function(e){var t=e.children,n=(0,c.useRouter)(),u=(0,d.II)(),m=(0,s.useState)((0,r.Z)({},l.nm,v((0,f.N)(n.asPath),u,(0,h.N0)(n.asPath)))),y=m[0],b=m[1],w=(0,A.Z)(y),_=(0,s.useCallback)(function(e){b(function(t){if(t.orderBy===e){var n,a="asc"===t.orderDir?"desc":"asc";return(0,o.Z)((0,r.Z)({},t),{orderDir:a})}return(0,o.Z)((0,r.Z)({},t),{orderBy:e,orderDir:null!==(n=g[e])&&void 0!==n?n:"desc"})})},[]);(0,s.useEffect)(function(){var e=function(e){var t=v((0,f.N)(e),u,(0,h.N0)(e));b(function(e){return(0,r.Z)({orderBy:e.orderBy,orderDir:e.orderDir},t)})};return n.events.on("beforeHistoryChange",e),function(){n.events.off("beforeHistoryChange",e)}},[u,n]),(0,s.useEffect)(function(){b(function(e){return(0,r.Z)({},e,v((0,f.N)(n.asPath),u,(0,h.N0)(n.asPath)))})},[u,n]);var E=(0,s.useMemo)(function(){return{files:w||[],updateOrder:_,orderBy:y.orderBy,orderDir:y.orderDir}},[w,_,y.orderBy,y.orderDir]);return/*#__PURE__*/(0,a.jsx)(p.Provider,{value:E,children:t})};var m=function(){return(0,u.qp)(p)}},6375:function(e,t,n){"use strict";var r=n(52322),o=n(2784),a=n(51992),s=n(23513),u=/*#__PURE__*/n.n(s),c=n(3635),l=/*#__PURE__*/(0,o.memo)(function(e){var t=e.absolute;return e.hidden?null:/*#__PURE__*/(0,r.jsx)("div",{className:(0,c.Z)(u().container,t&&u().absolute),children:/*#__PURE__*/(0,r.jsxs)("div",{className:u().notepad,children:[/*#__PURE__*/(0,r.jsx)(a.yB,{color:"var(--grey-500)",highlightColor:"var(--grey-400)",children:/*#__PURE__*/(0,r.jsx)("div",{className:u().skeletonTitle,children:/*#__PURE__*/(0,r.jsx)(a.ZP,{count:1,height:22,className:u().titleSkeleton})})}),/*#__PURE__*/(0,r.jsx)(a.yB,{color:"var(--grey-500)",highlightColor:"var(--grey-400)",children:/*#__PURE__*/(0,r.jsxs)("div",{className:u().skeletonBody,children:[/*#__PURE__*/(0,r.jsx)("p",{children:/*#__PURE__*/(0,r.jsx)(a.ZP,{count:1,height:12})}),/*#__PURE__*/(0,r.jsx)("p",{children:/*#__PURE__*/(0,r.jsx)(a.ZP,{count:1,height:12,width:200})})]})})]})})});l.displayName="NotepadSkeleton",t.Z=l},58317:function(e,t,n){"use strict";n.d(t,{P8:function(){return b},Zv:function(){return w}});var r=n(70865),o=n(96670),a=n(52322),s=n(2784),u=n(37164),c=n(28316),l=n(96933),A=n(52826),d=n(4126),f=n(54848),h=n(68457),p=n(46130),g=n(3635),v=n(36976),m=/*#__PURE__*/n.n(v),y=function(e){var t,n=e.data,r=e.isSelected,o=(0,A.ZP)(n.userId),s=(0,l.II)(),u=n.userId===s,c=null!==(t=null==o?void 0:o.displayName)&&void 0!==t?t:n.email;return c?/*#__PURE__*/(0,a.jsx)(b,{profile:o,display:c,isSelected:r,isHighlighted:u}):null},b=function(e){var t=e.profile,n=e.display,s=e.classNames,u=e.isSelected,c=e.isHighlighted,l=(0,d.F)().isDarkMode;return/*#__PURE__*/(0,a.jsxs)("span",{className:(0,g.Z)(null==s?void 0:s.root,m().personDisplay,l&&m().isDarkMode,u&&m().isSelected,c&&m().isHighlighted),children:[/*#__PURE__*/(0,a.jsx)(f.Z,(0,o.Z)((0,r.Z)({},t),{className:(0,g.Z)(m().avatar,null==s?void 0:s.avatar)})),/*#__PURE__*/(0,a.jsx)("span",{className:(0,g.Z)(m().label,null==s?void 0:s.label),children:n})]})},w=function(e){var t=e.attributes,n=e.element,r=e.children,o=n.mentionData,l=n.mentionType,A=(0,p.W)(n),d=A.updateMention,f=A.unwrapMention,g=A.checkIfMentionDone,v=A.isSelected,b=A.text,w=A.getBounds,E=(0,s.useCallback)(function(e){var t={userId:e.userId,email:e.email};t.id=(0,u.x0)(),d({mentionType:"person",mentionData:t})},[d]),C=!!(l&&"person"===l&&(null==o?void 0:o.email));return/*#__PURE__*/(0,a.jsxs)(_,{attributes:t,mentionType:l,mentionData:o,isSelected:v,isValidPerson:C,renderMenu:function(){var e=(0,s.useState)(null),t=e[0],n=e[1],r=w();if(!r)return null;var o=/*#__PURE__*/(0,a.jsx)("span",{className:m().dropdownAnchor,style:{top:r.bottom,left:r.left},ref:n,children:/*#__PURE__*/(0,a.jsx)(h.Z,{targetNode:t,className:m().dropdownContainer,onSelect:E,withProfileOnly:!0,search:b?b.slice(1):"",includeSelf:!0,searchOnEmptyString:!0,onCancel:f,onSearchFinished:function(e){g(e)},shouldIncludeEmails:!1,isPopperVisible:!0})});return/*#__PURE__*/(0,c.createPortal)(o,document.body)},PersonDisplayComponent:y,children:[r,"@"===b&&!C&&/*#__PURE__*/(0,a.jsx)("span",{className:m().placeholder,children:"mention"})]})},_=function(e){var t=e.attributes,n=e.isValidPerson,s=e.mentionData,u=e.isSelected,c=e.mentionType,l=e.children,A=e.renderMenu,d=e.PersonDisplayComponent;return/*#__PURE__*/(0,a.jsxs)("span",(0,o.Z)((0,r.Z)({},t),{className:(0,g.Z)(m().editorMention,n&&m().validPerson),children:[n?/*#__PURE__*/(0,a.jsx)(d,{data:s,isSelected:u}):null,u&&!c&&A(),l]}))}},76794:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(52322);n(2784);var o=n(44498),a=n(51516),s=n(95343),u=/*#__PURE__*/n.n(s),c=n(3635),l=n(70599),A=n(57695),d=n(26942),f=n(15765),h=function(e){var t=e.limit,n=e.current,o=e.showLink,s=e.contactUs,h=e.featureName,p=e.shortExplanation,g=e.showLimitName,v=e.upgradeLinkText,m=(0,a.Y)().openSettingsModal,y=(0,A.Su)().analyticsService,b=o?/*#__PURE__*/(0,r.jsx)("a",{role:"button",onClick:function(){m({openedPane:"plans",paywallFeature:h}),y.trackEvent("payment","open_billing_pane",{featureName:h,source:"limitBar"})},children:"Upgrade"}):"Upgrade",w=(0,f.ZP)(t),_=(0,f.ZP)(n),E=_>w?"".concat(w+1,"+"):_,C=function(){switch(h){case l.M$.Workspaces:return"files";case l.M$.AiDiagramAndOutlineCredits:return"AI credits";case l.M$.PremiumCredits:return"premium AI credits";case l.M$.CustomIcons:return"custom icons";default:return"files"}};return p?/*#__PURE__*/(0,r.jsxs)("span",{className:(0,c.Z)(u().explanation),children:[/*#__PURE__*/(0,r.jsx)("span",{children:E})," of ",/*#__PURE__*/(0,r.jsx)("span",{children:(0,f.oj)(t)}),(void 0===g||g)&&" ".concat(C(),"."),o&&/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:[/*#__PURE__*/(0,r.jsx)("span",{children:" / "}),/*#__PURE__*/(0,r.jsx)("a",{role:"button",onClick:function(){m({openedPane:"plans",paywallFeature:h})},children:void 0===v?"Upgrade":v})]})]}):/*#__PURE__*/(0,r.jsxs)("span",{className:(0,c.Z)(u().explanation),children:[/*#__PURE__*/(0,r.jsx)("strong",{children:E})," out of ",/*#__PURE__*/(0,r.jsx)("strong",{children:t})," ".concat(C()," used."),/*#__PURE__*/(0,r.jsx)("br",{}),s?/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:["Contact "," ",/*#__PURE__*/(0,r.jsx)(d.d,{src:"mailto:hello@eraser.io",children:"hello@eraser.io"})," "," to increase your limit."]}):/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:[b," your plan for unlimited access."]})]})},p=n(88859),g=function(e){var t=e.limit,n=e.style,a=e.current,s=e.useColor,u=e.showLink,c=e.fullColor,l=e.className,A=e.contactUs,d=e.featureName,f=e.showLimitName,g=e.upgradeLinkText,v=e.shortExplanation;return t===p.fY?null:/*#__PURE__*/(0,r.jsxs)("div",{style:n,children:[/*#__PURE__*/(0,r.jsx)(o.k,{limit:t,current:a,useColor:s,fullColor:c,className:l}),/*#__PURE__*/(0,r.jsx)(h,{limit:t,current:a,showLink:u,contactUs:A,featureName:d,showLimitName:f,upgradeLinkText:g,shortExplanation:v})]})}},57821:function(e,t,n){"use strict";n.d(t,{bJ:function(){return A},ch:function(){return d},hf:function(){return c},r4:function(){return l}});var r=n(52322),o=n(11769),a=n(71059),s=n(3635),u="eraser-splash",c=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.getElementById(u);t&&(e?t.remove():(t.classList.add("hidden"),setTimeout(function(){return t.remove()},100)))},l=function(e,t){return(0,a.Z)(function(){var t;(null===(t=null==e?void 0:e())||void 0===t||t)&&c()},t)},A=function(e){var t=e.loadingText;return/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:[/*#__PURE__*/(0,r.jsx)(o.Z,{}),/*#__PURE__*/(0,r.jsxs)("div",{className:"splashLoadingContainer",children:[/*#__PURE__*/(0,r.jsx)("div",{className:"splashLoadingSpinner"}),/*#__PURE__*/(0,r.jsx)("span",{children:void 0===t?"Loading eraser.io":t})]})]})},d=function(e){var t=e.initialTheme,n=e.loadingText;return/*#__PURE__*/(0,r.jsx)("div",{id:u,className:(0,s.Z)("eraserSplash","dark"===(null!=t?t:"light")&&"dark"),children:/*#__PURE__*/(0,r.jsx)("div",{className:"splashCenterer",children:/*#__PURE__*/(0,r.jsx)(A,{loadingText:n})})})}},59858:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(87394),o=n(50930),a=n(2784),s=n(20810),u=n(39739),c=n(77984),l=n(99054),A=n(39369),d=n(12335),f=n(11269),h=n(96933),p=n(42389),g=n(97594),v=n(10186),m=n(89960),y=n(88218),b=n(67640),w=n(87622),_=/*#__PURE__*/n.n(w),E=function(){var e=(0,h.aF)(),t=(0,f.mZ)(),n=(0,a.useState)(),w=n[0],E=n[1],C=(0,a.useState)(),B=C[0],I=C[1],x=(null==e?void 0:e.emailVerified)?null==e?void 0:e.email:null,T=(0,s.m)(function(e){return e.pipe((0,c.U)(function(e){return(0,r.Z)(e,1)[0]}),(0,l.h)(function(e){return"string"==typeof e}),(0,c.U)(function(e){return(0,y.ZP)(e)}),(0,A.x)(),(0,d.w)(function(e){return(0,p.BS)(v.Z.teams.withConverter(g.ML).where("isAutoJoinEnabled","==",!0).where("domain","==",e))}))},[x]);return(0,u.m)(T,E,m.T),(0,a.useEffect)(function(){b.Z.get("user/pendingInvites").then(function(e){I(e.invitesForUi)})},[]),(0,a.useMemo)(function(){if(e){if(!x)return[];if(B){var n=(null==B?void 0:B.filter(function(e){return!t.has(e.teamId)}))||[],r=_()(n,"teamId"),a=(null==w?void 0:w.filter(function(e){return!t.has(e.id)&&!r[e.id]}))||[];return(0,o.Z)(n).concat((0,o.Z)(a))}}},[x,e,w,B,t])}},20578:function(e,t,n){"use strict";var r=n(90581),o=n(21218),a=n(39309),s=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,r.Z)(this,n),e=t.apply(this,arguments),e._handleLayoutReady=function(t){e.setLayout=t,e.on("change-layout",t)},e._handleExcalidrawReady=function(t){e.api=t},e._handleAddElement=function(t){e.emit("add-element",t)},e}var s=n.prototype;return s.init=function(){this.on("layout-ready",this._handleLayoutReady),this.on("excalidraw-ready",this._handleExcalidrawReady),this.on("add-element",this._handleAddElement)},s.dispose=function(){this.api=void 0,this.removeAllListeners()},n}(n(30686).v);t.Z=new s},99811:function(e,t,n){"use strict";n.d(t,{fu:function(){return w},oQ:function(){return b}});var r=n(70865),o=n(96670),a=n(87394),s=n(52322),u=n(2784),c=n(20810),l=n(39739),A=n(9947),d=n(77984),f=n(12335),h=n(96933),p=n(39183),g=n(4406),v=n(21273),m=n(89960),y=n(24618),b=function(e){var t=Date.now(),n=[];return e.forEach(function(e){var r,o=e.id,a=e.heartbeat,s=null!==(r=null==a?void 0:a.toMillis())&&void 0!==r?r:t;t-s<=15e3&&n.push(o)}),n},w=function(e,t){var n=(0,u.useState)([]),r=n[0],o=n[1],s=(0,c.m)(function(e){return e.pipe((0,d.U)(function(e){return(0,a.Z)(e,1)[0]}),(0,y.jW)(),(0,f.w)(function(e){return(0,v.Z)(e)}),(0,d.U)(b),(0,y.Mh)(15e3,function(e,t){return e.length===t.length},A.z,{leading:!0,trailing:!0}))},[e]);return(0,l.m)(s,o,m.T),(0,u.useMemo)(function(){return t?r.filter(function(e){return e!==t}):r},[r,t])};t.ZP=function(e){var t=(0,h.II)(),n=(0,u.useState)([]),a=n[0],c=n[1],l=w((0,p.mT)()||"");return(0,u.useEffect)(function(){l&&c(l.filter(function(e){return e!==t}))},[t,l]),/*#__PURE__*/(0,s.jsx)(g.Z,(0,o.Z)((0,r.Z)({},e),{horizontalAlign:"end",max:3,userIds:a}))}},25579:function(e,t,n){"use strict";n.d(t,{k:function(){return c}});var r=n(52322),o=n(2784),a=n(45403),s=n(11269),u=n(88138),c=function(e){var t=e.children,n=(0,a.Pe)(),c=(0,s.LP)(),l=(0,o.useState)(void 0),A=l[0],d=l[1];(0,o.useEffect)(function(){if(c)return d(void 0),n.aiContext.subscribeByTeam(c,d)},[c]);var f=(0,o.useMemo)(function(){return{aiContexts:A}},[A]);return/*#__PURE__*/(0,r.jsx)(u.s.Provider,{value:f,children:t})}},88138:function(e,t,n){"use strict";n.d(t,{_:function(){return a},s:function(){return o}});var r=n(2784),o=(0,r.createContext)({aiContexts:[]}),a=function(){return(0,r.useContext)(o).aiContexts}},52982:function(e,t,n){"use strict";n.d(t,{H:function(){return p},Z:function(){return g}});var r,o,a=n(52322),s=n(2784),u=n(80498),c=n(2643),l=n(70759).Z,A=n(24179),d=n(67499),f=/*#__PURE__*/n.n(d);(r=o||(o={})).SIGN_IN="SIGN_IN",r.SIGN_UP="SIGN_UP";var h=/*#__PURE__*/(0,s.createContext)(void 0),p=function(e){var t=e.children,n=(0,u.Z)(),r=n.isOpen,d=n.onOpen,p=n.onClose,g=(0,s.useState)(o.SIGN_UP),v=g[0],m=g[1],y=(0,s.useState)(),b=y[0],w=y[1],_=(0,s.useCallback)(function(e){m(o.SIGN_UP),void 0!==e&&w(e),d()},[d]),E=(0,s.useCallback)(function(e){m(o.SIGN_IN),void 0!==e&&w(e),d()},[d]),C=(0,s.useCallback)(function(){w(void 0),p()},[p]),B=(0,s.useMemo)(function(){return{openSignUpModal:_,openSignInModal:E,closeAuthModal:C,isAuthModalOpen:r}},[_,E,C,r]),I=(0,s.useCallback)(function(){(null==b?void 0:b.isClosable)&&p()},[b,p]),x=v===o.SIGN_IN?l:A.Z;return/*#__PURE__*/(0,a.jsxs)(h.Provider,{value:B,children:[t,/*#__PURE__*/(0,a.jsx)(c.Z,{className:f().authModal,isOpen:r,onClose:I,hideCloseButton:!0,children:/*#__PURE__*/(0,a.jsx)(x,{profileArgs:null==b?void 0:b.profileArgs,customSubTitle:null==b?void 0:b.customSubTitle,onSignIn:null==b?void 0:b.onSignIn,asModal:!0})})]})},g=h},15683:function(e,t,n){"use strict";n.d(t,{Ii:function(){return d},jH:function(){return A}});var r=n(98788),o=n(22970),a=n(52322),s=n(2784),u=n(96933),c=n(45403),l=/*#__PURE__*/(0,s.createContext)({coachmarks:null,markCoachmark:function(){return Promise.resolve()}}),A=function(e){var t,n=e.children,A=(0,c.Pe)(),d=(0,u.II)(),f=(0,s.useState)(null),h=f[0],p=f[1];(0,s.useEffect)(function(){if(d)return A.currentUser.getCoachMarksDataStream().subscribe(p)},[d]);var g=(0,s.useCallback)((t=(0,r.Z)(function(e){var t,n,r=arguments;return(0,o.__generator)(this,function(o){switch(o.label){case 0:if(t=!(r.length>1)||void 0===r[1]||r[1],n=r.length>2?r[2]:void 0,!d)return[2];return[4,A.currentUser.markCoachmark(e,t,n)];case 1:return[2,o.sent()]}})}),function(e){return t.apply(this,arguments)}),[d]),v=(0,s.useMemo)(function(){return{coachmarks:h,markCoachmark:g}},[h,g]);return/*#__PURE__*/(0,a.jsx)(l.Provider,{value:v,children:n})},d=function(){return(0,s.useContext)(l)}},54118:function(e,t,n){"use strict";n.d(t,{o:function(){return g},Z:function(){return v}});var r=n(52322),o=n(34394),a=n(21746),s=n(56130),u=n(77984),c=n(42389),l=n(10186),A=n(24618),d=n(62557),f=n(19179),h=new s.X(void 0);f.jU?(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"webapp";return(0,c._1)(l.Z.config(e)).pipe((0,A.pA)({}),(0,A.Fb)({}))})().pipe((0,u.U)(function(e){return new d.v(e)})).subscribe(h):h.next(new d.v({}));var p=(0,a.kr)(void 0),g=function(e){var t=e.children,n=(0,o.p)(h);return/*#__PURE__*/(0,r.jsx)(p.Provider,{value:n,children:t})},v=p},27729:function(e,t,n){"use strict";n.d(t,{JR:function(){return w},Yp:function(){return _},yR:function(){return E}});var r=n(70865),o=n(96670),a=n(50930),s=n(52322),u=n(87622),c=/*#__PURE__*/n.n(u),l=n(2784),A=n(21746),d=n(11269),f=n(45403),h=n(49678),p=n(57517),g=n(57695),v=n(2595),m=n(96933),y=n(89960),b=(0,A.kr)({folderTree:{},foldersMap:{},isLoaded:!1,folders:void 0,topLevelFolders:[],renamingFolder:null,openFolder:function(){},closeFolder:function(){},switchFolder:function(){},toggleFolder:function(){},createFolder:function(){return Promise.resolve()},updateFolder:function(){return Promise.resolve()},updateFolderOrder:function(){return Promise.resolve()},renameFolder:function(){return Promise.resolve()},openFolders:new Set,getFolderPath:function(){return[]},getAllFolderPaths:function(){return[]},getFolderChildren:function(){return[]},setRenamingFolder:function(){},getFolderNameById:function(){return""}}),w=32,_="Untitled Folder",E=function(e){var t=e.children,n=(0,f.Pe)(),u=(0,g.Su)().analyticsService,A=(0,d.LP)(),w=(0,v.Z)(),E=(0,m.II)(),C=(0,p.i)().goToTab,B=(0,l.useState)(new Set),I=B[0],x=B[1],T=(0,l.useState)(void 0),S=T[0],k=T[1],D=(0,l.useState)(null),N=D[0],O=D[1],F=(0,l.useMemo)(function(){return S?(0,h.Hz)(S):{}},[S]),R=(0,l.useMemo)(function(){return(0,h.JN)(F)},[F]),L=(0,l.useMemo)(function(){return Object.values(F).sort(function(e,t){return e.order-t.order})},[F]);(0,l.useEffect)(function(){A&&(k(void 0),n.folders.subscribeByTeam(A,k))},[A]);var M=(0,l.useCallback)(function(e){var t;return e&&(null===(t=R.find(function(t){return t.id===e}))||void 0===t?void 0:t.children)||[]},[R]),P=(0,l.useCallback)(function(e){return e?(0,h.p6)(e,F):[]},[F]),U=(0,l.useCallback)(function(){return(0,h.am)(F)},[F]),j=(0,l.useMemo)(function(){return c()(S,"id")},[S]),Z=(0,l.useCallback)(function(e){x(function(t){var n=new Set(t);return n.add(e),n}),O(null)},[]),Q=(0,l.useCallback)(function(e){x(function(t){var n=new Set(t);return n.delete(e),n}),O(null)},[]),H=(0,l.useCallback)(function(e){x(function(t){var n=new Set(t);return t.has(e)?n.delete(e):n.add(e),n}),O(null)},[]),V=(0,l.useCallback)(function(e){return j[e]?j[e].name||_:""},[j]),K=(0,l.useCallback)(function(e){var t,r=e.name,o=e.parentFolderId,s=void 0===o?null:o,c=e.origin,l=void 0===c?"header":c,d=e.shouldOpen,f=void 0===d||d;if(!A||!E)return Promise.resolve();var h=s?M(s):L,p=Math.max((t=Math).max.apply(t,(0,a.Z)(h.map(function(e){return e.order}))),h.length)+1;return w.promise(n.folders.create({name:r,parentFolderId:s,teamId:A,order:p,createdBy:E}),{success:"Created folder",loading:"Creating folder",error:"Something went wrong"}).then(function(e){O({id:e,origin:l}),u.trackEvent("folders","create_folder"),f&&C("folder",e)}).catch(y.T)},[A,u,E,C,L,M]),z=(0,l.useCallback)(function(e,t){return A&&E?(k(null==S?void 0:S.map(function(n){return n.id===e?(0,r.Z)({},n,t):n})),n.folders.updateById(e,t,{teamId:A}).catch(function(e){throw k(S),e})):Promise.resolve()},[A,E,S]),G=(0,l.useCallback)(function(e,t){return N||t?(O(null),z(t||N.id,{name:null!=e?e:""})):Promise.resolve()},[z,N]),W=(0,l.useCallback)(function(e,t,a){if(!A||!E)return Promise.resolve();var s,u,c=(s=(0,o.Z)((0,r.Z)({},j[e]),{parentFolderId:t}),u=(t?M(t):L).filter(function(e){return e.id!==s.id}),a<=-1?u.unshift(s):u.splice(a,0,s),u.map(function(e,t){return(0,o.Z)((0,r.Z)({},e),{order:t})}));return k(null==S?void 0:S.map(function(e){return c.find(function(t){return t.id===e.id})||e})),n.folders.updateFolderOrders(A,c,t).catch(function(e){throw k(S),e})},[A,E,j,L,M,S]);return/*#__PURE__*/(0,s.jsx)(b.Provider,{value:{folders:S,folderTree:F,foldersMap:j,openFolder:Z,closeFolder:Q,openFolders:I,createFolder:K,renameFolder:G,updateFolder:z,updateFolderOrder:W,toggleFolder:H,switchFolder:C,getFolderPath:P,renamingFolder:N,topLevelFolders:L,getAllFolderPaths:U,getFolderNameById:V,setRenamingFolder:O,getFolderChildren:M,isLoaded:!!S},children:t})};t.ZP=b},36274:function(e,t,n){"use strict";n.d(t,{N:function(){return e6}});var r=n(52322),o=n(2784),a=n(98788),s=n(90581),u=n(21218),c=n(70865),l=n(96670),A=n(39309),d=n(22970),f=n(68594),h=n(10097),p=n(70621),g=n(34899),v=n(90731),m=n(78950);function y(e){return new f.y(function(t){return h.RZ.collection("prompt-history").doc(e).onSnapshot(function(e){e.exists&&t.next((0,l.Z)((0,c.Z)({},e.data()),{id:e.id}))})})}var b=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,A.Z)(n);function n(){var e;return(0,s.Z)(this,n),e=t.apply(this,arguments),e.dataStreams={},e}var r=n.prototype;return r.getCollectionRef=function(){return h.RZ.collection("prompt-history")},r.makeHistoryEntry=function(e){var t,n=null===(t=h.I8.currentUser)||void 0===t?void 0:t.uid;if(!n)throw new p.vm;return{userInput:e,userId:n,timestamp:Date.now()}},r.getHistoryDataStream=function(e){return this.dataStreams[e]||(this.dataStreams[e]=m.h.makeStreamFactory(y)(e)),this.dataStreams[e]},r.createHistory=function(e,t){var n=this;return(0,a.Z)(function(){var r,o,a;return(0,d.__generator)(this,function(s){switch(s.label){case 0:return r=t?[n.makeHistoryEntry(t)]:[],o=n.getCollectionRef().doc().id,a=(0,l.Z)((0,c.Z)({id:o},e),{history:r}),[4,n.getCollectionRef().doc(o).set(a)];case 1:return s.sent(),[2,a]}})})()},r.getHistoryById=function(e){var t=this;return(0,a.Z)(function(){var n;return(0,d.__generator)(this,function(r){switch(r.label){case 0:return[4,t.getCollectionRef().doc(e).get()];case 1:if(!(n=r.sent()).exists)return[2,void 0];return[2,(0,c.Z)({},n.data())]}})})()},r.getHistoryBySearchParams=function(e){var t=this;return(0,a.Z)(function(){var n,r;return(0,d.__generator)(this,function(o){switch(o.label){case 0:if(!e.teamId)throw new p.tk("Invalid fetch attempted",{hint:"teamId is required for prompt history",statusCode:400,data:(0,c.Z)({},e)});return[4,(0,g.J)(t.getCollectionRef(),e,{limit:1}).get()];case 1:if((n=o.sent()).empty)throw new p.dR("Prompt history not found",{data:(0,c.Z)({},e)});return r=n.docs[0],[2,(0,l.Z)((0,c.Z)({},r.data()),{id:r.id})]}})})()},r.addEntry=function(e,t,n){var r=this;return(0,a.Z)(function(){var o,a;return(0,d.__generator)(this,function(s){switch(s.label){case 0:return[4,r.getHistoryById(e)];case 1:if(!(o=s.sent()))return[2];return a={userInput:t,userId:n,timestamp:Date.now()},[4,r.getCollectionRef().doc(e).set({history:o.history.concat(a)},{merge:!0})];case 2:return s.sent(),[2]}})})()},r.removeLastEntry=function(e){var t=this;return(0,a.Z)(function(){var n;return(0,d.__generator)(this,function(r){switch(r.label){case 0:return[4,t.getHistoryById(e)];case 1:if(!(null==(n=r.sent())?void 0:n.history.length))return[2];return[4,t.getCollectionRef().doc(e).set({history:n.history.slice(0,n.history.length-1)},{merge:!0})];case 2:return r.sent(),[2]}})})()},n}(v.Z),w=n(13706),_=n(77984),E=n(41217),C=n(60379),B=n(62349),I=/*#__PURE__*/n.n(B),x=n(23779),T=/*#__PURE__*/n.n(x),S=["Charming","Creative","Determined","Energetic","Friendly","Imaginative","Dynamic","Brave","Thoughtful","Passionate","Optimistic","Humorous","Marvelous","Knowledgeable","Expert","Amazing","Awesome","Fabulous","Fantastic","Gorgeous","Incredible","Outstanding","Remarkable","Spectacular","Splendid","Stellar","Super","Upbeat","Stunning","Wondrous","Dazzling","Vibrant","Brilliant","Elegant","Enchanting","Magnificent","Insightful","Adventurous","Charismatic","Inquisitive"],k=["Aardvark","Albatross","Alpaca","Armadillo","Alligator","Antelope","Baboon","Bobcat","Buffalo","Butterfly","Bear","Beaver","Camel","Caterpillar","Cheetah","Dolphin","Elephant","Fox","Falcon","Flamingo","Giraffe","Goose","Eagle","Hippo","Iguana","Jaguar","Kangaroo","Koala","Lion","Llama","Moose","Nighingale","Narwhal","Otter","Ostrich","Peacock","Penguin","Porcupine","Platypus","Puma","Panther","Rabbit","Raccoon","Reindeer","Rhino","Turtle","Squirrel","Swan","Tiger","Walrus","Whale","Wolverine","Wolf","Wombat","Woodpecker","Zebra"],D=function(){var e=S[I()(S.length-1)],t=k[I()(k.length-1)];return"".concat(T()(e)," ").concat(T()(t))},N=n(49864),O=n(32472),F=n(96603),R=function(e){var t=[F.Q6[8],F.iQ[8],F.pl[8],F.ht[8],F.QN[8],F.iN[8],F.sl[8],F.$C[8],F.ek[8],F.LR[8],F.er[8],F.$y[8]],n=(e?null==e?void 0:e.split("").reduce(function(e,t){return e+t.charCodeAt(0)},0):I()())%t.length;return t[n]},L=n(89960),M=n(66230),P=n(42389),U=n(97594),j=n(10186),Z=n(24618),Q=n(25487),H=n(42541),V=n(28055);function K(e){return(0,P.BS)(j.Z.userCoachmarks(e).withConverter(U.BG),"id").pipe((0,_.U)(function(e){return e.reduce(function(e,t){return e[t.id]=t,e},{})}))}function z(e){return(0,P.BS)(j.Z.userActivations(e),"id").pipe((0,_.U)(function(e){return e.reduce(function(e,t){return e[t.id]=t.didPerform,e},{})}))}var G=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,A.Z)(n);function n(){(0,s.Z)(this,n),(f=t.call(this)).Events=V.S,f.authUser=void 0,f.user=void 0;var e,r,o,u,A,f,p=(0,w.Z)(f);f.updateCurrentUserEmail=(e=(0,a.Z)(function(e,t,n){var r,o,a;return(0,d.__generator)(this,function(s){switch(s.label){case 0:if(!(r=h.ZP.auth().currentUser)||!r.email)throw Error("No user signed in");if(!n)throw Error("Must confirm password");s.label=1;case 1:return s.trys.push([1,5,,6]),o=h.ZP.auth.EmailAuthProvider.credential(r.email,n),[4,r.reauthenticateWithCredential(o)];case 2:return s.sent(),[4,r.updateEmail(e)];case 3:return s.sent(),[4,M.H.updateUserKnownPerson(r.uid,t,{email:e})];case 4:return s.sent(),p.authUser.email=e,p.emit(p.Events.AuthUserChanged,p.authUser),[3,6];case 5:return a=s.sent(),(0,Q.S3)(a),[3,6];case 6:return[2]}})}),function(t,n,r){return e.apply(this,arguments)});var g=(0,w.Z)(f);f.updateCurrentUserDisplayName=(r=(0,a.Z)(function(e,t){var n;return(0,d.__generator)(this,function(r){switch(r.label){case 0:if(!(n=h.ZP.auth().currentUser))return[2];return[4,n.updateProfile({displayName:e})];case 1:return r.sent(),[4,M.H.updateUserProfile(n.uid,{displayName:e})];case 2:return r.sent(),[4,M.H.updateUserKnownPerson(n.uid,t,{displayName:e})];case 3:return r.sent(),g.authUser.displayName=e,g.emit(g.Events.AuthUserChanged,g.authUser),[2]}})}),function(e,t){return r.apply(this,arguments)});var v=(0,w.Z)(f);f.updateCurrentUserPhotoUrl=(o=(0,a.Z)(function(e){var t;return(0,d.__generator)(this,function(n){switch(n.label){case 0:if(!(t=h.ZP.auth().currentUser))return[2];return[4,t.updateProfile({photoURL:e})];case 1:return n.sent(),[4,M.H.updateUserProfile(t.uid,{photoURL:e})];case 2:return n.sent(),v.authUser.photoURL=e,v.emit(v.Events.AuthUserChanged,v.authUser),[2]}})}),function(e){return o.apply(this,arguments)});var m=(0,w.Z)(f);f.resetProviderEmail=(u=(0,a.Z)(function(e,t){var n,r,o,a,s,u,c,l,A,f;return(0,d.__generator)(this,function(d){switch(d.label){case 0:if(!(o=h.ZP.auth().currentUser))throw Error("No user signed in");if(a=o.uid,s=o.email,u=o.providerData.find(function(t){return(null==t?void 0:t.providerId)===e}),c=Q.Zo[e],!u)return[3,2];return[4,o.unlink(e).catch(Q.S3)];case 1:d.sent(),H.Z.trackEvent("account","unlink",{userId:a,authMethod:c,oldEmail:s}),d.label=2;case 2:return l=(0,Q.VH)(e),[4,o.linkWithPopup(l).catch(function(e){H.Z.trackEvent("account","relink_error",{userId:a,authMethod:c,oldEmail:s}),(0,Q.S3)(e)})];case 3:if(f=null===(r=null==(A=d.sent())?void 0:null===(n=A.additionalUserInfo)||void 0===n?void 0:n.profile)||void 0===r?void 0:r.email,H.Z.trackEvent("account","relink",{userId:a,authMethod:c,oldEmail:s}),!(f&&f!==s))return[3,6];return[4,o.updateEmail(f).catch(Q.S3)];case 4:return d.sent(),[4,M.H.updateUserKnownPerson(o.uid,t,{email:f}).catch(L.T)];case 5:d.sent(),m.authUser.email=f,m.emit(m.Events.AuthUserChanged,m.authUser),d.label=6;case 6:return[2]}})}),function(e,t){return u.apply(this,arguments)});var y=(0,w.Z)(f);return h.I8.onAuthStateChanged((A=(0,a.Z)(function(e){var t,n,r,o,a,s,u,A,f,p,g,v,m,b,w,_;return(0,d.__generator)(this,function(d){switch(d.label){case 0:if(!e)return y.authUser=void 0,h.I8.signInAnonymously().then(function(){return(0,C.GF)()}).catch(L.T),[2];if(r=e.email,o=e.uid,a=e.metadata,s=e.isAnonymous,u=e.displayName,A=!!e.emailVerified||(null===(t=e.providerData)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.providerId)==="microsoft",g=s?{}:(0,E.AJ)(),!s)return[3,1];return(0,C.do)(o),f=u||D(),[3,3];case 1:return N.b.add({name:O.iL,value:"true"}),f=u||(null==g?void 0:g.displayName)||D(),[4,e.getIdTokenResult()];case 2:p=d.sent().claims.sso,d.label=3;case 3:return v=R(e.uid),m=e.photoURL||void 0,y.authUser={id:o,color:v,photoURL:m,isAnonymous:s,displayName:f,email:r||void 0,emailVerified:A,createdAt:a.creationTime?new Date(a.creationTime):void 0,sso:p},y.emit(y.Events.AuthUserChanged,y.authUser),y.subscribeToUserData(),b=(0,C.ES)(),w=N.b.getByName(O.IF)||b,_=(0,l.Z)((0,c.Z)({},null!=g?g:{}),{displayName:f,color:v,photoURL:null!=m?m:""}),w&&(N.b.add({name:O.IF,value:w}),_.analyticsId=w),e.displayName&&e.displayName===f||e.updateProfile({displayName:f}).catch(L.T),M.H.createOrUpdateUserProfile(o,_).then(function(){s||((0,E.Q0)(),(0,C.QZ)())}).catch(L.T),[2]}})}),function(e){return A.apply(this,arguments)})),f}var r=n.prototype;return r.subscribeToUserData=function(){var e,t=this;if(!this.authUser||this.authUser.isAnonymous){this.user=this.authUser,this.emit(this.Events.UserChanged,this.user);return}var n=(e=this.authUser.id,(0,P._1)(j.Z.user(e).withConverter(U.yN)).pipe((0,Z.pA)(null),(0,Z.VK)(),(0,Z.Fb)(null))).pipe((0,_.U)(function(e){return(0,c.Z)({},t.authUser,e)})).subscribe(function(e){t.user=e,t.emit(t.Events.UserChanged,t.user)});this.clean=n.unsubscribe},r.setDisplayNameForCurrentSession=function(e){this.authUser&&(this.authUser.displayName=e,this.emit(this.Events.AuthUserChanged,this.authUser))},r.getAuthUser=function(){return this.authUser},r.getCurrentUser=function(){return this.user},r.getCoachMarksDataStream=function(){if(!this.authUser)throw Error("No user signed in");return m.h.makeStreamFactory(K)(this.authUser.id)},r.markCoachmark=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2?arguments[2]:void 0;if(!this.authUser)throw Error("No user signed in");return j.Z.userCoachmarks(this.authUser.id).doc(e).set({isShown:t,lastShownAt:Date.now(),lastShownValue:null!=n?n:""})},r.getActivationsDataStream=function(){if(!this.authUser)throw Error("No user signed in");return m.h.makeStreamFactory(z)(this.authUser.id)},r.markActivation=function(e){if(!this.authUser)throw Error("No user signed in");return j.Z.userActivations(this.authUser.id).doc(e).set({didPerform:!0})},n}(v.Z),W=function(e){return(0,P._1)(j.Z.commentThread(e).withConverter(U.An)).pipe((0,Z.pA)(null),(0,Z.Fb)(null))},q=function(e){return(0,P.BS)(j.Z.threadComments(e).withConverter(U.hL)).pipe((0,Z.pA)([]),(0,Z.Fb)([]))},Y=n(67640);function $(){return($=(0,a.Z)(function(e){return(0,d.__generator)(this,function(t){switch(t.label){case 0:return[4,Y.Z.post("commentThreads/".concat(e.threadId,"/comments"),{commentData:e})];case 1:return t.sent(),[2]}})})).apply(this,arguments)}var X=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,A.Z)(n);function n(){var e;return(0,s.Z)(this,n),e=t.apply(this,arguments),e.threadStreamById={},e.commentsStreamById={},e}var r=n.prototype;return r.getThreadDataStream=function(e){return this.threadStreamById[e]||(this.threadStreamById[e]=m.h.makeStreamFactory(W)(e)),this.threadStreamById[e]},r.getCommentsDataStream=function(e){return this.commentsStreamById[e]||(this.commentsStreamById[e]=m.h.makeStreamFactory(q)(e)),this.commentsStreamById[e]},r.createThread=function(e){var t=e.workspaceId,n=e.firstCommentText,r=e.userId;return(0,a.Z)(function(){var e;return(0,d.__generator)(this,function(o){switch(o.label){case 0:return[4,(e=j.Z.commentThreads.doc()).set({workspaceId:t,participantMemberIds:[r],readByMemberIds:[r],authorId:r,previewText:n,totalComments:0,createdAt:Date.now(),isResolved:!1})];case 1:return o.sent(),[4,e.withConverter(U.An).get()];case 2:return[2,o.sent().data()]}})})()},r.getThreadById=function(e){return(0,a.Z)(function(){var t;return(0,d.__generator)(this,function(n){switch(n.label){case 0:return[4,j.Z.commentThreads.withConverter(U.An).doc(e).get()];case 1:if(!(t=n.sent()).exists)return[2];return[2,t.data()]}})})()},r.addCommentToThread=function(e,t){return function(e){return $.apply(this,arguments)}((0,l.Z)((0,c.Z)({},t),{threadId:e}))},r.setThreadResolvedState=function(e,t){return j.Z.commentThread(e).update({isResolved:t})},r.setThreadAsReadByCurrentUser=function(e,t){return j.Z.commentThread(e).update({readByMemberIds:h.ZP.firestore.FieldValue.arrayUnion(t)})},n}(v.Z),J=n(43806),ee=n(50389),et=n(99811);function en(e){var t=e.workspaceId,n=e.teamId,r=e.memberId;return(0,J.a)([(0,P._1)(j.Z.teamMember(n,r).withConverter(U.q0)).pipe((0,Z.pA)(null),(0,Z.Fb)(null)).pipe((0,_.U)(function(e){return null!=e&&(0,ee.pc)(e)})),(0,P._1)(j.Z.workspaceMember(t,r).withConverter(U.hu)).pipe((0,Z.pA)(null),(0,Z.Fb)(null)).pipe((0,_.U)(function(e){return null!=e}))]).pipe((0,_.U)(function(e){return e.some(Boolean)}))}var er=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,A.Z)(n);function n(){var e,r;return(0,s.Z)(this,n),e=t.apply(this,arguments),e.markWorkspaceAsVisited=(r=(0,a.Z)(function(e){return(0,d.__generator)(this,function(t){return[2,Y.Z.put("workspace/".concat(e,"/markVisit"),{})]})}),function(e){return r.apply(this,arguments)}),e}var r=n.prototype;return r.getWorkspaceDataStream=function(e){return m.h.makeStreamFactory(function(e){var t=e.workspaceId,n=e.mapPermissionDeniedErrorToNull,r=(0,P._1)(j.Z.workspace(t).withConverter(U.BV)).pipe((0,Z.pA)(null));return(void 0===n||n)&&(r=r.pipe((0,Z.Fb)(null))),r})(e)},r.getIsWorkspaceMemberDataStream=function(e){return m.h.makeStreamFactory(en)(e)},r.getWorkspaceTeamInfo=function(e,t){return e&&t?Y.Z.post("workspace/".concat(t,"/teamInfo"),{teamId:e}):Promise.resolve(void 0)},r.getWorkspaceLiveUserIds=function(e){return(0,a.Z)(function(){var t;return(0,d.__generator)(this,function(n){switch(n.label){case 0:return[4,j.Z.workspaceCollaborators(e).withConverter(U.kk).get()];case 1:return t=n.sent().docs.map(function(e){return e.data()}),[2,(0,et.oQ)(t)]}})})()},r.isWorkspaceMember=function(e,t){return(0,a.Z)(function(){return(0,d.__generator)(this,function(n){switch(n.label){case 0:return[4,j.Z.workspaceMember(e,t).withConverter(U.hu).get()];case 1:return[2,Boolean.apply(void 0,[n.sent().data()])]}})})()},r.validateAccess=function(e){return Y.Z.post("workspace/validateAccess",{workspaceId:e})},n}(v.Z),ei=n(87394),eo=n(50930),ea=n(54073),es=/*#__PURE__*/n.n(ea),eu=n(12436),ec=/*#__PURE__*/n.n(eu),el=n(65089),eA=/*#__PURE__*/n.n(el),ed=n(26297),ef=function(e){e.id;var t=e.pointer,n=e.selectedElementIds,r=e.editingElementId,o=e.modifiedAt,a=(0,ed.Z)(e,["id","pointer","selectedElementIds","editingElementId","modifiedAt"]);if(t||n||r){var s,u,A,d,f,h,p,g=((h={pointer:null!==(A=(s={pointer:t,selectedElementIds:n,editingElementId:r}).pointer)&&void 0!==A?A:ep}).pointer.x=Number((null!==(d=h.pointer.x)&&void 0!==d?d:0).toFixed(0)),h.pointer.y=Number((null!==(f=h.pointer.y)&&void 0!==f?f:0).toFixed(0)),(null===(u=s.pointer)||void 0===u?void 0:u.down)===!1&&delete h.pointer.down,(p=Object.keys(s.selectedElementIds||{})).length&&(h.selectedElementIds=p),s.editingElementId&&(h.editingElementId=s.editingElementId),h);return(0,l.Z)((0,c.Z)({},a),{modifiedAt:o,s:g})}return(0,l.Z)((0,c.Z)({},a),{modifiedAt:o})},eh=function(e){var t=e.key,n=e.val(),r=n.s,o=n.modifiedAt,a=n.color,s=n.displayName,u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pointer,n=e.selectedElementIds,r=e.editingElementId;return{pointer:void 0===t?ep:t,selectedElementIds:null==n?void 0:n.reduce(function(e,t){return e[t]=!0,e},{}),editingElementId:r||null}}(r);return(0,l.Z)((0,c.Z)({},u),{id:t,modifiedAt:o,color:a,displayName:s})},ep={x:0,y:0},eg=n(56818),ev=n(42327),em=n(76436),ey=n(54367),eb=n(64888),ew=n(99950),e_=n(97847),eE=[[100,1e3/30],[200,50],[1/0,100]],eC=h.ZP.database.ServerValue,eB={state:{}},eI=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,A.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this)).Events=ew.v,r.elements=new Map,r.collaborators=new Map,r.lastPointer={x:0,y:0},r.syncedElementVersions=new Map,r.isUserReady=!1,r.isElementsReady=!1,r.isZombie=!1,r.subscriptions=[],r.sceneUpdateBufferTime=100,r.pendingElements=new Set,r.schedulePointerRemoval=es()(function(){r.removePointer()},6e4),r.queueSaveAllElements=ec()(function(){var e=r.excalidrawApi.getSceneElements();r.saveElements(e,{addedElements:[],changedElements:[],deletedElements:[]},!0)},6e5),r.workspaceId=e.workspaceId,r.excalidrawApi=e.excalidrawApi,r.isReadOnly=e.isReadOnly,r.workspaceRef=h.Fs.ref("workspaces/".concat(e.workspaceId)),r.connectionRef=h.Fs.ref(".info/connected"),r.userRef=r.workspaceRef.child("whiteboard/users/".concat(e.user.id)),r.elementsRef=r.workspaceRef.child("whiteboard/elements"),r.lastUpdatedAtRef=r.workspaceRef.child("whiteboard/updatedAt"),r.collaboratorsRef=r.workspaceRef.child("whiteboard/users"),r.userId=e.user.id,r.sessionId=h.Fs.ref().push().key,r.useSafeUpdates=e.useSafeUpdates,eA()(function(){r.initializeSetUpdatedAt(),r.initializeUser(e.user),r.monitorElements()}),r}var r=n.prototype;return r.saveElements=function(e,t){var n=t.addedElements,r=t.changedElements,o=t.deletedElements,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=this;return(0,a.Z)(function(){var t,a,c,l,A,f,h,p;return(0,d.__generator)(this,function(d){switch(d.label){case 0:if(u.isZombie)return[2];return l=(c=(0,e_.y7)(e)).syncableElements,A=c.zIndexMap,(f=s?l:(0,eo.Z)(n).concat((0,eo.Z)(r))).forEach(function(e){u.elements.set(e.id,e),u.syncedElementVersions.set(e.id,e.version),u.pendingElements.add(e.id),e.zIndex=A[e.id]}),o.forEach(function(e){if(!u.elements.has(e.id)){u.pendingElements.delete(e.id);return}u.elements.delete(e.id),u.pendingElements.delete(e.id),u.elementsRef.child(e.id).remove(function(e){e&&console.error(e)})}),[4,null===(a=(t=u).savePendingChangesThrottled)||void 0===a?void 0:a.call(t,u.useSafeUpdates||s&&u.collaborators.size>0)];case 1:return(d.sent()||u.useSafeUpdates)&&u.queueSaveAllElements(),f.length>0&&!s&&(u.emit(u.Events.CHANGE),null===(p=(h=u).debouncedSetUpdatedAt)||void 0===p||p.call(h)),[2]}})})()},r.savePointer=function(e){var t;!this.isUserReady||this.isReadOnly||e.pointersMap.size>1||(this.lastPointer=e.pointer,this.schedulePointerRemoval(),null===(t=this.savePointerThrottled)||void 0===t||t.call(this,e))},r.saveSelection=function(){var e;null===(e=this.updateSelectionThrottled)||void 0===e||e.call(this)},r.dispose=function(){var e,t,n,r,o;this.isZombie=!0,this.removeAllListeners(),this.unsubscribe(),null===(e=this.savePointerThrottled)||void 0===e||e.cancel(),null===(t=this.updateCollaboratorsThrottled)||void 0===t||t.cancel(),null===(n=this.updateElementsThrottled)||void 0===n||n.cancel(),null===(r=this.updateSelectionThrottled)||void 0===r||r.cancel(),null===(o=this.savePendingChangesThrottled)||void 0===o||o.cancel(),this.schedulePointerRemoval.cancel(),this.queueSaveAllElements.cancel(),this.savePointerThrottled=void 0,this.updateCollaboratorsThrottled=void 0,this.updateElementsThrottled=void 0,this.updateSelectionThrottled=void 0,this.savePendingChangesThrottled=void 0,this.workspaceRef.off(),this.connectionRef.off(),this.userRef.off(),this.elementsRef.off(),this.collaboratorsRef.off(),this.isUserReady&&(this.schedulePointerRemoval.cancel(),this.removePointer(),this.userRef.onDisconnect().update(eB).catch(L.T))},r.initializeSetUpdatedAt=function(){var e=this;this.debouncedSetUpdatedAt=es()(function(){e.lastUpdatedAtRef.set(eC.TIMESTAMP).catch(L.T)},5e3,{maxWait:1e4,leading:!0,trailing:!0})},r.savePendingChanges=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.useSafeUpdates,t=this;return(0,a.Z)(function(){var n,r;function o(e){r=!0,"disconnect"===e.message||(0,L.T)(e)}return(0,d.__generator)(this,function(a){switch(a.label){case 0:return n=[],r=!1,t.pendingElements.forEach(function(a){var s=t.elements.get(a);if((0,e_.QY)(s)){if(!e){if((0,ev.JP)(s)){t.elements.delete(s.id);var u=t.elementsRef.child(s.id).remove().catch(o);n.push(u);return}var A=U.q9.toDatabase((0,l.Z)((0,c.Z)({},s),{modifiedAt:eC.TIMESTAMP,modifiedBy:t.sessionId,userId:t.userId})),d=t.elementsRef.child(s.id).set(A).catch(o);n.push(d);return}var f=t.elementsRef.child(s.id).transaction(function(e){return(0,ev.JP)(s)?(t.elements.delete(s.id),null):(e=e&&U.q9.fromDatabase({key:s.id,val:function(){return e}}),(0,e_.i8)(s,e)===s)?U.q9.toDatabase((0,l.Z)((0,c.Z)({},s),{modifiedAt:eC.TIMESTAMP,modifiedBy:t.sessionId,userId:t.userId})):void 0},function(e){e&&(r=!0,"disconnect"===e.message||(0,L.T)(e))},!1).catch(function(e){r=!0,"disconnect"===e.message||(0,L.T)(e)});n.push(f)}}),t.pendingElements.clear(),[4,Promise.all(n)];case 1:return a.sent(),[2,r]}})})()},r.initializeUser=function(e){var t=this,n={displayName:e.displayName,color:e.color,modifiedAt:eC.TIMESTAMP};this.userRef.transaction(function(e){return ef(n)},function(e,n){t.isUserReady=!0,t.triggerReady(),!e&&n&&t.subscribe(t.connectionRef,"value",function(e){!0===e.val()?t.userRef.onDisconnect().update(eB).catch(L.T):t.removePointer()})})},r.triggerReady=function(){this.isUserReady&&this.isElementsReady&&!this.isZombie&&(this.updateAdaptiveMethods(),this.emit(this.Events.READY),this.monitorCollaborators())},r.updateSelection=function(){var e=this.excalidrawApi.getState(),t=e.selectedElementIds,n=e.editingElement,r=ef({pointer:this.lastPointer,selectedElementIds:t,editingElementId:n?n.id:null,modifiedAt:eC.TIMESTAMP});this.userRef.update(r).catch(L.T)},r.doSavePointer=function(e){if(!this.isReadOnly){this.lastPointer=e.pointer;var t=this.excalidrawApi.getState(),n=t.selectedElementIds,r=t.editingElement,o=ef({pointer:e.pointer,selectedElementIds:n,editingElementId:r?r.id:null,modifiedAt:eC.TIMESTAMP});this.userRef.update(o).catch(L.T)}},r.removePointer=function(){this.userRef.update(eB).catch(L.T)},r.monitorElements=function(){var e=this;this.subscribe(this.elementsRef,"child_added",function(t){var n,r=U.q9.fromDatabase(t);!r.isDeleted&&(r.modifiedBy!==e.sessionId&&(e.elements.set(r.id,r),e.syncedElementVersions.set(r.id,r.version),e.isElementsReady&&(null===(n=e.updateElementsThrottled)||void 0===n||n.call(e))),e.isElementsReady&&e.updateAdaptiveMethods())}),this.subscribe(this.elementsRef,"child_changed",function(t){var n=U.q9.fromDatabase(t);if(!n.isDeleted&&n.modifiedBy!==e.sessionId){var r,o,a,s,u=e.excalidrawApi.getState(),c=n,l=n.id===(null===(r=u.resizingElement)||void 0===r?void 0:r.id)||n.id===(null===(o=u.draggingElement)||void 0===o?void 0:o.id);(0,eg.Sf)(c)&&(0,eg.Sf)(u.editingElement)&&c.id===(null===(a=u.editingElement)||void 0===a?void 0:a.id)&&(c=(0,em.BE)(c,{text:u.editingElement.text,html:u.editingElement.html,slate:u.editingElement.slate})),!l&&(e.elements.set(n.id,c),e.syncedElementVersions.set(n.id,n.version),e.isElementsReady&&(null===(s=e.updateElementsThrottled)||void 0===s||s.call(e)))}}),this.subscribe(this.elementsRef,"child_removed",function(t){var n,r=U.q9.fromDatabase(t);e.elements.get(r.id)&&(e.elements.delete(r.id),null===(n=e.updateElementsThrottled)||void 0===n||n.call(e))}),this.elementsRef.once("value").then(function(){e.handleInitialElements()}).catch(L.T)},r.handleInitialElements=function(){var e=this;return(0,a.Z)(function(){return(0,d.__generator)(this,function(t){switch(t.label){case 0:if(e.isElementsReady)return[2];return e.isElementsReady=!0,[4,e.fixElementsOnLoad().catch(L.T)];case 1:return t.sent(),e.updateScene({isInitialRender:!0,elements:e.elements}),e.excalidrawApi.zoomToFitElements(e.excalidrawApi.getSceneElements()),e.excalidrawApi.history.clearAllButCurrent(),e.triggerReady(),[2]}})})()},r.fixElementsOnLoad=function(){var e=this;return(0,a.Z)(function(){var t,n,r,o,a,s,u;return(0,d.__generator)(this,function(A){switch(A.label){case 0:t=!0,n=!1,r=void 0,A.label=1;case 1:A.trys.push([1,6,7,8]),o=e.elements.values()[Symbol.iterator](),A.label=2;case 2:if(t=(a=o.next()).done)return[3,5];if(!function(e){return arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),"diagram"===e.type&&"isBeingGenerated"in e!=!1&&!!e.isBeingGenerated&&!!e.modifiedAt&&!!e.isBeingGenerated&&(e.isBeingGenerated=!1,e.forceAiMode=!1,(0,eb.L)("ai_diagram","repair_generation_status",{diagramType:e.diagramType}),!0)}(s=a.value))return[3,4];return[4,e.elementsRef.child(s.id).set(U.q9.toDatabase((0,l.Z)((0,c.Z)({},s),{modifiedAt:eC.TIMESTAMP})))];case 3:A.sent(),A.label=4;case 4:return t=!0,[3,2];case 5:return[3,8];case 6:return u=A.sent(),n=!0,r=u,[3,8];case 7:try{t||null==o.return||o.return()}finally{if(n)throw r}return[7];case 8:return[2]}})})()},r.updateAdaptiveMethods=function(){var e,t,n,r,o,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=this,u=function(e){var t=e.elements.size,n=!0,r=!1,o=void 0;try{for(var a,s=eE[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=(0,ei.Z)(a.value,2),c=u[0],l=u[1];if(t<=c)return l}}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return 100}({elements:this.elements});if(a||this.sceneUpdateBufferTime!==u||!this.updateElementsThrottled){null===(e=this.savePointerThrottled)||void 0===e||e.flush(),null===(t=this.updateCollaboratorsThrottled)||void 0===t||t.flush(),null===(n=this.updateElementsThrottled)||void 0===n||n.flush(),null===(r=this.updateSelectionThrottled)||void 0===r||r.flush(),null===(o=this.savePendingChangesThrottled)||void 0===o||o.flush(),this.sceneUpdateBufferTime=u;var c=0===this.collaborators.size?3e4:u;this.savePointerThrottled=ec()(function(e){return s.doSavePointer(e)},c),this.updateCollaboratorsThrottled=ec()(this.updateCollaborators.bind(this),u,{trailing:!0}),this.updateElementsThrottled=ec()(this.updateElements.bind(this),u,{trailing:!0}),this.updateSelectionThrottled=ec()(this.updateSelection.bind(this),u,{trailing:!0}),this.savePendingChangesThrottled=ec()(this.savePendingChanges.bind(this),u,{trailing:!0})}},r.monitorCollaborators=function(){this.subscribe(this.collaboratorsRef,"child_added",this.handleCollaboratorAdd.bind(this)),this.subscribe(this.collaboratorsRef,"child_removed",this.handleCollaboratorRemoved.bind(this))},r.handleCollaboratorAdd=function(e){var t,n=e.key;if(n!==this.userId){var r=eh(e);null==r.modifiedAt||r.modifiedAt<Date.now()-6e4||(this.subscribe(this.collaboratorsRef.child(n),"value",this.handleCollaboratorChanged.bind(this)),this.collaborators.set(n,r),null===(t=this.updateCollaboratorsThrottled)||void 0===t||t.call(this),this.updateAdaptiveMethods(!0))}},r.handleCollaboratorChanged=function(e){var t,n=e.key;if(n!==this.userId){var r=eh(e);r&&r.pointer&&(this.collaborators.set(n,r),null===(t=this.updateCollaboratorsThrottled)||void 0===t||t.call(this))}},r.handleCollaboratorRemoved=function(e){var t,n=e.key;n!==this.userId&&(this.collaborators.delete(n),null===(t=this.updateCollaboratorsThrottled)||void 0===t||t.call(this),this.updateAdaptiveMethods(!0))},r.updateCollaborators=function(){this.updateScene({collaborators:this.collaborators})},r.updateElements=function(){this.updateScene({elements:this.elements})},r.updateScene=function(e){var t=e.elements,n=e.collaborators,r=e.isInitialRender,o=void 0!==r&&r,a={commitToHistory:o,isInitialRender:o};if(t){var s=(0,ey.W)(Array.from(t.values()));s.length===t.size?(a.elements=s,this.excalidrawApi.history.syncElements(a.elements)):console.warn("Elements not the right length")}n&&(a.collaborators=n),this.excalidrawApi.updateScene(a)},r.subscribe=function(e,t,n){this.isZombie||(this.subscriptions.push({ref:e,eventType:t,callback:n}),e.on(t,n))},r.unsubscribe=function(){this.subscriptions.forEach(function(e){var t=e.ref,n=e.eventType,r=e.callback;t.off(n,r)}),this.subscriptions.length=0},n}(v.Z),ex="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function eT(e){if(0===e)return"A0";for(var t="";e>0;){var n=e%ex.length;t=ex[n]+t,e-=n,e/=ex.length}return ex[t.length+9]+t}function eS(e){if(0===e.length||e[0]!==ex[e.length+8])throw Error("Invalid revision id!");for(var t=0,n=1;n<e.length;n++)t*=ex.length,t+=ex.indexOf(e[n]);return t}var ek=n(96343),eD=n(48223);function eN(e){return h.Fs.ref("workspaces/".concat(e,"/slate/operations"))}function eO(){return h.Fs.ref(".info/connected")}function eF(e){return h.Fs.ref("workspaces/".concat(e,"/slate/error"))}var eR=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,A.Z)(n);function n(e){var r,o=e.workspaceId,u=e.userId,A=e.clientId;(0,s.Z)(this,n),(r=t.call(this)).Events=eD.C,r.opsQueue=[],r.onConnectionChange=function(e){var t=e.val();r.isConnected=t,r.emit(r.Events.CONNECTION_CHANGED,t)},r.onServerError=function(e){var t=e.val();if(t){var n=t.message,o=(0,ed.Z)(t,["message"]);if(!(r.lastKnownErrorId&&eS(o.opId)<=eS(r.lastKnownErrorId))){r.lastKnownErrorId=o.opId;var a=(0,ek.EG)(Error(n),"ApplyOpServer",o);r.emit(r.Events.BAD_DATA,a)}}},r.makeOpsEntry=function(e){return{ops:e,clientId:r.clientId,userId:r.userId,time:new Date().toISOString()}},r.handleConnection=function(e){if(e){var t,n,o,a=(t=r.workspaceId,n={lastOpId:r.lastKnownId},o=eN(t).orderByKey(),(null==n?void 0:n.lastOpId)&&(o=o.startAfter(n.lastOpId)),o);a.on("child_added",r.receiveData),r.once(r.Events.CONNECTION_CHANGED,function(){a.off("child_added",r.receiveData)})}};var f=(0,w.Z)(r);return r.listenForErrors=/*#__PURE__*/(0,a.Z)(function(){var e,t,n;return(0,d.__generator)(this,function(r){switch(r.label){case 0:return[4,eF(f.workspaceId).get()];case 1:return(e=r.sent()).exists()&&(n=null===(t=e.val())||void 0===t?void 0:t.opId)&&(f.lastKnownErrorId=n),eF(f.workspaceId).on("value",f.onServerError),[2]}})}),r.receiveData=function(e){var t=U.oO.fromDatabase(e);r.handleData(t)},r.handleData=function(e){if(e.id>r.lastKnownId&&(r.lastKnownId=e.id,e.clientId!==r.clientId)){var t=r.clientId<e.clientId?"right":"left",n=(0,ei.Z)((0,ek.YV)(r.opsQueue,e.ops,t),2),o=n[0],a=n[1];r.opsQueue=o,r.emit(r.Events.OPS_ADDED,(0,l.Z)((0,c.Z)({},e),{ops:a}))}},r.workspaceId=o,r.userId=u,r.clientId=A,r.lastKnownId=eT(0),r.lastKnownErrorId=void 0,r.isConnected=!1,r}var r=n.prototype;return r.initialize=function(){this.on(this.Events.CONNECTION_CHANGED,this.handleConnection),eO().on("value",this.onConnectionChange)},r.destroy=function(){eO().off("value",this.onConnectionChange),eF(this.workspaceId).off("value",this.onServerError),this.off(this.Events.CONNECTION_CHANGED,this.handleConnection)},r.hasPendingOps=function(){return 0!==this.opsQueue.length},r.sendOps=function(e){var t=this;return(0,a.Z)(function(){var n,r,o,a;return(0,d.__generator)(this,function(s){switch(s.label){case 0:if(n=function(){var e,n;return(0,d.__generator)(this,function(r){switch(r.label){case 0:return e=eN(t.workspaceId).child(a),n=0,[4,new Promise(function(r,o){e.transaction(function(e){if(null==e){var r=t.makeOpsEntry(t.opsQueue);return n=t.opsQueue.length,U.oO.toDatabase((0,l.Z)((0,c.Z)({},r),{id:a}))}var o=(0,U.A1)(e.ops);t.handleData((0,l.Z)((0,c.Z)({},e),{id:a,ops:o}))},function(e,s){s?(t.opsQueue.splice(0,n),n=0,t.lastKnownId=a):e?e&&"permission_denied"===e.message&&o(e):a=eT((t.lastKnownId?eS(t.lastKnownId):0)+1),r()},!1)})];case 1:return r.sent(),[2]}})},o=0===t.opsQueue.length,(r=t.opsQueue).push.apply(r,(0,eo.Z)(e)),!1===o)return[2];a=eT((t.lastKnownId?eS(t.lastKnownId):0)+1),s.label=1;case 1:if(!t.opsQueue.length)return[3,3];return[5,(0,d.__values)(n())];case 2:return s.sent(),[3,1];case 3:return[2]}})})()},r.fetchValue=function(){var e=this;return(0,a.Z)(function(){var t;return(0,d.__generator)(this,function(n){switch(n.label){case 0:return[4,Y.Z.get("workspace/".concat(e.workspaceId,"/notes"))];case 1:return t=n.sent(),e.listenForErrors(),t.lastOpId&&(e.lastKnownId=t.lastOpId),[2,t]}})})()},n}(v.Z),eL=Object.assign(new v.Z,{workspaces:{canShareWorkspace:!0}}),eM=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,A.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}return n.prototype.getElementsByIds=function(e,t){return(0,a.Z)(function(){var n,r;return(0,d.__generator)(this,function(o){switch(o.label){case 0:return n=h.Fs.ref("workspaces/".concat(e,"/whiteboard/elements")),[4,Promise.all(t.map(function(e){return n.child(e).once("value").then(function(e){return U.q9.fromDatabase(e)})}))];case 1:return r=o.sent(),[2,(0,ey.W)(r.filter(function(e){return!!e}))]}})})()},n}(v.Z),eP=n(37164),eU=n(19198),ej=n(44335),eZ=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,A.Z)(n);function n(e){var r;return(0,s.Z)(this,n),(r=t.call(this)).Events=ej.w,r.stateId=(0,eP.x0)(),r.isInitiated=!1,r._isDestroyed=!1,r._initPromise=r.initialize(e),r}var r=n.prototype;return r.initialize=function(e){var t=this;return(0,a.Z)(function(){var n,r,o,a,s,u,A,f,p,g;return(0,d.__generator)(this,function(d){switch(d.label){case 0:if(n=e.user,r=e.imageFile,o=e.teamId,a=e.workspaceId,s=e.contextId,u=e.diagramElementId,A=(0,ed.Z)(e,["user","imageFile","teamId","workspaceId","contextId","diagramElementId"]),p=h.RZ.collection("auto-diagram-requests").doc(),t.requestId=p.id,A.base64image&&(A.base64image=void 0),!r)return[3,3];return g=(0,eU.AR)(p.id,o),[4,h.tO.ref(g).put(r)];case 1:return[4,d.sent().ref.getDownloadURL()];case 2:f=d.sent(),d.label=3;case 3:return[4,p.set({args:(0,l.Z)((0,c.Z)({},A),{image_url:f}),userId:n,stateId:t.stateId,teamId:o,workspaceId:a,contextId:s,diagramElementId:u,createdAt:Date.now()})];case 4:return d.sent(),t.ref=h.RZ.collection("auto-diagram-requests").doc(p.id),t._unsub=t.ref.onSnapshot(function(e){var n=e.data();if(!n){t.emit(t.Events.DELETE,e.id);return}t.emit(t.Events.UPDATE,(0,c.Z)({id:e.id},n))}),[2]}})})()},r.initiate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return(0,a.Z)(function(){return(0,d.__generator)(this,function(n){switch(n.label){case 0:if(!t._initPromise)throw Error("Not initialized!");return t.isInitiated=!0,[4,t._initPromise];case 1:return n.sent(),[2,Y.Z.post("ai/diagram",(0,c.Z)({requestId:t.requestId},e))]}})})()},r.handleGetDiagramType=function(){var e=this;return(0,a.Z)(function(){return(0,d.__generator)(this,function(t){switch(t.label){case 0:if(!e.requestId)throw Error("RequestId is undefined");return[4,e._initPromise];case 1:return t.sent(),[4,Y.Z.post("ai/getDiagramType",{requestId:e.requestId})];case 2:return[2,t.sent().data]}})})()},r.initiateImageToDiagram=function(){var e=this;return(0,a.Z)(function(){return(0,d.__generator)(this,function(t){switch(t.label){case 0:if(!e._initPromise)throw Error("Not initialized!");return[4,e._initPromise];case 1:return t.sent(),[2,Y.Z.post("ai/imageToDiagram-cloud",{requestId:e.requestId})]}})})()},r.updateDiagramCode=function(e){var t,n=this;return h.RZ.runTransaction((t=(0,a.Z)(function(t){var r,o,a,s,u;return(0,d.__generator)(this,function(A){switch(A.label){case 0:if(!n.ref)throw Error("Not initialized!");return[4,t.get(n.ref)];case 1:if(!(a=(o=A.sent()).exists?o.data():void 0))throw Error("Document does not exist!");return u={diagrams:null===(r=a.diagrams)||void 0===r?void 0:r.map(function(t,n){return(0,l.Z)((0,c.Z)({},t),{code:null!==(s=e[n])&&void 0!==s?s:t.code})})},t.update(n.ref,u),[2]}})}),function(e){return t.apply(this,arguments)}))},r.clean=function(){var e;this._isDestroyed||(null===(e=this._unsub)||void 0===e||e.call(this),this._isDestroyed=!0,this.isInitiated=!1)},n}(v.Z),eQ=n(10732),eH=n(85117),eV=n(88995),eK=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,A.Z)(n);function n(){return(0,s.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r._makeStream=function(e){var t=e.workspaceId,n=e.teamId,r=h.RZ.collection("auto-diagram-requests").where("teamId","==",n).where("workspaceId","==",t).withConverter(eV.Z);return m.h.makeStreamFactory(function(){return(0,eQ.BS)(r)})(e)},r.getDiagramRequestDataStream=function(e){if((null===(t=this._cache)||void 0===t?void 0:t.stream)&&(0,eH.Z)(null===(n=this._cache)||void 0===n?void 0:n.args,e))return this._cache.stream;var t,n,r=this._makeStream(e);return this._cache={stream:r,args:e},r},n}(v.Z),ez=n(11389),eG=n(34067),eW=n(40052),eq=n(53788),eY=n(42838),e$=n(17620),eX=/*#__PURE__*/n.n(e$),eJ=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,A.Z)(n);function n(e){var r,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.Z)(this,n),(r=t.call(this))._collectionName=e,r._opts=(0,l.Z)((0,c.Z)({},a),{converter:null!==(o=a.converter)&&void 0!==o?o:{toFirestore:function(e){e.id;var t=(0,ed.Z)(e,["id"]);if(a.firestoreTimestampFields){var n=!0,r=!1,o=void 0;try{for(var s,u=a.firestoreTimestampFields[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value,l=c in e?e[c]:void 0,A=void 0;"number"==typeof l?A=h.EK.fromMillis(l):(0,eY.Z)(l,Date)&&(A=h.EK.fromDate(l)),A&&(t[c]=A)}}catch(e){r=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}}return t},fromFirestore:function(e){var t=e.data(),n=(0,l.Z)((0,c.Z)({},t),{id:e.id});if(a.firestoreTimestampFields){var r=!0,o=!1,s=void 0;try{for(var u,A=a.firestoreTimestampFields[Symbol.iterator]();!(r=(u=A.next()).done);r=!0){var d,f=u.value,h=f in t?t[f]:void 0;h&&(n[f]=(null===(d=a.dateFields)||void 0===d?void 0:d.includes(f))?h.toDate():h.toMillis())}}catch(e){o=!0,s=e}finally{try{r||null==A.return||A.return()}finally{if(o)throw s}}}return n}}}),r}var r=n.prototype;return r.getCollectionRef=function(e){if("teams"===this._opts.parentCollection){if(!e)throw Error("Parent ID is required for nested collections");return h.RZ.collection("teams").doc(e).collection(this._collectionName).withConverter(this._opts.converter)}return h.RZ.collection(this._collectionName).withConverter(this._opts.converter)},r.getParentKey=function(){switch(this._opts.parentCollection){case"teams":return"teamId";case"workspaces":return"workspaceId"}},r.getParentId=function(e){var t=this.getParentKey();if(t)return null==e?void 0:e[t]},r.getDocRef=function(e,t){return e?this.getCollectionRef(t).doc(e):this.getCollectionRef(t).doc()},r.create=function(e,t){var n=this;return(0,a.Z)(function(){var r,o,a,s,u;return(0,d.__generator)(this,function(l){switch(l.label){case 0:var A,d,f,h,p,g,v,m;return r=n.getParentId(null!=t?t:e),a=null!==(o=e.id)&&void 0!==o?o:n.getCollectionRef(r).doc().id,s=n.getDocRef(a,r),A=n._opts,g=(0,c.Z)({},e),v=new Date,m=Date.now(),A.addCreatedAt&&(g.createdAt=null!==(f=e.createdAt)&&void 0!==f?f:(null===(d=A.dateFields)||void 0===d?void 0:d.includes("createdAt"))?v:m),A.addUpdatedAt&&(g.updatedAt=null!==(p=e.updatedAt)&&void 0!==p?p:(null===(h=A.dateFields)||void 0===h?void 0:h.includes("updatedAt"))?v:m),u=g,[4,s.set(u)];case 1:return l.sent(),[2,a]}})})()},r.fetchById=function(e,t){var n=this;return(0,a.Z)(function(){var r;return(0,d.__generator)(this,function(o){switch(o.label){case 0:return[4,n.getDocRef(e,n.getParentId(t)).get()];case 1:if(!(r=o.sent()).exists){if(n._opts.allowNotFound)return[2,void 0];throw new p.dR("Not Found",{data:{id:e}})}return[2,(0,l.Z)((0,c.Z)({},r.data()),{id:r.id})]}})})()},r.updateById=function(e,t,n){var r=this;return(0,a.Z)(function(){var o,a;return(0,d.__generator)(this,function(s){switch(s.label){case 0:var u,l,A,d;return o=r.getDocRef(e,r.getParentId(n)),u=r._opts,d=(0,c.Z)({},t),u.addUpdatedAt&&(d.updatedAt=null!==(A=t.updatedAt)&&void 0!==A?A:(null===(l=u.dateFields)||void 0===l?void 0:l.includes("updatedAt"))?new Date:Date.now()),a=d,[4,o.set(a,{merge:!0})];case 1:return s.sent(),[2]}})})()},r.deleteById=function(e,t){var n=this;return(0,a.Z)(function(){return(0,d.__generator)(this,function(r){switch(r.label){case 0:return[4,n.getDocRef(e,n.getParentId(t)).delete()];case 1:return r.sent(),[2]}})})()},r.makeFilters=function(e,t){var n=this.getParentKey();if(n){if(null==t?void 0:t[n])return{parentId:t[n],filters:e};var r=e[n];if(r&&"string"==typeof r)return{parentId:r,filters:eX()(e,n)}}return{parentId:void 0,filters:e}},r.fetchByTeam=function(e){var t=this;return(0,a.Z)(function(){return(0,d.__generator)(this,function(n){return[2,t.list({teamId:e},{})]})})()},r.list=function(e,t){var n=this;return(0,a.Z)(function(){var r,o,a;return(0,d.__generator)(this,function(s){switch(s.label){case 0:return o=(r=n.makeFilters(e,{})).filters,a=r.parentId,[4,(0,g.J)(n.getCollectionRef(a),o,t).get()];case 1:return[2,s.sent().docs.map(function(e){return e.data()})]}})})()},r.subscribeByTeam=function(e,t){var n=this,r=this.makeFilters({teamId:e},{}),o=r.filters,a=r.parentId,s=(0,g.J)(this.getCollectionRef(a),o);if(!this._opts.storeTeamSubscription)return this._subscribe(s,t);var u=this._cachedTeamSubscription;return(null==u?void 0:u.teamId)!==e&&(null==u||u.unsubscribe(),u=void 0),u||(u={teamId:e,currentDocs:void 0,cbs:[],unsubscribe:function(){}},this._cachedTeamSubscription=u,u.unsubscribe=this._subscribe(s,function(t){if(!n._cachedTeamSubscription){console.warn("No cached team subscription found");return}if(n._cachedTeamSubscription.teamId!==e){n._cachedTeamSubscription.unsubscribe(),n._cachedTeamSubscription.cbs.forEach(function(e){return e([])}),n._cachedTeamSubscription=void 0,console.warn("Stale cached team subscription found");return}n._cachedTeamSubscription.currentDocs=t,n._cachedTeamSubscription.cbs.forEach(function(e){return e(t)})})),u.cbs.push(t),u.currentDocs&&t(u.currentDocs),function(){u&&(u.cbs=u.cbs.filter(function(e){return e!==t}))}},r.subscribeByParams=function(e,t){var n=this.makeFilters(e,{}),r=n.filters,o=n.parentId,a=(0,g.J)(this.getCollectionRef(o),r);return this._subscribe(a,t)},r.subscribeById=function(e,t,n){return this.getCollectionRef(this.getParentId(n)).doc(e).withConverter(this._opts.converter).onSnapshot(function(e){return t(e.data())},function(e){console.error(e)})},r._subscribe=function(e,t){var n=this,r=[];return e.onSnapshot(function(e){r=(0,eo.Z)(r);var n=!0,o=!1,a=void 0;try{for(var s,u=e.docChanges()[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value,l=c.oldIndex,A=c.newIndex;if("added"===c.type){r.splice(A,0,c.doc.data());continue}if("modified"===c.type){r.splice(l,1),r.splice(A,0,c.doc.data());continue}r.splice(l,1)}}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}t(r)},function(t){console.error("[DAO] Error subscribing to ".concat(n._collectionName),t,e)})},n}(v.Z),e0=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,A.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,"ai-context",{allowNotFound:!0,storeTeamSubscription:!0})}var r=n.prototype;return r.fetchByTeam=function(e){throw Error("Method not implemented.")},r.fetchById=function(e){var t=this,r=this;return(0,a.Z)(function(){return(0,d.__generator)(this,function(o){return(0,eq.fo)(e)?[2,(0,eW.i)({contextId:e})]:[2,(0,ez.Z)((0,eG.Z)(n.prototype),"fetchById",t).call(r,e)]})})()},r.subscribeByTeam=function(e,t){var r=(0,eW.q)({teamId:e});return(0,ez.Z)((0,eG.Z)(n.prototype),"subscribeByTeam",this).call(this,e,function(e){r.then(function(n){t((0,eo.Z)(e).concat((0,eo.Z)(n)))})})},n}(eJ),e1=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,A.Z)(n);function n(){var e;return(0,s.Z)(this,n),(e=t.call(this)).monitorDao=new eJ("monitors",{addCreatedAt:!0,addUpdatedAt:!0}),e.gitAiRequestDao=new eJ("git-ai-requests",{addCreatedAt:!0,addUpdatedAt:!0}),e}var r=n.prototype;return r.subscribeToMonitors=function(e,t){return this.monitorDao.subscribeByTeam(e,t)},r.createMonitor=function(e){var t=this;return(0,a.Z)(function(){return(0,d.__generator)(this,function(n){return[2,t.monitorDao.create(e)]})})()},r.updateMonitor=function(e,t){var n=this;return(0,a.Z)(function(){return(0,d.__generator)(this,function(r){return[2,n.monitorDao.updateById(e,t)]})})()},r.execute=function(e){return(0,a.Z)(function(){return(0,d.__generator)(this,function(t){return[2,Y.Z.post("eraserbot/execute",e)]})})()},r.subscribeToGitAiRequests=function(e,t){var n=e.teamId,r=e.userId;return this.gitAiRequestDao.subscribeByParams(n?{teamId:n,createdBy:r}:{createdBy:r,isPublic:!0},t)},r.fetchGitAiRequest=function(e){var t=this;return(0,a.Z)(function(){return(0,d.__generator)(this,function(n){return[2,t.gitAiRequestDao.fetchById(e)]})})()},n}(v.Z),e2=n(99669),e4="folders",e3=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,A.Z)(n);function n(){return(0,s.Z)(this,n),t.call(this,"folders",{parentCollection:"teams",firestoreTimestampFields:["createdAt","updatedAt"],addCreatedAt:!0,addUpdatedAt:!0,storeTeamSubscription:!0})}var r=n.prototype;return r.subscribeByTeam=function(e,t){var r=e2.J.getItem(e4);return(null==r?void 0:r.teamId)===e&&t(r.folders),(0,ez.Z)((0,eG.Z)(n.prototype),"subscribeByTeam",this).call(this,e,function(n){e2.J.setItem(e4,{teamId:e,folders:n}),t(n)})},r.fetchById=function(e,t){var r,o,a=t.teamId;return a===(null===(r=this._cachedTeamSubscription)||void 0===r?void 0:r.teamId)&&(null===(o=this._cachedTeamSubscription)||void 0===o?void 0:o.currentDocs)?Promise.resolve(this._cachedTeamSubscription.currentDocs.find(function(t){return t.id===e})):(0,ez.Z)((0,eG.Z)(n.prototype),"fetchById",this).call(this,e,{teamId:a})},r.updateFolderOrders=function(e,t,n){var r=this;return(0,a.Z)(function(){var o,a,s,u,c,l,A,f,p;return(0,d.__generator)(this,function(d){switch(d.label){case 0:o=0,a=h.RZ.batch(),s=!0,u=!1,c=void 0;try{for(l=t[Symbol.iterator]();!(s=(A=l.next()).done);s=!0)p=(f=A.value).order,a.set(r.getDocRef(f.id,e),{order:p,parentFolderId:n},{merge:!0}),p>o&&(o=p)}catch(e){u=!0,c=e}finally{try{s||null==l.return||l.return()}finally{if(u)throw c}}return[4,a.commit()];case 1:return d.sent(),[2]}})})()},n}(eJ),e5=n(42091),e6=function(e){var t=e.children,n=(0,o.useMemo)(function(){return{appSettings:eL,promptHistory:new b,currentUser:new G,comments:new X,folders:new e3,workspaces:new er,canvasElements:new eM,aiDiagramming:new eK,eraserBot:new e1,aiContext:new e0,makeCanvasAccessor:function(e){return new eI(e)},makeNotesAccessor:function(e){return new eR(e)},makeAiDiagramGenerationService:function(e){return new eZ(e)}}},[]);return/*#__PURE__*/(0,r.jsx)(e5.$,{dataLayer:n,children:t})}},91427:function(e,t,n){"use strict";n.d(t,{D:function(){return G}});var r=n(52322),o=n(2784),a=n(42091),s=n(90731),u=Object.assign(new s.Z,{workspaces:{canShareWorkspace:!1}}),c=n(90581),l=n(21218),A=n(70865),d=n(96670),f=n(39309),h=n(37164),p=n(35120),g=n(78950),v={},m=/*#__PURE__*/function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.createHistory=function(e,t,n){var r=(0,d.Z)((0,A.Z)({id:(0,h.x0)()},e),{history:t&&n?[{userInput:t,userId:n,timestamp:Date.now()}]:[]});return v[r.id]=r,Promise.resolve(r)},r.getHistoryById=function(e){return Promise.resolve(v[e])},r.getHistoryBySearchParams=function(e){return Promise.resolve(Object.values(v).find(function(t){return t.elementId===e.elementId}))},r.getHistoryDataStream=function(e){return g.h.makeStreamFactory(function(e){return(0,p.of)(v[e])})(e)},r.addEntry=function(e,t,n){return v[e].history.push({userInput:t,userId:n,timestamp:Date.now()}),Promise.resolve()},r.removeLastEntry=function(e){return v[e].history.pop(),Promise.resolve()},n}(s.Z),y=n(28055),b=/*#__PURE__*/function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,c.Z)(this,n),e=t.apply(this,arguments),e.Events=y.S,e.user={id:"auth-user-id",color:"#00a9e5",displayName:"Lorem Ipsum",isAnonymous:!1},e.updateCurrentUserEmail=function(t){if(!e.user)throw Error("No user signed in");return e.user.email=t,e.emit(e.Events.AuthUserChanged,e.user),e.emit(e.Events.UserChanged,e.user),Promise.resolve()},e.updateCurrentUserDisplayName=function(t){if(!e.user)throw Error("No user signed in");return e.user.displayName=t,e.emit(e.Events.AuthUserChanged,e.user),e.emit(e.Events.UserChanged,e.user),Promise.resolve()},e.updateCurrentUserPhotoUrl=function(t){if(!e.user)throw Error("No user signed in");return e.user.photoURL=t,e.emit(e.Events.AuthUserChanged,e.user),e.emit(e.Events.UserChanged,e.user),Promise.resolve()},e.resetProviderEmail=function(){if(!e.user)throw Error("No user signed in");return e.user.email=void 0,e.emit(e.Events.AuthUserChanged,e.user),e.emit(e.Events.UserChanged,e.user),Promise.resolve()},e}var r=n.prototype;return r.setDisplayNameForCurrentSession=function(e){this.user&&(this.user.displayName=e,this.emit(this.Events.AuthUserChanged,this.user),this.emit(this.Events.UserChanged,this.user))},r.getAuthUser=function(){return this.user},r.getCurrentUser=function(){return this.user},r.getCoachMarksDataStream=function(){return g.h.makeStreamFactory(function(){return(0,p.of)({})})(null)},r.getActivationsDataStream=function(){return g.h.makeStreamFactory(function(){return(0,p.of)({})})(null)},r.markActivation=function(){return Promise.resolve()},r.markCoachmark=function(){return Promise.resolve()},n}(s.Z),w={},_={},E=/*#__PURE__*/function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.getThreadDataStream=function(e){return g.h.makeStreamFactory(function(){return(0,p.of)(w[e])})(e)},r.getCommentsDataStream=function(e){return g.h.makeStreamFactory(function(){return(0,p.of)(_[e])})(e)},r.createThread=function(e){var t=e.workspaceId,n=e.firstCommentText,r=e.userId,o={id:(0,h.x0)(),workspaceId:t,participantMemberIds:[r],readByMemberIds:[r],authorId:r,previewText:n,totalComments:0,createdAt:Date.now(),isResolved:!1};return w[o.id]=o,Promise.resolve(o)},r.getThreadById=function(e){return Promise.resolve(w[e])},r.addCommentToThread=function(e,t){var n={id:(0,h.x0)(),authorMemberId:t.authorMemberId,text:t.text,createdAt:Date.now()};return _[e]||(_[e]=[]),_[e].push(n),Promise.resolve()},r.setThreadResolvedState=function(e,t){var n=w[e];if(!n)throw Error("Thread not found");return n.isResolved=t,Promise.resolve()},r.setThreadAsReadByCurrentUser=function(e,t){var n=w[e];if(!n)throw Error("Thread not found");var r=new b().getCurrentUser();return r&&(n.readByMemberIds||(n.readByMemberIds=[]),n.readByMemberIds.push(r.id)),Promise.resolve()},n}(s.Z),C=n(27805),B=n(50930),I=n(97847),x=n(99950),T=n(8042),S=/*#__PURE__*/function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this)).Events=x.v,r.excalidrawApi=e.excalidrawApi,r.workspaceId=e.workspaceId,setTimeout(function(){r.excalidrawApi.updateScene({elements:r.elements}),r.emit(r.Events.READY)},100),r}var r=n.prototype;return r.saveElements=function(e,t,n){var r=t.addedElements,o=t.changedElements,a=t.deletedElements,s=this.elements.reduce(function(e,t){return e.set(t.id,t),e},new Map),u=(0,I.y7)(e),c=u.syncableElements,l=u.zIndexMap,A=n?c:(0,B.Z)(r).concat((0,B.Z)(o));A.forEach(function(e){s.set(e.id,e),e.zIndex=l[e.id]}),a.forEach(function(e){s.delete(e.id)}),this.elements=Array.from(s.values()),this.excalidrawApi.updateScene({elements:this.elements}),A.length>0&&!n&&this.emit(this.Events.CHANGE)},r.saveSelection=function(){},r.savePointer=function(e){},r.dispose=function(){},(0,C.Z)(n,[{key:"elements",get:function(){return T.E.canvasElementsByWorkspaceId[this.workspaceId]||[]},set:function(e){T.E.canvasElementsByWorkspaceId[this.workspaceId]=e}}]),n}(s.Z),k=/*#__PURE__*/function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,c.Z)(this,n),(e=t.call(this))._opts=r,e.data={},e.data={},e._opts=r,e}var r=n.prototype;return r.create=function(e){var t,n=null!==(t=e.id)&&void 0!==t?t:(0,h.x0)(),r=(0,d.Z)((0,A.Z)({},e),{id:n});return this._opts.addCreatedAt&&(r.createdAt=Date.now()),this._opts.addUpdatedAt&&(r.updatedAt=Date.now()),this.data[n]=r,Promise.resolve(n)},r.fetchById=function(e){return Promise.resolve(this.data[e])},r.updateById=function(e,t){var n=(0,A.Z)({},this.data[e]||{},t);return this._opts.addUpdatedAt&&(n.updatedAt=Date.now()),this.data[e]=n,Promise.resolve()},r.deleteById=function(e){return delete this.data[e],Promise.resolve()},r.subscribe=function(e){return e(Object.values(this.data)),function(){}},r.subscribeById=function(e,t){return t(this.data[e]),function(){}},r.subscribeByTeam=function(e,t){return t(Object.values(this.data)),function(){}},r.subscribeByParams=function(e,t){return t(Object.values(this.data)),function(){}},r.fetchByTeam=function(e){return Promise.resolve(Object.values(this.data))},n}(s.Z),D=/*#__PURE__*/function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,c.Z)(this,n),t.call(this,{addCreatedAt:!0,addUpdatedAt:!0})}return n.prototype.updateFolderOrders=function(e,t,n){return Promise.resolve()},n}(k),N=/*#__PURE__*/function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,c.Z)(this,n),e=t.apply(this,arguments),e.getWorkspaceTeamInfo=function(){return Promise.resolve(void 0)},e.getWorkspaceLiveUserIds=function(){return Promise.resolve([])},e.isWorkspaceMember=function(){return Promise.resolve(!0)},e.markWorkspaceAsVisited=function(){return Promise.resolve()},e.validateAccess=function(){return Promise.resolve({read:!0,write:!0})},e}var r=n.prototype;return r.getWorkspaceDataStream=function(e){var t;return g.h.makeStreamFactory(function(e){var n=e.workspaceId;return(0,p.of)(null!==(t=T.E.workspaceById[n])&&void 0!==t?t:null)})(e)},r.getIsWorkspaceMemberDataStream=function(e){return g.h.makeStreamFactory(function(){return(0,p.of)(!0)})(e)},n}(s.Z),O=n(48223),F=/*#__PURE__*/function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,c.Z)(this,n),e=t.apply(this,arguments),e.Events=O.C,e.isConnected=!0,e}var r=n.prototype;return r.initialize=function(){},r.fetchValue=function(){return Promise.resolve({children:[],lastOpId:void 0,timestamp:Date.now()})},r.sendOps=function(e){return Promise.resolve()},r.hasPendingOps=function(){return!1},r.destroy=function(){},n}(s.Z),R=n(98788),L=n(22970),M=/*#__PURE__*/function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return n.prototype.getElementsByIds=function(e,t){return(0,R.Z)(function(){return(0,L.__generator)(this,function(n){return[2,Promise.resolve((T.E.canvasElementsByWorkspaceId[e]||[]).filter(function(e){return t.includes(e.id)}))]})})()},n}(s.Z),P=n(44335),U=/*#__PURE__*/function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(e){var r;return(0,c.Z)(this,n),(r=t.call(this)).params=e,r.Events=P.w,r.requestId=(0,h.x0)(),r.stateId=(0,h.x0)(),r}var r=n.prototype;return r.initiate=function(){var e=this,t=T.E.aiDiagramGenerator(this.params),n={id:this.requestId,createdAt:Date.now(),diagrams:[t],args:{}};return setTimeout(function(){e.emit(e.Events.UPDATE,(0,d.Z)((0,A.Z)({},n),{phase:"generate"}))},100),setTimeout(function(){e.emit(e.Events.UPDATE,(0,d.Z)((0,A.Z)({},n),{phase:"complete"}))},200),Promise.resolve({requestId:this.requestId})},r.initiateImageToDiagram=function(){return Promise.resolve({requestId:this.requestId,code:"",diagramType:null})},r.updateDiagramCode=function(){return Promise.resolve()},r.clean=function(){},n}(s.Z),j=[],Z=/*#__PURE__*/function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return n.prototype.getDiagramRequestDataStream=function(e){var t=e.workspaceId,n=e.teamId;return g.h.makeStreamFactory(function(){return(0,p.of)(j.filter(function(e){return e.teamId===n&&e.workspaceId===t}))})({teamId:n,workspaceId:t})},n}(s.Z),Q=n(40052),H=n(53788),V=n(70621),K=/*#__PURE__*/function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}var r=n.prototype;return r.fetchById=function(e){return(0,R.Z)(function(){return(0,L.__generator)(this,function(t){if((0,H.fo)(e))return[2,(0,Q.i)({contextId:e})];throw new V.dR("AI Context not found")})})()},r.subsribeByTeamId=function(e,t){return(0,Q.q)({teamId:e}).then(t),function(){}},n}(k),z=/*#__PURE__*/function(e){(0,l.Z)(n,e);var t=(0,f.Z)(n);function n(){var e;return(0,c.Z)(this,n),(e=t.call(this)).monitorDao=new k,e.gitAiRequestDao=new k,e}var r=n.prototype;return r.subscribeToMonitors=function(e,t){return this.monitorDao.subscribeByTeam(e,t)},r.createMonitor=function(e){var t=this;return(0,R.Z)(function(){return(0,L.__generator)(this,function(n){return[2,t.monitorDao.create(e)]})})()},r.updateMonitor=function(e,t){var n=this;return(0,R.Z)(function(){return(0,L.__generator)(this,function(r){return[2,n.monitorDao.updateById(e,t)]})})()},r.execute=function(){return(0,R.Z)(function(){return(0,L.__generator)(this,function(e){return[2,{requestId:"123"}]})})()},r.subscribeToGitAiRequests=function(e,t){return this.gitAiRequestDao.subscribeByParams({createdBy:e.userId},t)},r.fetchGitAiRequest=function(e){var t=this;return(0,R.Z)(function(){return(0,L.__generator)(this,function(n){return[2,t.gitAiRequestDao.fetchById(e)]})})()},n}(s.Z),G=function(e){var t=e.children,n=(0,o.useMemo)(function(){return{appSettings:u,promptHistory:new m,currentUser:new b,comments:new E,folders:new D,workspaces:new N,canvasElements:new M,aiDiagramming:new Z,aiContext:new K,eraserBot:new z,makeCanvasAccessor:function(e){return new S(e)},makeNotesAccessor:function(){return new F},makeAiDiagramGenerationService:function(e){return new U(e)}}},[]);return/*#__PURE__*/(0,r.jsx)(a.$,{dataLayer:n,children:t})}},42091:function(e,t,n){"use strict";n.d(t,{$:function(){return u},i:function(){return s}});var r=n(52322),o=n(2784),a=n(45403),s=/*#__PURE__*/(0,o.createContext)({}),u=function(e){var t=e.children,n=e.dataLayer;return(0,o.useEffect)(function(){(0,a.tu)(n)},[n]),/*#__PURE__*/(0,r.jsx)(s.Provider,{value:n,children:t})}},56380:function(e,t,n){"use strict";n.d(t,{qz:function(){return l}});var r=n(87394),o=n(52322),a=n(19275),s=n(2784),u={setModalStates:function(){},modalStates:{isCommandKModalOpen:!1,isFileSearchModalOpen:!1}},c=/*#__PURE__*/(0,s.createContext)(u),l=function(){return(0,s.useContext)(c)};t.ZP=function(e){var t=e.children,n=(0,r.Z)((0,a.R)(u.modalStates),2),s=n[0],l=n[1];return/*#__PURE__*/(0,o.jsx)(c.Provider,{value:{modalStates:s,setModalStates:l},children:t})}},23630:function(e,t,n){"use strict";n.d(t,{Yl:function(){return h},eX:function(){return c}});var r=n(52322),o=n(2784),a=n(45455),s=/*#__PURE__*/n.n(a),u=n(5632),c="dashboard-coachmark",l=["element","layout","elements","action","origin","name","embed","templateId","presetId","elementData","autoDiagramId",c,"theme","ref","state","settings","showPromoCodeOption","aiOutline"],A=function(){var e=(0,u.useRouter)();return(0,o.useMemo)(function(){if(!e.isReady)return{};var t={};return l.forEach(function(n){var r=e.query[n];Array.isArray(r)&&(r=r[0]),r&&(t[n]=r)}),t},[e.isReady,e.query])},d=["theme"],f=/*#__PURE__*/(0,o.createContext)({}),h=function(e){var t=e.children,n=A(),a=(0,o.useMemo)(function(){return n},[n]);return(0,o.useEffect)(function(){s()(n)||function(e){var t=new URL(location.origin+location.pathname),n=!0,r=!1,o=void 0;try{for(var a,s=d[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;e[u]&&t.searchParams.set(u,e[u])}}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}window.history.replaceState(null,"",t.toString())}(n)},[n]),/*#__PURE__*/(0,r.jsx)(f.Provider,{value:a,children:t})};t.ZP=f},24600:function(e,t,n){"use strict";n.d(t,{N:function(){return N},Z:function(){return O}});var r=n(98788),o=n(47842),a=n(70865),s=n(96670),u=n(87394),c=n(22970),l=n(52322),A=n(5632),d=n(20810),f=n(39739),h=n(2784),p=n(47864),g=n(35120),v=n(12335),m=n(16981),y=n(77984),b=n(21746),w=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,h.useState)(e),n=t[0],r=t[1];return[n,{on:(0,h.useCallback)(function(){r(!0)},[]),off:(0,h.useCallback)(function(){r(!1)},[]),toggle:(0,h.useCallback)(function(){r(function(e){return!e})},[])}]},_=n(11269),E=n(96933),C=n(42541),B=n(66140),I=n(66842),x=n(18698),T=n(89960),S=(0,b.kr)(void 0),k={restrictSearchableAttributes:["title","noteText","whiteboardTexts","ownerName"]},D=function(){var e=(0,x.ZP)(),t=(0,h.useState)(),o=t[0],a=t[1];return(0,h.useEffect)(function(){(0,r.Z)(function(){return(0,c.__generator)(this,function(t){switch(t.label){case 0:if(!e)return[3,2];return[4,Promise.resolve().then(n.t.bind(n,43931,23))];case 1:a((0,t.sent().default)(B.O9.appId,e).initIndex(B.O9.workspacesIndex)),t.label=2;case 2:return[2]}})})()},[e]),o},N=function(e){var t=e.children,n=(0,_.LP)(),r=D(),c=(0,u.Z)(w(!1),2),b=c[0],B=c[1],x=B.on,N=B.off,O=(0,h.useState)({}),F=O[0],R=O[1],L=(0,A.useRouter)(),M=(0,E.II)(),P=(0,h.useState)(!1),U=P[0],j=P[1],Z=(0,h.useState)([]),Q=Z[0],H=Z[1],V=(0,h.useState)(""),K=V[0],z=V[1],G=(0,h.useCallback)(function(){K.length&&L.query[I.KU]!==K&&L.replace({query:(0,s.Z)((0,a.Z)({},L.query),(0,o.Z)({},I.KU,K))},void 0,{shallow:!0})},[K,L]),W=(0,h.useMemo)(function(){if(!n)return"";var e="teamId:".concat(n);return e+=" AND isWorkspaceArchived:".concat((null==F?void 0:F.isArchived)?"true":"false"),void 0!==F.folderId&&(F.folderId?e+=" AND folderId:".concat(F.folderId):e+=" AND folderId:UNSORTED"),F.isOwner&&M&&(e+=" AND ownerId:".concat(M)),F.isPrivate&&M&&(e+=" AND isPrivate:true"),e},[n,F.folderId,null==F?void 0:F.isArchived,F.isOwner,F.isPrivate,M]),q=(0,d.m)(function(e){return e.pipe((0,v.w)(function(e){var t=(0,u.Z)(e,3),n=t[0],r=t[1],o=t[2];return n&&""!==r?(C.Z.trackEvent("search","search",{query:r}),(0,p.H)(300).pipe((0,m.O)(function(){return{isLoading:!0,hits:[]}}),(0,v.w)(function(){return n.search(r,(0,a.Z)({filters:o},k))}),(0,y.U)(function(e){return{isLoading:!1,hits:e.hits}}))):(0,g.of)({isLoading:!0,hits:[]})}))},[r,K,W]);(0,f.m)(q,(0,h.useCallback)(function(e){var t=e.isLoading,n=e.hits;j(t),H(n)},[]),T.T);var Y=(0,h.useCallback)(function(){z(""),N(),R({})},[N]),$=(0,h.useMemo)(function(){return{hits:Q,query:K,isLoading:U,onSearchBarOpen:x,onSearchBarClose:Y,isSearchBarOpen:b,onInputChange:z,setPassedFilters:R,saveRouteToHistory:G}},[Q,K,U,x,Y,b,G]);return/*#__PURE__*/(0,l.jsx)(S.Provider,{value:$,children:t})},O=S},27804:function(e,t,n){"use strict";n.d(t,{H:function(){return f}});var r=n(70865),o=n(52322),a=n(2784),s=n(66230),u=n(57695),c=n(42541),l=n(66283),A=n(41721),d={userUpdateService:s.H,analyticsService:c.Z,featureAccessService:l.j},f=function(e){var t=e.children,s=(0,a.useState)(A.W),c=s[0],l=s[1];(0,a.useEffect)(function(){Promise.all([n.e(4526),n.e(4581)]).then(n.bind(n,82957)).then(function(e){l(e.value)})},[]);var f=(0,a.useMemo)(function(){return(0,r.Z)({},d,c)},[c]);return/*#__PURE__*/(0,o.jsx)(u.Hk.Provider,{value:f,children:t})}},41721:function(e,t,n){"use strict";n.d(t,{W:function(){return c}});var r=n(98788),o=n(22970),a=n(90581),s=/*#__PURE__*/function(){function e(){var t,n,s,u;(0,a.Z)(this,e),this.uploadCustomIcon=(t=(0,r.Z)(function(e){return(0,o.__generator)(this,function(t){return e.file,e.teamId,e.userId,e.onSuccess,e.onError,[2,Promise.resolve()]})}),function(e){return t.apply(this,arguments)}),this.updateIconName=(n=(0,r.Z)(function(e,t){return(0,o.__generator)(this,function(e){return[2,Promise.resolve()]})}),function(e,t){return n.apply(this,arguments)}),this.updateIconFile=(s=(0,r.Z)(function(e,t,n,r){return(0,o.__generator)(this,function(e){return[2,Promise.resolve()]})}),function(e,t,n,r){return s.apply(this,arguments)}),this.deleteIcon=(u=(0,r.Z)(function(e){return(0,o.__generator)(this,function(e){return[2,Promise.resolve()]})}),function(e){return u.apply(this,arguments)})}return e.prototype.subscribeByTeamId=function(e,t){return function(){}},e}();function u(){return function(){}}var c={canvasLinkService:{createCanvasLinkFromCanvasElements:/*#__PURE__*/(0,r.Z)(function(){return(0,o.__generator)(this,function(e){return[2,"example-link"]})}),getWorkspaceTitle:/*#__PURE__*/(0,r.Z)(function(){return(0,o.__generator)(this,function(e){return[2,"example-title"]})}),getWorkspaceDocumentHeaderText:/*#__PURE__*/(0,r.Z)(function(){return(0,o.__generator)(this,function(e){return[2,"example-header"]})}),getCanvasLinkIdFromElementIds:function(){return"example-id"},fetchCanvasLinkById:function(){return Promise.resolve(void 0)}},whiteboardElementService:{validateAccess:/*#__PURE__*/(0,r.Z)(function(){return(0,o.__generator)(this,function(e){return[2,{read:!0,write:!0}]})}),fetchByIds:/*#__PURE__*/(0,r.Z)(function(){return(0,o.__generator)(this,function(e){return[2,[]]})}),fetchLocalElements:function(){return[]},fetchAllElementsForWorkspace:/*#__PURE__*/(0,r.Z)(function(){return(0,o.__generator)(this,function(e){return[2,[]]})}),subscribeToAdd:u,subscribeToChange:u,subscribeToDelete:u,subscribeIfAccess:u},customIconsService:new s}},57695:function(e,t,n){"use strict";n.d(t,{Hk:function(){return g},Su:function(){return v}});var r,o=n(90581),a=n(70865),s=n(2784),u=n(98788),c=n(22970),l=n(70599),A={teams:{fetchById:(r=(0,u.Z)(function(e){return(0,c.__generator)(this,function(t){return[2,{id:e,name:"Eraser Labs",ownerId:"villa-incognito",plan:{planType:l.k9.Pro}}]})}),function(e){return r.apply(this,arguments)}),subscribeById:function(e,t){return t({id:e,name:"Eraser Labs",ownerId:"villa-incognito",plan:{planType:l.k9.Pro}}),function(){}}},workspaces:{count:/*#__PURE__*/(0,u.Z)(function(){return(0,c.__generator)(this,function(e){return[2,1]})}),subscribeToCount:function(e,t,n){return n(1),function(){}}},paywallUsage:{count:/*#__PURE__*/(0,u.Z)(function(){return(0,c.__generator)(this,function(e){return[2,1]})}),subscribeToCount:function(e,t,n){return n(1),function(){}}},apiTokens:{list:/*#__PURE__*/(0,u.Z)(function(){return(0,c.__generator)(this,function(e){return[2,[]]})})},customIcons:{count:/*#__PURE__*/(0,u.Z)(function(){return(0,c.__generator)(this,function(e){return[2,1]})}),subscribeToCount:function(e,t,n){return n(1),function(){}}}},d=n(41721),f=n(11489);function h(){return Promise.resolve(void 0)}var p={userUpdateService:{updateUserProfile:h,updateUserSettings:h,updateUserKnownPerson:h,createOrUpdateUserProfile:h,updateUserSurvey:h},analyticsService:new/*#__PURE__*/(function(){function e(){(0,o.Z)(this,e),this._sessionProperties={},this._cachedEvents=[]}var t=e.prototype;return t.trackEvent=function(){},t.registerIntegration=function(){},t._addToCache=function(){},t.identify=function(){},t.updateSessionProperties=function(){},t.dispose=function(){},e}()),featureAccessService:new f.Z(A)},g=/*#__PURE__*/(0,s.createContext)((0,a.Z)({},p,d.W)),v=function(){return(0,s.useContext)(g)}},38423:function(e,t,n){"use strict";n.d(t,{f:function(){return H},A:function(){return Q}});var r,o=n(98788),a=n(87394),s=n(22970),u=n(52322),c=n(2784),l=n(18149),A=/*#__PURE__*/n.n(l),d=n(5632),f=n(20810),h=n(39739),p=n(19184),g=n(77984),v=n(99054),m=n(39369),y=n(12335),b=n(62355),w=n(1118),_=n(67394),E=n(51058),C=n(96933),B=n(57398),I=n(85341),x=n(42389),T=n(10186),S=n(24618),k=n(71059),D=n(20097),N=n(99669),O=n(89960),F=n(45594),R=n(405),L=n(45262),M=n(42541),P=n(60379),U=n(67640),j=(r=(0,o.Z)(function(e){var t,n,r;return(0,s.__generator)(this,function(o){switch(o.label){case 0:if(!(t=(0,P.yh)()))return[2];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,U.Z.post("workspace/transfer",{token:t,teamId:e})];case 2:return n=o.sent(),M.Z.trackEvent("workspace","transfer",{count:n}),(0,L.f)(),(0,P.wR)(),[3,4];case 3:return r=o.sent(),(0,O.T)(r),[3,4];case 4:return[2]}})}),function(e){return r.apply(this,arguments)}),Z="team-id";function Q(){N.J.removeItem(Z)}var H=function(e){var t,n,r=e.children,l=(0,C.II)(),M=(0,d.useRouter)(),P=(0,C.g5)(),U=(0,c.useState)((0,F.rj)()),H=U[0],V=U[1],K=(0,c.useState)(),z=K[0],G=K[1],W=(0,c.useState)(),q=W[0],Y=W[1],$=(0,c.useState)(function(){return N.J.getItem(Z)||void 0}),X=$[0],J=$[1],ee=(0,c.useState)(new Map),et=ee[0],en=ee[1];(0,c.useEffect)(function(){var e,t=function(e){var t=(0,F.rj)(e);t&&V(t)};return null===(e=M.events)||void 0===e||e.on("routeChangeStart",t),function(){var e;null===(e=M.events)||void 0===e||e.off("routeChangeStart",t)}},[M.events]);var er=(0,c.useCallback)(function(e){A()(q,e)||Y(e)},[q]),ei=(0,c.useCallback)(function(e,t){N.J.setItem(Z,e),J(e),(null==t?void 0:t.shouldResetFolder)&&M.replace("/all")},[M]),eo=(0,f.m)(function(e){return e.pipe((0,g.U)(function(e){var t=(0,a.Z)(e,2),n=t[0];return t[1]?null:n}),(0,v.h)(function(e){return null!=e}),(0,m.x)(),(0,y.w)(function(e){return(0,B.Z)(e)}))},[X,P]),ea=(0,f.m)(function(e){return e.pipe((0,g.U)(function(e){var t=(0,a.Z)(e,2),n=t[0];return t[1]?null:n}),(0,v.h)(function(e){return null!=e}),(0,m.x)(),(0,y.w)(function(e){return(0,x.BS)(T.Z.userTeams(e),"id").pipe((0,S.pA)([]),(0,S.VK)(),(0,S.Fb)([]))}))},[l,P]),es=(0,f.m)(function(){return ea.pipe((0,b.z)(function(e){return(0,p.D)(e)}),(0,b.z)(function(e){return(0,B.Z)(e.id)}),function(e,t){var n;return(0,w.e)((n=arguments.length>=2,function(r,o){var a=n,s=t,u=0;r.subscribe((0,_.x)(o,function(t){var n=u++;s=a?e(s,t,n):(a=!0,t),o.next(s)},void 0))}))}(function(e,t){var n=new Map(e);return t&&n.set(t.id,t),n},new Map))}),eu=(0,f.m)(function(e){return e.pipe((0,g.U)(function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return n?null:r}),(0,v.h)(function(e){return null!=N.J.getItem(L.B)&&null!=e}),(0,m.x)(),(0,E.P)(),(0,y.w)(j))},[P,X]);(0,h.m)(eo,er,O.T),(0,h.m)(ea,G,O.T),(0,h.m)(es,en,O.T),(0,h.m)(eu,void 0,O.T);var ec=(0,c.useCallback)(function(){Q(),J(void 0),Y(void 0)},[]);(0,k.Z)(function(){var e=null!=z,t=!(null==z?void 0:z.length),n=X&&e&&void 0===z.find(function(e){return e.id===X});if(X&&e&&n){ec();return}X||t||z.some(function(e){if(e.role===D.i.Admin)return ei(e.id),!0})||ei(z[0].id)},[z,X,ec,ei]);var el=(0,c.useMemo)(function(){return new Set(null==z?void 0:z.map(function(e){return e.id}))},[z]),eA=(0,c.useMemo)(function(){return new Set(Array.from(null!==(n=null==et?void 0:et.values())&&void 0!==n?n:[]).map(function(e){return null==e?void 0:e.name}).filter(function(e){return!!e}))},[et]),ed=(0,c.useCallback)((t=(0,o.Z)(function(e,t){var n;return(0,s.__generator)(this,function(r){switch(r.label){case 0:if(t.name){if(n=t.name,q&&n===q.name);else if(eA.has(n))throw new R.c("That team name is already in use.")}return[4,(0,I.Z)(e,t)];case 1:return[2,r.sent()]}})}),function(e,n){return t.apply(this,arguments)}),[eA,q]);return/*#__PURE__*/(0,u.jsx)(R.G.Provider,{value:{userTeams:z,resetTeam:ec,updateTeam:ed,switchTeam:ei,userTeamIds:el,currentTeam:q,currentTeamId:X,currentTeamPlan:null==q?void 0:q.plan,lastVisitedWorkspaceId:H,userTeamsById:et},children:r})}},405:function(e,t,n){"use strict";n.d(t,{G:function(){return u},c:function(){return c}});var r=n(90581),o=n(21218),a=n(20624),s=n(39309),u=(0,n(21746).kr)(void 0),c=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return n}((0,a.Z)(Error))},44371:function(e,t,n){"use strict";n.d(t,{Hq:function(){return m},ZP:function(){return y},a1:function(){return p}});var r=n(70865),o=n(96670),a=n(52322),s=n(2784),u=n(62202),c=n(98156),l=/*#__PURE__*/n.n(c),A=function(e){var t=e.message;return t?/*#__PURE__*/(0,a.jsx)("div",{className:l().container,"data-testid":"toast",children:/*#__PURE__*/(0,a.jsx)("span",{children:t})}):null},d=function(e){return null===e?null:function(t){if("function"==typeof e){var n=e(t);return/*#__PURE__*/(0,a.jsx)(A,(0,o.Z)((0,r.Z)({},t),{message:n}))}return/*#__PURE__*/(0,a.jsx)(A,(0,o.Z)((0,r.Z)({},t),{message:e}))}},f=function(e){return function(t,n){var o;if("custom"===e)o=u.ZP[e](t,(0,r.Z)({},n));else if("blank"===e)o=(0,u.ZP)(d(t),(0,r.Z)({},n));else{var a=d(t);o=a?u.ZP[e](a,(0,r.Z)({},n)):""}return o}},h=function(e,t){return"function"==typeof e?e(t):e},p=function(e,t){return f("blank")(e,t)};p.error=f("error"),p.custom=f("custom"),p.success=f("success"),p.loading=f("loading"),p.remove=u.ZP.remove,p.dismiss=u.ZP.dismiss,p.promise=function(e,t,n){var o=p.loading(t.loading,(0,r.Z)({},n,null==n?void 0:n.loading));return e.then(function(e){return p.success(h(t.success,e),(0,r.Z)({id:o},n,null==n?void 0:n.success)),e}).catch(function(e){p.error(h(t.error,e),(0,r.Z)({id:o},n,null==n?void 0:n.error))}),e};var g={className:l().blank,error:{className:l().error},loading:{className:l().loading},success:{className:l().success}},v=/*#__PURE__*/(0,s.createContext)(p),m=function(e){var t=e.children;return/*#__PURE__*/(0,a.jsxs)(v.Provider,{value:p,children:[t,/*#__PURE__*/(0,a.jsx)(u.x7,{"data-testid":"toaster",position:"bottom-left",reverseOrder:!1,toastOptions:g})]})},y=v},91259:function(e,t,n){"use strict";n.d(t,{u_:function(){return f},vq:function(){return h}});var r=n(52322),o=n(2784),a=n(21805),s=n(21746),u=n(71059),c=n(10097),l=n(89960),A=n(36105),d="userSessionToken",f=(0,s.kr)(void 0),h=function(e){var t=e.children,n=(0,o.useState)(),s=n[0],h=n[1];return(0,u.Z)(function(){return c.I8.onAuthStateChanged(function(e){e&&e.getIdToken().then(function(e){h(e),A.J.setItem(d,e,{secure:!0})}).catch(l.T)})}),(0,u.Z)(function(){return c.I8.onIdTokenChanged(function(e){e&&e.getIdToken().then(function(e){h(e),a.Z.set(d,e,{secure:!0})}).catch(l.T)})}),/*#__PURE__*/(0,r.jsx)(f.Provider,{value:s,children:t})}},43653:function(e,t,n){"use strict";n.d(t,{S:function(){return a},_:function(){return o}});var r=n(21746),o=(0,r.kr)(void 0),a=(0,r.kr)(void 0)},38947:function(e,t,n){"use strict";n.d(t,{e:function(){return r}});var r=(0,n(21746).kr)({getWorkspace:function(){return Promise.resolve(void 0)}})},51105:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r,o=n(70865),a=n(96670),s=n(26297),u=n(52322),c=n(2784);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A=function(e){return /*#__PURE__*/c.createElement("svg",l({width:11,height:11,viewBox:"0 0 11 11",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/c.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.2 9.748V0h.733v9.748l1.574-1.574.519.519-2.2 2.2a.367.367 0 01-.519 0l-2.2-2.2.519-.519L2.2 9.748zM11 2.933H6.6V2.2H11v.733zM9.533 5.867H6.6v-.734h2.933v.734zM8.067 8.8H6.6v-.733h1.467V8.8z",fill:"currentColor"})))},d=n(88404),f=n(3635),h=n(75594),p=/*#__PURE__*/n.n(h);function g(e){var t=e.column,n=e.children,r=e.orderBy,o=e.orderDir,a=e.updateOrder,s=t.id,c=t.flex,l=t.orderKey,h=t.headerClassName,g=r&&l===r;return/*#__PURE__*/(0,u.jsx)("div",{className:(0,f.Z)(p().item,h),style:{flex:null!=c?c:1},children:/*#__PURE__*/(0,u.jsxs)("div",{onClick:function(){l&&a(l)},className:(0,f.Z)(p().headItem,g&&p().headItemActive,!!(l&&r)&&p().headItemSortable),"data-testid":"table-header-".concat(s),children:[/*#__PURE__*/(0,u.jsx)(d.J,{icon:A,style:{display:g?"flex":"none",transform:"asc"===o?"rotate(180deg)":void 0},"data-testid":"table-header-".concat(s,"-icon-").concat(o)}),n]})})}var v=n(17371),m=/*#__PURE__*/n.n(v),y=function(e){var t=e.className,n=e.columns,r=e.hideBorder,c=(0,s.Z)(e,["className","columns","hideBorder"]);return/*#__PURE__*/(0,u.jsx)("div",{className:(0,f.Z)(m().tableHeader,r&&m().noBorder,t),children:Object.values(n).map(function(e){return/*#__PURE__*/(0,u.jsx)(g,(0,a.Z)((0,o.Z)({column:e},c),{children:e.title}),e.id)})})}},69071:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var r=n(70865),o=n(96670),a=n(50930),s=n(2784),u=n(11929),c=n(27196);function l(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).startLoading,n=(0,s.useState)({result:void 0,loading:null!=t&&t,error:null}),o=n[0],u=n[1],c=(0,s.useRef)(e);c.current=e;var l=(0,s.useCallback)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return u({result:void 0,loading:!0,error:null}),c.current.apply(c,(0,a.Z)(t)).then(function(e){u({result:e,loading:!1,error:null})}).catch(function(e){u({result:void 0,loading:!1,error:e})})},[]);return(0,r.Z)({execute:l},o)}t.Z=function(e,t){var n=(0,u.UK)(e,t);return(0,o.Z)((0,r.Z)({},n),{execute:(0,c.W6)(n.execute),set:(0,c.W6)(n.set),merge:(0,c.W6)(n.merge),reset:(0,c.W6)(n.reset)})}},95114:function(e,t,n){"use strict";var r=n(2784);t.Z=function(e){var t=(0,r.useRef)();return void 0===t.current&&(t.current=e()),t.current}},95634:function(e,t,n){"use strict";var r=n(2784);t.Z=function(e){(0,r.useEffect)(function(){var t=function(t){"Escape"===t.key&&(null==e||e(t))};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}},[e])}},19275:function(e,t,n){"use strict";n.d(t,{R:function(){return a}});var r=n(70865),o=n(2784),a=function(e){var t=(0,o.useState)(e),n=t[0],a=t[1];return[n,(0,o.useCallback)(function(e){return a(function(t){return(0,r.Z)({},t,e)})},[]),a]}},36105:function(e,t,n){"use strict";n.d(t,{J:function(){return l}});var r=n(21805),o=n(29259),a=/*#__PURE__*/n.n(o),s="__session",u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Z,t=e.get(s);if(!t)return null;var n=decodeURIComponent(t);try{var o=JSON.parse(n);return a()(o)?o:null}catch(e){return null}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expires:365};try{r.Z.set(s,JSON.stringify(e),t)}catch(e){}},l={getItem:function(e,t){var n=u(t);return n?n[e]:null},setItem:function(e,t,n){var r=u();r||(r={}),r[e]=t,c(r,n)},removeItem:function(e){var t=u();t&&(delete t[e],c(t))},clear:function(){r.Z.remove(s)}}},91979:function(e,t,n){"use strict";n.d(t,{j:function(){return p}});var r,o,a,s=n(98788),u=n(22970),c=n(10732),l=n(97594),A=n(88995).Z,d=n(99618),f=n(10186),h=n(24618),p={addRepository:(r=(0,s.Z)(function(e,t,n){return(0,u.__generator)(this,function(r){switch(r.label){case 0:return[4,f.Z.teamGitHubRepositories(e,t).add(n)];case 1:return[2,r.sent().id]}})}),function(e,t,n){return r.apply(this,arguments)}),removeRepository:(o=(0,s.Z)(function(e,t,n){return(0,u.__generator)(this,function(r){switch(r.label){case 0:return[4,f.Z.teamGitHubRepository(e,t,n).delete()];case 1:return r.sent(),[2]}})}),function(e,t,n){return o.apply(this,arguments)}),observeRepositories:function(e,t){return(0,c.BS)(f.Z.teamGitHubRepositories(e,t),"id")},observeOrganizations:function(e){return(0,c.BS)(f.Z.teamGitHubOrganizations(e),"id")},configureOrganization:function(e){var t,n=e.type,r=e.name,o=e.installationId;return t="Organization"===n?"".concat(d.UZ,"/organizations/").concat(r,"/settings/installations/").concat(o):"".concat(d.UZ,"/settings/installations/").concat(o),window.open(t,"_blank")},updateRepository:(a=(0,s.Z)(function(e){var t,n,r,o;return(0,u.__generator)(this,function(a){switch(a.label){case 0:return t=e.teamId,n=e.organizationId,r=e.repositoryId,o=e.payload,[4,f.Z.teamGitHubRepository(t,n,r).withConverter(A).set(o,{merge:!0})];case 1:return a.sent(),[2]}})}),function(e){return a.apply(this,arguments)}),observeRepositoryWorkspaces:function(e){var t=e.organizationId,n=e.repositoryId,r=e.teamId,o=e.orderBy,a=e.orderDir,s=f.Z.workspaces.withConverter(l.BV).where("teamId","==",r).where("isArchived","==",!1).where("gitHubRepository.repositoryId","==",n).where("gitHubRepository.organizationId","==",t).orderBy(o,a);return(0,c.BS)(s)},observeRepositoryOperationStatus:function(e){return(0,c._1)(f.Z.gitHubRepositoryOperationStatus(e)).pipe((0,h.BX)())}}},33562:function(e,t,n){"use strict";n.d(t,{b1:function(){return c},lq:function(){return l}});var r=n(70865),o=n(52322),a=n(2784),s=n(61049),u=/*#__PURE__*/n.n(s),c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return/*#__PURE__*/(0,a.createElement)(t,{},e)},/*#__PURE__*/(0,o.jsx)(a.Fragment,(0,r.Z)({},e)))}};function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach(function(t){return function(e,t){if(null!=e){if(u()(e)){e(t);return}try{e.current=t}catch(n){throw Error("Cannot assign value '".concat(t,"' to ref '").concat(e,"'"))}}}(t,e)})}}},11269:function(e,t,n){"use strict";n.d(t,{Ad:function(){return d},DJ:function(){return a},K:function(){return v},LP:function(){return f},MV:function(){return A},Rs:function(){return h},S5:function(){return u},T3:function(){return l},Zj:function(){return p},lh:function(){return s},mZ:function(){return c},p3:function(){return m},vn:function(){return g}});var r=n(21746),o=n(405),a=function(){return(0,r.Sz)(o.G,function(e){return e||{}})},s=function(){return(0,r.Sz)(o.G,function(e){return null==e?void 0:e.userTeams})},u=function(){return(0,r.Sz)(o.G,function(e){return null==e?void 0:e.lastVisitedWorkspaceId})},c=function(){return(0,r.Sz)(o.G,function(e){return e.userTeamIds})},l=function(e){return c().has(e)},A=function(){return(0,r.Sz)(o.G,function(e){return void 0!==(null==e?void 0:e.userTeams)})},d=function(){return(0,r.Sz)(o.G,function(e){var t;return!(null==(t=null==e?void 0:e.userTeams)?void 0:t.length)})},f=function(){return(0,r.Sz)(o.G,function(e){var t;return null==e?void 0:null===(t=e.currentTeam)||void 0===t?void 0:t.id})},h=function(){return(0,r.Sz)(o.G,function(e){return null==e?void 0:e.currentTeam})},p=function(){return(0,r.Sz)(o.G,function(e){return null==e?void 0:e.resetTeam})},g=function(){return(0,r.Sz)(o.G,function(e){return null==e?void 0:e.currentTeamPlan})},v=function(){return(0,r.Sz)(o.G,function(e){return null==e?void 0:e.userTeamsById})},m=function(){return[h(),(0,r.Sz)(o.G,function(e){return e.switchTeam}),p()]}},14670:function(e,t,n){"use strict";n.d(t,{Sh:function(){return d},lU:function(){return A},q8:function(){return f}});var r=n(90581),o=n(2784),a=n(10097),s=n(97594),u=n(50389),c=n(52826),l=new/*#__PURE__*/(function(){function e(){(0,r.Z)(this,e)}return e.prototype.subscribeByTeamId=function(e,t){var n,r,o=this;if(e===this.currentTeamId&&this.currentSubscription)return this.currentSubscription.cbs.push(t),this.currentSubscription.members&&t(this.currentSubscription.members),function(){o.currentSubscription&&(o.currentSubscription.cbs=o.currentSubscription.cbs.filter(function(e){return e!==t}))};e!==this.currentTeamId&&(null===(n=this.currentSubscription)||void 0===n||null===(r=n.unsub)||void 0===r||r.call(n)),this.currentTeamId=e,this.currentSubscription={members:void 0,cbs:[t]};var u=a.RZ.collection("teams").doc(e).collection("members").withConverter(s.q0).onSnapshot(function(t){var n=t.docs.map(function(e){return e.data()});if(o.currentTeamId!==e){console.warn("[TeamMemberService] Team changed while subscribing to team members. We probably forgot to unsubscribe.");return}if(!o.currentSubscription){console.warn("[TeamMemberService] No subscription found while subscribing to team members.");return}o.currentSubscription.members=n,o.currentSubscription.cbs.forEach(function(e){return e(n)})});return this.currentSubscription.unsub=u,function(){o.currentSubscription&&(o.currentSubscription.cbs=o.currentSubscription.cbs.filter(function(e){return e!==t}))}},e}()),A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,o.useState)(),a=r[0],s=r[1];(0,o.useEffect)(function(){e&&l.subscribeByTeamId(e,s)},[e]);var c=n.internalOnly;return(0,o.useMemo)(function(){if(a)return a.filter(function(e){return(!t||e.id!==t)&&(!c||!!(0,u.pc)(e))})},[a,t,c])},d=function(e,t,n){var r,o=A(e,t,n);return(0,c.Kb)(null!==(r=null==o?void 0:o.map(function(e){return e.id}))&&void 0!==r?r:[],e)},f=function(e,t,n){var r=A(e,t,n);return(0,c.BV)(null==r?void 0:r.map(function(e){return e.id}))};t.ZP=A},25487:function(e,t,n){"use strict";n.d(t,{Pm:function(){return E},S3:function(){return j},VH:function(){return H},Wu:function(){return U},Zo:function(){return P},w7:function(){return I}});var r,o=n(98788),a=n(47842),s=n(70865),u=n(96670),c=n(22970),l=n(2784),A=n(58410),d=n(52982),f=n(38423),h=n(42541),p=n(49864),g=n(60379),v=n(41217),m=n(32472),y=n(10097),b=n(89960),w=n(45403),_=["google.com","microsoft.com"];function E(e){return"string"==typeof e&&_.includes(e)}function C(e){return B.apply(this,arguments)}function B(){return(B=(0,o.Z)(function(e){var t,n,r=arguments;return(0,c.__generator)(this,function(o){return(t=r.length>1&&void 0!==r[1]?r[1]:{},y.I8.useDeviceLanguage(),n=y.I8.currentUser?y.I8.currentUser.toJSON():null,t.asModal)?[2,y.I8.signInWithPopup(e).then(function(e){return U(e,n),e}).catch(j)]:[2,y.I8.signInWithRedirect(e).catch(j).then(function(){})]})})).apply(this,arguments)}function I(){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)(function(){return(0,c.__generator)(this,function(e){switch(e.label){case 0:return(0,f.A)(),p.b.add({name:m.iL,value:"false"}),[4,y.I8.signOut()];case 1:return e.sent(),[2]}})})).apply(this,arguments)}function T(){return S.apply(this,arguments)}function S(){return(S=(0,o.Z)(function(){var e,t=arguments;return(0,c.__generator)(this,function(n){return e=t.length>0&&void 0!==t[0]?t[0]:{},[2,C(H("google.com"),e)]})})).apply(this,arguments)}function k(){return D.apply(this,arguments)}function D(){return(D=(0,o.Z)(function(){var e,t=arguments;return(0,c.__generator)(this,function(n){return e=t.length>0&&void 0!==t[0]?t[0]:{},[2,C(H("microsoft.com"),e)]})})).apply(this,arguments)}function N(e){return O.apply(this,arguments)}function O(){return(O=(0,o.Z)(function(e){return(0,c.__generator)(this,function(t){return[2,y.ZP.auth().sendPasswordResetEmail(e)]})})).apply(this,arguments)}function F(e,t){return R.apply(this,arguments)}function R(){return(R=(0,o.Z)(function(e,t){var n,r,o=arguments;return(0,c.__generator)(this,function(a){return n=o.length>2&&void 0!==o[2]?o[2]:e,r=y.I8.currentUser?y.I8.currentUser.toJSON():null,(0,v.jj)({displayName:n}),[2,y.ZP.auth().createUserWithEmailAndPassword(e,t).then(function(e){return U(e,r,n),e}).catch(j)]})})).apply(this,arguments)}function L(e,t){return M.apply(this,arguments)}function M(){return(M=(0,o.Z)(function(e,t){return(0,c.__generator)(this,function(n){return[2,y.ZP.auth().signInWithEmailAndPassword(e,t).catch(j)]})})).apply(this,arguments)}var P=(r={},(0,a.Z)(r,"google.com","google"),(0,a.Z)(r,"microsoft.com","microsoft"),(0,a.Z)(r,"password","email"),r);function U(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if((null==e?void 0:e.user)&&(null==e?void 0:null===(r=e.additionalUserInfo)||void 0===r?void 0:r.isNewUser)){var r,o,a,s,u,c=null!==(a=null!==(o=null==t?void 0:t.uid)&&void 0!==o?o:(0,g.ES)())&&void 0!==a?a:"",l=p.b.getByName(m.IF),A=e.user.uid,d=e.user.email,f=null!==(s=P[e.additionalUserInfo.providerId])&&void 0!==s?s:"",v=n||e.user.displayName||"";h.Z.identify({analyticsId:l||c,id:A,email:d,displayName:v,isAnonymous:!1,emailVerified:null!==(u=e.user.emailVerified)&&void 0!==u&&u}),h.Z.trackEvent("account","create",{userId:e.user.uid,email:e.user.email,authMethod:f,oldUserId:c})}}function j(e){var t=(0,A.J5)(e),n=t.statusCode,r=t.message;throw n>=500&&(0,b.T)(e),Error(r!==e.message?r:"Error")}function Z(e,t){return Q.apply(this,arguments)}function Q(){return(Q=(0,o.Z)(function(e,t){var n,r;return(0,c.__generator)(this,function(o){switch(o.label){case 0:if(!(n=y.ZP.auth().currentUser)||!n.email)throw Error("No user signed in");o.label=1;case 1:return o.trys.push([1,4,,5]),r=y.ZP.auth.EmailAuthProvider.credential(n.email,t),[4,n.reauthenticateWithCredential(r)];case 2:return o.sent(),[4,n.updatePassword(e)];case 3:return o.sent(),[3,5];case 4:return j(o.sent()),[3,5];case 5:return[2]}})})).apply(this,arguments)}function H(e){if("google.com"===e){var t=new y.ZP.auth.GoogleAuthProvider;return t.setCustomParameters({prompt:"select_account"}),t}return new y.ZP.auth.OAuthProvider("microsoft.com")}t.ZP=function(){var e=(0,l.useContext)(d.Z),t=(0,w.Pe)();return(0,u.Z)((0,s.Z)({},e),{signIn:C,signOut:I,updateUserEmail:t.currentUser.updateCurrentUserEmail,signInWithGoogle:T,updateUserDisplayName:t.currentUser.updateCurrentUserDisplayName,updateUserPhotoUrl:t.currentUser.updateCurrentUserPhotoUrl,updateUserPassword:Z,signInWithMicrosoft:k,sendPasswordResetEmail:N,signInWithEmailAndPassword:L,createUserWithEmailAndPassword:F,resetProviderEmail:t.currentUser.resetProviderEmail})}},34224:function(e,t,n){"use strict";var r=n(2784),o=n(2595);t.Z=function(){var e=(0,o.Z)();return(0,r.useCallback)(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Copied to clipboard";navigator.clipboard.writeText(t).then(function(){return e.success(n)}).catch(function(){return e("An error has occured")})},[])}},45403:function(e,t,n){"use strict";n.d(t,{Pe:function(){return c},tu:function(){return s},z6:function(){return u}});var r,o=n(2784),a=n(42091),s=function(e){r=e},u=function(){if(!r)throw Error("DataLayer not initialized");return r},c=function(){return(0,o.useContext)(a.i)}},57685:function(e,t,n){"use strict";n.d(t,{K:function(){return a}});var r=n(2784),o=n(23630),a=function(){return(0,r.useContext)(o.ZP)}},16962:function(e,t,n){"use strict";n.d(t,{Dv:function(){return s},MO:function(){return A},O6:function(){return u},Rx:function(){return a},Sr:function(){return l},nR:function(){return c}});var r=n(21746),o=n(24600),a=function(){return(0,r.Sz)(o.Z,function(e){return{onInputChange:e.onInputChange,query:e.query,saveRouteToHistory:e.saveRouteToHistory}})},s=function(){return(0,r.Sz)(o.Z,function(e){return e.query.length>0})},u=function(){return(0,r.Sz)(o.Z,function(e){return e.hits})},c=function(){return(0,r.Sz)(o.Z,function(e){return e.isLoading})},l=function(){return(0,r.Sz)(o.Z,function(e){return{setPassedFilters:e.setPassedFilters}})},A=function(){return(0,r.Sz)(o.Z,function(e){return{onSearchBarClose:e.onSearchBarClose,onSearchBarOpen:e.onSearchBarOpen,isSearchBarOpen:e.isSearchBarOpen}})}},2595:function(e,t,n){"use strict";var r=n(2784),o=n(44371);t.Z=function(){return(0,r.useContext)(o.ZP)}},23908:function(e,t,n){"use strict";n.d(t,{Y:function(){return s},j:function(){return u}});var r=n(21746),o=n(91259),a=n(48834).lW,s=function(){return(0,r.qp)(o.u_)},u=function(){var e=s();if(!e)return null;var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(a.from(t,"base64").toString()).firebase.sign_in_provider}},96933:function(e,t,n){"use strict";n.d(t,{Fl:function(){return p},II:function(){return d},Mg:function(){return c},TF:function(){return l},TZ:function(){return g},ZE:function(){return f},aF:function(){return h},fC:function(){return A},g5:function(){return v},pC:function(){return m}});var r,o=n(21746),a=n(43653),s=n(27196),u=n(57695),c=function(e){return void 0!==e},l=function(e){return null===(r=null==e?void 0:e.isAnonymous)||void 0===r||r},A=function(){return(0,o.qp)(a._)},d=function(){return(0,o.Sz)(a._,function(e){return null==e?void 0:e.id})},f=function(){return(0,o.Sz)(a._,function(e){return null==e?void 0:e.displayName})},h=function(){return(0,o.qp)(a.S)},p=function(){var e;return null===(e=h())||void 0===e?void 0:e.userSettings},g=function(){return(0,o.Sz)(a.S,c)},v=function(){return(0,o.Sz)(a._,l)},m=function(){var e=d(),t=(0,u.Su)().userUpdateService;return(0,s.W6)(function(n){return e?t.updateUserSettings(e,n):Promise.resolve()})}},52826:function(e,t,n){"use strict";n.d(t,{ZP:function(){return B},Kb:function(){return C},BV:function(){return _},_K:function(){return w}});var r,o,a=n(2784),s=n(89960),u=n(23143),c=n(98788),l=n(22970),A=n(97594),d=n(10186),f=n(50930),h=n(10097),p=n(93586),g=/*#__PURE__*/n.n(p);h.ZP.database.ServerValue;var v=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return t=(0,c.Z)(function(t){var r,o,a,s=arguments;return(0,l.__generator)(this,function(u){switch(u.label){case 0:for(o=Array((r=s.length)>1?r-1:0),a=1;a<r;a++)o[a-1]=s[a];if(!(t.length<=n))return[3,2];return[4,e.apply(void 0,[t].concat((0,f.Z)(o)))];case 1:return[2,u.sent()];case 2:return[4,Promise.all(g()(t,n).map(function(t){return e.apply(void 0,[t].concat((0,f.Z)(o)))}))];case 3:return[2,u.sent().flat()]}})}),function(e){return t.apply(this,arguments)}};function m(e){return d.Z.profile(e).withConverter(A.Zd).get().then(function(e){return e.data()})}var y=v((r=(0,c.Z)(function(e){var t;return(0,l.__generator)(this,function(n){switch(n.label){case 0:if(!e.length)return[2,[]];if(!(e.length>1))return[3,2];return[4,y(e)];case 1:return[2,n.sent()];case 2:return[4,m(e[0])];case 3:return[2,(t=n.sent())?[t]:[]];case 4:return[2]}})}),function(e){return r.apply(this,arguments)}),1),b=v((o=(0,c.Z)(function(e,t){return(0,l.__generator)(this,function(n){switch(n.label){case 0:if(!e.length)return[2,[]];return[4,d.Z.knownPeople.withConverter(A.UK).where("userId","in",e).where("teamId","==",t).get()];case 1:return[2,n.sent().docs.map(function(e){return e.data()})]}})}),function(e,t){return o.apply(this,arguments)})),w=new Map,_=function(e){var t,n=(0,a.useState)(!1),r=n[0],o=n[1],s=null!==(t=null==e?void 0:e.filter(function(e){return!w.has(e)}))&&void 0!==t?t:[];return(0,a.useEffect)(function(){!r&&s.length&&(o(!0),y(s).then(function(e){var t=!0,n=!1,r=void 0;try{for(var a,s=e[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var u=a.value;w.set(u.id,u)}}catch(e){n=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}o(!1)}))},[s,r]),(0,a.useMemo)(function(){return null==e?void 0:e.map(function(e){return w.get(e)}).filter(Boolean)},[e,r])},E=new Map,C=function(e,t){var n,r=(0,a.useState)(!1),o=r[0],u=r[1],c=null!==(n=null==e?void 0:e.filter(function(e){return!E.has(e)}))&&void 0!==n?n:[];return(0,a.useEffect)(function(){!o&&c.length&&t&&(u(!0),b(c,t).then(function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s,l=o.value;E.set(null!==(s=l.userId)&&void 0!==s?s:l.id,l)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}var A=!0,d=!1,f=void 0;try{for(var h,p=c[Symbol.iterator]();!(A=(h=p.next()).done);A=!0)!function(){var t=h.value;e.find(function(e){return(null==e?void 0:e.userId)===t})||E.set(t,null)}()}catch(e){d=!0,f=e}finally{try{A||null==p.return||p.return()}finally{if(d)throw f}}u(!1)}).catch(function(e){(0,s.T)(Error("Failed to fetch known people for ".concat(c),{cause:e}))}))},[c,t,o]),(0,a.useMemo)(function(){return null==e?void 0:e.map(function(e){return E.get(e)}).filter(Boolean)},[e,o])},B=function(e,t){var n,r=(0,a.useState)(e&&null!==(n=w.get(e))&&void 0!==n?n:null),o=r[0],c=r[1];return(0,a.useEffect)(function(){if(e){if(e===u.Pq){c(u.ff);return}if(t){var n;return n=function(t){w.set(e,t),c(t)},d.Z.profile(e).withConverter(A.Zd).onSnapshot(function(e){var t=e.data();t&&n(t)})}m(e).then(function(t){t&&(w.set(e,t),c(t))}).catch(function(t){(0,s.T)(Error("Failed to fetch user profile for ".concat(e),{cause:t}))})}},[e,t]),o}},39183:function(e,t,n){"use strict";n.d(t,{JP:function(){return d},Rx:function(){return h},S$:function(){return v},Z0:function(){return y},aq:function(){return g},bm:function(){return c},cF:function(){return l},mT:function(){return A},sx:function(){return m},t6:function(){return b},u0:function(){return f},vP:function(){return p}});var r=n(2784),o=n(21746),a=n(38947),s=n(32472),u=function(e){return void 0!==e},c=function(){return(0,o.Sz)(a.e,function(e){return e})},l=function(){return(0,o.Sz)(a.e,function(e){return e.workspace})},A=function(){return(0,o.Sz)(a.e,function(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.id})},d=function(){return(0,o.Sz)(a.e,function(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.teamId})},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.SF,t=(0,o.Sz)(a.e,function(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.title});return(0,r.useMemo)(function(){return t&&t.trim().length>0?t:e},[t,e])},h=function(){return(0,o.Sz)(a.e,function(e){return u(e.workspace)&&void 0!==e.access})},p=function(){return(0,o.Sz)(a.e,function(e){var t=e.workspace;return u(t)&&null!==t})},g=function(){return(0,o.Sz)(a.e,function(e){return e.environment})},v=function(){return"integration"===g()},m=function(){return(0,o.Sz)(a.e,function(e){return e.access})},y=function(){return(0,o.Sz)(a.e,function(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.folderId})},b=function(){return(0,o.Sz)(a.e,function(e){return e.workspace&&e.access&&!e.access.isReadOnly&&!e.workspace.isArchived})};t.ZP=l},25300:function(e,t,n){"use strict";var r=n(98788),o=n(42838),a=n(70865),s=n(26297),u=n(22970),c=n(5632),l=/*#__PURE__*/n.n(c),A=n(69071),d=n(11269),f=n(51516),h=n(2595),p=n(96933),g=n(3552),v=n(24066),m=n(27196),y=n(89960),b=n(70599),w=n(57695);t.Z=function(){var e,t,n=(0,h.Z)(),c=(0,p.II)(),_=(0,d.LP)(),E=(0,f.Y)().openSettingsModal,C=(0,w.Su)().analyticsService,B=(0,A.Z)((e=(0,r.Z)(function(e,t){var n,r,o,a,s,c,A,d,f=arguments;return(0,u.__generator)(this,function(u){switch(u.label){case 0:return o=void 0===(r=(n=f.length>2&&void 0!==f[2]?f[2]:{}).redirect)||r,s=void 0===(a=n.query)?{}:a,[4,(0,g.M)(e,t,"new")];case 1:if(c=u.sent(),!o)return[3,3];return A="/workspace/".concat(c.id),(d=new URLSearchParams(s).toString())&&(A+="?".concat(d)),[4,l().push(A)];case 2:u.sent(),u.label=3;case 3:return[2,c]}})}),function(t,n){return e.apply(this,arguments)})),I=function(e){return(0,o.Z)(e,v.W)?(C.trackEvent("payment","open_billing_pane",{featureName:b.M$.Workspaces,source:"paywallNotification"}),E({openedPane:"plans",paywallError:e,paywallFeature:b.M$.Workspaces}),n.dismiss(),null):((0,y.T)(Error("Error creating file",{cause:e})),"Error creating file")};return{loading:B.loading,request:(0,m.W6)((t=(0,r.Z)(function(e,t){var r,o,l,A,d,f,h,p=arguments;return(0,u.__generator)(this,function(u){switch(u.label){case 0:if(r=p.length>2&&void 0!==p[2]?p[2]:{},B.loading||!c)return[2];return l=void 0===(o=t.title)?"":o,A=(0,s.Z)(t,["title"]),d=r.toastMessages,f=r.toastOptions,h=(0,a.Z)({teamId:_,ownerId:c,title:l},A),[4,n.promise(B.execute(h,e,r),null!=d?d:{loading:"Creating file",success:"Created file",error:I},null!=f?f:{success:{duration:1e3}})];case 1:return[2,u.sent()]}})}),function(e,n){return t.apply(this,arguments)}))}}},24930:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r,o=n(42838),a=n(2784),s=n(62202),u=n(69071),c=n(42541),l=n(98788),A=n(22970),d=n(97594),f=n(10097),h=n(10186),p=n(70599),g=n(66283),v=(r=(0,l.Z)(function(e){var t,n,r,o,a;return(0,A.__generator)(this,function(s){switch(s.label){case 0:if(t=e.file,n=e.folderId,r=e.teamId,o=h.Z.team(r).withConverter(d.ML),a=h.Z.workspace(t.id).withConverter(d.BV),!0!==t.isArchived)return[3,2];return[4,g.j.validateLimitedFeature({featureName:p.M$.Workspaces,teamArg:r})];case 1:s.sent(),s.label=2;case 2:var u;return[4,f.RZ.runTransaction((u=(0,l.Z)(function(e){return(0,A.__generator)(this,function(t){switch(t.label){case 0:if(!o)return[3,2];return[4,e.get(o)];case 1:if(!t.sent().data())throw Error("Team ".concat(r," not found"));t.label=2;case 2:return e.update(a,{folderId:n,teamId:r,isArchived:!1}),[2]}})}),function(e){return u.apply(this,arguments)}))];case 3:return[2,s.sent()]}})}),function(e){return r.apply(this,arguments)}),m=n(51516),y=n(24066),b=n(89960),w=function(){var e=(0,u.Z)(v),t=(0,m.Y)().openSettingsModal;return(0,a.useCallback)(function(n){var r=n.file,a=n.folderId,u=n.onClose,l=n.teamId;null==u||u(),void 0!==a&&l&&s.ZP.promise(e.execute({file:r,folderId:a,teamId:l}),{loading:"Moving file",success:"Moved file",error:function(e){return(0,o.Z)(e,y.W)?(t({paywallError:e,paywallFeature:p.M$.Workspaces,openedPane:"plans"}),s.ZP.dismiss(),null):((0,b.T)(Error("Error moving file",{cause:e})),"Error moving file")}}).then(function(){return c.Z.trackEvent("folders","move_workspace",{eventSource:"modal"})})},[e,t])}},26758:function(e,t,n){"use strict";n.d(t,{o:function(){return _}});var r,o=n(42838),a=n(96933),s=n(2784),u=n(98788),c=n(22970),l=n(35532),A=n(10186),d=n(70599),f=n(66283),h=l.Z.firestore.FieldValue,p=function(e,t,n){return A.Z.workspace(e).update({isArchived:!0,archivedAt:h.serverTimestamp(),archivedBy:n})},g=(r=(0,u.Z)(function(e,t,n){return(0,c.__generator)(this,function(n){switch(n.label){case 0:return[4,f.j.validateLimitedFeature({featureName:d.M$.Workspaces,teamArg:t})];case 1:return n.sent(),[4,A.Z.workspace(e).update({isArchived:!1})];case 2:return[2,n.sent()]}})}),function(e,t,n){return r.apply(this,arguments)}),v=n(69071),m=n(2595),y=n(51516),b=n(24066),w=n(89960),_=function(e){var t=e.workspaceId,n=e.isArchived,r=e.currentTeamId,u=e.workspaceTeamId,c=(0,m.Z)(),l=(0,a.II)(),A=(0,v.Z)(p),f=(0,v.Z)(g),h=(0,y.Y)().openSettingsModal;return(0,s.useCallback)(function(){if(!(r&&u&&r===u)){c.error("You need to be on the correct team to do that.");return}var e=A,a="Archiving a file",s="File has been archived successfully";n&&(e=f,a="Restoring a file",s="File has been restored successfully"),c.promise(e.execute(t,r,l),{loading:a,success:s,error:function(e){return(0,o.Z)(e,b.W)?(h({paywallError:e,paywallFeature:d.M$.Workspaces,openedPane:"plans"}),c.dismiss(),null):((0,w.T)(Error("Error ".concat(a),{cause:e})),"Error ".concat(a))}},{success:{duration:1e3}})},[A,n,t,f,r,l,u,h])}},2600:function(e,t,n){"use strict";n.d(t,{X:function(){return m}});var r=n(42838),o=n(70865),a=n(96670),s=n(5632),u=/*#__PURE__*/n.n(s),c=n(69071),l=n(2595),A=n(24066),d=n(89960),f=n(70599),h=n(42541),p=n(51516),g=n(67640),v=function(e){return g.Z.post("workspace/copy",e)},m=function(){var e=(0,l.Z)(),t=(0,c.Z)(v),n=(0,p.Y)().openSettingsModal;return{loading:t.loading,request:function(s){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=s.workspaceId,p=s.teamId;if(l&&p&&!t.loading){s.isFromTemplate&&h.Z.trackEvent("template","use",{templateId:l,teamId:p});var g=c.reload,v=c.openInNewTab,m=c.stayOnPage;e.promise(t.execute((0,a.Z)((0,o.Z)({},s),{workspaceId:l,teamId:p})),{success:"Duplicated file",loading:"Duplicating file",error:function(t){return(0,r.Z)(t,A.W)?(n({openedPane:"plans",paywallError:t,paywallFeature:f.M$.Workspaces}),e.dismiss(),null):((0,d.T)(Error("Error duplicating workspace",{cause:t})),"Error duplicating file")}},{success:{duration:1e3}}).then(function(e){if(e){var t="/workspace/".concat(e.workspaceId);if(g&&v)window.open(location.origin+t,"_blank");else if(g)location.replace(window.location.origin+t);else if(!m)return u().push(t)}})}}}}},27038:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(98788),o=n(22970),a=n(67640);function s(e){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(function(e){var t;return(0,o.__generator)(this,function(n){switch(n.label){case 0:return t=window.location.hostname.includes("qa--pr")?"?redirectDomain="+window.location.hostname:"",[4,a.Z.get("sso/redirect/".concat(encodeURIComponent(e)).concat(t))];case 1:return[2,n.sent().url]}})})).apply(this,arguments)}},82614:function(e,t,n){"use strict";n.d(t,{g:function(){return w},j:function(){return b}});var r=n(87394),o=n(77149),a=n(50930),s=n(52322),u=n(2784),c=n(8565),l=n(73251),A=n(20810),d=n(34394),f=n(11348),h=n(12335),p=n(43806),g=n(35120),v=n(77984),m=n(97533),y=/*#__PURE__*/(0,u.createContext)({catalogs:[],areItemsLoading:!1,areCatalogsLoading:!1,catalogIdWithItemsMap:new Map}),b=function(){return(0,u.useContext)(y)},w=function(e){var t=e.children,n=m.QS,b=(0,u.useState)(!1),w=b[0],_=b[1],E=(0,c.A)(n),C=E.catalogs,B=E.isLoading,I=(0,A.m)(function(e){return e.pipe((0,f.b)(function(){return _(!0)}),(0,h.w)(function(e){var t=(0,r.Z)(e,1)[0];return(0,p.a)([(0,g.of)(t)].concat((0,a.Z)(t.map(function(e){return l.n.observeCanvasCatalogItems(e.id)}))))}),(0,v.U)(function(e){var t=(0,o.Z)(e),n=t[0];return t.slice(1).reduce(function(e,t,r){return e.set(n[r].id,t)},new Map)}),(0,f.b)(function(){return _(!1)}))},[C]),x=(0,d.p)(I,new Map);return/*#__PURE__*/(0,s.jsx)(y.Provider,{value:{catalogs:C,areItemsLoading:w,areCatalogsLoading:B,catalogIdWithItemsMap:x},children:t})}},8565:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(87394),o=n(73251),a=n(24618),s=n(20810),u=n(34394),c=n(2784),l=n(11348),A=n(12335),d=function(e){var t=(0,c.useState)(!1),n=t[0],d=t[1],f=(0,s.m)(function(e){return e.pipe((0,l.b)(function(){return d(!0)}),(0,A.w)(function(e){var t=(0,r.Z)(e,1)[0];return o.n.observeCanvasCatalogs(t)}),(0,a.Fb)([]),(0,l.b)(function(){return d(!1)}))},[e]);return{catalogs:(0,u.p)(f,[]),isLoading:n}}},60238:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var r=5},10185:function(e,t,n){"use strict";n.d(t,{N:function(){return c},Q:function(){return u}});var r=n(5632),o=["all","folder","github","search","private","history","archived","unsorted","templates","created-by-me","ai-context","eraserbot","git-diagram"],a=/^\/dashboard\/([\w-]+)/,s=function(e){return o.includes(e)},u=function(){var e=(0,r.useRouter)();if(e.pathname.startsWith("/folder"))return{tabId:"folder",query:e.query};var t=c(e.pathname);return"string"==typeof t&&s(t)?{tabId:t,query:e.query}:{tabId:"all",query:e.query}};function c(e){if(e.startsWith("/folder"))return"folder";var t,n=null===(t=e.match(a))||void 0===t?void 0:t[1];return"string"==typeof n&&s(n)?n:"all"}},48696:function(e,t,n){"use strict";n.d(t,{MZ:function(){return s},N0:function(){return l},wK:function(){return u}});var r=n(21746),o=n(27729),a=n(10185),s=function(){var e,t=(0,a.Q)(),n=t.tabId,r=t.query;if("folder"===n){var o=r.folderId;return null!==(e=Array.isArray(o)?o[0]:o)&&void 0!==e?e:""}},u=function(){var e=s();return(0,r.Sz)(o.ZP,function(t){var n=t.foldersMap,r=t.isLoaded;return e?r?n[e]||(console.info("Folder: ".concat(e," not found. Redirecting...")),null):void 0:null})},c=/\/folder\/([^?^/]+)/,l=function(e){var t;return null===(t=e.match(c))||void 0===t?void 0:t[1]}},74010:function(e,t,n){"use strict";var r=n(21746),o=n(27729);t.Z=function(){return(0,r.qp)(o.ZP)}},59296:function(e,t,n){"use strict";var r,o;n.d(t,{L:function(){return r}}),(o=r||(r={})).Folder="FOLDER",o.Workspace="WORKSPACE"},85580:function(e,t,n){"use strict";n.d(t,{Q:function(){return p},z:function(){return g}});var r=n(87394),o=n(2784),a=n(9311),s=n(34569),u=n(74010),c=n(59296),l=n(11269),A=n(24930),d=function(e){var t=e.folderId,n=(0,A.Z)(),r=(0,l.LP)();return(0,o.useCallback)(function(e,o){var a=o.getItemType();r&&a===c.L.Workspace&&n({teamId:r,folderId:t,file:e,eventSource:"drag_and_drop"})},[t,n,r])},f=n(75194),h=n(60238),p=function(e){var t=(0,f.d)(),n=(0,r.Z)((0,a.c)({item:e,type:c.L.Folder,canDrag:function(){return!t},collect:function(e){return{isDraggingFolder:e.isDragging()}}}),3);return{isDraggingFolder:n[0].isDraggingFolder,dragRef:n[1],previewRef:n[2]}},g=function(e){var t=e.rootRef,n=e.targetFolder,a=e.onFolderReorder,l=n.id,A=(0,u.Z)().getFolderPath,f=(0,o.useState)("none"),p=f[0],g=f[1],v=d({folderId:n.id}),m=(0,o.useCallback)(function(e,t){t.getItemType()===c.L.Workspace?v(e,t):a&&a({draggingFolder:e,targetFolder:n,folderDropSide:p})},[v,a,n,p]),y=(0,r.Z)((0,s.L)({accept:[c.L.Workspace,c.L.Folder],canDrop:function(e,t){switch(t.getItemType()){case c.L.Folder:return n.id!==e.id;case c.L.Workspace:return!e.isPrivate&&e.folderId!==l;default:return!0}},drop:m,hover:function(e,r){var o=r.canDrop(),a=r.getClientOffset(),s=r.getItem(),u=r.getItemType()===c.L.Folder;if(!(null==t?void 0:t.current)||!a||!o||!u){g("none");return}var l=t.current.getBoundingClientRect(),d=l.top,f=l.height,p=a.y-d<f/2,v=f/4;a.y-d>v&&a.y-d<f-v&&s.parentFolderId!==n.id?A(n.id).length<h.p&&g("on"):p?g("before"):p?g("none"):g("after")},collect:function(e){var t=e.getItemType(),n=e.isOver()&&e.canDrop();return{isDroppingFolder:n&&t===c.L.Folder,isDroppingWorkspace:n&&t===c.L.Workspace}}},[l,m]),2),b=y[0],w=b.isDroppingFolder,_=b.isDroppingWorkspace;return{dropRef:y[1],isDroppingFolder:w,isDroppingWorkspace:_,folderDropSide:p}}},49678:function(e,t,n){"use strict";n.d(t,{Hz:function(){return s},JN:function(){return u},ZN:function(){return d},am:function(){return l},bx:function(){return f},p6:function(){return c}});var r=n(70865),o=n(96670),a=n(50930),s=function(e){if(!e)return{};var t={},n={},a=function(e){n[e.id].sort(function(e,t){return e.order-t.order}).forEach(function(t){e.children.push(t),a(t)})},s=e.filter(function(e){return!e.parentFolderId}).map(function(e){return(0,o.Z)((0,r.Z)({},e),{children:[]})}).sort(function(e,t){return e.order-t.order});return e.forEach(function(e){if(n[e.id]||(n[e.id]=[]),e.parentFolderId){var t=(0,o.Z)((0,r.Z)({},e),{children:[]});n[e.parentFolderId]?n[e.parentFolderId].push(t):n[e.parentFolderId]=[t]}}),s.forEach(function(e){t[e.id]=e,a(e)}),t},u=function(e){var t=[],n=function(e){t.push(e),e.children.sort(function(e,t){return e.order-t.order}).forEach(function(e){return n(e)})};return Object.values(e).forEach(n),t},c=function(e,t){var n=[],r=Object.values(t),o=function(t){return n.push(t),t.id===e||!!t.children.some(o)||(n.pop(),!1)};return r.find(o),n},l=function(e){var t=[],n=[],r=Object.values(e).sort(function(e,t){return e.order-t.order}),o=function(e){n.push(e),t.push((0,a.Z)(n)),e.children.forEach(o),n.pop()};return r.forEach(o),t},A=function(e,t){var n=Object.values(t),r=function(t){if(t.id===e)return t;var n=!0,o=!1,a=void 0;try{for(var s,u=t.children[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value,l=r(c);if(l)return l}}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}},o=!0,a=!1,s=void 0;try{for(var u,c=n[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value,A=r(l);if(A)return A}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}},d=function(e,t){var n=[],r=[],o=A(e,t);if(!o)return n;var s=function(e){r.push(e),n.push((0,a.Z)(r)),e.children.forEach(s),r.pop()};return s(o),n},f=function(e,t){var n=t.orderBy;return e&&e.length?["title","createdAt","updatedAt"].includes(n)?("title"===n&&(n="name"),(0,a.Z)(e).sort(function(e,r){var o=0;if(n in e&&n in r&&e[n]&&r[n])switch(n){case"name":o=e.name.localeCompare(r.name);break;case"createdAt":o=(e.createdAt||0)-(r.createdAt||0);break;case"updatedAt":o=(e.updatedAt||0)-(r.updatedAt||0);break;default:o=(e.order||0)-(r.order||0)}return"desc"===t.orderDir?-o:o})):e:[]}},35289:function(e,t,n){"use strict";n.d(t,{v:function(){return d}});var r=n(52322),o=n(89911),a=n(44885),s=n(90087),u=n(63842),c=n(88404),l=n(47829),A=n(54253),d=function(e){var t=e.onConnectClick;return/*#__PURE__*/(0,r.jsxs)(l.u,{children:[/*#__PURE__*/(0,r.jsxs)(l.u.IconTray,{children:[/*#__PURE__*/(0,r.jsx)(c.J,{icon:s.Z,width:24}),/*#__PURE__*/(0,r.jsx)(c.J,{icon:a.Z,width:30,height:30,color:"grey-1000"}),/*#__PURE__*/(0,r.jsx)(o.$q,{height:14})]}),/*#__PURE__*/(0,r.jsxs)(l.u.TextSection,{children:["Use Eraser to create, read, edit, and update your Github-hosted markdown files.\xa0",/*#__PURE__*/(0,r.jsx)(u.d,{href:"https://docs.eraser.io/docs/github-getting-started",children:"Learn more"})]}),/*#__PURE__*/(0,r.jsx)(l.u.Bottom,{children:/*#__PURE__*/(0,r.jsx)(A.g,{onClick:t})})]})}},54253:function(e,t,n){"use strict";n.d(t,{g:function(){return u}});var r=n(52322),o=n(46131),a=n(95162),s=n(88404),u=function(e){var t=e.onClick;return/*#__PURE__*/(0,r.jsxs)(a.ZP,{variant:a.ZP.Variants.OUTLINE,onClick:t,style:{marginBottom:10},children:[/*#__PURE__*/(0,r.jsx)(s.J,{icon:o.Z,style:{marginRight:8}}),"Connect new Github Org"]})}},39145:function(e,t,n){"use strict";n.d(t,{Uk:function(){return eo},DZ:function(){return ei},E$:function(){return er}});var r,o,a,s,u,c,l,A=n(98788),d=n(70865),f=n(96670),h=n(87394),p=n(22970),g=n(52322),v=n(2784),m=n(30686),y=n(37164),b=n(20810),w=n(34394),_=n(77984),E=n(12335),C=n(19184),B=n(16981),I=n(1118),x=n(67394),T=n(97674),S=n(69676),k=n(15562),D=n(26932),N=n(43806),O=n(98156),F=/*#__PURE__*/n.n(O),R=n(85957),L=n(67640),M=n(48834).lW,P=(r=(0,A.Z)(function(e){return(0,p.__generator)(this,function(t){return[2,L.Z.get("git/".concat(e.teamId,"/").concat(e.organizationId,"/repositories"))]})}),function(e){return r.apply(this,arguments)}),U=(o=(0,A.Z)(function(e){return(0,p.__generator)(this,function(t){return[2,L.Z.get("git/".concat(e.teamId,"/").concat(e.organizationId,"/").concat(e.repositoryId,"/branchNames"))]})}),function(e){return o.apply(this,arguments)}),j=(a=(0,A.Z)(function(e){return(0,p.__generator)(this,function(t){return[2,L.Z.get("git/".concat(e.teamId,"/").concat(e.organizationId,"/").concat(e.repositoryId,"/defaultBranchName"))]})}),function(e){return a.apply(this,arguments)}),Z={batchPull:(s=(0,A.Z)(function(e){return(0,p.__generator)(this,function(t){return[2,(0,R.Z)("gitHub-batchPull",e)]})}),function(e){return s.apply(this,arguments)}),batchPush:(u=(0,A.Z)(function(e){return(0,p.__generator)(this,function(t){return[2,(0,R.Z)("gitHub-batchPush",e)]})}),function(e){return u.apply(this,arguments)}),listRepositoryBranches:U,getLatestCommitForFile:(c=(0,A.Z)(function(e){var t;return(0,p.__generator)(this,function(n){return t=M.from(e.filePath).toString("base64"),[2,L.Z.get("git/".concat(e.teamId,"/").concat(e.organizationId,"/").concat(e.repositoryId,"/").concat(t,"/latestCommit"))]})}),function(e){return c.apply(this,arguments)}),getRepositoryDefaultBranchName:j,listRepositoriesForOrganization:P},Q=function(e,t,n,r){var o=screen.width/2-n/2,a=screen.height/2-r/2;return window.open(t,e,"\n      status=no,\n      toolbar=no,\n      menubar=no,\n      location=no,\n      resizable=no,\n      scrollbars=no,\n      directories=no,\n      copyhistory=no,\n      top=".concat(a,",\n      left=").concat(o,",\n      width=").concat(n,",\n      height=").concat(r,"\n    "))},H="api/git/auth",V=(l=(0,A.Z)(function(e){var t;return(0,p.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,fetch("/".concat(H,"/checkLogin"),{headers:{authorization:"Bearer ".concat(e)}})];case 1:if(401===(t=n.sent()).status||!t.ok)return[2,!1];return[4,t.json()];case 2:return[2,!0===n.sent()];case 3:return n.sent(),[2,!1];case 4:return[2]}})}),function(e){return l.apply(this,arguments)}),K=function(e){var t=new URL("".concat(window.location.origin,"/").concat(H,"/login"));t.searchParams.set("authToken",e),t.searchParams.set("redirectUrl",window.location.href),window.location.href=t.toString()},z=function(e,t){var n=new URL("".concat(window.location.origin,"/").concat(H,"/install"));return n.searchParams.set("teamId",t),n.searchParams.set("authToken",e),Q("Connect your GitHub organization to Eraser",n.toString(),1030,600)},G=n(91979),W=n(11269),q=n(2595),Y=n(23908),$=n(96933),X=n(63842),J=function(e){var t=e.error;if(!t)return/*#__PURE__*/(0,g.jsx)(g.Fragment,{children:"A server occurred. Please try again later."});if(!t.documentationUrl)return/*#__PURE__*/(0,g.jsx)(g.Fragment,{children:t.message});var n=t.message.endsWith(".")?t.message:"".concat(t.message,".");return/*#__PURE__*/(0,g.jsxs)("span",{children:[n,"\xa0",/*#__PURE__*/(0,g.jsx)(X.d,{href:t.documentationUrl,style:{display:"block"},children:/*#__PURE__*/(0,g.jsx)("small",{children:"Learn more"})})]})},ee=n(42541),et=n(24618),en=/*#__PURE__*/(0,v.createContext)({isLoggedIn:!1,organizations:null,isLoginLoading:!0,repositoriesMap:null,login:function(){},installApp:function(){},openHelpModal:function(){},configureOrganization:function(){},batchPush:function(){return Promise.resolve(void 0)},batchPull:function(){return Promise.resolve(void 0)},updateRepository:function(){return Promise.resolve(void 0)},subscribeToEventBus:function(){return new m.v},addRepository:function(){return Promise.resolve("")},getDefaultBranchName:function(){return Promise.resolve("")},listRepositoryBranches:function(){return Promise.resolve([])},getLatestCommitForFile:function(){return Promise.resolve(void 0)},listRepositoriesForOrganization:function(){return Promise.resolve([])}}),er=function(){return(0,v.useContext)(en)},ei=function(e,t){var n=er().subscribeToEventBus;(0,v.useEffect)(function(){var r=n(e,t);return function(){r.off(e,t)}},[e,n,t])},eo=function(e){var t,n,r,o,a,s,u,c=e.children,l=(0,q.Z)(),O=(0,Y.Y)(),R=(0,W.LP)(),L=(0,$.aF)(),M=(0,v.useRef)(new m.v),P=(0,b.m)(function(e){return e.pipe((0,_.U)(function(e){return(0,h.Z)(e,1)[0]}),(0,et.BX)())},[O,null==L?void 0:L.gitHubInfo]),U=(0,b.m)(function(){return P.pipe((0,E.w)(function(e){return(0,C.D)(V(e))}),(0,_.U)(function(e){return{isLoginLoading:!1,isLoggedIn:e}}),(0,B.O)({isLoginLoading:!0,isLoggedIn:!1}))}),j=(0,b.m)(function(e){return e},[R]).pipe((0,_.U)(function(e){return(0,h.Z)(e,1)[0]}),(0,et.BX)()),Q=(0,b.m)(function(){return j.pipe((0,E.w)(function(e){return G.j.observeOrganizations(e)}))}),H=(0,b.m)(function(){return Q.pipe((0,_.U)(function(e){return e.map(function(e){return e.id})}),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,D.jO)(e);return(0,I.e)(function(t,r){for(var o=e.length,a=Array(o),s=e.map(function(){return!1}),u=!1,c=function(t){(0,T.Xf)(e[t]).subscribe((0,x.x)(r,function(e){a[t]=e,!u&&!s[t]&&(s[t]=!0,(u=s.every(S.y))&&(s=null))},k.Z))},l=0;l<o;l++)c(l);t.subscribe((0,x.x)(r,function(e){if(u){var t=(0,p.__spreadArray)([e],(0,p.__read)(a));r.next(n?n.apply(void 0,(0,p.__spreadArray)([],(0,p.__read)(t))):t)}}))})}(j),(0,E.w)(function(e){var t=(0,h.Z)(e,2),n=t[0],r=t[1];return(0,N.a)(n.map(function(e){return G.j.observeRepositories(r,e)})).pipe((0,_.U)(function(e){return e.reduce(function(e,t,r){return e.set(n[r],t)},new Map)}))}))}),X=(0,w.p)(Q,null),er=(0,w.p)(H,null),ei=(0,w.p)(U,{isLoggedIn:!1,isLoginLoading:!0}),eo=(t=(0,A.Z)(function(e,t){var n,r,o,a,s,u;return(0,p.__generator)(this,function(c){switch(c.label){case 0:return[4,Z.listRepositoriesForOrganization({organizationId:e,teamId:R})];case 1:if(n=c.sent().map(function(e){return e.name}),!((null==er?void 0:er.size)&&t)||(a=null===(r=er.get(e))||void 0===r?void 0:r.map(function(e){return e.name}),u=null!==(s=null===(o=null==X?void 0:X.find(function(t){return t.id===e}))||void 0===o?void 0:o.name)&&void 0!==s?s:"",!a))return[3,3];return[4,Promise.all(n.filter(function(e){return!a.includes(e)}).map(function(t){return ea({repositoryName:t,organizationId:e,organizationName:u,enableSync:!1})}))];case 2:return c.sent(),[2,n];case 3:return[2,n]}})}),function(e,n){return t.apply(this,arguments)}),ea=(n=(0,A.Z)(function(e){var t,n,r,o,a;return(0,p.__generator)(this,function(s){switch(s.label){case 0:return t=e.organizationId,n=e.organizationName,r=e.repositoryName,o=e.enableSync,[4,G.j.addRepository(R,t,{name:r,enableSync:o})];case 1:return a=s.sent(),ee.Z.trackEvent("gitHub-dashboard","add_repository",{repositoryName:r,organizationName:n}),[2,a]}})}),function(e){return n.apply(this,arguments)}),es=(r=(0,A.Z)(function(e,t){return(0,p.__generator)(this,function(n){switch(n.label){case 0:return[4,Z.listRepositoryBranches({repositoryId:t,organizationId:e,teamId:R})];case 1:return[2,n.sent()]}})}),function(e,t){return r.apply(this,arguments)}),eu=(o=(0,A.Z)(function(e,t){return(0,p.__generator)(this,function(n){switch(n.label){case 0:return[4,Z.getRepositoryDefaultBranchName({repositoryId:t,organizationId:e,teamId:R})];case 1:return[2,n.sent()]}})}),function(e,t){return o.apply(this,arguments)}),ec=(a=(0,A.Z)(function(e){var t,n,r,o,a,s,u,c,A;return(0,p.__generator)(this,function(d){switch(d.label){case 0:t=e.byType,n=e.organizationName,r=e.repositoryName,o=(0,y.x0)(),d.label=1;case 1:switch(d.trys.push([1,8,,9]),t){case"workspace":return[3,2];case"repository":return[3,4]}return[3,6];case 2:return s=e.workspaceIds,[4,Z.batchPull({byType:t,workspaceIds:s,teamId:R})];case 3:case 5:return a=d.sent(),[3,7];case 4:return u=e.organizationId,c=e.repositoryId,[4,Z.batchPull({byType:t,repositoryId:c,organizationId:u,teamId:R})];case 6:case 9:return[2];case 7:if(ee.Z.trackEvent("gitHub-dashboard","batch_pull",{byType:t,repositoryName:r,organizationName:n}),a)return[2,a.operationId];return[3,9];case 8:return A=d.sent(),l.error(/*#__PURE__*/(0,g.jsx)(J,{error:A.details}),{id:o}),[3,9]}})}),function(e){return a.apply(this,arguments)}),el=(s=(0,A.Z)(function(e){var t,n,r,o,a,s,u,c,A,h,v,m,b,w,_,E,C;return(0,p.__generator)(this,function(p){switch(p.label){case 0:t=e.byType,n=e.prInfo,r=e.filePath,o=e.branchName,a=e.commitMessage,s=e.repositoryName,u=e.organizationName,c=e.defaultBranchName,A=(0,y.x0)(),v={prInfo:n,branchName:o,commitMessage:a},p.label=1;case 1:switch(p.trys.push([1,8,,9]),t){case"workspace":return[3,2];case"repository":return[3,4]}return[3,6];case 2:return b=e.workspaceIds,m="Eraser file pushed to GitHub",l.loading("Pushing Eraser file to GitHub",{id:A}),[4,Z.batchPush((0,d.Z)({byType:t,workspaceIds:b},v))];case 3:case 5:return h=p.sent(),[3,7];case 4:return w=e.organizationId,_=e.repositoryId,m="Eraser files pushed to GitHub",l.loading("Pushing Eraser files to GitHub",{id:A}),[4,Z.batchPush((0,f.Z)((0,d.Z)({byType:t},v),{repositoryId:_,organizationId:w,teamId:R}))];case 6:case 9:return[2];case 7:return 206===h.status?(E="PR creation failed: ".concat(h.prError.message),l(m="".concat(m,". ").concat(E),{id:A,icon:"⚠️",className:F().warning})):l.success(m,{id:A}),ee.Z.trackEvent("gitHub-dashboard","batch_push",{byType:t,filePath:r,branchName:o,commitMessage:a,repositoryName:s,organizationName:u,prTitle:null==n?void 0:n.title,isDefaultBranch:o===c}),[3,9];case 8:return C=p.sent(),l.error(/*#__PURE__*/(0,g.jsx)(J,{error:C.details}),{id:A}),[3,9]}})}),function(e){return s.apply(this,arguments)}),eA=(u=(0,A.Z)(function(e){return(0,p.__generator)(this,function(t){switch(t.label){case 0:return[4,Z.getLatestCommitForFile((0,f.Z)((0,d.Z)({},e),{teamId:R}))];case 1:return[2,t.sent()]}})}),function(e){return u.apply(this,arguments)}),ed=M.current.on.bind(M.current);return/*#__PURE__*/(0,g.jsx)(en.Provider,{value:(0,f.Z)((0,d.Z)({login:function(){ee.Z.trackEvent("gitHub-dashboard","login"),K(O)},batchPull:ec,batchPush:el,updateRepository:G.j.updateRepository,installApp:function(){ee.Z.trackEvent("gitHub-dashboard","add_organization_click");var e=z(O,R),t=setInterval(function(){e?e.closed&&(clearInterval(t),M.current.emit("onInstallWindowClosed")):clearInterval(t)},300)}},ei),{openHelpModal:function(){return M.current.emit("openHelpModal")},addRepository:ea,organizations:X,repositoriesMap:er,subscribeToEventBus:ed,getDefaultBranchName:eu,configureOrganization:function(e){var t=e.organizationId,n=e.organizationName,r=null==X?void 0:X.find(function(e){return e.id===t});r&&(G.j.configureOrganization(r),ee.Z.trackEvent("gitHub-dashboard","configure_organization",{organizationName:n}))},listRepositoryBranches:es,getLatestCommitForFile:eA,listRepositoriesForOrganization:eo}),children:c})}},53178:function(e,t,n){"use strict";n.d(t,{$m:function(){return a},dr:function(){return s},k_:function(){return u}});var r=n(10185),o=n(39145),a=function(){var e=(0,r.Q)(),t=e.tabId,n=e.query,o=n.repositoryName,a=n.organizationName;return"github"===t?{organizationName:a,repositoryName:o}:{organizationName:void 0,repositoryName:void 0}},s=function(){var e=a().organizationName,t=(0,o.E$)().organizations;if(t&&e)return t.find(function(t){return t.name===e})},u=function(){var e,t=(0,o.E$)().repositoriesMap,n=a().repositoryName,r=s();if(t&&r&&n)return null===(e=t.get(r.id))||void 0===e?void 0:e.find(function(e){return e.name===n})}},45506:function(e,t,n){"use strict";n.d(t,{Qs:function(){return o},T5:function(){return s},aO:function(){return a}});var r=n(39145),o=function(e){var t=(0,r.E$)().organizations;return null==t?void 0:t.find(function(t){return t.id===e})},a=function(e,t){var n,o=(0,r.E$)().repositoriesMap;return null===(n=null==o?void 0:o.get(null!=e?e:""))||void 0===n?void 0:n.find(function(e){return e.id===t})},s=function(e){var t=e||{},n=t.repositoryId,r=t.organizationId;return{organization:o(r),repository:a(r,n)}}},41516:function(e,t,n){"use strict";n.d(t,{N:function(){return y}});var r=n(70865),o=n(96670),a=n(52322),s=n(52826),u=n(4742),c=/*#__PURE__*/n.n(u),l=n(51992),A=n(95114),d=n(13529),f=/*#__PURE__*/n.n(d),h=function(e){var t=e.size,n=void 0===t?28:t,s=e.skeletonThemeProps,u=(0,A.Z)(function(){return c()([75,100,125])});return/*#__PURE__*/(0,a.jsx)(l.yB,(0,o.Z)((0,r.Z)({color:"#eeeeee",highlightColor:"#f2f2f2"},s),{children:/*#__PURE__*/(0,a.jsxs)("div",{className:f().skeleton,children:[/*#__PURE__*/(0,a.jsx)(l.ZP,{count:1,width:n,height:n,circle:!0,className:f().avatar}),/*#__PURE__*/(0,a.jsx)(l.ZP,{count:1,width:u,height:n/2,className:f().name})]})}))},p=n(54848),g=n(3635),v=n(94999),m=/*#__PURE__*/n.n(v),y=function(e){var t=e.userId,n=e.avatarSize,u=e.skeletonThemeProps,c=e.classNames,l=(0,s.ZP)(t),A=/*#__PURE__*/(0,a.jsx)(h,{skeletonThemeProps:u,size:n});return l&&(A=/*#__PURE__*/(0,a.jsxs)(a.Fragment,{children:[/*#__PURE__*/(0,a.jsx)(p.Z,(0,o.Z)((0,r.Z)({className:m().avatar},l),{size:n,isNoTooltip:!0})),/*#__PURE__*/(0,a.jsx)("div",{className:(0,g.Z)(m().name,null==c?void 0:c.name),children:l.displayName})]})),/*#__PURE__*/(0,a.jsx)("div",{className:m().member,children:A})}},4406:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(50930),o=n(52322),a=n(2784),s=n(27875),u=/*#__PURE__*/n.n(s),c=n(89473),l=n(41516),A=n(47330),d=n(80498),f=n(3635),h=n(26486),p=/*#__PURE__*/n.n(h),g=function(e){var t=e.userIds,n=e.avatarSize;return/*#__PURE__*/(0,o.jsx)("div",{className:(0,f.Z)(p().members),children:t.map(function(e){return/*#__PURE__*/(0,o.jsx)(l.N,{userId:e,avatarSize:n,classNames:{name:p().memberName},skeletonThemeProps:{color:"var(--grey-1300-constant)",highlightColor:"var(--grey-1100-constant)"}},e)})})},v=/*#__PURE__*/(0,a.memo)(function(e){var t=e.userIds,n=e.avatarSize,r=e.isInviteOpen,s=(0,a.useRef)(null),u=(0,d.Z)(),c=u.isOpen,l=u.onOpen,f=u.onClose,h=(0,a.useCallback)(function(e){e.stopPropagation(),e.preventDefault(),c?f():l()},[c,f,l]);return/*#__PURE__*/(0,o.jsxs)(o.Fragment,{children:[/*#__PURE__*/(0,o.jsx)("span",{ref:s,onMouseEnter:l,onMouseLeave:f,className:p().moreMembers,onTouchEnd:h,style:{width:n,height:n},children:/*#__PURE__*/(0,o.jsxs)("span",{children:["+",t.length]})}),/*#__PURE__*/(0,o.jsx)(A.Z,{disableArrow:!0,placement:"bottom",targetNode:s.current,className:p().listPopper,visible:c&&!r,children:/*#__PURE__*/(0,o.jsx)(g,{userIds:t,avatarSize:n})})]})}),m=n(54848),y=n(30678),b=n(60706),w=/*#__PURE__*/n.n(b),_={refreshRate:0,handleHeight:!1,refreshMode:"debounce"},E=function(e,t,n){if(e.length>=n||!t)return e.map(function(e){return{userId:e,type:"realUser"}});var o=n-e.length;return(0,r.Z)(e.map(function(e){return{userId:e,type:"realUser"}})).concat((0,r.Z)(Array(o).fill(0).map(function(e,t){return{userId:"dummy-".concat(t),type:"dummy"}})))},C=/*#__PURE__*/(0,a.memo)(function(e){var t=e.isOpen,n=e.userIds,r=e.max,s=void 0===r?6:r,l=e.onClick,A=e.className,d=e.isStaticSize,h=e.avatarSize,p=void 0===h?28:h,g=e.tooltipSubTextById,b=e.avatarDummyThreshold,C=e.showDummyAvatars,B=e.horizontalAlign,I=(0,c.NB)(_),x=I.width,T=I.ref,S=p+4,k=s;x&&!d&&(k=u()(Math.floor(x/(S-5)),1,s));var D=(0,a.useMemo)(function(){return[n.slice(0,k),n.slice(k)]},[n,k]),N=D[0],O=D[1];if(0===N.length)return null;var F=E(N,void 0!==C&&C,void 0===b?3:b);return/*#__PURE__*/(0,o.jsxs)("div",{className:(0,f.Z)(w().container,A),onClick:l,children:[/*#__PURE__*/(0,o.jsx)("div",{ref:T,className:(0,f.Z)(w().avatars,w()["align-".concat(void 0===B?"start":B)]),children:F.map(function(e){var t=e.type,n=e.userId;/*#__PURE__*/return(0,o.jsx)("span",{className:w().avatarContainer,children:"realUser"===t?/*#__PURE__*/(0,o.jsx)(y.s,{userId:n,size:p,className:(0,f.Z)(w().avatar,w().userAvatar),tooltipSubText:null==g?void 0:g[n]}):/*#__PURE__*/(0,o.jsx)(m.Z,{isNoTooltip:!0,fallback:"\xa0",size:p,color:"var(--grey-700)",className:w().avatar})},n)})}),O.length>0&&/*#__PURE__*/(0,o.jsx)(v,{userIds:O,isInviteOpen:t,avatarSize:p},"more")]})})},66838:function(e,t,n){"use strict";n.d(t,{G:function(){return p},z:function(){return f}});var r=n(47842),o=n(70865),a=n(96670),s=n(52322),u=n(27729),c=n(28563),l=n(3635),A=n(94280),d=/*#__PURE__*/n.n(A),f="data-move-modal-item-index",h=function(){return/*#__PURE__*/(0,s.jsx)("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 9",children:/*#__PURE__*/(0,s.jsx)("path",{fill:"#fff",d:"M4 6.78L1.687 4.467a.664.664 0 10-.94.94l2.786 2.786c.26.26.68.26.94 0l7.054-7.053a.664.664 0 10-.94-.94L4 6.78z"})})},p=function(e){var t=e.name,n=e.icon,A=e.index,p=e.isActive,g=e.onClick,v=e.selected,m=e.disabled,y=e.className,b=e.onEnterPress,w=e.setActiveIndex,_=t||u.Yp,E=isNaN(A)?{}:(0,r.Z)({},f,A);return/*#__PURE__*/(0,s.jsxs)(c.Z,(0,a.Z)((0,o.Z)({icon:n,title:_},E),{isDisabled:m,isSelected:v,onKeyDown:function(e){"Enter"===e.key&&(null==b||b(),e.preventDefault(),e.stopPropagation())},focusOnMouseEnter:!1,onMouseEnter:w,onClick:m?void 0:g,className:(0,l.Z)(d().listItem,p&&d().isActive,y),children:[_,m&&" (current)",v&&/*#__PURE__*/(0,s.jsx)("span",{className:d().checkMark,children:/*#__PURE__*/(0,s.jsx)(h,{})})]}))}},57517:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});var r=n(5632),o=n(2784),a=function(){var e=(0,r.useRouter)();return{goToTab:(0,o.useCallback)(function(t,n){"folder"===t&&n?e.query.folderId!==n&&e.push("/folder/".concat(n)):e.push("/dashboard/".concat(t))},[e])}}},51516:function(e,t,n){"use strict";n.d(t,{Y:function(){return l}});var r=n(70865),o=n(96670),a=n(87394),s=n(2784),u=n(2732),c=(0,u.cn)({key:"settingsModalState",default:{isOpen:!1,openedPane:"members",paywallError:void 0,paywallFeature:void 0}}),l=function(){var e=(0,a.Z)((0,u.FV)(c),2),t=e[0],n=e[1],l=(0,s.useCallback)(function(e){var t;n((0,o.Z)((0,r.Z)({},e),{isOpen:!0,openedPane:null!==(t=null==e?void 0:e.openedPane)&&void 0!==t?t:"members"}))},[n]),A=(0,s.useCallback)(function(){n({isOpen:!1,openedPane:void 0})},[n]);return{setOpenedPane:(0,s.useCallback)(function(e,t){n({isOpen:!0,openedPane:e,paywallError:void 0,paywallFeature:"fixedSeatCount"===t?void 0:t})},[n]),openSettingsModal:l,closeSettingsModal:A,openedPane:t.openedPane,isSettingsModalOpen:t.isOpen,paywallError:t.paywallError,paywallFeature:t.paywallFeature}}},42896:function(e,t,n){"use strict";n.d(t,{x:function(){return l}});var r=n(52322),o=n(3635),a=n(8911),s=/*#__PURE__*/n.n(a),u=n(58241),c=/*#__PURE__*/n.n(u),l=function(e){var t=e.disabled,n=e.onClick,a=e.classNames;return/*#__PURE__*/(0,r.jsx)("div",{onClick:n,className:(0,o.Z)(null==a?void 0:a.root,s().newTemplateCard,c().templateCard,t&&s().disabled),children:/*#__PURE__*/(0,r.jsx)("span",{className:s().newTemplateCardTitle,children:"Create New Template"})})}},41832:function(e,t,n){"use strict";n.d(t,{w:function(){return M}});var r,o,a,s,u=n(52322),c=n(5632),l=n(2784),A=n(3635),d=n(66804),f=n(62866),h=n(40758),p=n(57448),g=n(48845);function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){return /*#__PURE__*/l.createElement("svg",v({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/l.createElement("path",{d:"M6 11.2v-10M1.2 4V1.2h9.6V4m-8 6.8h6",stroke:"currentColor"})))},y=n(96584),b=n(32472),w=n(35937);function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=function(e){return /*#__PURE__*/l.createElement("svg",_({xmlns:"http://www.w3.org/2000/svg",width:77,height:76,viewBox:"0 0 77 76",fill:"none"},e),o||(o=/*#__PURE__*/l.createElement("path",{d:"M10.398 2.467h59.2A4.933 4.933 0 0174.532 7.4v59.2m-22.2-49.333h4.933m17.267 26.567l-14.8-14.79-7.634 6.64-20.966-24.65L23.998 18",stroke:"var(--grey-1200)",strokeWidth:4.933})),a||(a=/*#__PURE__*/l.createElement("path",{d:"M41.233 71.533h4.934m-19.734 0h4.934m-19.734 0h4.934M3 62.9h4.933M3 48.1h4.933M3 33.3h4.933M54.8 71.533h4.933M3 20.35h4.933",stroke:"var(--grey-800)",strokeWidth:4.933})),s||(s=/*#__PURE__*/l.createElement("path",{stroke:"var(--grey-1200)",strokeWidth:4.93,d:"M2.243 5.757l68 68"})))},C=n(55929),B=n(95162),I=n(26758),x=n(11269),T=n(2600),S=n(54039),k=n(77622),D=n(4126),N=n(1429),O=n(2595),F=n(58241),R=/*#__PURE__*/n.n(F),L=function(e,t){var n=e.id,r=e.templateVersionId,o=e.templatePreviewImages;if(!r||!o||!o[t]||o[t]!==r)return{};var a=(0,k.j)({theme:t,templateVersionId:r,templateWorkspaceId:n}).imgixPath;return{backgroundImage:"url(".concat((0,w.V)(a),")")}},M=function(e){var t,n=e.template,r=e.isLoading,o=e.onPreviewClick,a=e.onUseTemplate,s=e.classNames,v=(0,c.useRouter)(),w=(0,O.Z)(),_=(0,D.F)().theme,k=n.isArchived,F=(0,x.LP)(),M=(0,l.useState)(!1),P=M[0],U=M[1],j=(0,l.useState)(!1),Z=j[0],Q=j[1],H=(0,l.useState)(!1),V=H[0],K=H[1],z=(0,l.useState)(n.title),G=z[0],W=z[1],q=(0,T.X)(),Y=q.request,$=q.loading,X=(0,I.o)({currentTeamId:F,isArchived:!!k,workspaceId:n.id,workspaceTeamId:n.teamId}),J=function(){U(!0),v.push("/workspace/".concat(n.id))},ee=function(){Z||Q(!0)},et=function(){Q(!1),n.title!==G&&(0,S.e)(n.id,{title:G})},en=L(n,_),er=!!n.templateVersionId;return/*#__PURE__*/(0,u.jsxs)("div",{className:(0,A.Z)((void 0===s?{}:s).root,R().templateCard,(r||$||P)&&R().disabled),children:[/*#__PURE__*/(0,u.jsxs)("div",{onClick:er?o:J,className:R().imageContainer,style:en,children:[!en.backgroundImage&&/*#__PURE__*/(0,u.jsx)("div",{className:R().fallbackContainer,children:/*#__PURE__*/(0,u.jsxs)("div",{children:[/*#__PURE__*/(0,u.jsx)(E,{}),"No thumbnail available"]})}),/*#__PURE__*/(0,u.jsxs)("div",{className:R().tooltip,children:[er?/*#__PURE__*/(0,u.jsx)(B.ZP,{variant:B.ZP.Variants.TRANSPARENT,onClick:o,children:en.backgroundImage?"Preview":"Load Preview"}):/*#__PURE__*/(0,u.jsx)(B.ZP,{variant:B.ZP.Variants.TRANSPARENT,onClick:J,children:"Edit"}),!k&&er&&/*#__PURE__*/(0,u.jsx)(B.ZP,{onClick:function(e){e.stopPropagation(),a(n)},children:"Use Template"}),!k&&!er&&/*#__PURE__*/(0,u.jsx)(B.ZP,{onClick:function(e){e.preventDefault(),e.stopPropagation(),V||n.templateVersionId||(K(!0),(0,N.X)({templateWorkspaceId:n.id,teamId:n.teamId}).then(function(){K(!1),w.success("Template published")},function(){K(!1),w.error("Error publishing")}))},isLoading:V,tooltipDisabled:V,title:"Templates must be published before they can be used.",children:"Publish"})]})]}),/*#__PURE__*/(0,u.jsxs)("div",{className:R().titleWrapper,children:[/*#__PURE__*/(0,u.jsxs)("div",{className:"rowCentered gapLarge",children:[!Z&&/*#__PURE__*/(0,u.jsx)("span",{className:R().title,onClick:ee,children:null!==(t=n.title)&&void 0!==t?t:b.k1}),Z&&/*#__PURE__*/(0,u.jsx)(C.Z,{autoFocus:!0,value:G,className:R().renameInput,onBlur:et,onKeyDown:function(e){"Enter"===e.key?et():"Escape"===e.key&&(e.stopPropagation(),Q(!1),W(n.title))},onChange:function(e){return W(e.currentTarget.value)}})]}),/*#__PURE__*/(0,u.jsxs)(d.Ng,{children:[!k&&/*#__PURE__*/(0,u.jsx)(f.Wx,{label:"Use Template",icon:/*#__PURE__*/(0,u.jsx)(p.Z,{}),onClick:function(){return a(n)},isDisabled:!er}),!k&&/*#__PURE__*/(0,u.jsx)(f.Wx,{onClick:J,label:"Edit Template",icon:/*#__PURE__*/(0,u.jsx)(g.Z,{})}),k&&/*#__PURE__*/(0,u.jsx)(f.Wx,{label:"Restore Template",icon:/*#__PURE__*/(0,u.jsx)(p.Z,{}),onClick:X}),/*#__PURE__*/(0,u.jsx)(f.Wx,{onClick:ee,label:"Rename",icon:/*#__PURE__*/(0,u.jsx)(m,{})}),!k&&/*#__PURE__*/(0,u.jsx)(f.Wx,{onClick:function(){Y({workspaceId:n.id,teamId:n.teamId})},label:"Duplicate",icon:/*#__PURE__*/(0,u.jsx)(y.Z,{})}),!k&&/*#__PURE__*/(0,u.jsx)(d.KE,{space:"medium"}),!k&&/*#__PURE__*/(0,u.jsx)(f.Wx,{onClick:X,label:"Archive",icon:/*#__PURE__*/(0,u.jsx)(h.Z,{})})]})]})]})}},4120:function(e,t,n){"use strict";n.d(t,{E:function(){return h}});var r=n(52322),o=n(58317),a=n(52826),s=n(15673),u=/*#__PURE__*/n.n(s),c=n(3635),l=n(55324),A=/*#__PURE__*/n.n(l),d=function(e){if(e.isArchived&&e.archivedAt)return e.archivedBy;if(e.updatedAt){var t;return null===(t=A()(e.contributors,"contributedAt"))||void 0===t?void 0:t.userId}return e.createdAt?e.ownerId:void 0},f=function(e){return new Intl.DateTimeFormat(void 0,{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric"}).format(e)},h=function(e){var t,n=e.template,s=e.classNames,l=void 0===s?{}:s,A=d(n),h=(0,a.ZP)(A);return(n.isArchived&&n.archivedAt?t=/*#__PURE__*/(0,r.jsxs)("span",{children:["Archived on ",f(n.archivedAt.toMillis())]}):n.updatedAt?t=/*#__PURE__*/(0,r.jsxs)("span",{children:["Updated on ",f(n.updatedAt.toMillis())]}):n.createdAt&&(t=/*#__PURE__*/(0,r.jsxs)("span",{children:["Updated on ",f(n.createdAt.toMillis())]})),t)?/*#__PURE__*/(0,r.jsxs)("span",{className:(0,c.Z)(u().metadataContent,l.content),children:[t,/*#__PURE__*/(0,r.jsxs)("span",{children:["\xa0by\xa0",h&&/*#__PURE__*/(0,r.jsx)(o.P8,{isSelected:!1,profile:h,display:h.displayName,classNames:{avatar:u().avatar,label:(0,c.Z)(u().avatarName,l.avatarName)}})]})]}):null}},57225:function(e,t,n){"use strict";n.d(t,{S:function(){return c}});var r=n(52322),o=n(95162),a=n(5632),s=n(96237),u=/*#__PURE__*/n.n(s),c=function(e){var t=e.successMessage,n=(0,a.useRouter)();return/*#__PURE__*/(0,r.jsxs)("div",{className:u().successToastWrapper,children:[/*#__PURE__*/(0,r.jsx)("span",{children:t}),/*#__PURE__*/(0,r.jsx)(o.ZP,{variant:o.ZP.Variants.TRANSPARENT,onClick:function(){return n.push("/dashboard/templates")},children:"Manage Templates"})]})}},68583:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(26340),o=function(e){var t=e.isArchived;return(0,r.Z)({isTemplate:!0,isArchived:t,orderBy:"createdAt",orderDir:"desc"})}},4126:function(e,t,n){"use strict";n.d(t,{F:function(){return c}});var r=n(2784),o=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1];return(0,r.useEffect)(function(){n(window.matchMedia("(prefers-color-scheme: dark)").matches);var e=function(e){n("dark"==(e.matches?"dark":"light"))};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e),function(){window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",e)}},[]),t},a=n(57685),s=n(96933),u=n(57695),c=function(){var e,t=(0,s.aF)(),n=(0,a.K)(),c=(0,s.TZ)(),l=(0,u.Su)().userUpdateService,A=o(),d=n.theme||(null==t?void 0:null===(e=t.userSettings)||void 0===e?void 0:e.theme)||"system",f=(0,r.useMemo)(function(){return!d||"system"===d&&c?A?"dark":"light":d},[d,A,c]),h=(0,r.useMemo)(function(){return"dark"===f},[f]),p=(0,r.useCallback)(function(){(null==t?void 0:t.id)&&l.updateUserSettings(t.id,{theme:h?"light":"dark"})},[h,null==t?void 0:t.id]);return{theme:f,themeSetting:d,isDarkMode:h,toggleTheme:p,setThemeSetting:(0,r.useCallback)(function(e){(null==t?void 0:t.id)&&l.updateUserSettings(t.id,{theme:e})},[null==t?void 0:t.id])}}},93041:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A7}});var r,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x,T,S,k,D,N,O,F,R,L,M,P,U,j,Z,Q,H,V,K={};n.r(K),n.d(K,{FILE:function(){return rp},HTML:function(){return rm},TEXT:function(){return rv},URL:function(){return rg}});var z=n(98788),G=n(70865),W=n(22970),q=n(52322),Y=n(2732),$=n(2784),X=n(61099),J=/*#__PURE__*/n.n(X),ee=n(12041),et=n(97729),en=/*#__PURE__*/n.n(et),er=n(5632),ei=/*#__PURE__*/n.n(er);n(19696);var eo=n(58410),ea=n(97238);function es(){return(es=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function eu(e,t){return(eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ec={templateTitle:"",noindex:!1,nofollow:!1,defaultOpenGraphImageWidth:0,defaultOpenGraphImageHeight:0,defaultOpenGraphVideoWidth:0,defaultOpenGraphVideoHeight:0},el=function(e,t,n){void 0===t&&(t=[]);var r=void 0===n?{}:n,o=r.defaultWidth,a=r.defaultHeight;return t.reduce(function(t,n,r){return t.push(/*#__PURE__*/$.createElement("meta",{key:"og:"+e+":0"+r,property:"og:"+e,content:n.url})),n.alt&&t.push(/*#__PURE__*/$.createElement("meta",{key:"og:"+e+":alt0"+r,property:"og:"+e+":alt",content:n.alt})),n.secureUrl&&t.push(/*#__PURE__*/$.createElement("meta",{key:"og:"+e+":secure_url0"+r,property:"og:"+e+":secure_url",content:n.secureUrl.toString()})),n.type&&t.push(/*#__PURE__*/$.createElement("meta",{key:"og:"+e+":type0"+r,property:"og:"+e+":type",content:n.type.toString()})),n.width?t.push(/*#__PURE__*/$.createElement("meta",{key:"og:"+e+":width0"+r,property:"og:"+e+":width",content:n.width.toString()})):o&&t.push(/*#__PURE__*/$.createElement("meta",{key:"og:"+e+":width0"+r,property:"og:"+e+":width",content:o.toString()})),n.height?t.push(/*#__PURE__*/$.createElement("meta",{key:"og:"+e+":height"+r,property:"og:"+e+":height",content:n.height.toString()})):a&&t.push(/*#__PURE__*/$.createElement("meta",{key:"og:"+e+":height"+r,property:"og:"+e+":height",content:a.toString()})),t},[])},eA=function(e){var t,n,r,o,a,s=[];e.titleTemplate&&(ec.templateTitle=e.titleTemplate);var u="";e.title?(u=e.title,ec.templateTitle&&(u=ec.templateTitle.replace(/%s/g,function(){return u}))):e.defaultTitle&&(u=e.defaultTitle),u&&s.push(/*#__PURE__*/$.createElement("title",{key:"title"},u));var c=e.noindex||ec.noindex||e.dangerouslySetAllPagesToNoIndex,l=e.nofollow||ec.nofollow||e.dangerouslySetAllPagesToNoFollow,A="";if(e.robotsProps){var d=e.robotsProps,f=d.nosnippet,h=d.maxSnippet,p=d.maxImagePreview,g=d.maxVideoPreview,v=d.noarchive,m=d.noimageindex,y=d.notranslate,b=d.unavailableAfter;A=(f?",nosnippet":"")+(h?",max-snippet:"+h:"")+(p?",max-image-preview:"+p:"")+(v?",noarchive":"")+(b?",unavailable_after:"+b:"")+(m?",noimageindex":"")+(g?",max-video-preview:"+g:"")+(y?",notranslate":"")}if(c||l?(e.dangerouslySetAllPagesToNoIndex&&(ec.noindex=!0),e.dangerouslySetAllPagesToNoFollow&&(ec.nofollow=!0),s.push(/*#__PURE__*/$.createElement("meta",{key:"robots",name:"robots",content:(c?"noindex":"index")+","+(l?"nofollow":"follow")+A}))):s.push(/*#__PURE__*/$.createElement("meta",{key:"robots",name:"robots",content:"index,follow"+A})),e.description&&s.push(/*#__PURE__*/$.createElement("meta",{key:"description",name:"description",content:e.description})),e.mobileAlternate&&s.push(/*#__PURE__*/$.createElement("link",{rel:"alternate",key:"mobileAlternate",media:e.mobileAlternate.media,href:e.mobileAlternate.href})),e.languageAlternates&&e.languageAlternates.length>0&&e.languageAlternates.forEach(function(e){s.push(/*#__PURE__*/$.createElement("link",{rel:"alternate",key:"languageAlternate-"+e.hrefLang,hrefLang:e.hrefLang,href:e.href}))}),e.twitter&&(e.twitter.cardType&&s.push(/*#__PURE__*/$.createElement("meta",{key:"twitter:card",name:"twitter:card",content:e.twitter.cardType})),e.twitter.site&&s.push(/*#__PURE__*/$.createElement("meta",{key:"twitter:site",name:"twitter:site",content:e.twitter.site})),e.twitter.handle&&s.push(/*#__PURE__*/$.createElement("meta",{key:"twitter:creator",name:"twitter:creator",content:e.twitter.handle}))),e.facebook&&e.facebook.appId&&s.push(/*#__PURE__*/$.createElement("meta",{key:"fb:app_id",property:"fb:app_id",content:e.facebook.appId})),(null!=(t=e.openGraph)&&t.title||u)&&s.push(/*#__PURE__*/$.createElement("meta",{key:"og:title",property:"og:title",content:(null==(o=e.openGraph)?void 0:o.title)||u})),(null!=(n=e.openGraph)&&n.description||e.description)&&s.push(/*#__PURE__*/$.createElement("meta",{key:"og:description",property:"og:description",content:(null==(a=e.openGraph)?void 0:a.description)||e.description})),e.openGraph){if((e.openGraph.url||e.canonical)&&s.push(/*#__PURE__*/$.createElement("meta",{key:"og:url",property:"og:url",content:e.openGraph.url||e.canonical})),e.openGraph.type){var w=e.openGraph.type.toLowerCase();s.push(/*#__PURE__*/$.createElement("meta",{key:"og:type",property:"og:type",content:w})),"profile"===w&&e.openGraph.profile?(e.openGraph.profile.firstName&&s.push(/*#__PURE__*/$.createElement("meta",{key:"profile:first_name",property:"profile:first_name",content:e.openGraph.profile.firstName})),e.openGraph.profile.lastName&&s.push(/*#__PURE__*/$.createElement("meta",{key:"profile:last_name",property:"profile:last_name",content:e.openGraph.profile.lastName})),e.openGraph.profile.username&&s.push(/*#__PURE__*/$.createElement("meta",{key:"profile:username",property:"profile:username",content:e.openGraph.profile.username})),e.openGraph.profile.gender&&s.push(/*#__PURE__*/$.createElement("meta",{key:"profile:gender",property:"profile:gender",content:e.openGraph.profile.gender}))):"book"===w&&e.openGraph.book?(e.openGraph.book.authors&&e.openGraph.book.authors.length&&e.openGraph.book.authors.forEach(function(e,t){s.push(/*#__PURE__*/$.createElement("meta",{key:"book:author:0"+t,property:"book:author",content:e}))}),e.openGraph.book.isbn&&s.push(/*#__PURE__*/$.createElement("meta",{key:"book:isbn",property:"book:isbn",content:e.openGraph.book.isbn})),e.openGraph.book.releaseDate&&s.push(/*#__PURE__*/$.createElement("meta",{key:"book:release_date",property:"book:release_date",content:e.openGraph.book.releaseDate})),e.openGraph.book.tags&&e.openGraph.book.tags.length&&e.openGraph.book.tags.forEach(function(e,t){s.push(/*#__PURE__*/$.createElement("meta",{key:"book:tag:0"+t,property:"book:tag",content:e}))})):"article"===w&&e.openGraph.article?(e.openGraph.article.publishedTime&&s.push(/*#__PURE__*/$.createElement("meta",{key:"article:published_time",property:"article:published_time",content:e.openGraph.article.publishedTime})),e.openGraph.article.modifiedTime&&s.push(/*#__PURE__*/$.createElement("meta",{key:"article:modified_time",property:"article:modified_time",content:e.openGraph.article.modifiedTime})),e.openGraph.article.expirationTime&&s.push(/*#__PURE__*/$.createElement("meta",{key:"article:expiration_time",property:"article:expiration_time",content:e.openGraph.article.expirationTime})),e.openGraph.article.authors&&e.openGraph.article.authors.length&&e.openGraph.article.authors.forEach(function(e,t){s.push(/*#__PURE__*/$.createElement("meta",{key:"article:author:0"+t,property:"article:author",content:e}))}),e.openGraph.article.section&&s.push(/*#__PURE__*/$.createElement("meta",{key:"article:section",property:"article:section",content:e.openGraph.article.section})),e.openGraph.article.tags&&e.openGraph.article.tags.length&&e.openGraph.article.tags.forEach(function(e,t){s.push(/*#__PURE__*/$.createElement("meta",{key:"article:tag:0"+t,property:"article:tag",content:e}))})):("video.movie"===w||"video.episode"===w||"video.tv_show"===w||"video.other"===w)&&e.openGraph.video&&(e.openGraph.video.actors&&e.openGraph.video.actors.length&&e.openGraph.video.actors.forEach(function(e,t){e.profile&&s.push(/*#__PURE__*/$.createElement("meta",{key:"video:actor:0"+t,property:"video:actor",content:e.profile})),e.role&&s.push(/*#__PURE__*/$.createElement("meta",{key:"video:actor:role:0"+t,property:"video:actor:role",content:e.role}))}),e.openGraph.video.directors&&e.openGraph.video.directors.length&&e.openGraph.video.directors.forEach(function(e,t){s.push(/*#__PURE__*/$.createElement("meta",{key:"video:director:0"+t,property:"video:director",content:e}))}),e.openGraph.video.writers&&e.openGraph.video.writers.length&&e.openGraph.video.writers.forEach(function(e,t){s.push(/*#__PURE__*/$.createElement("meta",{key:"video:writer:0"+t,property:"video:writer",content:e}))}),e.openGraph.video.duration&&s.push(/*#__PURE__*/$.createElement("meta",{key:"video:duration",property:"video:duration",content:e.openGraph.video.duration.toString()})),e.openGraph.video.releaseDate&&s.push(/*#__PURE__*/$.createElement("meta",{key:"video:release_date",property:"video:release_date",content:e.openGraph.video.releaseDate})),e.openGraph.video.tags&&e.openGraph.video.tags.length&&e.openGraph.video.tags.forEach(function(e,t){s.push(/*#__PURE__*/$.createElement("meta",{key:"video:tag:0"+t,property:"video:tag",content:e}))}),e.openGraph.video.series&&s.push(/*#__PURE__*/$.createElement("meta",{key:"video:series",property:"video:series",content:e.openGraph.video.series})))}e.defaultOpenGraphImageWidth&&(ec.defaultOpenGraphImageWidth=e.defaultOpenGraphImageWidth),e.defaultOpenGraphImageHeight&&(ec.defaultOpenGraphImageHeight=e.defaultOpenGraphImageHeight),e.openGraph.images&&e.openGraph.images.length&&s.push.apply(s,el("image",e.openGraph.images,{defaultWidth:ec.defaultOpenGraphImageWidth,defaultHeight:ec.defaultOpenGraphImageHeight})),e.defaultOpenGraphVideoWidth&&(ec.defaultOpenGraphVideoWidth=e.defaultOpenGraphVideoWidth),e.defaultOpenGraphVideoHeight&&(ec.defaultOpenGraphVideoHeight=e.defaultOpenGraphVideoHeight),e.openGraph.videos&&e.openGraph.videos.length&&s.push.apply(s,el("video",e.openGraph.videos,{defaultWidth:ec.defaultOpenGraphVideoWidth,defaultHeight:ec.defaultOpenGraphVideoHeight})),e.openGraph.audio&&s.push.apply(s,el("audio",e.openGraph.audio)),e.openGraph.locale&&s.push(/*#__PURE__*/$.createElement("meta",{key:"og:locale",property:"og:locale",content:e.openGraph.locale})),e.openGraph.site_name&&s.push(/*#__PURE__*/$.createElement("meta",{key:"og:site_name",property:"og:site_name",content:e.openGraph.site_name}))}return e.canonical&&s.push(/*#__PURE__*/$.createElement("link",{rel:"canonical",href:e.canonical,key:"canonical"})),e.additionalMetaTags&&e.additionalMetaTags.length>0&&e.additionalMetaTags.forEach(function(e){var t,n,r;s.push(/*#__PURE__*/$.createElement("meta",es({key:"meta:"+(null!=(t=null!=(n=null!=(r=e.keyOverride)?r:e.name)?n:e.property)?t:e.httpEquiv)},e)))}),null!=(r=e.additionalLinkTags)&&r.length&&e.additionalLinkTags.forEach(function(e){var t;s.push(/*#__PURE__*/$.createElement("link",es({key:"link"+(null!=(t=e.keyOverride)?t:e.href)+e.rel},e)))}),s},ed=/*#__PURE__*/function(e){function t(){return e.apply(this,arguments)||this}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,eu(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.titleTemplate,r=e.defaultTitle,o=e.dangerouslySetAllPagesToNoIndex,a=e.dangerouslySetAllPagesToNoFollow,s=e.description,u=e.canonical,c=e.facebook,l=e.openGraph,A=e.additionalMetaTags,d=e.twitter,f=e.defaultOpenGraphImageWidth,h=e.defaultOpenGraphImageHeight,p=e.defaultOpenGraphVideoWidth,g=e.defaultOpenGraphVideoHeight,v=e.mobileAlternate,m=e.languageAlternates,y=e.additionalLinkTags,b=e.robotsProps;return /*#__PURE__*/$.createElement(en(),null,eA({title:t,titleTemplate:n,defaultTitle:r,dangerouslySetAllPagesToNoIndex:void 0!==o&&o,dangerouslySetAllPagesToNoFollow:void 0!==a&&a,description:s,canonical:u,facebook:c,openGraph:l,additionalMetaTags:A,twitter:d,defaultOpenGraphImageWidth:f,defaultOpenGraphImageHeight:h,defaultOpenGraphVideoWidth:p,defaultOpenGraphVideoHeight:g,mobileAlternate:v,languageAlternates:m,additionalLinkTags:y,robotsProps:b}))},t}($.Component);/*#__PURE__*/$.Component,RegExp("["+Object.keys(Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"})).join("")+"]","g");var ef=n(99642),eh=/*#__PURE__*/n.n(ef),ep=n(66140),eg={type:"website",title:"Eraser – AI co-pilot for technical design",description:"Deliver accurate, consistent designs faster.",images:[{url:"".concat(ep.l2.url).concat(eh()),width:1200,height:630,alt:"Eraser"}]},ev={site:"@EraserLabs",cardType:"summary_large_image"},em=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{og:eg}).og;return/*#__PURE__*/(0,q.jsx)(ed,{openGraph:e||eg,description:e?e.description:eg.description,twitter:ev})},ey=n(57821),eb=n(22805),ew=function(){var e=(0,$.useCallback)(function(e){e.preventDefault()},[]);return(0,eb.Z)({"command+s":e}),null},e_=n(33562),eE=n(96670),eC=n(54073),eB=/*#__PURE__*/n.n(eC),eI=n(96933),ex=n(52826),eT=n(42541),eS=n(49864),ek=n(32472),eD=n(11269),eN=n(70599),eO=/*#__PURE__*/(0,$.createContext)(eT.Z),eF=function(){(0,$.useEffect)(function(){var e=eB()(function(){eT.Z.updateSessionProperties({screenWidth:window.innerWidth,screenHeight:window.innerHeight})},500);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[])},eR=function(e){eT.Z.trackEvent(null,"page_view",{page_title:document.title,page_location:document.location.href,page_path:e})},eL=n(52982),eM=n(15683),eP=n(54118),eU=n(38423),ej=n(44371),eZ=n(91259),eQ=n(57685),eH=n(60379),eV=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,o=e.length;r<o;r++)n[r]=e.charCodeAt(r);return t};(0,z.Z)(function(e){var t,n=arguments;return(0,W.__generator)(this,function(r){switch(r.label){case 0:if(!(n.length>1&&void 0!==n[1]&&n[1]))return[3,1];return t=btoa(e),[3,3];case 1:return[4,new Promise(function(t,n){var r=new Blob("string"==typeof e?[new TextEncoder().encode(e)]:[e]),o=new FileReader;o.onload=function(e){if(!e.target||"string"!=typeof e.target.result)return n(Error("couldn't convert to byte string"));t(e.target.result)},o.readAsBinaryString(r)})];case 2:t=btoa.apply(void 0,[r.sent()]),r.label=3;case 3:return[2,t]}})});var eK=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?atob(e):(t=atob(e),new TextDecoder("utf-8").decode(eV(t)))},ez=n(71059),eG=n(10097),eW=n(89960),eq=n(19179),eY=n(43653),e$=n(45403),eX=n(85591),eJ=n(80498),e0=n(26297),e1=n(4126),e2=n(1607),e4=/*#__PURE__*/n.n(e2),e3=n(2643),e5=n(35637),e6=n(19705),e8=/*#__PURE__*/n.n(e6),e9=n(89563),e7=n(95343),te=/*#__PURE__*/n.n(e7),tt=n(3635),tn="keyboard-shortcuts-scroll-container",tr=n(50930),ti=n(12982),to=/*#__PURE__*/n.n(ti),ta=n(9850),ts=/*#__PURE__*/n.n(ta),tu=n(6901),tc=function(){return[{label:"General",sections:[{label:"Global",shortcuts:[{keys:["Control|Alt N"],description:"New file"},{keys:["Control|Alt Shift N"],description:"New private file"},{keys:["CtrlOrCmd P"],description:"Switch file"},{keys:tu.Um?["Control|Alt Option ArrowLeft"]:["CtrlOrCmd Control|Alt ArrowLeft"],description:"Go to dashboard"},{keys:tu.Um?["Control|Alt Option ArrowRight"]:["CtrlOrCmd Control|Alt ArrowRight"],description:"Go to last file"},{keys:["CtrlOrCmd /"],description:"Keyboard shortcuts"}]},{label:"Dashboard",shortcuts:[{keys:["/"],description:"Search"},{keys:["A"],description:"All files"},{keys:["P"],description:"Private files"},{keys:["E"],description:"Archived (from all files)"},{keys:["Control|Alt 1"],description:"All (from all files)"},{keys:["Control|Alt 2"],description:"Recent files (from all files)"},{keys:["Control|Alt 3"],description:"Created by me (from all files)"},{keys:["Control|Alt 4"],description:"View folders (from all files)"},{keys:["Control|Alt 5"],description:"Unsorted (from all files)"},{keys:["[","]"],description:"Focus previous / next folder"}]}]},{label:"Document",sections:[{label:"Formatting and Blocks",shortcuts:[{keys:["CtrlOrCmd Option 1"],description:"H1 heading",markdown:"# text"},{keys:["CtrlOrCmd Option 2"],description:"H2 heading",markdown:"## text"},{keys:["CtrlOrCmd Option 3"],description:"H3 heading",markdown:"### text"},{keys:["CtrlOrCmd Shift 8"],description:"Bulleted list",markdown:"* text"},{keys:["CtrlOrCmd Shift 7"],description:"Checkbox",markdown:"[] text"},{keys:["CtrlOrCmd Shift 9"],description:"Numbered list",markdown:"1. text"},{keys:["CtrlOrCmd B"],markdown:"**text**",description:"Bold"},{keys:["CtrlOrCmd I"],description:"Italicize",markdown:"*text*"},{keys:["CtrlOrCmd U"],description:"Underline",markdown:""},{keys:["CtrlOrCmd Shift X"],description:"Strikethrough",markdown:"~text~"},{keys:["CtrlOrCmd Shift C"],description:"Inline code",markdown:"`text`"},{keys:["CtrlOrCmd Shift \\"],description:"Code block",markdown:"```"},{keys:["CtrlOrCmd K"],description:"Create or edit link",markdown:""},{keys:["CtrlOrCmd Shift M"],description:"Comment on selected text",markdown:""},{description:"Text divider",markdown:"---"},{description:"Blockquote",markdown:"> text"},{description:"Mention a colleague",markdown:"@name"},{description:"Link to another file",markdown:"+filename"}]},{label:"Edit",shortcuts:[{keys:["AltOrOption ArrowUp","AltOrOption ArrowDown"],description:"Move item up / down",markdown:""},{keys:["Tab"],description:"List – Indent",markdown:""},{keys:["Shift Tab"],description:"List – Un-indent",markdown:""},{keys:["CtrlOrCmd Enter"],description:"Checkbox – Check/uncheck",markdown:""},{keys:["Shift Enter"],description:"Line break",markdown:""},{keys:["Enter"],description:"New paragraph",markdown:""},{keys:["CtrlOrCmd Z"],description:"Undo",markdown:""},{keys:["CtrlOrCmd Shift Z"],description:"Redo",markdown:""},{keys:["CtrlOrCmd Alt T"],description:"Insert Table",markdown:""},{keys:["CtrlOrCmd Shift +"],description:"Insert table row",markdown:""},{keys:["CtrlOrCmd Shift -"],description:"Remove table row",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption +"],description:"Insert table column",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption -"],description:"Remove table column",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption ArrowUp"],description:"Move table row up",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption ArrowDown"],description:"Move table row down",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption ArrowLeft"],description:"Move table column left",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption ArrowRight"],description:"Move table column right",markdown:""}]}]},{label:"Canvas",sections:[{label:"View",shortcuts:[{keys:["CtrlOrCmd +"],description:"Zoom in"},{keys:["CtrlOrCmd -"],description:"Zoom out"},{keys:["Space Drag"],description:"Move canvas"},{keys:["Shift 2"],description:"Zoom to fit selected element(s)"}]},{label:"Tool",shortcuts:[{keys:["\\"],description:"Open insert menu"},{keys:["V","1"],description:"Selection"},{keys:["R","2"],description:"Rectangle"},{keys:["O","3"],description:"Ellipse"},{keys:["A","4"],description:"Arrow"},{keys:["L","5"],description:"Line"},{keys:["D","6"],description:"Free draw"},{keys:["T","7"],description:"Text"},{keys:["F"],description:"Figure"},{keys:["C"],description:"Comment"}]},{label:"Edit",shortcuts:[{keys:["Del"],description:"Delete"},{keys:["CtrlOrCmd C"],description:"Copy"},{keys:["CtrlOrCmd V"],description:"Paste"},{keys:["CtrlOrCmd Z"],description:"Undo"},{keys:["CtrlOrCmd Shift Z"],description:"Redo"},{keys:["CtrlOrCmd D"],description:"Duplicate"},{keys:["CtrlOrCmd G"],description:"Group"},{keys:["CtrlOrCmd Shift G"],description:"Ungroup"},{keys:["Shift F"],description:"Create figure from selection"},{keys:["CtrlOrCmd Shift F"],description:"Remove figure"},{keys:["CtrlOrCmd AltOrOption F"],description:"Resize figure to fit"},{keys:["Shift Click"],description:"Add to selection"},{keys:["CtrlOrCmd Drag"],description:"Select within background shape"},{keys:["CtrlOrCmd Click"],description:"Select within group"},{keys:["AltOrOption Drag"],description:"Drag a copy of selected elements"},{keys:["CtrlOrCmd"],description:"Prevent snapping and binding"},{keys:["["],description:"Send back"},{keys:["]"],description:"Send front"},{keys:["CtrlOrCmd ["],description:"Send backward"},{keys:["CtrlOrCmd ]"],description:"Send forward"},{keys:["Shift AltOrOption C"],description:"Copy to clipboard as PNG"}]},{label:"Flowchart",shortcuts:[{keys:["CtrlOrCmd ArrowRight"],description:"Add a connected shape"},{keys:["CtrlOrCmd ArrowRight ArrowRight"],description:"Add multiple connected shapes"},{keys:["Tab"],description:"Change shape"},{keys:["AltOrOption ArrowRight"],description:"Navigate to closest element"}]},{label:"Text",shortcuts:[{keys:["Enter"],description:"Add text to shape"},{keys:["Esc"],description:"Leave text edit mode"},{keys:["CtrlOrCmd Shift >"],description:"Increment font size"},{keys:["CtrlOrCmd Shift <"],description:"Decrement font size"}]}]},{label:"File",sections:[{label:"Manage",shortcuts:[{keys:["Control|Alt M"],description:"Move file"},{keys:["CtrlOrCmd D"],description:"Duplicate file"},{keys:["CtrlOrCmd E"],description:"Archive file"}]},{label:"Layout",shortcuts:[{keys:["Control|Alt 1"],description:"Document layout"},{keys:["Control|Alt 2"],description:"Both layout"},{keys:["Control|Alt 3"],description:"Canvas layout"},{keys:["Control|Alt C"],description:"Show or hide comments"}]},{label:"Comments",shortcuts:[{keys:["@"],description:"Mention a colleague"},{keys:["CtrlOrCmd Enter"],description:"Submit comment"},{keys:["AltOrOption R"],description:"Resolve comment"},{keys:["AltOrOption D"],description:"Delete comment"}]}]}].map(function(e){var t=e.sections.map(function(t){var n,r,o;return(0,eE.Z)((0,G.Z)({},t),{group:e.label,id:(r=(n=(0,eE.Z)((0,G.Z)({},t),{group:e.label})).group,o=n.label,"".concat(r,"-").concat(o))})});return(0,eE.Z)((0,G.Z)({},e),{sections:t})})},tl=eB()(function(e){eT.Z.trackEvent("help_center","keyboard_shortcuts_search",{searchTerm:e})},500),tA=function(){return/*#__PURE__*/(0,q.jsxs)("div",{className:e8().noResults,children:[/*#__PURE__*/(0,q.jsx)("p",{children:"It seems we don't do that (yet)."}),/*#__PURE__*/(0,q.jsx)("p",{children:"Try another search term."})]})},td=function(e){var t=e.combinations,n=(0,$.useCallback)(function(e){return e.map(function(e,t){return/*#__PURE__*/(0,q.jsxs)($.Fragment,{children:[0!==t&&/*#__PURE__*/(0,q.jsx)("span",{className:e8().shortcutDivider,children:"or"}),/*#__PURE__*/(0,q.jsx)(e9.P,{keys:e.split(" "),shortcutStyle:"pills"})]},"combination-".concat(e))})},[]);return t&&t.length?/*#__PURE__*/(0,q.jsx)("div",{className:"rowCentered",children:n(t)}):null},tf=function(e){var t=e.section,n=e.headers;return/*#__PURE__*/(0,q.jsxs)("div",{className:e8().shortcutsTable,id:t.id,children:[/*#__PURE__*/(0,q.jsx)("p",{className:(0,tt.Z)(te().medium,te().semiBold),children:t.label}),/*#__PURE__*/(0,q.jsxs)("table",{className:e8().table,children:[/*#__PURE__*/(0,q.jsx)("thead",{children:/*#__PURE__*/(0,q.jsx)("tr",{children:n.map(function(e,t){return/*#__PURE__*/(0,q.jsx)("th",{className:(0,tt.Z)(te().small,te().semiBold),children:/*#__PURE__*/(0,q.jsx)("p",{children:e})},"header-".concat(e,"-").concat(t))})})}),/*#__PURE__*/(0,q.jsx)("tbody",{children:t.shortcuts.map(function(e){return/*#__PURE__*/(0,q.jsxs)("tr",{children:[/*#__PURE__*/(0,q.jsx)("td",{children:e.description}),/*#__PURE__*/(0,q.jsx)("td",{children:/*#__PURE__*/(0,q.jsx)(td,{combinations:e.keys})}),/*#__PURE__*/(0,q.jsx)("td",{children:e.markdown})]},"row-".concat(e.description))})})]})]})},th=function(e){var t,n,r,o,a=(t=e.searchTerm,n=(0,$.useMemo)(tc,[]),r=(0,$.useMemo)(function(){return n.flatMap(function(e){return e.sections.flatMap(function(e){return e.shortcuts.map(function(t){var n,r,o;return{shortcut:t,section:e,searchMatches:(r=t.description.toLowerCase().replace(/-\//," ").split(/\s+/),o=(null!==(n=t.keys)&&void 0!==n?n:[]).flatMap(function(e){return e.toLowerCase().split(/\s+/)}),(0,tr.Z)(r).concat((0,tr.Z)(o)))}})})})},[n]),o=(0,$.useMemo)(function(){return n.flatMap(function(e){return e.sections})},[n]),(0,$.useMemo)(function(){if(!t)return o;var e=t.toLowerCase(),n=r.filter(function(t){return t.searchMatches.some(function(t){return t.match(e)})}),a=o.filter(function(t){return t.label.toLowerCase().match(e)||t.group.toLowerCase().match(e)}),s=ts()(a);return n.forEach(function(e){var t=e.section,n=e.shortcut;if(!a.some(function(e){return e.label===t.label})){var r=s.find(function(e){return e.label===t.label});r?r.shortcuts.push(n):s.push((0,eE.Z)((0,G.Z)({},t),{shortcuts:[n]}))}}),s},[t,r,o]));return/*#__PURE__*/(0,q.jsx)("div",{className:e4().paneContainer,id:tn,children:a.length?a.map(function(e){return/*#__PURE__*/(0,q.jsx)(tf,{section:e,headers:e.shortcuts.some(function(e){return!!e.markdown})?["","","Markdown Syntax"]:[" "," "," "]},e.id)}):/*#__PURE__*/(0,q.jsx)(tA,{})})},tp=n(1551),tg=/*#__PURE__*/n.n(tp),tv=n(28563),tm=n(27196),ty=function(e){var t=e.section,n=e.isSelected,r=e.onClick,o=e.onAcquiredFocus,a=(0,$.useRef)(null),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,$.useState)(t),r=n[0],o=n[1];return(0,$.useEffect)(function(){var t=null==e?void 0:e.current;if(t){var n=function(){return o(!0)},r=function(){return o(!1)};return t.addEventListener("focus",n),t.addEventListener("blur",r),function(){t&&(t.removeEventListener("focus",n),t.removeEventListener("blur",r))}}},[e]),{isFocused:r}}(a).isFocused,u=(0,tm.D9)(s);return(0,$.useEffect)(function(){s&&!u&&o(t.id)},[s,u,o,t.id]),/*#__PURE__*/(0,q.jsx)(tv.Z,{ref:a,onClick:r,label:t.label,isSelected:n,focusOnMouseEnter:!1,focusSelectedOnMount:!1})},tb=function(e){var t=e.activeSectionId,n=e.setActiveSectionId,r=(0,$.useMemo)(tc,[]);return/*#__PURE__*/(0,q.jsx)("div",{className:(0,tt.Z)(tg().sideBarRoot,e8().navContainer),children:r.map(function(e){return/*#__PURE__*/(0,q.jsxs)($.Fragment,{children:[/*#__PURE__*/(0,q.jsx)("p",{className:(0,tt.Z)(tg().sideBarHeader,te().small,te().semiBold,e8().navHeader),children:e.label}),e.sections.map(function(e){return/*#__PURE__*/(0,q.jsx)(ty,{section:e,isSelected:e.id===t,onClick:function(){return n(e.id)},onAcquiredFocus:n},e.id)})]},e.label)})})},tw=function(e){var t,n,r,o,a,s,u,c,l,A,d,f,h,p,g,v,m=e.isOpen,y=e.onOpen,b=e.onClose,w=e.initialSearchTerm,_=(0,e0.Z)(e,["isOpen","onOpen","onClose","initialSearchTerm"]),E=(0,$.useState)(0),C=E[0],B=E[1],I=(0,$.useState)(),x=I[0],T=I[1],S=(t=!!m,r=(n=(0,$.useState)(null!=w?w:""))[0],o=n[1],a=(0,$.useMemo)(tc,[]),s=(0,$.useMemo)(function(){return a.flatMap(function(e){return e.sections})},[a]),c=(u=(0,$.useState)(w?void 0:a[0].sections[0].id))[0],l=u[1],A=(0,$.useCallback)(function(e){o(e),e&&(tl(e),l(void 0))},[]),d=(0,$.useRef)(),f=(0,$.useRef)(),h=(0,$.useCallback)(function(e){d.current=e,l(e)},[]),p=(0,$.useCallback)(function(e){if(!r&&(h(e),e)){var t,n=document.getElementById(e);f.current=e,null==n||n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),eT.Z.trackEvent("help_center","keyboard_shortcuts_nav",{section:null===(t=s.find(function(t){return t.id===e}))||void 0===t?void 0:t.label})}},[r,s,h]),g=(0,$.useRef)(),v=(0,$.useRef)(!1),(0,$.useLayoutEffect)(function(){if(t){var e=document.getElementById(tn),n=function(e){if(e.target){var t,n,r=null!==(t=g.current)&&void 0!==t?t:0,o=null!==(n=e.target.scrollTop)&&void 0!==n?n:0;f.current||(v.current=o<r),g.current=o}};return null==e||e.addEventListener("scroll",n),function(){null==e||e.removeEventListener("scroll",n)}}},[t]),(0,$.useLayoutEffect)(function(){if(t){var e=new IntersectionObserver(function(e){var t=e.find(function(e){return e.isIntersecting});if(t){var n=t.target.id,r=f.current;if(r){n===r&&(f.current=void 0);return}h(n)}else{var o=e[0].target;if(o.id!==d.current)return;if(o.id===f.current){f.current=void 0;return}var a=v.current?-1:1,u=to()(s,{id:o.id}),c=s[u+a];c&&h(c.id)}},{root:document.getElementById(tn),threshold:.6});return s.forEach(function(t){var n=document.getElementById(t.id);n&&e.observe(n)}),function(){e.disconnect()}}},[s,t,h]),{searchTerm:r,setSearchTerm:A,activeSectionId:c,setActiveSectionId:p}),k=S.searchTerm,D=S.setSearchTerm,N=(0,e1.F)().theme,O=(0,$.useCallback)(function(){return B(performance.now()),k&&k!==w&&D(""),y()},[y,k,D,w]),F=(0,$.useCallback)(function(e){var t=Math.round((performance.now()-C)/1e3);return B(0),T(void 0),eT.Z.trackEvent("help_center","keyboard_shortcuts_view",{timeSpentInSeconds:t,origin:null!=e?e:"button"}),null==b?void 0:b()},[b,C]);if((0,eb.Z)({"mod+/":function(){m?F(x):(T("keyboard"),O())}}),!m)return null;var R=/*#__PURE__*/(0,q.jsxs)("div",{className:"rowCentered spaceBetween",children:["Keyboard Shortcuts and Markdown Syntax",/*#__PURE__*/(0,q.jsx)(e5.Z,{searchTerm:k,setSearchTerm:D,className:e8().searchInput,autoFocus:!0})]});return/*#__PURE__*/(0,q.jsx)(e3.Z,(0,eE.Z)((0,G.Z)({},_),{isOpen:m,onClose:F,theme:N,bottomGradient:!0,className:e4().modalRoot,title:R,showTitleSeparator:!0,size:e3.Z.Sizes.XL,closeButtonVariant:"text",children:/*#__PURE__*/(0,q.jsxs)("div",{className:e4().container,children:[/*#__PURE__*/(0,q.jsx)(tb,(0,G.Z)({},S)),/*#__PURE__*/(0,q.jsx)(th,(0,G.Z)({},S))]})}))},t_=n(39145),tE=n(82614),tC=n(27804),tB=n(56380),tI=n(68608),tx=n(56060),tT=n(45932),tS=n(98916),tk=[tx.c.InviteTeamMember],tD=[tx.c.OpenInsertMenu,tx.c.AddFigure,tx.c.GenerateAiDiagram,tx.c.GenerateDiagramWithCode],tN=/*#__PURE__*/(0,$.createContext)({setupItems:[],tutorialItems:[],allItems:[],completedItems:[]}),tO=n(57517),tF=n(64442),tR=n(15765),tL=/*#__PURE__*/(0,$.createContext)({isMouseMoving:{current:!1}}),tM=function(){return(0,$.useContext)(tL)},tP=n(89813),tU=n(67640);function tj(){return(tj=(0,z.Z)(function(e){return(0,W.__generator)(this,function(t){return e?[2,e.getIdToken()]:[2,void 0]})})).apply(this,arguments)}function tZ(e){try{f=function(e){return tj.apply(this,arguments)}(e)}catch(e){(0,eW.T)(e)}}tU.Z.init(function(){return Promise.race([f,(0,tP.Z)(1e3)])}),eG.I8.onAuthStateChanged(tZ),eG.I8.onIdTokenChanged(tZ);var tQ=n(87394),tH=n(19275),tV=n(45506),tK=n(95162),tz=n(11747),tG=n(66804),tW=n(97420),tq=n(62866),tY=n(55929),t$=n(45026),tX=/*#__PURE__*/n.n(t$),tJ=function(e){return e.replace(/^\//,"")},t0=function(e){return e.includes("/")},t1=function(e){var t=e.onClose,n=e.onCreate,r=e.initialDto,o=void 0===r?{}:r,a=(0,e0.Z)(e,["onClose","onCreate","initialDto"]),s=(0,tQ.Z)((0,tH.R)({fileName:o.fileName||"",filePath:o.filePath||"/",repositoryId:o.repositoryId||"",organizationId:o.organizationId||""}),2),u=s[0],c=s[1],l=(0,tV.T5)({repositoryId:u.repositoryId,organizationId:u.organizationId}),A=l.organization,d=l.repository,f=(0,t_.E$)(),h=f.organizations,p=f.repositoriesMap,g=A&&d?"".concat(A.name,"/").concat(d.name):void 0,v=!g||!u.filePath||!u.fileName||t0(u.fileName);return/*#__PURE__*/(0,q.jsxs)(e3.Z,(0,eE.Z)((0,G.Z)({},a),{title:"New GitHub file",onClose:t,children:[/*#__PURE__*/(0,q.jsxs)("div",{className:tX().repositoryWrapper,children:[/*#__PURE__*/(0,q.jsx)(tW.A,{labelClassNames:{root:tX().repositoryLabel},children:"Repository"}),/*#__PURE__*/(0,q.jsx)(tG.Lt,{takeWidthOfToggle:!0,title:g,selected:g,noSelectionTitle:"Select repository ...",classNames:{menu:tX().dropdownMenu},toggleClassNames:{button:tX().dropdownToggleRoot,root:tX().toggleRoot},children:(h&&p?h.flatMap(function(e){var t=p.get(e.id);return t?t.map(function(t){return{organization:e,repository:t}}):[]}):[]).map(function(e){var t=e.organization,n=e.repository;return/*#__PURE__*/(0,q.jsx)(tq.Wx,{label:"".concat(t.name,"/").concat(n.name),onClick:function(){return c({organizationId:t.id,repositoryId:n.id})}},n.id)})})]}),/*#__PURE__*/(0,q.jsx)(tY.Z,{label:"File path",value:u.filePath,placeholder:"Enter path ...",onChange:function(e){return c({filePath:e.currentTarget.value})}}),/*#__PURE__*/(0,q.jsx)(tY.Z,{autoFocus:!0,label:"File name",value:u.fileName,placeholder:"Name your file ...",onChange:function(e){return c({fileName:e.currentTarget.value})}}),t0(u.fileName)&&/*#__PURE__*/(0,q.jsx)("small",{children:"File name cannot include slash character."}),/*#__PURE__*/(0,q.jsxs)(tz.Z,{children:[/*#__PURE__*/(0,q.jsx)(tK.ZP,{variant:tK.ZP.Variants.TRANSPARENT,onClick:t,children:"Cancel"}),/*#__PURE__*/(0,q.jsx)(tK.ZP,{disabled:v,onClick:function(){var e,t=tJ(u.filePath),r=(e=tJ(u.fileName)).toLocaleLowerCase().endsWith(".md")?e:"".concat(e,".md");n((0,eE.Z)((0,G.Z)({},u),{filePath:t,fileName:r}))},variant:tK.ZP.Variants.REGULAR,children:"Create File"})]})]}))},t2=n(76784),t4=n(25300),t3=n(2600),t5=n(53178),t6=n(48696),t8=n(10185),t9=/*#__PURE__*/(0,$.createContext)({openGitHubModal:function(){},isCreatingWorkspace:!1,setCreationState:function(){},openTemplatesModal:function(){},createNewWorkspace:function(){}}),t7=(0,e_.b1)(tC.H,eP.o,eL.H,function(e){var t=e.children,n=(0,$.useState)(),r=n[0],o=n[1],a=(0,$.useState)(),s=a[0],u=a[1],c=(0,eQ.K)(),l=(0,e$.Pe)();return(0,$.useEffect)(function(){return o(l.currentUser.getAuthUser()),l.currentUser.on(l.currentUser.Events.AuthUserChanged,o),function(){l.currentUser.off(l.currentUser.Events.AuthUserChanged,o)}},[]),(0,ez.Z)(function(){(null==c?void 0:c.name)&&l.currentUser.setDisplayNameForCurrentSession(eK(c.name))},[null==c?void 0:c.name]),(0,$.useEffect)(function(){eq.IU&&eG.I8.getRedirectResult().then(function(e){var t=e.user,n=e.additionalUserInfo;null!=t&&(null==n?void 0:n.isNewUser)&&eT.Z.trackEvent("account","create",{userId:t.uid,email:t.email,oldUserId:(0,eH.ES)(),authMethod:"google.com"===n.providerId?"google":"microsoft"})}).catch(eW.T)},[]),(0,$.useEffect)(function(){return u(l.currentUser.getCurrentUser()),l.currentUser.on(l.currentUser.Events.UserChanged,u),function(){l.currentUser.off(l.currentUser.Events.UserChanged,u)}},[]),/*#__PURE__*/(0,q.jsx)(eY._.Provider,{value:r,children:/*#__PURE__*/(0,q.jsx)(eY.S.Provider,{value:s,children:t})})},eZ.vq,eM.jH,eU.f,function(e){var t=e.children,n=(0,er.useRouter)(),r=(0,eD.Rs)(),o=(0,eI.aF)(),a=(0,eI.fC)(),s=(0,ex.ZP)(null==a?void 0:a.id,!0);(0,$.useEffect)(function(){var e,t,n={referrer:document.referrer,screenWidth:window.innerWidth,screenHeight:window.innerHeight};r&&(n.teamPaymentPlan=null!==(t=null===(e=r.plan)||void 0===e?void 0:e.planType)&&void 0!==t?t:eN.k9.Free),eT.Z.updateSessionProperties(n)},[r]),eF(),(0,$.useEffect)(function(){if(s&&a&&o&&s.id===a.id&&null!=s.displayName){var e,t,n=function(e){var t={tools:null===(a=e.surveyData)||void 0===a?void 0:a.tools,useCases:null===(s=e.surveyData)||void 0===s?void 0:s.useCases,role:null===(u=e.surveyData)||void 0===u?void 0:u.role},n=!0,r=!1,o=void 0;try{for(var a,s,u,c,l,A,d,f,h=(null!==(d=null===(c=e.surveyData)||void 0===c?void 0:c.tools)&&void 0!==d?d:[])[Symbol.iterator]();!(n=(f=h.next()).done);n=!0){var p=f.value;t["tools.".concat(p)]=!0}}catch(e){r=!0,o=e}finally{try{n||null==h.return||h.return()}finally{if(r)throw o}}var g=!0,v=!1,m=void 0;try{for(var y,b,w=(null!==(y=null===(l=e.surveyData)||void 0===l?void 0:l.useCases)&&void 0!==y?y:[])[Symbol.iterator]();!(g=(b=w.next()).done);g=!0){var _=b.value;t["useCases.".concat(_)]=!0}}catch(e){v=!0,m=e}finally{try{g||null==w.return||w.return()}finally{if(v)throw m}}return(null===(A=e.surveyData)||void 0===A?void 0:A.customToolsInput)&&(t["tools.custom"]=e.surveyData.customToolsInput),t}(o);eT.Z.identify((0,eE.Z)((0,G.Z)({},n),{id:a.id,email:null!==(e=a.email)&&void 0!==e?e:"",displayName:s.displayName,emailVerified:null!==(t=a.emailVerified)&&void 0!==t&&t,isAnonymous:a.isAnonymous,analyticsId:s.analyticsId,signUpOrigin:s.signUpOrigin,signUpCampaign:s.signUpCampaign,signUpTemplate:s.signUpTemplate,signUpPage:s.signUpPage}))}},[s,o,a]);var u=null==s?void 0:s.analyticsId;return(0,$.useEffect)(function(){u&&eS.b.add({name:ek.IF,value:u})},[u]),(0,$.useEffect)(function(){return eR(n.asPath),n.events.on("routeChangeComplete",eR),function(){n.events.off("routeChangeComplete",eR)}},[n.events]),/*#__PURE__*/(0,q.jsx)(eO.Provider,{value:eT.Z,children:t})},ej.Hq,t_.Uk,function(e){var t=e.children,n=(0,eJ.Z)(),r=n.isOpen,o=n.onOpen,a=n.onClose,s=(0,$.useMemo)(function(){return{isKeyboardShortcutsOpen:r,openKeyboardShortcuts:o,closeKeyboardShortcuts:a}},[r,o,a]);return/*#__PURE__*/(0,q.jsxs)(eX.Z.Provider,{value:s,children:[t,/*#__PURE__*/(0,q.jsx)(tw,{isOpen:r,onOpen:o,onClose:a})]})},tE.g,tI.dq,tB.ZP,function(e){var t,n=e.children,r=(0,eI.aF)(),o=(0,tS.b)(),a=o.loading,s=o.activations,u=(0,$.useMemo)(function(){var e,t=tk.slice(),n=(null==r?void 0:null===(e=r.surveyData)||void 0===e?void 0:e.tools)||[];return n.includes(tT.Ib.GITHUB)&&t.push(tx.c.GitHubSync),n.includes(tT.Ib.VS_CODE)&&t.push(tx.c.VsCodeExtensionDownload),n.includes(tT.Ib.NOTION)&&t.push(tx.c.GetStartedNotionIntegrationClicked),n.includes(tT.Ib.CONFLUENCE)&&t.push(tx.c.GetStartedConfluenceIntegrationClicked),t},[r]),c=(0,$.useMemo)(function(){return tD.concat(u)},[tD,u]),l=(0,$.useMemo)(function(){return c.filter(function(e){return s[e]})},[s,c]),A=(0,$.useState)(l.length),d=(A[0],A[1]);return(0,$.useEffect)(function(){a||d(l.length)},[a]),(0,$.useEffect)(function(){var e;(null==r?void 0:null===(e=r.userSettings)||void 0===e?void 0:e.isGettingStartedEnabled)&&d(function(e){return l.length===e||a?e:(eT.Z.trackEvent("get_started_checklist","progress",{completed:l.length}),l.length)})},[l,a,null==r?void 0:null===(t=r.userSettings)||void 0===t?void 0:t.isGettingStartedEnabled]),/*#__PURE__*/(0,q.jsx)(tN.Provider,{value:{setupItems:u,tutorialItems:tD,allItems:c,completedItems:l},children:n})},function(e){var t=e.children,n=(0,er.useRouter)(),r=(0,eD.LP)(),o=(0,e1.F)().toggleTheme,a=(0,$.useRef)(!1),s=(0,tF.l)().register,u=(0,tO.i)().goToTab,c=(0,tR.Q6)(eN.AC.PrivateWorkspaces,r);return(0,$.useEffect)(function(){s("toggleDarkMode",o),s("goToDashboard",{action:function(){return u("all")},isHidden:function(){return"/dashboard/all"===n.pathname}}),s("goToArchive",{action:function(){return u("archived")},isHidden:function(){return"/dashboard/archived"===n.pathname}}),s("goToTemplates",{action:function(){return u("templates")},isHidden:function(){return"/dashboard/templates"===n.pathname}}),s("goToPrivateFiles",{action:function(){return u("private")},isHidden:function(){return!c||"/dashboard/private"===n.pathname}})},[s,u,o,n.pathname,c]),/*#__PURE__*/(0,q.jsx)(tL.Provider,{value:{isMouseMoving:a},children:t})},function(e){var t=e.children,n=(0,eD.LP)(),r=(0,t6.MZ)(),o=(0,tF.l)().register,a=(0,t8.Q)().tabId,s=(0,t4.Z)(),u=s.loading,c=s.request,l=(0,$.useRef)({}),A=((0,t5.k_)()||{}).id,d=((0,t5.dr)()||{}).id,f=(0,t3.X)(),h=f.request,p=f.loading,g=(0,tR.Q6)(eN.AC.PrivateWorkspaces,n),v=(0,eJ.Z)(),m=v.onOpen,y=v.isOpen,b=v.onClose,w=(0,eJ.Z)(),_=w.onOpen,E=w.isOpen,C=w.onClose,B=u||p,I=(0,$.useCallback)(function(e){l.current=e},[]),x=(0,$.useCallback)(function(){var e,t,n=l.current,r=n.gitHub,o=n.template,a=n.folderId,s=n.isPrivate,u=n.isNewTemplate,A=n.eventSource;if(r){var d=r.fileName,f=r.filePath,p=r.repositoryId,g=r.organizationId,v=f.length?"".concat(f,"/").concat(d):d;e=d.replace(/\.md$/,""),t={filePath:v,repositoryId:p,organizationId:g}}var m={title:e,folderId:a,isPrivate:s,gitHubRepository:t,isTemplate:u};o?h({workspaceOverrides:m,isFromTemplate:!0,teamId:o.teamId,workspaceId:o.id,versionId:o.templateVersionId}):c(void 0===A?"header_button":A,m)},[h,c]);return(0,$.useEffect)(function(){o("newPrivateFile",{isHidden:function(){return!g},action:function(){I({isPrivate:!0,eventSource:"command_k"}),x()}}),o("newGitHubFile",function(){A&&d?I({eventSource:"command_k",gitHub:{fileName:"",filePath:"",repositoryId:A,organizationId:d}}):I({eventSource:"command_k"}),m()}),o("newFile",{isHidden:function(){return"private"===a},action:function(){I({folderId:r,eventSource:"command_k"}),x()}}),o("newFileFromTemplate",function(){A&&d?I({gitHub:{fileName:"",filePath:"",repositoryId:A,organizationId:d}}):I({folderId:r,isPrivate:"private"===a}),_()})},[a,o,r,A,d,m,I,_,x,g]),/*#__PURE__*/(0,q.jsxs)(t9.Provider,{value:{openGitHubModal:m,setCreationState:I,openTemplatesModal:_,createNewWorkspace:x,isCreatingWorkspace:B},children:[t,E&&/*#__PURE__*/(0,q.jsx)(t2.U,{isOpen:!0,mountedIn:"other",templateToPreview:null,isLoading:p,onUseTemplate:function(e){I((0,eE.Z)((0,G.Z)({},l.current),{template:e})),l.current.gitHub?m():x()},onClose:C}),y&&/*#__PURE__*/(0,q.jsx)(t1,{isOpen:!0,onClose:b,onCreate:function(e){I((0,eE.Z)((0,G.Z)({},l.current),{gitHub:e})),x()},initialDto:l.current.gitHub})]})});t7.displayName="AppContextProviders";var ne=n(23630),nt=function(e){var t=(0,$.useRef)(!0),n=(0,$.useCallback)(function(){t.current?t.current=!1:e()},[e]);(0,$.useEffect)(function(){return eG.Fs.ref("force-client-version").on("value",n),function(){eG.Fs.ref("force-client-version").off("value",n)}},[n])},nn=n(36105),nr=n(21805),ni="eraserTheme",no=n(80003),na=function(){var e=(0,e1.F)(),t=e.theme,n=e.toggleTheme,r=e.isDarkMode,o=(0,$.useCallback)(function(){n(),eT.Z.trackEvent("dark_mode","toggle_theme",{source:"global_shortcut",theme:r?"light":"dark"})},[n,r]);return(0,eb.Z)({"shift+alt+d":o},{stopCallback:null}),(0,$.useEffect)(function(){t&&(nr.Z.remove("eraserTheme"),nn.J.setItem(ni,t)),r?window.document.documentElement.classList.add(no.W):window.document.documentElement.classList.remove(no.W)},[t,r]),null};n(79827),n(48538);var ns=n(45293),nu="dnd-core/INIT_COORDS",nc="dnd-core/BEGIN_DRAG",nl="dnd-core/PUBLISH_DRAG_SOURCE",nA="dnd-core/HOVER",nd="dnd-core/DROP",nf="dnd-core/END_DRAG";function nh(e,t){return{type:nu,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function np(e){return(np="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ng(e){return"object"===np(e)}var nv={type:nu,payload:{clientOffset:null,sourceClientOffset:null}};function nm(e,t){return null===t?null===e:Array.isArray(e)?e.some(function(e){return e===t}):e===t}function ny(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ny(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ny(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var nw=/*#__PURE__*/function(){var e;function t(e,n){var r=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.isSetUp=!1,this.handleRefCountChange=function(){var e=r.store.getState().refCount>0;r.backend&&(e&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!e&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}return e=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e,t,n,r,o,a=this,s=this.store.dispatch,u={beginDrag:(e=this,function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,o=n.clientOffset,a=n.getSourceClientOffset,s=e.getMonitor(),u=e.getRegistry();e.dispatch(nh(o)),(0,ns.k)(!s.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(e){(0,ns.k)(u.getSource(e),"Expected sourceIds to be registered.")});var c=function(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}(t,s);if(null===c){e.dispatch(nv);return}var l=null;if(o){if(!a)throw Error("getSourceClientOffset must be defined");(0,ns.k)("function"==typeof a,"When clientOffset is provided, getSourceClientOffset must be a function."),l=a(c)}e.dispatch(nh(o,l));var A=u.getSource(c).beginDrag(s,c);if(null!=A)return(0,ns.k)(ng(A),"Item must be an object."),u.pinSource(c),{type:nc,payload:{itemType:u.getSourceType(c),item:A,sourceId:c,clientOffset:o||null,sourceClientOffset:l||null,isSourcePublic:!!(void 0===r||r)}}}),publishDragSource:(t=this,function(){if(t.getMonitor().isDragging())return{type:nl}}),hover:(n=this,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.clientOffset;(0,ns.k)(Array.isArray(e),"Expected targetIds to be an array.");var o=e.slice(0),a=n.getMonitor(),s=n.getRegistry();return function(e,t,n){(0,ns.k)(t.isDragging(),"Cannot call hover while not dragging."),(0,ns.k)(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var o=e[r];(0,ns.k)(e.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array.");var a=n.getTarget(o);(0,ns.k)(a,"Expected targetIds to be registered.")}}(o,a,s),function(e,t,n){for(var r=e.length-1;r>=0;r--){var o=e[r];nm(t.getTargetType(o),n)||e.splice(r,1)}}(o,s,a.getItemType()),function(e,t,n){e.forEach(function(e){n.getTarget(e).hover(t,e)})}(o,a,s),{type:nA,payload:{targetIds:o,clientOffset:r||null}}}),drop:(r=this,function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.getMonitor(),o=r.getRegistry();(0,ns.k)(n.isDragging(),"Cannot call drop while not dragging."),(0,ns.k)(!n.didDrop(),"Cannot call drop twice during one drag operation."),((e=n.getTargetIds().filter(n.canDropOnTarget,n)).reverse(),e).forEach(function(e,a){var s,u,c,l=(c=u=(s=o.getTarget(e))?s.drop(n,e):void 0,(0,ns.k)(void 0===c||ng(c),"Drop result must either be an object or undefined."),void 0===u&&(u=0===a?{}:n.getDropResult()),u),A={type:nd,payload:{dropResult:nb(nb({},t),l)}};r.dispatch(A)})}),endDrag:(o=this,function(){var e=o.getMonitor(),t=o.getRegistry();(0,ns.k)(e.isDragging(),"Cannot call endDrag while not dragging.");var n=e.getSourceId();return null!=n&&(t.getSource(n,!0).endDrag(e,n),t.unpinSource()),{type:nf}})};return Object.keys(u).reduce(function(e,t){var n=u[t];return e[t]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=n.apply(a,t);void 0!==o&&s(o)},e},{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function n_(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var nE="function"==typeof Symbol&&Symbol.observable||"@@observable",nC=function(){return Math.random().toString(36).substring(7).split("").join(".")},nB={INIT:"@@redux/INIT"+nC(),REPLACE:"@@redux/REPLACE"+nC(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+nC()}},nI=function(e,t){return e===t};function nx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nx(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var nS={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null},nk="dnd-core/ADD_SOURCE",nD="dnd-core/ADD_TARGET",nN="dnd-core/REMOVE_SOURCE",nO="dnd-core/REMOVE_TARGET";function nF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nF(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var nL={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null},nM=[],nP=[];function nU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nU(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nZ(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e,t,n,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case nA:break;case nk:case nD:case nO:case nN:return nM;default:return nP}var o=r.payload,a=o.targetIds,s=void 0===a?[]:a,u=o.prevTargetIds,c=void 0===u?[]:u,l=(e=new Map,t=function(t){e.set(t,e.has(t)?e.get(t)+1:1)},s.forEach(t),c.forEach(t),n=[],e.forEach(function(e,t){1===e&&n.push(t)}),n);if(!(l.length>0||!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:nI;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}(s,c)))return nM;var A=c[c.length-1],d=s[s.length-1];return A!==d&&(A&&l.push(A),d&&l.push(d)),l}(t.dirtyHandlerIds,{type:n.type,payload:nj(nj({},n.payload),{},{prevTargetIds:(e=[],"dragOperation.targetIds".split(".").reduce(function(t,n){return t&&t[n]?t[n]:e||null},t))})}),dragOffset:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nS,r=arguments.length>1?arguments[1]:void 0,o=r.payload;switch(r.type){case nu:case nc:return{initialSourceClientOffset:o.sourceClientOffset,initialClientOffset:o.clientOffset,clientOffset:o.clientOffset};case nA:if(e=n.clientOffset,t=o.clientOffset,!e&&!t||e&&t&&e.x===t.x&&e.y===t.y)return n;return nT(nT({},n),{},{clientOffset:o.clientOffset});case nf:case nd:return nS;default:return n}}(t.dragOffset,n),refCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nk:case nD:return e+1;case nN:case nO:return e-1;default:return e}}(t.refCount,n),dragOperation:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nL,r=arguments.length>1?arguments[1]:void 0,o=r.payload;switch(r.type){case nc:return nR(nR({},n),{},{itemType:o.itemType,item:o.item,sourceId:o.sourceId,isSourcePublic:o.isSourcePublic,dropResult:null,didDrop:!1});case nl:return nR(nR({},n),{},{isSourcePublic:!0});case nA:return nR(nR({},n),{},{targetIds:o.targetIds});case nO:if(-1===n.targetIds.indexOf(o.targetId))return n;return nR(nR({},n),{},{targetIds:(e=n.targetIds,t=o.targetId,e.filter(function(e){return e!==t}))});case nd:return nR(nR({},n),{},{dropResult:o.dropResult,didDrop:!0,targetIds:[]});case nf:return nR(nR({},n),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return n}}(t.dragOperation,n),stateId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}(t.stateId)}}function nQ(e,t){return{x:e.x-t.x,y:e.y-t.y}}nM.__IS_NONE__=!0,nP.__IS_ALL__=!0;var nH=/*#__PURE__*/function(){var e;function t(e,n){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.store=e,this.registry=n}return e=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;(0,ns.k)("function"==typeof e,"listener must be a function."),(0,ns.k)(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId;return this.store.subscribe(function(){var n,a,s=t.store.getState(),u=s.stateId;try{u!==o&&(u!==o+1||(n=s.dirtyHandlerIds,a=r,n!==nM&&(n===nP||void 0===a||a.filter(function(e){return n.indexOf(e)>-1}).length>0)))&&e()}finally{o=u}})}},{key:"subscribeToOffsetChange",value:function(e){var t=this;(0,ns.k)("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe(function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())})}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return(0,ns.k)(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return(0,ns.k)(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&nm(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return!!this.getItemType()}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return(0,ns.k)(t,"Expected to find a valid source. sourceId=".concat(e)),!!(this.isDragging()&&this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),o=this.getItemType();if(o&&!nm(r,o))return!1;var a=this.getTargetIds();if(!a.length)return!1;var s=a.indexOf(e);return n?s===a.length-1:s>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return!!this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){var e,t,n,r;return t=(e=this.store.getState().dragOffset).clientOffset,n=e.initialClientOffset,r=e.initialSourceClientOffset,t&&n&&r?nQ({x:t.x+r.x,y:t.y+r.y},n):null}},{key:"getDifferenceFromInitialOffset",value:function(){var e,t,n;return t=(e=this.store.getState().dragOffset).clientOffset,n=e.initialClientOffset,t&&n?nQ(t,n):null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),nV=0;function nK(e){return(nK="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nz(e,t){if(t&&Array.isArray(e)){e.forEach(function(e){return nz(e,!1)});return}(0,ns.k)("string"==typeof e||"symbol"===nK(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function nG(e){nW.length||p(),nW[nW.length]=e}(s=h||(h={})).SOURCE="SOURCE",s.TARGET="TARGET";var nW=[],nq=0;function nY(){for(;nq<nW.length;){var e=nq;if(nq+=1,nW[e].call(),nq>1024){for(var t=0,n=nW.length-nq;t<n;t++)nW[t]=nW[t+nq];nW.length-=nq,nq=0}}nW.length=0,nq=0}var n$=void 0!==n.g?n.g:self,nX=n$.MutationObserver||n$.WebKitMutationObserver;function nJ(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}p="function"==typeof nX?(r=1,o=new nX(nY),a=document.createTextNode(""),o.observe(a,{characterData:!0}),function(){r=-r,a.data=r}):nJ(nY),nG.requestFlush=p,nG.makeRequestCallFromTimer=nJ;var n0=[],n1=[],n2=nG.makeRequestCallFromTimer(function(){if(n1.length)throw n1.shift()});function n4(e){var t;(t=n0.length?n0.pop():new n3).task=e,nG(t)}var n3=function(){function e(){}return e.prototype.call=function(){try{this.task.call()}catch(e){n4.onerror?n4.onerror(e):(n1.push(e),n2())}finally{this.task=null,n0[n0.length]=this}},e}();function n5(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function n6(e){switch(e[0]){case"S":return h.SOURCE;case"T":return h.TARGET;default:(0,ns.k)(!1,"Cannot parse handler ID: ".concat(e))}}function n8(e,t){var n=e.entries(),r=!1;do{var o,a=n.next(),s=a.done;if((function(e){if(Array.isArray(e))return e}(o=a.value)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),2!==n.length);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n}}(o,2)||function(e,t){if(e){if("string"==typeof e)return n5(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n5(e,2)}}(o,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1]===t)return!0;r=!!s}while(!r);return!1}var n9=/*#__PURE__*/function(){var e;function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}return e=[{key:"addSource",value:function(e,t){nz(e),(0,ns.k)("function"==typeof t.canDrag,"Expected canDrag to be a function."),(0,ns.k)("function"==typeof t.beginDrag,"Expected beginDrag to be a function."),(0,ns.k)("function"==typeof t.endDrag,"Expected endDrag to be a function.");var n=this.addHandler(h.SOURCE,e,t);return this.store.dispatch({type:nk,payload:{sourceId:n}}),n}},{key:"addTarget",value:function(e,t){nz(e,!0),(0,ns.k)("function"==typeof t.canDrop,"Expected canDrop to be a function."),(0,ns.k)("function"==typeof t.hover,"Expected hover to be a function."),(0,ns.k)("function"==typeof t.drop,"Expected beginDrag to be a function.");var n=this.addHandler(h.TARGET,e,t);return this.store.dispatch({type:nD,payload:{targetId:n}}),n}},{key:"containsHandler",value:function(e){return n8(this.dragSources,e)||n8(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,ns.k)(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}},{key:"getTarget",value:function(e){return(0,ns.k)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return(0,ns.k)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return(0,ns.k)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return n6(e)===h.SOURCE}},{key:"isTargetId",value:function(e){return n6(e)===h.TARGET}},{key:"removeSource",value:function(e){var t=this;(0,ns.k)(this.getSource(e),"Expected an existing source."),this.store.dispatch({type:nN,payload:{sourceId:e}}),n4(function(){t.dragSources.delete(e),t.types.delete(e)})}},{key:"removeTarget",value:function(e){(0,ns.k)(this.getTarget(e),"Expected an existing target."),this.store.dispatch({type:nO,payload:{targetId:e}}),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);(0,ns.k)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){(0,ns.k)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=function(e){var t=(nV++).toString();switch(e){case h.SOURCE:return"S".concat(t);case h.TARGET:return"T".concat(t);default:throw Error("Unknown Handler Role: ".concat(e))}}(e);return this.types.set(r,t),e===h.SOURCE?this.dragSources.set(r,n):e===h.TARGET&&this.dropTargets.set(r,n),r}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),n7=n(34566),re=["children"];function rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var rn=0,rr=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),ri=(0,$.memo)(function(e){var t,n,r=e.children,o=function(e){if(Array.isArray(e))return e}(n="manager"in(t=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,re))?[{dragDropManager:t.manager},!1]:[function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ro(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return t[rr]||(t[rr]={dragDropManager:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__,function e(t,n,r){if("function"==typeof n&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw Error(n_(0));if("function"==typeof n&&void 0===r&&(r=n,n=void 0),void 0!==r){if("function"!=typeof r)throw Error(n_(1));return r(e)(t,n)}if("function"!=typeof t)throw Error(n_(2));var o,a=t,s=n,u=[],c=u,l=!1;function A(){c===u&&(c=u.slice())}function d(){if(l)throw Error(n_(3));return s}function f(e){if("function"!=typeof e)throw Error(n_(4));if(l)throw Error(n_(5));var t=!0;return A(),c.push(e),function(){if(t){if(l)throw Error(n_(6));t=!1,A();var n=c.indexOf(e);c.splice(n,1),u=null}}}function h(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(n_(7));if(void 0===e.type)throw Error(n_(8));if(l)throw Error(n_(9));try{l=!0,s=a(s,e)}finally{l=!1}for(var t=u=c,n=0;n<t.length;n++)(0,t[n])();return e}return h({type:nB.INIT}),(o={dispatch:h,subscribe:f,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw Error(n_(10));a=e,h({type:nB.REPLACE})}})[nE]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(n_(11));function t(){e.next&&e.next(d())}return t(),{unsubscribe:f(t)}}})[nE]=function(){return this},e},o}(nZ,o&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))),s=new nH(a,new n9(a)),u=new nw(a,s),c=e(u,n,r);return u.receiveBackend(c),u}(e,t,n,r)}),t[rr]}(t.backend,t.context,t.options,t.debugMode),!t.context])||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],s=!0,u=!1;try{for(o=o.call(e);!(s=(n=o.next()).done)&&(a.push(n.value),2!==a.length);s=!0);}catch(e){u=!0,r=e}finally{try{s||null==o.return||o.return()}finally{if(u)throw r}}return a}}(n,2)||function(e,t){if(e){if("string"==typeof e)return rt(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rt(e,2)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],s=o[1];return(0,$.useEffect)(function(){if(s){var e=ro();return++rn,function(){0==--rn&&(e[rr]=null)}}},[]),(0,q.jsx)(n7.L.Provider,Object.assign({value:a},{children:r}),void 0)});function ro(){return void 0!==n.g?n.g:window}function ra(e){var t=null;return function(){return null==t&&(t=e()),t}}function rs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ru=/*#__PURE__*/function(){var e;function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),rs(this,"entered",[]),rs(this,"isNodeInDocument",void 0),this.isNodeInDocument=e}return e=[{key:"enter",value:function(e){var t,n,r,o,a,s=this,u=this.entered.length;return this.entered=(t=this.entered.filter(function(t){return s.isNodeInDocument(t)&&(!t.contains||t.contains(e))}),n=[e],r=new Set,o=function(e){return r.add(e)},t.forEach(o),n.forEach(o),a=[],r.forEach(function(e){return a.push(e)}),a),0===u&&this.entered.length>0}},{key:"leave",value:function(e){var t=this.entered.length;return this.entered=this.entered.filter(this.isNodeInDocument).filter(function(t){return t!==e}),t>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),rc=ra(function(){return/firefox/i.test(navigator.userAgent)}),rl=ra(function(){return!!window.safari});function rA(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rd=/*#__PURE__*/function(){var e;function t(e,n){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),rA(this,"xs",void 0),rA(this,"ys",void 0),rA(this,"c1s",void 0),rA(this,"c2s",void 0),rA(this,"c3s",void 0);for(var r,o,a,s=e.length,u=[],c=0;c<s;c++)u.push(c);u.sort(function(t,n){return e[t]<e[n]?-1:1});for(var l=[],A=[],d=[],f=0;f<s-1;f++)r=e[f+1]-e[f],o=n[f+1]-n[f],A.push(r),l.push(o),d.push(o/r);for(var h=[d[0]],p=0;p<A.length-1;p++){var g=d[p],v=d[p+1];if(g*v<=0)h.push(0);else{r=A[p];var m=A[p+1],y=r+m;h.push(3*y/((y+m)/g+(y+r)/v))}}h.push(d[d.length-1]);for(var b=[],w=[],_=0;_<h.length-1;_++){a=d[_];var E=h[_],C=1/A[_],B=E+h[_+1]-a-a;b.push((a-E-B)*C),w.push(B*C*C)}this.xs=e,this.ys=n,this.c1s=h,this.c2s=b,this.c3s=w}return e=[{key:"interpolate",value:function(e){var t,n=this.xs,r=this.ys,o=this.c1s,a=this.c2s,s=this.c3s,u=n.length-1;if(e===n[u])return r[u];for(var c=0,l=s.length-1;c<=l;){var A=n[t=Math.floor(.5*(c+l))];if(A<e)c=t+1;else{if(!(A>e))return r[t];l=t-1}}var d=e-n[u=Math.max(0,l)],f=d*d;return r[u]+o[u]*d+a[u]*f+s[u]*d*f}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function rf(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function rh(e){return{x:e.clientX,y:e.clientY}}var rp="__NATIVE_FILE__",rg="__NATIVE_URL__",rv="__NATIVE_TEXT__",rm="__NATIVE_HTML__";function ry(e,t,n){var r=t.reduce(function(t,n){return t||e.getData(n)},"");return null!=r?r:n}function rb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rw=(rb(g={},rp,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),rb(g,rm,{exposeProperties:{html:function(e,t){return ry(e,t,"")}},matchesTypes:["Html","text/html"]}),rb(g,rg,{exposeProperties:{urls:function(e,t){return ry(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),rb(g,rv,{exposeProperties:{text:function(e,t){return ry(e,t,"")}},matchesTypes:["Text","text/plain"]}),g);function r_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rE=/*#__PURE__*/function(){var e;function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),r_(this,"item",void 0),r_(this,"config",void 0),this.config=e,this.item={},this.initializeExposedProperties()}return e=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach(function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})})}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach(function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function rC(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(rw).filter(function(e){return rw[e].matchesTypes.some(function(e){return t.indexOf(e)>-1})})[0]||null}function rB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rI=/*#__PURE__*/function(){var e;function t(e,n){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),rB(this,"ownerDocument",null),rB(this,"globalContext",void 0),rB(this,"optionsArgs",void 0),this.globalContext=e,this.optionsArgs=n}return e=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.globalContext)&&void 0!==e&&e.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function rx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rx(Object(n),!0).forEach(function(t){rS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rx(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rk=/*#__PURE__*/function(){var e;function t(e,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),rS(this,"options",void 0),rS(this,"actions",void 0),rS(this,"monitor",void 0),rS(this,"registry",void 0),rS(this,"enterLeaveCounter",void 0),rS(this,"sourcePreviewNodes",new Map),rS(this,"sourcePreviewNodeOptions",new Map),rS(this,"sourceNodes",new Map),rS(this,"sourceNodeOptions",new Map),rS(this,"dragStartSourceIds",null),rS(this,"dropTargetIds",[]),rS(this,"dragEnterTargetIds",[]),rS(this,"currentNativeSource",null),rS(this,"currentNativeHandle",null),rS(this,"currentDragSourceNode",null),rS(this,"altKeyPressed",!1),rS(this,"mouseMoveTimeoutTimer",null),rS(this,"asyncEndDragFrameId",null),rS(this,"dragOverTargetIds",null),rS(this,"getSourceClientOffset",function(e){var t=o.sourceNodes.get(e);return t&&rf(t)||null}),rS(this,"endDragNativeItem",function(){o.isDraggingNativeItem()&&(o.actions.endDrag(),o.currentNativeHandle&&o.registry.removeSource(o.currentNativeHandle),o.currentNativeHandle=null,o.currentNativeSource=null)}),rS(this,"isNodeInDocument",function(e){return!!(e&&o.document&&o.document.body&&o.document.body.contains(e))}),rS(this,"endDragIfSourceWasRemovedFromDOM",function(){var e=o.currentDragSourceNode;!(null==e||o.isNodeInDocument(e))&&o.clearCurrentDragSourceNode()&&o.monitor.isDragging()&&o.actions.endDrag()}),rS(this,"handleTopDragStartCapture",function(){o.clearCurrentDragSourceNode(),o.dragStartSourceIds=[]}),rS(this,"handleTopDragStart",function(e){if(!e.defaultPrevented){var t=o.dragStartSourceIds;o.dragStartSourceIds=null;var n=rh(e);o.monitor.isDragging()&&o.actions.endDrag(),o.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:o.getSourceClientOffset,clientOffset:n});var r=e.dataTransfer,a=rC(r);if(o.monitor.isDragging()){if(r&&"function"==typeof r.setDragImage){var s=o.monitor.getSourceId(),u=o.sourceNodes.get(s),c=o.sourcePreviewNodes.get(s)||u;if(c){var l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x,T=o.getCurrentSourcePreviewNodeOptions(),S=T.anchorX,k=T.anchorY,D=T.offsetX,N=T.offsetY,O=(l={anchorX:S,anchorY:k},A={offsetX:D,offsetY:N},h=rf((f="IMG"===c.nodeName&&(rc()||!(null!==(d=document.documentElement)&&void 0!==d&&d.contains(c))))?u:c),p={x:n.x-h.x,y:n.y-h.y},g=u.offsetWidth,v=u.offsetHeight,m=l.anchorX,y=l.anchorY,E=(b=f?c.width:g,w=f?c.height:v,rl()&&f&&(w/=window.devicePixelRatio,b/=window.devicePixelRatio),_={dragPreviewWidth:b,dragPreviewHeight:w}).dragPreviewWidth,C=_.dragPreviewHeight,B=A.offsetX,I=A.offsetY,{x:0===B||B?B:new rd([0,.5,1],[p.x,p.x/g*E,p.x+E-g]).interpolate(m),y:0===I||I?I:(x=new rd([0,.5,1],[p.y,p.y/v*C,p.y+C-v]).interpolate(y),rl()&&f&&(x+=(window.devicePixelRatio-1)*C),x)});r.setDragImage(c,O.x,O.y)}}try{null==r||r.setData("application/json",{})}catch(e){}o.setCurrentDragSourceNode(e.target),o.getCurrentSourcePreviewNodeOptions().captureDraggingState?o.actions.publishDragSource():setTimeout(function(){return o.actions.publishDragSource()},0)}else if(a)o.beginDragNativeItem(a);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}}),rS(this,"handleTopDragEndCapture",function(){o.clearCurrentDragSourceNode()&&o.monitor.isDragging()&&o.actions.endDrag()}),rS(this,"handleTopDragEnterCapture",function(e){if(o.dragEnterTargetIds=[],!(!o.enterLeaveCounter.enter(e.target)||o.monitor.isDragging())){var t=e.dataTransfer,n=rC(t);n&&o.beginDragNativeItem(n,t)}}),rS(this,"handleTopDragEnter",function(e){var t=o.dragEnterTargetIds;o.dragEnterTargetIds=[],o.monitor.isDragging()&&(o.altKeyPressed=e.altKey,t.length>0&&o.actions.hover(t,{clientOffset:rh(e)}),t.some(function(e){return o.monitor.canDropOnTarget(e)})&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=o.getCurrentDropEffect())))}),rS(this,"handleTopDragOverCapture",function(){o.dragOverTargetIds=[]}),rS(this,"handleTopDragOver",function(e){var t=o.dragOverTargetIds;if(o.dragOverTargetIds=[],!o.monitor.isDragging()){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}o.altKeyPressed=e.altKey,o.actions.hover(t||[],{clientOffset:rh(e)}),(t||[]).some(function(e){return o.monitor.canDropOnTarget(e)})?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=o.getCurrentDropEffect())):o.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))}),rS(this,"handleTopDragLeaveCapture",function(e){o.isDraggingNativeItem()&&e.preventDefault(),o.enterLeaveCounter.leave(e.target)&&o.isDraggingNativeItem()&&setTimeout(function(){return o.endDragNativeItem()},0)}),rS(this,"handleTopDropCapture",function(e){if(o.dropTargetIds=[],o.isDraggingNativeItem()){var t;e.preventDefault(),null===(t=o.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)}else rC(e.dataTransfer)&&e.preventDefault();o.enterLeaveCounter.reset()}),rS(this,"handleTopDrop",function(e){var t=o.dropTargetIds;o.dropTargetIds=[],o.actions.hover(t,{clientOffset:rh(e)}),o.actions.drop({dropEffect:o.getCurrentDropEffect()}),o.isDraggingNativeItem()?o.endDragNativeItem():o.monitor.isDragging()&&o.actions.endDrag()}),rS(this,"handleSelectStart",function(e){var t=e.target;"function"!=typeof t.dragDrop||"INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop())}),this.options=new rI(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new ru(this.isNodeInDocument)}return e=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var o=function(t){return r.handleDragStart(t,e)},a=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",o),t.addEventListener("selectstart",a),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",a),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},o=function(t){return n.handleDragOver(t,e)},a=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",o),t.addEventListener("drop",a),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",o),t.removeEventListener("drop",a)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return rT({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return rT({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(K).some(function(t){return K[t]===e})}},{key:"beginDragNativeItem",value:function(e,t){var n;this.clearCurrentDragSourceNode(),this.currentNativeSource=((n=new rE(rw[e])).loadDataTransfer(t),n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout(function(){var e;return null===(e=t.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)},1e3)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),rD=function(e,t,n){return new rk(e,t,n)};(u=v||(v={})).mouse="mouse",u.touch="touch",u.keyboard="keyboard";var rN={Left:1},rO={Left:0};function rF(e){return void 0===e.button||e.button===rO.Left}function rR(e){return!!e.targetTouches}function rL(e,t){return rR(e)?1===e.targetTouches.length?rL(e.targetTouches[0]):t&&1===e.touches.length&&e.touches[0].target===t.target?rL(e.touches[0]):void 0:{x:e.clientX,y:e.clientY}}var rM=function(){var e=!1;try{addEventListener("test",function(){},Object.defineProperty({},"passive",{get:function(){return e=!0,!0}}))}catch(e){}return e}();function rP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rU=/*#__PURE__*/function(){var e;function t(e,n){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),rP(this,"args",void 0),rP(this,"context",void 0),this.args=e,this.context=n}return e=[{key:"delay",get:function(){var e;return null!==(e=this.args.delay)&&void 0!==e?e:0}},{key:"scrollAngleRanges",get:function(){return this.args.scrollAngleRanges}},{key:"getDropTargetElementsAtPoint",get:function(){return this.args.getDropTargetElementsAtPoint}},{key:"ignoreContextMenu",get:function(){var e;return null!==(e=this.args.ignoreContextMenu)&&void 0!==e&&e}},{key:"enableHoverOutsideTarget",get:function(){var e;return null!==(e=this.args.enableHoverOutsideTarget)&&void 0!==e&&e}},{key:"enableKeyboardEvents",get:function(){var e;return null!==(e=this.args.enableKeyboardEvents)&&void 0!==e&&e}},{key:"enableMouseEvents",get:function(){var e;return null!==(e=this.args.enableMouseEvents)&&void 0!==e&&e}},{key:"enableTouchEvents",get:function(){var e;return null===(e=this.args.enableTouchEvents)||void 0===e||e}},{key:"touchSlop",get:function(){return this.args.touchSlop||0}},{key:"delayTouchStart",get:function(){var e,t,n,r;return null!==(e=null!==(t=null===(n=this.args)||void 0===n?void 0:n.delayTouchStart)&&void 0!==t?t:null===(r=this.args)||void 0===r?void 0:r.delay)&&void 0!==e?e:0}},{key:"delayMouseStart",get:function(){var e,t,n,r;return null!==(e=null!==(t=null===(n=this.args)||void 0===n?void 0:n.delayMouseStart)&&void 0!==t?t:null===(r=this.args)||void 0===r?void 0:r.delay)&&void 0!==e?e:0}},{key:"window",get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.context)&&void 0!==e&&e.document?this.context.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.args)||void 0===e?void 0:e.rootElement)||this.document}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function rj(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rZ=(rj(m={},v.mouse,{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"}),rj(m,v.touch,{start:"touchstart",move:"touchmove",end:"touchend"}),rj(m,v.keyboard,{keydown:"keydown"}),m),rQ=/*#__PURE__*/function(){var e;function t(e,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),rj(this,"options",void 0),rj(this,"actions",void 0),rj(this,"monitor",void 0),rj(this,"sourceNodes",void 0),rj(this,"sourcePreviewNodes",void 0),rj(this,"sourcePreviewNodeOptions",void 0),rj(this,"targetNodes",void 0),rj(this,"_mouseClientOffset",void 0),rj(this,"_isScrolling",void 0),rj(this,"listenerTypes",void 0),rj(this,"moveStartSourceIds",void 0),rj(this,"waitingForDelay",void 0),rj(this,"timeout",void 0),rj(this,"dragOverTargetIds",void 0),rj(this,"draggedSourceNode",void 0),rj(this,"draggedSourceNodeRemovalObserver",void 0),rj(this,"lastTargetTouchFallback",void 0),rj(this,"getSourceClientOffset",function(e){var t=o.sourceNodes.get(e);return t&&function(e){var t=1===e.nodeType?e:e.parentElement;if(t){var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}}(t)}),rj(this,"handleTopMoveStartCapture",function(e){rF(e)&&(o.moveStartSourceIds=[])}),rj(this,"handleMoveStart",function(e){Array.isArray(o.moveStartSourceIds)&&o.moveStartSourceIds.unshift(e)}),rj(this,"handleTopMoveStart",function(e){if(rF(e)){var t=rL(e);t&&(rR(e)&&(o.lastTargetTouchFallback=e.targetTouches[0]),o._mouseClientOffset=t),o.waitingForDelay=!1}}),rj(this,"handleTopMoveStartDelay",function(e){if(rF(e)){var t=e.type===rZ.touch.start?o.options.delayTouchStart:o.options.delayMouseStart;o.timeout=setTimeout(o.handleTopMoveStart.bind(o,e),t),o.waitingForDelay=!0}}),rj(this,"handleTopMoveCapture",function(){o.dragOverTargetIds=[]}),rj(this,"handleMove",function(e,t){o.dragOverTargetIds&&o.dragOverTargetIds.unshift(t)}),rj(this,"handleTopMove",function(e){if(o.timeout&&clearTimeout(o.timeout),o.document&&!o.waitingForDelay){var t,n,r=o.moveStartSourceIds,a=o.dragOverTargetIds,s=o.options.enableHoverOutsideTarget,u=rL(e,o.lastTargetTouchFallback);if(u){if(o._isScrolling||!o.monitor.isDragging()&&function(e,t,n,r,o){if(!o)return!1;for(var a=180*Math.atan2(r-t,n-e)/Math.PI+180,s=0;s<o.length;++s)if((null==o[s].start||a>=o[s].start)&&(null==o[s].end||a<=o[s].end))return!0;return!1}(o._mouseClientOffset.x||0,o._mouseClientOffset.y||0,u.x,u.y,o.options.scrollAngleRanges)){o._isScrolling=!0;return}if(!o.monitor.isDragging()&&o._mouseClientOffset.hasOwnProperty("x")&&r&&(t=o._mouseClientOffset.x||0,n=o._mouseClientOffset.y||0,Math.sqrt(Math.pow(Math.abs(u.x-t),2)+Math.pow(Math.abs(u.y-n),2))>(o.options.touchSlop?o.options.touchSlop:0))&&(o.moveStartSourceIds=void 0,o.actions.beginDrag(r,{clientOffset:o._mouseClientOffset,getSourceClientOffset:o.getSourceClientOffset,publishSource:!1})),o.monitor.isDragging()){var c=o.sourceNodes.get(o.monitor.getSourceId());o.installSourceNodeRemovalObserver(c),o.actions.publishDragSource(),e.cancelable&&e.preventDefault();var l=(a||[]).map(function(e){return o.targetNodes.get(e)}).filter(function(e){return!!e}),A=o.options.getDropTargetElementsAtPoint?o.options.getDropTargetElementsAtPoint(u.x,u.y,l):o.document.elementsFromPoint(u.x,u.y),d=[];for(var f in A)if(A.hasOwnProperty(f)){var h=A[f];for(d.push(h);h;)(h=h.parentElement)&&-1===d.indexOf(h)&&d.push(h)}var p=d.filter(function(e){return l.indexOf(e)>-1}).map(function(e){return o._getDropTargetId(e)}).filter(function(e){return!!e}).filter(function(e,t,n){return n.indexOf(e)===t});if(s)for(var g in o.targetNodes){var v=o.targetNodes.get(g);if(c&&v&&v.contains(c)&&-1===p.indexOf(g)){p.unshift(g);break}}p.reverse(),o.actions.hover(p,{clientOffset:u})}}}}),rj(this,"_getDropTargetId",function(e){for(var t=o.targetNodes.keys(),n=t.next();!1===n.done;){var r=n.value;if(e===o.targetNodes.get(r))return r;n=t.next()}}),rj(this,"handleTopMoveEndCapture",function(e){if(o._isScrolling=!1,o.lastTargetTouchFallback=void 0,void 0===e.buttons||(e.buttons&rN.Left)==0){if(!o.monitor.isDragging()||o.monitor.didDrop()){o.moveStartSourceIds=void 0;return}e.cancelable&&e.preventDefault(),o._mouseClientOffset={},o.uninstallSourceNodeRemovalObserver(),o.actions.drop(),o.actions.endDrag()}}),rj(this,"handleCancelOnEscape",function(e){"Escape"===e.key&&o.monitor.isDragging()&&(o._mouseClientOffset={},o.uninstallSourceNodeRemovalObserver(),o.actions.endDrag())}),this.options=new rU(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(v.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(v.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(v.keyboard)}return e=[{key:"profile",value:function(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:(null===(e=this.dragOverTargetIds)||void 0===e?void 0:e.length)||0}}},{key:"document",get:function(){return this.options.document}},{key:"setup",value:function(){var e=this.options.rootElement;e&&((0,ns.k)(!t.isSetUp,"Cannot have two Touch backends at the same time."),t.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}},{key:"teardown",value:function(){var e=this.options.rootElement;e&&(t.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}},{key:"addEventListener",value:function(e,t,n,r){var o=rM?{capture:r,passive:!1}:r;this.listenerTypes.forEach(function(r){var a=rZ[r][t];a&&e.addEventListener(a,n,o)})}},{key:"removeEventListener",value:function(e,t,n,r){var o=rM?{capture:r,passive:!1}:r;this.listenerTypes.forEach(function(r){var a=rZ[r][t];a&&e.removeEventListener(a,n,o)})}},{key:"connectDragSource",value:function(e,t){var n=this,r=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,t),this.addEventListener(t,"start",r),function(){n.sourceNodes.delete(e),n.removeEventListener(t,"start",r)}}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=this.options.rootElement;if(!this.document||!r)return function(){};var o=function(o){if(n.document&&r&&n.monitor.isDragging()){switch(o.type){case rZ.mouse.move:a={x:o.clientX,y:o.clientY};break;case rZ.touch.move:a={x:o.touches[0].clientX,y:o.touches[0].clientY}}var a,s=null!=a?n.document.elementFromPoint(a.x,a.y):void 0,u=s&&t.contains(s);if(s===t||u)return n.handleMove(o,e)}};return this.addEventListener(this.document.body,"move",o),this.targetNodes.set(e,t),function(){n.document&&(n.targetNodes.delete(e),n.removeEventListener(n.document.body,"move",o))}}},{key:"getTopMoveStartHandler",value:function(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}},{key:"installSourceNodeRemovalObserver",value:function(e){var t=this;this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(function(){e&&!e.parentElement&&(t.resurrectSourceNode(),t.uninstallSourceNodeRemovalObserver())}),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}},{key:"resurrectSourceNode",value:function(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}},{key:"uninstallSourceNodeRemovalObserver",value:function(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();rj(rQ,"isSetUp",void 0);var rH=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new rQ(e,t,n)},rV=n(25579),rK=n(66161),rz=n(53327),rG=n(64870),rW=n(47842),rq=n(37944),rY=n(43667),r$=n(51992),rX=n(27729),rJ=n(12171),r0=n(74010),r1=n(27750);function r2(){return(r2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var r4=function(e){return /*#__PURE__*/$.createElement("svg",r2({width:16,height:15,viewBox:"0 0 16 15",xmlns:"http://www.w3.org/2000/svg",fill:"none"},e),y||(y=/*#__PURE__*/$.createElement("path",{fill:"currentColor",d:"M9.382 2.53H8.16L6.307.676 6.16.53H1.953a1.5 1.5 0 00-1.5 1.5v9.429l1-1V2.03a.5.5 0 01.5-.5h3.793L7.6 3.384l.146.146h.637l1-1zm-2.929 10h7.5a.5.5 0 00.5-.5v-7.5l.936-.936a1.5 1.5 0 01.064.436v8a1.5 1.5 0 01-1.5 1.5h-8.5l1-1z",clipRule:"evenodd",fillRule:"evenodd"})),b||(b=/*#__PURE__*/$.createElement("path",{stroke:"currentColor",d:"M1.1 14.176l13-13"})))};function r3(){return(r3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var r5=function(e){return /*#__PURE__*/$.createElement("svg",r3({width:17,height:15,viewBox:"0 0 17 15",xmlns:"http://www.w3.org/2000/svg",fill:"none"},e),w||(w=/*#__PURE__*/$.createElement("path",{fill:"currentColor",d:"M1.445 2.105a.5.5 0 01.5-.5h3.793l1.854 1.854.146.146h6.207a.5.5 0 01.5.5v1.5h1v-1.5a1.5 1.5 0 00-1.5-1.5H8.152L6.3.751 6.152.605H1.945a1.5 1.5 0 00-1.5 1.5v10a1.5 1.5 0 001.5 1.5h5.5v-1h-5.5a.5.5 0 01-.5-.5v-10z",clipRule:"evenodd",fillRule:"evenodd"})),_||(_=/*#__PURE__*/$.createElement("path",{stroke:"currentColor",d:"M12.945 7.605v7m-3.5-3.5h7"})))},r6=n(88404),r8=n(86588),r9=n(60238),r7=n(56820),ie=/*#__PURE__*/n.n(r7),it=function(){var e,t,n,r=(0,er.useRouter)(),o=(0,t6.wK)(),a=(0,$.useRef)(null),s=(0,tF.l)().register,u=(0,r0.Z)(),c=u.getFolderPath,l=u.createFolder,A=u.renameFolder,d=c(null==o?void 0:o.id),f=(0,$.useCallback)(function(){var e,t;a.current.focus(),null===(e=document.getSelection())||void 0===e||e.selectAllChildren(a.current),null===(t=document.getSelection())||void 0===t||t.collapseToEnd()},[]),h=function(e){var t=e.currentTarget.textContent;t!==(null==o?void 0:o.name)&&(e.currentTarget.blur(),A(null!=t?t:"",null==o?void 0:o.id))},p=function(e){r.push("/folder/".concat(e))},g=null==o?void 0:o.teamId,v=(0,$.useCallback)(function(){var e;l({name:"",parentFolderId:null!==(e=null==o?void 0:o.id)&&void 0!==e?e:null,origin:"header",shouldOpen:!1})},[l,null==o?void 0:o.id]);return((0,$.useEffect)(function(){s("renameFolder",f),d.length<r9.p&&g&&s("newFolder",v)},[s,f,v,d.length,g]),o)?/*#__PURE__*/(0,q.jsxs)("div",{className:ie().folderTitleRoot,children:[/*#__PURE__*/(0,q.jsxs)(rJ.c,{children:[(e="#dots#",t=[],(n=d.slice(0,-1)).length<=3?t=n:(t.push(n[0]),t.push({id:e,name:"..."}),t.push(n[n.length-1]),t.push(n[n.length-2])),t.map(function(t){return/*#__PURE__*/(0,q.jsx)(rJ.c.Item,{isReadOnly:!0,value:t.name||rX.Yp,href:"/folder/".concat(t.id),isDisabled:t.id===e,mode:t.id===e?"edit":"link",onLinkClick:function(){return p(t.id)}},t.id)})),/*#__PURE__*/(0,q.jsx)(rJ.c.Item,{ref:a,isReadOnly:!1,value:null==o?void 0:o.name,onBlur:h,onEnter:h,placeholder:rX.Yp,onLinkClick:function(){return p(o.id)}})]}),/*#__PURE__*/(0,q.jsx)(r1.Z,{folder:o,mountedIn:"folderView",dots:{visible:!0},onStartRenaming:f,className:ie().folderDropdown}),d.length<r9.p?/*#__PURE__*/(0,q.jsx)(r8.Z,{text:"New folder",contentClassName:ie().iconTooltip,children:/*#__PURE__*/(0,q.jsx)(r6.J,{width:15,height:13,onClick:v,color:"grey-1000",icon:r5,className:(0,tt.Z)(ie().newFolderIcon)})}):/*#__PURE__*/(0,q.jsx)(r8.Z,{text:"Max ".concat(r9.p," layers of folders"),contentClassName:ie().iconTooltip,children:/*#__PURE__*/(0,q.jsx)(r6.J,{width:15,height:13,onClick:v,color:"grey-1000",icon:r4,className:ie().disabledFolderIcon})})]}):/*#__PURE__*/(0,q.jsx)(r$.yB,{color:"var(--grey-500)",children:/*#__PURE__*/(0,q.jsx)(r$.ZP,{width:"100px"})})},ir=n(39323),ii=/*#__PURE__*/n.n(ir),io=[{url:"all",title:"All"},{url:"recents",title:"Recents"},{url:"created-by-me",title:"Created by Me"},{url:"folders",title:"Folders"},{url:"unsorted",title:"Unsorted"}],ia=function(e){var t,n=e.title,r=e.isActive,o=e.index,a=e.onClick;return(0,eb.Z)((t={},(0,rW.Z)(t,"ctrl+".concat(o),{windows:!1,callback:a}),(0,rW.Z)(t,"alt+".concat(o),{macOS:!1,callback:a}),t)),/*#__PURE__*/(0,q.jsx)(r8.Z,{text:/*#__PURE__*/(0,q.jsx)(e9.P,{className:ii().topNavShortcut,keys:["Control|Alt",String(o)]}),tooltipPopperProps:{placement:"bottom"},children:/*#__PURE__*/(0,q.jsx)("button",{className:(0,tt.Z)(ii().topNavTab,r&&ii().active),onClick:a,"data-testid":"dasbhoard-header-nav-".concat(n.toLowerCase()),children:/*#__PURE__*/(0,q.jsx)("span",{children:n})})})},is=/*#__PURE__*/(0,$.memo)(function(){var e=(0,er.useRouter)(),t=(0,t8.Q)().tabId,n=(0,t6.wK)(),r="archived"===t,o="private"===t;return"search"===t||"github"===t||"templates"===t||"ai-context"===t||"eraserbot"===t||"git-diagram"===t?null:/*#__PURE__*/(0,q.jsxs)(rq.x,{children:[(null==n?void 0:n.id)?/*#__PURE__*/(0,q.jsx)(rq.x.Title,{children:/*#__PURE__*/(0,q.jsx)(it,{})}):o?/*#__PURE__*/(0,q.jsxs)(rq.x.Title,{children:[/*#__PURE__*/(0,q.jsx)("span",{style:{marginRight:6},children:"\uD83D\uDD12"})," Private"]}):r?/*#__PURE__*/(0,q.jsx)(rq.x.Title,{children:"Archive"}):/*#__PURE__*/(0,q.jsx)("div",{className:ii().topNav,children:io.map(function(t,n){var r;return/*#__PURE__*/(0,q.jsx)(ia,{index:n+1,title:t.title,isActive:(r=t.url,e.asPath.indexOf(r)>=0||e.asPath.indexOf("/dashboard/".concat(r))>=0),onClick:function(){return e.push(t.url)}},t.url)})}),/*#__PURE__*/(0,q.jsx)(rY.q,{showRightSide:!o&&!r,searchBarProps:{isOwner:"created-by-me"===t,folderId:"unsorted"===t?null:null==n?void 0:n.id}})]})}),iu=function(e){var t=e.hideSplashOnLoad,n=void 0===t||t,r=e.children,o=(0,eD.DJ)().currentTeamId,a=(0,eD.mZ)(),s=(0,eD.MV)(),u=(0,er.useRouter)(),c=a&&0===a.size;return((0,ez.Z)(function(){if(s){if(c){u.push("/team/join");return}n&&(0,ey.hf)()}},[s,c,n,u]),o&&!s)?/*#__PURE__*/(0,q.jsx)(q.Fragment,{children:r}):s&&!c&&o?/*#__PURE__*/(0,q.jsx)(q.Fragment,{children:r}):null},ic=n(24600),il=n(16962),iA=n(31592),id=/*#__PURE__*/n.n(iA),ih=n(91232),ip=n(89911),ig=n(2595),iv=n(69071),im=n(6021),iy=n(87076),ib=n(90910),iw=/*#__PURE__*/n.n(ib),i_=n(59858),iE=n(75426),iC=function(e){var t,n=e.onClose,r=e.isOpen,o=e.onSwitchTeam,a=(0,$.useState)(),s=a[0],u=a[1],c=(0,eI.aF)(),l=(0,ig.Z)(),A=(0,iv.Z)(im.Z),d=(0,i_.Z)();(0,$.useEffect)(function(){u(void 0)},[r]);var f=(0,$.useCallback)((t=(0,z.Z)(function(e){return(0,W.__generator)(this,function(t){switch(t.label){case 0:if(e.preventDefault(),!s||!c)return[2];return[4,l.promise(A.execute(s,c.id,{origin:"dashboard",isAutoJoin:!0}),{loading:"Joining team",success:"Joined team",error:"Something went wrong"})];case 1:return t.sent(),o(s),n(),[2]}})}),function(e){return t.apply(this,arguments)}),[s,c,A.execute,o,n]);return/*#__PURE__*/(0,q.jsx)(e3.Z,{title:"Join Team",className:iw().teamJoinModal,onClose:n,isOpen:r,hideCloseButton:!0,children:d?/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsx)(iy.D,{teamsToJoin:d}),/*#__PURE__*/(0,q.jsxs)("form",{onSubmit:f,children:[/*#__PURE__*/(0,q.jsx)(iy.Z,{className:iw().teams,onSelectionChange:u,teamsToJoin:d}),/*#__PURE__*/(0,q.jsxs)("div",{className:iw().buttons,children:[/*#__PURE__*/(0,q.jsx)(tK.ZP,{variant:tK.ZP.Variants.TRANSPARENT,size:tK.ZP.Sizes.LARGE,onClick:n,children:"Cancel"}),/*#__PURE__*/(0,q.jsx)(tK.ZP,{variant:tK.ZP.Variants.REGULAR,size:tK.ZP.Sizes.LARGE,type:"submit",disabled:!s,"data-testid":"join-team-button",children:"Join Team"})]})]})]}):/*#__PURE__*/(0,q.jsx)(iE.Z,{})})},iB=n(51516),iI=n(61649),ix=n(54229),iT=n(21746),iS=n(405),ik=function(e){var t=e.teamId,n=e.displayName,r=e.onClick,o=e.isSelected,a=e.isCurrent,s=(0,e0.Z)(e,["teamId","displayName","onClick","isSelected","isCurrent"]),u=(0,iT.Sz)(iS.G,function(e){var n,r;return null===(r=null==e?void 0:null===(n=e.userTeamsById)||void 0===n?void 0:n.get(t))||void 0===r?void 0:r.name}),c=(0,$.useCallback)(function(){return null==r?void 0:r(t)},[t,r]);return/*#__PURE__*/(0,q.jsxs)(tv.Z,(0,eE.Z)((0,G.Z)({isLoading:!u&&!n,isSelected:o,onClick:c},s),{children:[n||u,a&&/*#__PURE__*/(0,q.jsx)("small",{style:{opacity:.4},children:a?" (current team)":""})]}))},iD=function(e){var t=e.teams,n=e.selectedTeamId,r=e.onSwitch,o=(0,e0.Z)(e,["teams","selectedTeamId","onSwitch"]);return t&&t.length?/*#__PURE__*/(0,q.jsx)(q.Fragment,{children:t.map(function(e){var t=e.id,a=e.displayName,s=n===t;return/*#__PURE__*/(0,q.jsx)(ik,(0,G.Z)({isSelected:s,teamId:t,displayName:a,onClick:r},o),t)})}):null},iN=n(27198),iO=n(34315),iF=/*#__PURE__*/n.n(iO),iR=n(95184),iL=function(e){var t=e.teamName;return/*#__PURE__*/(0,q.jsxs)("span",{className:iF().currentTeam,children:[/*#__PURE__*/(0,q.jsx)("span",{className:iF().currentTeamLogo,children:/*#__PURE__*/(0,q.jsx)(ip.$q,{})}),/*#__PURE__*/(0,q.jsx)("span",{className:iF().currentTeamName,children:t||""})]})},iM=function(){var e=(0,eJ.Z)(),t=e.onOpen,n=e.onClose,r=e.isOpen,o=(0,eI.aF)(),a=(0,eD.lh)(),s=(0,il.MO)().onSearchBarClose,u=(0,iB.Y)().openSettingsModal,c=(0,tQ.Z)((0,eD.p3)(),2),l=c[0],A=c[1],d=(0,$.useCallback)(function(e){A(e,{shouldResetFolder:!0}),s()},[A,s]),f=(0,er.useRouter)(),h=(0,$.useCallback)(function(){f.push("/auth/logout")},[f]);return(0,eb.Z)({"shift+alt+s":function(){return u()}},{stopCallback:null}),/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsx)(iC,{isOpen:r,onClose:n,onSwitchTeam:d}),/*#__PURE__*/(0,q.jsxs)(tG.Lt,{minWidth:210,title:/*#__PURE__*/(0,q.jsx)(iL,{teamName:null==l?void 0:l.name}),toggleClassNames:{button:iF().sidebarDropdown,caret:iF().sidebarDropdownCaret},children:[/*#__PURE__*/(0,q.jsx)(iD,{teams:a||[],onSwitch:d,selectedTeamId:null==l?void 0:l.id}),/*#__PURE__*/(0,q.jsx)(tG.KE,{}),/*#__PURE__*/(0,q.jsx)(tv.Z,{onClick:t,label:"Join or Create Team",icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:ix.Z})}),/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"Settings",icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:iR.Z}),onClick:function(){return u({openedPane:"members"})},rightElement:/*#__PURE__*/(0,q.jsx)(e9.P,{keys:["Shift","AltOrOption","S"]})}),/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"Logout",onClick:h,icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:iI.Z})}),/*#__PURE__*/(0,q.jsx)(tG.KE,{}),/*#__PURE__*/(0,q.jsx)(iN.Z,{user:o,style:{margin:"10px 7px"}})]})]})},iP=n(9622);function iU(){return(iU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ij=function(e){return /*#__PURE__*/$.createElement("svg",iU({width:15,height:9,viewBox:"0 0 15 9",xmlns:"http://www.w3.org/2000/svg"},e),E||(E=/*#__PURE__*/$.createElement("path",{d:"M0 .5h15m-15 8h15m-15-4h15",fill:"none",stroke:"currentColor"})))};function iZ(){return(iZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var iQ=function(e){return /*#__PURE__*/$.createElement("svg",iZ({width:13,height:11,viewBox:"0 0 13 11",xmlns:"http://www.w3.org/2000/svg"},e),C||(C=/*#__PURE__*/$.createElement("circle",{cx:5,cy:5,r:4.25,fill:"none",stroke:"currentColor",strokeWidth:1.5})),B||(B=/*#__PURE__*/$.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",d:"M9.061 8L11 9.939"})))},iH=n(93664),iV=/*#__PURE__*/n.n(iH),iK=function(e){var t=e.onSidebarToggle,n=(0,$.useState)(!1),r=n[0],o=n[1];return/*#__PURE__*/(0,q.jsxs)("div",{className:iV().mobileHeader,children:[/*#__PURE__*/(0,q.jsx)("button",{className:iV().toggleButton,onClick:t,children:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:ij})}),/*#__PURE__*/(0,q.jsx)(iM,{}),/*#__PURE__*/(0,q.jsx)("button",{className:iV().toggleButton,onClick:function(){return o(!0)},children:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:iQ})}),/*#__PURE__*/(0,q.jsxs)("div",{className:(0,tt.Z)(iV().searchContainer,r&&iV().searchContainerActive),children:[/*#__PURE__*/(0,q.jsx)(ih.Z,{}),/*#__PURE__*/(0,q.jsx)("button",{className:iV().toggleButton,onClick:function(){return o(!1)},children:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:iP.Z})})]})]})},iz=n(59509),iG=n(56318),iW=n(85580),iq=n(18001),iY=/*#__PURE__*/n.n(iq),i$=n(37214),iX=n(49678),iJ=function(e){var t=e.depth,n=e.folder,r=e.onClick,o=e.position,a=e.activeTab,s=e.onKeyDown,u=e.accordionButton,c=(0,$.useRef)(null),l=(0,iW.Q)(n),A=l.isDraggingFolder,d=l.dragRef,f=l.previewRef,h=(0,r0.Z)(),p=h.folders,g=h.folderTree,v=h.getFolderPath,m=h.createFolder,y=h.updateFolderOrder,b=h.updateFolder,w=(0,$.useCallback)(function(){m({name:"",parentFolderId:n.id,origin:"sidebar",shouldOpen:!1})},[m,n.id]),_=(0,$.useCallback)(function(e){var t=e.targetFolder,n=e.folderDropSide,r=e.draggingFolder;if(p){if("on"===n){if(v(t.id).length+(0,iX.ZN)(r.id,g).reduce(function(e,t){return e>t.length?e:t.length},0)>r9.p)return;b(r.id,{parentFolderId:t.id})}else{var o=t.order+("before"===n?-1:0),a=t.parentFolderId;y(r.id,a,o)}}},[p,g,v,y,b]),E=(0,iW.z)({targetFolder:n,rootRef:c,onFolderReorder:_}),C=E.dropRef,B=E.isDroppingWorkspace,I=E.isDroppingFolder,x=E.folderDropSide;return/*#__PURE__*/(0,q.jsx)(i$.M,{textSize:"medium",onClick:r,tabHeight:"medium",isActive:a,onKeyDown:s,tabPosition:o,isDragging:A,content:/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[u,/*#__PURE__*/(0,q.jsx)("span",{className:iY().folderName,"data-testid":"sidebar-folder-".concat(n.name||rX.Yp),children:n.name||rX.Yp}),t<r9.p-1&&a&&/*#__PURE__*/(0,q.jsx)(r8.Z,{text:"New sub folder",contentClassName:(0,tt.Z)(iY().subfolderTooltip),children:/*#__PURE__*/(0,q.jsx)("button",{type:"button",onClick:w,className:iY().newFolderIcon,children:/*#__PURE__*/(0,q.jsx)(r6.J,{width:15,height:13,color:"grey-1000",icon:r5})})})]}),dragRefs:{containerRef:c,previewRef:f,dragRef:d,dropRef:C},dropTarget:B?"on":I?x:"none"})},i0=n(95634),i1=n(34006),i2=/*#__PURE__*/n.n(i1),i4=function(e){var t=e.label,n=e.onSave,r=e.className,o=(0,$.useRef)(null),a=(0,$.useState)(null!=t?t:""),s=a[0],u=a[1];(0,$.useEffect)(function(){setTimeout(function(){var e;null===(e=o.current)||void 0===e||e.focus()},50)},[]);var c=(0,$.useCallback)(function(e){"Enter"===e.key&&n(e.target.value)},[n]),l=(0,$.useCallback)(function(){n(s)},[n,s]),A=(0,$.useCallback)(function(e){var t=e.target.value;t.length>rX.JR||u(t)},[]);return(0,i0.Z)(l),/*#__PURE__*/(0,q.jsx)("input",{value:s,ref:o,onBlur:l,onKeyUp:c,onChange:A,placeholder:t?"":rX.Yp,className:(0,tt.Z)(i2().input,r)})},i3=n(26514),i5=/*#__PURE__*/n.n(i3),i6=function(e){var t,n=e.index,r=e.depth,o=e.folder,a=e.currentFolderId,s=e.sameLevelFolders,u=(0,r0.Z)(),c=u.openFolder,l=u.closeFolder,A=u.openFolders,d=u.switchFolder,f=u.toggleFolder,h=u.renamingFolder,p=u.renameFolder,g=o.children,v=o.parentFolderId,m=!!(null==g?void 0:g.length),y=!v,b=A.has(o.id),w=h&&o.id===h.id&&"sidebar"===h.origin&&(!v||A.has(v));return/*#__PURE__*/(0,q.jsxs)("div",{className:i5().accordionContainer,children:[/*#__PURE__*/(0,q.jsx)("div",{className:i5().parentFolder,children:w?/*#__PURE__*/(0,q.jsx)(i4,{label:o.name,onSave:p,className:(0,tt.Z)(i5().active,i5().renamingFolder,!!o.parentFolderId&&i5().nested)},o.id):/*#__PURE__*/(0,q.jsx)(iJ,{depth:r,folder:o,onKeyDown:function(e){"ArrowRight"===e.key?c(o.id):"ArrowLeft"===e.key&&l(o.id)},activeTab:a===o.id,accordionButton:y||m?/*#__PURE__*/(0,q.jsx)(iG.j,{isExpanded:b,onClick:function(e){m&&(e.stopPropagation(),f(o.id))},isIconVisible:m}):null,onClick:function(){return d("folder",o.id)},position:(t=s.length,0===n?"first":n===t-1?"last":"inBetween")},o.id)}),/*#__PURE__*/(0,q.jsx)("div",{className:i5().childFolders,style:{display:b?"block":"none"},children:null==g?void 0:g.map(function(e,t){return/*#__PURE__*/(0,q.jsx)(i6,{index:t,folder:e,depth:r+1,sameLevelFolders:g,currentFolderId:a},e.id)})})]})},i8=n(39231),i9=n(9563),i7=/*#__PURE__*/n.n(i9),oe=function(e){var t=e.title,n=e.iconProps,r=void 0===n?{icon:i8.Z}:n,o=e.className,a=e.onClick,s=e.iconToolTipProps;return/*#__PURE__*/(0,q.jsxs)("div",{className:(0,tt.Z)(i7().sectionTitle,o),children:[/*#__PURE__*/(0,q.jsx)("span",{children:t}),function(){if(!a)return null;var e=/*#__PURE__*/(0,q.jsx)("button",{onClick:a,className:i7().iconButton,children:/*#__PURE__*/(0,q.jsx)(r6.J,(0,eE.Z)((0,G.Z)({},r),{color:"grey-1000",className:i7().icon}))});return s?/*#__PURE__*/(0,q.jsx)(r8.Z,(0,eE.Z)((0,G.Z)({},s),{contentClassName:i7().tooltipRoot,children:e})):e}()]})},ot=n(605),on=/*#__PURE__*/n.n(ot),or=function(){var e=(0,er.useRouter)(),t=(0,tF.l)().register,n=(0,t6.MZ)(),r=(0,r0.Z)(),o=r.topLevelFolders,a=r.switchFolder,s=r.closeFolder,u=r.createFolder,c=(0,$.useCallback)(function(){u({name:"",parentFolderId:void 0,origin:"sidebar",shouldOpen:!0})},[u]);(0,$.useEffect)(function(){n||t("newFolder",c)},[t,n,c]);var l=function(t){var r=["/dashboard/all","/dashboard/recents","/dashboard/created-by-me","/dashboard/folders","/dashboard/unsorted"].concat((0,tr.Z)(o)),u=e.asPath.split("?")[0],c=(r.findIndex(function(e){return"string"==typeof e?e===u:e.id===n})+("next"===t?1:-1)+r.length)%r.length,l=r[c];if(l){if("string"==typeof l){e.push(l);return}n&&s(n),a("folder",l.id)}};return(0,eb.Z)({"alt+shift+f":c,"]":function(){return l("next")},"[":function(){return l("prev")}}),/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsx)(oe,{title:"Team folders",onClick:c,className:on().noMarginTop,iconProps:{icon:r5,width:15,height:13},iconToolTipProps:{text:"New folder",placement:"right"}}),/*#__PURE__*/(0,q.jsx)("div",{className:on().foldersList,"data-testid":"sidebar-folders-list",children:o.map(function(e,t){return/*#__PURE__*/(0,q.jsx)(i6,{depth:0,index:t,folder:e,currentFolderId:n,sameLevelFolders:o},e.id)})})]})},oi=n(99283),oo=n(81337),oa=n(29340),os=n(46131),ou=n(57448),oc=function(e){var t=e.teamId,n=e.tabId,r=(0,t_.E$)().repositoriesMap,o=(0,tR.Q6)(eN.AC.PrivateWorkspaces,t),a=[],s={key:"newTemplate",icon:/*#__PURE__*/(0,q.jsx)(ou.Z,{}),label:"New from Template",shortcutKeys:["Control|Alt","T"]},u=Array.from((null==r?void 0:r.entries())||[]).some(function(e){return e[1].length>0});return(o||u)&&a.push({key:"new",label:"New File",icon:/*#__PURE__*/(0,q.jsx)(os.Z,{}),shortcutKeys:["Control|Alt","N"]}),"templates"!==n&&a.push(s),o&&"private"!==n&&a.push({key:"private",icon:/*#__PURE__*/(0,q.jsx)(oa.Z,{}),label:"New Private File",shortcutKeys:["Control|Alt","Shift","N"]}),u&&a.push({key:"gitHub",icon:/*#__PURE__*/(0,q.jsx)(oo.Z,{}),label:"New Github File",shortcutKeys:["Control|Alt","CtrlOrCmd","N"]}),a},ol=n(84771),oA=/*#__PURE__*/n.n(ol),od=function(e,t){var n,r,o=(0,t5.k_)(),a=(0,t5.dr)();return"private"===e?(n="New Private File",r=["Control|Alt","Shift","N"]):o&&a?(n="New GitHub File",r=["Control|Alt","CtrlOrCmd","N"]):"templates"===e?(n="New Template",r=["Control|Alt","T"]):"ai-context"===e?(n=t.contextId?"New Reference":"New Library",r=[]):(n="New File",r=["Control|Alt","N"]),/*#__PURE__*/(0,q.jsxs)("span",{className:oA().newFileText,children:[n,/*#__PURE__*/(0,q.jsx)(e9.P,{className:oA().shortcut,keys:r})]})},of=n(57695),oh=n(75280),op=function(){var e=(0,er.useRouter)(),t=(0,t6.MZ)(),n=(0,tq.QR)(),r=(0,t8.Q)().tabId,o=(0,$.useContext)(t9),a=o.openGitHubModal,s=o.setCreationState,u=o.createNewWorkspace,c=o.openTemplatesModal,l=o.isCreatingWorkspace,A=(0,of.Su)().analyticsService,d=(0,iB.Y)().openSettingsModal,f=(0,eI.II)(),h=(0,eD.LP)(),p=(0,tR.Bv)({featureName:eN.M$.PremiumCredits,userId:f,teamId:h,immediateCallbackWithLimit:!0}),g=(0,tR.Q6)(eN.AC.CustomAiContext,h),v=e.query.contextId,m="private"===r,y="templates"===r,b="ai-context"===r,w=((0,t5.k_)()||{}).id,_=((0,t5.dr)()||{}).id,E=!!(null==p?void 0:p.limit),C=oc({teamId:h,tabId:r}),B=C.length>0,I=w&&_,x=od(r,e.query),T=b&&(!E||b&&v&&!g),S=function(){I?s({gitHub:{fileName:"",filePath:"",repositoryId:w,organizationId:_}}):y?s({isNewTemplate:!0}):s({folderId:t,isPrivate:m}),c()},k=function(e){return"private"===e||"new"===e&&m?(s({isPrivate:!0,eventSource:"header_shortcut"}),u()):"gitHub"===e?(s({eventSource:"header_shortcut"}),a()):"new"===e&&I?(s({eventSource:"header_shortcut",gitHub:{fileName:"",filePath:"",repositoryId:w,organizationId:_}}),a()):"newTemplate"===e?S():(s({folderId:t,eventSource:"header_shortcut"}),u())};return(0,eb.Z)({"alt+n":{macOS:!1,callback:function(){return k("new")}},"ctrl+n":{windows:!1,callback:function(){return k("new")}},"alt+ctrl+n":{macOS:!1,callback:function(){return k("gitHub")}},"alt+t":{macOS:!1,callback:function(){return k("newTemplate")}},"alt+shift+n":{macOS:!1,callback:function(){return k("private")}},"ctrl+t":{windows:!1,callback:function(){return k("newTemplate")}},"ctrl+meta+n":{windows:!1,callback:function(){return k("gitHub")}},"ctrl+shift+n":{windows:!1,callback:function(){return k("private")}}}),/*#__PURE__*/(0,q.jsx)(q.Fragment,{children:/*#__PURE__*/(0,q.jsxs)("div",{className:oA().buttonsRoot,children:[/*#__PURE__*/(0,q.jsxs)(tK.ZP,{onClick:function(){return I?(s({eventSource:"header_button",gitHub:{fileName:"",filePath:"",repositoryId:w,organizationId:_}}),a()):m?(s({isPrivate:!0,eventSource:"header_button"}),u()):y?(s({isNewTemplate:!0}),u()):b?(A.trackEvent("payment","open_billing_pane",{source:"aiContextSidebar",featureName:eN.AC.CustomAiContext}),d({openedPane:"plans",paywallFeature:eN.AC.CustomAiContext})):(s({folderId:t,eventSource:"header_button"}),u())},size:tK.ZP.Sizes.LARGE,"data-testid":"new-file-button",isLoading:l,variant:tK.ZP.Variants.REGULAR,className:(0,tt.Z)(oA().leftButton,B&&oA().leftButtonSplit),tooltipClassName:oA().leftButton,title:T?"Contact us for access":void 0,children:[x," ",T&&/*#__PURE__*/(0,q.jsx)(oh.Z,{variant:"primary",inverted:!0,className:"marginLeftLarge"})]}),B&&/*#__PURE__*/(0,q.jsxs)(tq.GI,{controller:n,children:[/*#__PURE__*/(0,q.jsx)(tq.GI.Toggle,{children:/*#__PURE__*/(0,q.jsx)(tK.ZP,{className:oA().rightButton,disabled:l,children:/*#__PURE__*/(0,q.jsx)(oi.Z,{})})}),/*#__PURE__*/(0,q.jsx)(tq.GI.Menu,{placement:"top-start",children:C.map(function(e){var r=e.key,o=e.label,c=e.icon,l=e.shortcutKeys;return/*#__PURE__*/(0,q.jsx)(tq.Wx,{icon:c,label:o,onClick:function(){return(n.closePopup(),"private"===r)?(s({isPrivate:!0,eventSource:"header_button"}),u()):"gitHub"===r?(s({eventSource:"header_button"}),a()):"newTemplate"===r?S():(s({folderId:t,eventSource:"header_button"}),u())},rightElement:/*#__PURE__*/(0,q.jsx)(e9.P,{keys:l})},r)})})]})]})})},og=n(39202),ov=n(93995),om=n(40758),oy=n(20790),ob=n(42946),ow=n(73064),o_=/*#__PURE__*/n.n(ow),oE=function(e){var t=e.activeTab,n=e.onTabChange,r=(0,eD.LP)(),o=(0,eI.II)(),a=(0,iB.Y)().openSettingsModal,s=(0,t_.E$)().organizations,u=(0,tR.Q6)(eN.AC.PrivateWorkspaces,r),c=(0,tR.Bv)({featureName:eN.M$.PremiumCredits,teamId:r,userId:o,immediateCallbackWithLimit:!0}),l=function(){n("github")},A=function(){n("templates"),eT.Z.trackEvent("templates_page","sidebar_tab")},d=function(){n("ai-context")},f=function(){u?n("private"):(a({openedPane:"plans",paywallFeature:eN.AC.PrivateWorkspaces}),eT.Z.trackEvent("payment","open_billing_pane",{source:"privateFilesSidebar",featureName:eN.AC.PrivateWorkspaces}))},h=function(){n("eraserbot")},p=function(){n("archived")},g=function(){n("git-diagram")};return((0,eb.Z)({p:function(){return f()},g:function(){return l()},e:function(){return p()},t:function(){return A()},c:function(){return d()},b:function(){return h()},d:function(){return g()}}),r)?/*#__PURE__*/(0,q.jsxs)("div",{className:o_().root,children:[/*#__PURE__*/(0,q.jsxs)("div",{className:o_().footerTabsContainer,children:[og.g.isFeatureEnabled("pr_bot")&&/*#__PURE__*/(0,q.jsx)(i$.M,{textSize:"medium",tabHeight:"small",content:/*#__PURE__*/(0,q.jsxs)("div",{className:o_().gitHubLabelContainer,children:[/*#__PURE__*/(0,q.jsx)("span",{children:"Eraserbot"}),/*#__PURE__*/(0,q.jsx)(ov.vw,{className:o_().gitHubBadge})]}),onClick:h,icon:/*#__PURE__*/(0,q.jsx)(ob.Z,{width:14,height:14}),isActive:"eraserbot"===t,shortcut:/*#__PURE__*/(0,q.jsx)(e9.P,{keys:["B"]})}),og.g.isFeatureEnabled("git_diagram")&&/*#__PURE__*/(0,q.jsx)(i$.M,{textSize:"medium",tabHeight:"small",content:"Git Diagrammer",onClick:g,icon:/*#__PURE__*/(0,q.jsx)(oo.Z,{}),isActive:"git-diagram"===t,shortcut:/*#__PURE__*/(0,q.jsx)(e9.P,{keys:["D"]})}),/*#__PURE__*/(0,q.jsx)(i$.M,{textSize:"medium",tabHeight:"small",content:(null==c?void 0:c.limit)?"AI References":/*#__PURE__*/(0,q.jsxs)("div",{className:o_().pricingPlanTabContainer,children:[/*#__PURE__*/(0,q.jsx)("span",{children:"AI References"}),/*#__PURE__*/(0,q.jsx)(oh.Z,{})]}),onClick:d,icon:/*#__PURE__*/(0,q.jsx)(oy.Z,{width:14,height:14}),isActive:"ai-context"===t,shortcut:(null==c?void 0:c.limit)?/*#__PURE__*/(0,q.jsx)(e9.P,{keys:["C"]}):void 0}),/*#__PURE__*/(0,q.jsx)(i$.M,{textSize:"medium",tabHeight:"small",content:"Team Templates",onClick:A,icon:/*#__PURE__*/(0,q.jsx)(ou.Z,{}),isActive:"templates"===t,shortcut:/*#__PURE__*/(0,q.jsx)(e9.P,{keys:["T"]})}),!(null==s?void 0:s.length)&&/*#__PURE__*/(0,q.jsx)(i$.M,{textSize:"medium",tabHeight:"small",onClick:l,content:/*#__PURE__*/(0,q.jsxs)("div",{className:o_().gitHubLabelContainer,children:[/*#__PURE__*/(0,q.jsx)("span",{children:"Github Sync"}),/*#__PURE__*/(0,q.jsx)(ov.vw,{className:o_().gitHubBadge})]}),isActive:"github"===t,icon:/*#__PURE__*/(0,q.jsx)(oo.Z,{}),shortcut:/*#__PURE__*/(0,q.jsx)(e9.P,{keys:["G"]})}),/*#__PURE__*/(0,q.jsx)(i$.M,{textSize:"medium",tabHeight:"small",onClick:f,content:u?"Private Files":/*#__PURE__*/(0,q.jsxs)("div",{className:o_().pricingPlanTabContainer,children:[/*#__PURE__*/(0,q.jsx)("span",{children:"Private Files"}),/*#__PURE__*/(0,q.jsx)(oh.Z,{})]}),icon:/*#__PURE__*/(0,q.jsx)(oa.Z,{}),isActive:"private"===t,shortcut:u?/*#__PURE__*/(0,q.jsx)(e9.P,{keys:["P"]}):void 0}),/*#__PURE__*/(0,q.jsx)(i$.M,{textSize:"medium",tabHeight:"small",content:"Archive",icon:/*#__PURE__*/(0,q.jsx)(om.Z,{}),isActive:"archived"===t,onClick:p,shortcut:/*#__PURE__*/(0,q.jsx)(e9.P,{keys:["E"]})})]}),/*#__PURE__*/(0,q.jsx)(op,{})]}):null},oC=n(79183),oB=n(52365),oI=/*#__PURE__*/n.n(oB),ox=n(34569),oT=n(59296),oS=function(e){var t=e.workspace,n=e.targetRepositoryId,r=e.targetOrganizationId;if(t.isPrivate||t.isArchived)return!1;if(!t.gitHubRepository)return!0;var o=t.gitHubRepository,a=o.organizationId,s=o.repositoryId;return a!==r||s!==n},ok=function(e){var t=e.onWorkspaceDrop,n=e.targetRepositoryId,r=e.targetOrganizationId,o=(0,$.useCallback)(function(e,n){n.getItemType()===oT.L.Workspace&&t(e)},[t]),a=(0,tQ.Z)((0,ox.L)({drop:o,accept:[oT.L.Workspace,oT.L.Folder],canDrop:function(e,t){return t.getItemType()===oT.L.Workspace&&oS({targetRepositoryId:n,targetOrganizationId:r,workspace:e})},collect:function(e){var t=e.getItemType();return{isDroppingWorkspace:e.isOver()&&e.canDrop()&&t===oT.L.Workspace}}},[o]),2),s=a[0].isDroppingWorkspace;return{dropRef:a[1],isDroppingWorkspace:s}},oD=function(e){var t=e.onWorkspaceDrop,n=e.organization,r=e.repository,o=e.onClick,a=e.isActive,s=ok({onWorkspaceDrop:t,targetRepositoryId:r.id,targetOrganizationId:n.id}),u=s.dropRef,c=s.isDroppingWorkspace;return/*#__PURE__*/(0,q.jsx)(i$.M,{isExpandable:!0,textSize:"medium",onClick:o,tabHeight:"medium",isActive:a,dragRefs:{dropRef:u},content:/*#__PURE__*/(0,q.jsxs)("span",{className:iY().repositoryName,children:[n.name,"/",r.name]}),dropTarget:c?"on":void 0,accordionButtonProps:{isIconVisible:!1,isExpanded:!1}})},oN=n(17062),oO=function(){var e=(0,er.useRouter)(),t=(0,eJ.Z)(),n=t.isOpen,r=t.onClose,o=t.onOpen,a=(0,t5.dr)(),s=(0,t_.E$)(),u=s.organizations,c=s.repositoriesMap,l=(0,t5.$m)(),A=l.organizationName,d=l.repositoryName,f=(0,$.useState)({}),h=f[0],p=f[1],g=(0,$.useState)({}),v=g[0],m=g[1],y=(0,$.useCallback)(function(e,t){"toggle"===t?m((0,eE.Z)((0,G.Z)({},v),(0,rW.Z)({},e,!v[e]))):v[e]!==t&&m((0,eE.Z)((0,G.Z)({},v),(0,rW.Z)({},e,t)))},[v]);(0,$.useEffect)(function(){a&&d&&y(a.id,!0)},[a,d,y]);var b=function(t,n){e.push("/github/".concat(t.name,"/").concat(n.name))};return(null==u?void 0:u.length)?/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsx)(oe,{title:/*#__PURE__*/(0,q.jsxs)("span",{className:oI().badgeWrapper,children:["Github Sync ",/*#__PURE__*/(0,q.jsx)(oC.Z,{className:oI().badge})]})}),/*#__PURE__*/(0,q.jsx)("div",{className:oI().integrationsList,children:null==u?void 0:u.flatMap(function(e){var t;return t=e.id,u&&c&&c.has(t)?c.get(t).filter(function(e){return!e.disabled&&e.enableSync}).map(function(e){var n=u.find(function(e){return e.id===t});return{isActive:A===n.name&&d===e.name,repository:e,organization:n,onClick:function(){return b(n,e)},onWorkspaceDrop:function(n){o(),p({workspace:n,organizationId:t,repositoryId:e.id})}}}):[]}).map(function(e,t){return/*#__PURE__*/(0,q.jsx)(oD,(0,G.Z)({},e),t)})}),n&&h.workspace&&h.organizationId&&h.repositoryId&&/*#__PURE__*/(0,q.jsx)(oN.b,{isOpen:!0,onClose:function(){r(),p({})},workspace:h.workspace,repositoryId:h.repositoryId,organizationId:h.organizationId})]}):null};function oF(){return(oF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var oR=function(e){return /*#__PURE__*/$.createElement("svg",oF({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),I||(I=/*#__PURE__*/$.createElement("path",{d:"M1.7.5A1.2 1.2 0 00.5 1.7v2.6a1.2 1.2 0 001.2 1.2h2.6a1.2 1.2 0 001.2-1.2V1.7A1.2 1.2 0 004.3.5H1.7zM7.7.5a1.2 1.2 0 00-1.2 1.2v2.6a1.2 1.2 0 001.2 1.2h2.6a1.2 1.2 0 001.2-1.2V1.7A1.2 1.2 0 0010.3.5H7.7zM1.7 6.5A1.2 1.2 0 00.5 7.7v2.6a1.2 1.2 0 001.2 1.2h2.6a1.2 1.2 0 001.2-1.2V7.7a1.2 1.2 0 00-1.2-1.2H1.7zM7.7 6.5a1.2 1.2 0 00-1.2 1.2v2.6a1.2 1.2 0 001.2 1.2h2.6a1.2 1.2 0 001.2-1.2V7.7a1.2 1.2 0 00-1.2-1.2H7.7z",fill:"currentColor"})))},oL=n(75194),oM=n(24289),oP=/*#__PURE__*/n.n(oM),oU=n(76794),oj=n(1031),oZ=/*#__PURE__*/n.n(oj),oQ=n(88859),oH=function(e){var t=e.className,n=(0,eD.LP)(),r=(0,tR.Bv)({featureName:eN.M$.Workspaces,teamId:n}),o=(0,iB.Y)().openSettingsModal,a=(0,$.useCallback)(function(){o({openedPane:"plans",paywallFeature:eN.M$.Workspaces}),eT.Z.trackEvent("payment","open_billing_pane",{source:"limitBar",featureName:eN.M$.Workspaces})},[o]);if(!r||r.limit===oQ.fY)return null;var s=r.limit,u=r.current;return/*#__PURE__*/(0,q.jsxs)("div",{className:(0,tt.Z)(oZ().workspaceLimitCard,t),children:[/*#__PURE__*/(0,q.jsx)("h4",{children:"Eraser Free Trial"}),/*#__PURE__*/(0,q.jsx)("div",{className:oZ().progressWrapper,children:/*#__PURE__*/(0,q.jsx)(oU.Z,{className:oZ().progress,featureName:eN.M$.Workspaces,current:u,limit:s,shortExplanation:!0})}),/*#__PURE__*/(0,q.jsx)("span",{children:"Upgrade your plan for unlimited files & more features"}),/*#__PURE__*/(0,q.jsx)(tK.ZP,{className:oZ().upgradeBtn,onClick:a,children:"Upgrade"})]})},oV=function(e){var t=e.activeTab,n=e.sidebarOpenMobile,r=e.onSidebarClose,o=(0,oL.d)(),a=(0,t6.wK)(),s=(0,r0.Z)().switchFolder,u=(0,eD.S5)();(0,$.useEffect)(function(){r()},[a,r]);var c=o?(0,tt.Z)(oP().mobileSidebar,n&&oP().mobileSidebarOpen):void 0,l=(0,$.useCallback)(function(e){s(e),setTimeout(function(){return r()},100)},[r,s]),A=(0,$.useCallback)(function(){l("all")},[l]),d=(0,$.useCallback)(function(){l("history")},[l]),f=(0,$.useCallback)(function(){l("private")},[l]),h=(0,$.useCallback)(function(){u&&ei().push("/workspace/".concat(u))},[u]);(0,eb.Z)({a:A,h:d,p:f,"ctrl+alt+right":h});var p=["all","recents","created-by-me","folders","unsorted"].includes(t);return/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[o&&n&&/*#__PURE__*/(0,q.jsx)("div",{className:oP().sidebarOverlay,onClick:r}),/*#__PURE__*/(0,q.jsxs)("div",{className:(0,tt.Z)(oP().container,c),children:[!o&&/*#__PURE__*/(0,q.jsx)("div",{className:oP().sidebarMenuContainer,children:/*#__PURE__*/(0,q.jsx)(iM,{})}),/*#__PURE__*/(0,q.jsx)("div",{className:oP().topSection,children:/*#__PURE__*/(0,q.jsx)(i$.M,{content:"All Files",onClick:A,isActive:p,icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:oR}),shortcut:/*#__PURE__*/(0,q.jsx)(e9.P,{keys:["A"]}),classNames:{root:oP().topSectionTab,content:oP().topSectionTabContent}})}),/*#__PURE__*/(0,q.jsxs)("div",{className:oP().foldersWrapper,children:[/*#__PURE__*/(0,q.jsxs)("div",{className:oP().listContainer,children:[/*#__PURE__*/(0,q.jsx)(or,{}),/*#__PURE__*/(0,q.jsx)(oO,{})]}),!o&&/*#__PURE__*/(0,q.jsx)(oH,{})]}),!o&&/*#__PURE__*/(0,q.jsx)(oE,{onTabChange:l,activeTab:t}),/*#__PURE__*/(0,q.jsx)("div",{})]})]})},oK=n(44498),oz=n(66230),oG=n(31583),oW=n(95757),oq=n(53047),oY=/*#__PURE__*/n.n(oq);function o$(){return(o$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var oX=function(e){return /*#__PURE__*/$.createElement("svg",o$({width:13,height:7,viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg"},e),x||(x=/*#__PURE__*/$.createElement("path",{d:"M6 4.6C2 4.6.4.6.4.6m5.6 4c4 0 5.6-4 5.6-4M6 4.6v2M.8 5l1.6-1.6m7.2 0L11.2 5",fill:"none",stroke:"currentColor"})))},oJ={modifiers:[{name:"offset",options:{offset:[0,20]}}]},o0=(T={},(0,rW.Z)(T,tx.c.OpenInsertMenu,"Use the Insert menu"),(0,rW.Z)(T,tx.c.AddFigure,"Make a Figure"),(0,rW.Z)(T,tx.c.GenerateAiDiagram,"Generate an AI diagram"),(0,rW.Z)(T,tx.c.GenerateDiagramWithCode,"Make a diagram with code"),(0,rW.Z)(T,tx.c.InviteTeamMember,"Invite a team member"),(0,rW.Z)(T,tx.c.GitHubSync,"Sync Eraser with GitHub"),(0,rW.Z)(T,tx.c.VsCodeExtensionDownload,"Download VS Code extension"),(0,rW.Z)(T,tx.c.GetStartedNotionIntegrationClicked,"Install our Eraser plugin in Notion"),(0,rW.Z)(T,tx.c.GetStartedConfluenceIntegrationClicked,"Install our Eraser plugin in Confluence"),T),o1=(S={},(0,rW.Z)(S,tx.c.OpenInsertMenu,"Hundreds of icons built in to Eraser"),(0,rW.Z)(S,tx.c.AddFigure,"Create structure on your canvas"),(0,rW.Z)(S,tx.c.GenerateAiDiagram,"Make a diagram in seconds from a prompt"),(0,rW.Z)(S,tx.c.GenerateDiagramWithCode,"Use our simple syntax to make beautiful diagrams"),(0,rW.Z)(S,tx.c.InviteTeamMember,"Eraser is built for teams"),(0,rW.Z)(S,tx.c.GitHubSync,"Store your docs and diagrams next to code"),(0,rW.Z)(S,tx.c.VsCodeExtensionDownload,"Diagram in your IDE"),(0,rW.Z)(S,tx.c.GetStartedNotionIntegrationClicked,"Integrate with Notion"),(0,rW.Z)(S,tx.c.GetStartedConfluenceIntegrationClicked,"Integrate with Confluence"),S),o2=/*#__PURE__*/(0,$.memo)(function(){var e=function(e){return e.map(function(e){return/*#__PURE__*/(0,q.jsx)("span",{className:(0,tt.Z)(oY().checklistItem,s[e]&&oY().isComplete),children:/*#__PURE__*/(0,q.jsxs)("a",{"data-action":e,onClick:y,children:[/*#__PURE__*/(0,q.jsx)("i",{children:/*#__PURE__*/(0,q.jsx)(oG.Z,{})}),/*#__PURE__*/(0,q.jsx)(r8.Z,{text:o1[e],popperProps:oJ,placement:"right",children:o0[e]}),/*#__PURE__*/(0,q.jsx)(r6.J,{className:oY().arrow,icon:oW.Z})]})},e)})},t=(0,e$.Pe)(),n=(0,eI.aF)(),r=(0,eI.Fl)(),o=(0,tS.b)(),a=o.loading,s=o.activations,u=(0,iB.Y)().openSettingsModal,c=(0,oL.d)(),l=null==r?void 0:r.isGetStartedChecklistCollapsed,A=(0,$.useContext)(tN),d=A.setupItems,f=A.tutorialItems,h=A.allItems,p=A.completedItems,g=h.length+1,v=p.length===h.length,m=(0,$.useCallback)(function(){oz.H.updateUserSettings(n.id,{isGetStartedChecklistCollapsed:!l}),eT.Z.trackEvent("get_started_checklist","collapse")},[n,l]),y=(0,$.useCallback)(function(e){var n=e.currentTarget.getAttribute("data-action");switch(eT.Z.trackEvent("get_started_checklist","item_clicked",{item:n}),n){case tx.c.InviteTeamMember:u({openedPane:"members"});break;case tx.c.GitHubSync:u({openedPane:"gitHub"});break;case tx.c.VsCodeExtensionDownload:t.currentUser.markActivation(tx.c.VsCodeExtensionDownload),window.open("https://marketplace.visualstudio.com/items?itemName=EraserLabs.eraserlabs","_blank");break;case tx.c.GetStartedNotionIntegrationClicked:t.currentUser.markActivation(tx.c.GetStartedNotionIntegrationClicked),window.open("https://www.notion.so/integrations/eraser","_blank");break;case tx.c.GetStartedConfluenceIntegrationClicked:t.currentUser.markActivation(tx.c.GetStartedConfluenceIntegrationClicked),window.open("https://marketplace.atlassian.com/apps/1232673/eraser-for-confluence?tab=overview&hosting=cloud","_blank");break;case tx.c.OpenInsertMenu:window.open("/tutorial/insert-menu","_blank");break;case tx.c.AddFigure:window.open("/tutorial/make-a-figure","_blank");break;case tx.c.GenerateAiDiagram:window.open("/tutorial/ai-diagram","_blank");break;case tx.c.GenerateDiagramWithCode:window.open("/tutorial/diagram-with-code","_blank");break;default:return}},[u]),b=(0,$.useCallback)(function(){eT.Z.trackEvent("get_started_checklist","hide",{isComplete:v}),oz.H.updateUserSettings(n.id,{isGettingStartedEnabled:!1})},[n,v]);return!og.g.isFeatureEnabled("get_started_checklist")||c||!n||a||(null==r?void 0:r.isGettingStartedEnabled)===!1?null:/*#__PURE__*/(0,q.jsxs)("div",{className:(0,tt.Z)(oY().getStartedChecklist,l&&oY().isCollapsed),children:[/*#__PURE__*/(0,q.jsxs)("div",{className:oY().header,children:[/*#__PURE__*/(0,q.jsxs)("h4",{children:["Get started",/*#__PURE__*/(0,q.jsx)(tG.Ng,{toggleClassNames:{button:oY().threeDotMenu},children:/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"Hide Get started checklist",icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:oX}),onClick:b})})]}),/*#__PURE__*/(0,q.jsxs)(ov.Ct,{className:oY().progressBadge,variant:"success",children:[p.length+1," of ",g]}),/*#__PURE__*/(0,q.jsx)(r8.Z,{contentClassName:oY().toggleBtnWrapper,text:l?"Expand checklist":"Minimize checklist",placement:"right",popperProps:oJ,children:/*#__PURE__*/(0,q.jsx)("button",{className:oY().toggleBtn,onClick:m,"data-testid":"get-started-minimize"})})]}),/*#__PURE__*/(0,q.jsxs)("div",{className:oY().progressWrapper,children:[/*#__PURE__*/(0,q.jsx)(oK.k,{className:oY().progressBar,current:p.length+1,limit:g,fullColor:"var(--green-success)"}),/*#__PURE__*/(0,q.jsxs)("span",{children:[p.length+1," of ",g]})]}),/*#__PURE__*/(0,q.jsxs)("div",{className:oY().checklist,children:[/*#__PURE__*/(0,q.jsx)("h5",{children:"Tutorials"}),e(f),/*#__PURE__*/(0,q.jsx)("h5",{className:oY().setup,children:"Setup"}),/*#__PURE__*/(0,q.jsxs)("div",{className:(0,tt.Z)(oY().checklistItem,oY().isComplete),children:[/*#__PURE__*/(0,q.jsx)("i",{children:/*#__PURE__*/(0,q.jsx)(oG.Z,{})}),/*#__PURE__*/(0,q.jsx)("span",{children:"Create or join an Eraser team"})]}),e(d),v&&/*#__PURE__*/(0,q.jsx)("div",{className:oY().allCompletedView,children:/*#__PURE__*/(0,q.jsxs)("div",{className:oY().contentWrap,children:[/*#__PURE__*/(0,q.jsx)("h6",{children:"\uD83C\uDF89"}),/*#__PURE__*/(0,q.jsx)("span",{children:"All tutorials complete"}),/*#__PURE__*/(0,q.jsx)(tK.zx,{className:oY().hideBtn,onClick:b,children:"Hide Checklist"})]})})]})]})}),o4=n(70621),o3=function(){var e=(0,eD.Rs)(),t=(0,er.useRouter)();if(!e)return null;var n="".concat(e.name," Workspaces — Eraser");return t.pathname.includes("/git-diagram")?n="Git Diagrammer — Eraser":t.pathname.includes("/eraserbot")&&(n="EraserBot"),/*#__PURE__*/(0,q.jsx)(en(),{children:/*#__PURE__*/(0,q.jsx)("title",{children:n})})},o5=function(e){var t=e.children;return/*#__PURE__*/(0,q.jsx)(ri,{backend:eq.b1?rH:rD,children:t})},o6=function(e){var t=e.children,n=(0,er.useRouter)(),r=(0,oL.d)(),o=(0,il.Rx)(),a=o.query,s=o.onInputChange,u=(0,t8.Q)().tabId,c=a.length>0,l="search"===u,A="github"===u,d=(0,eJ.Z)(),f=d.onClose,h=d.isOpen,p=d.onToggle;(0,$.useEffect)(function(){c&&s("")},[n.pathname]);var g=function(e){var t=(0,o4.T0)(e);t&&(0,eo.XD)({statusCode:t.statusCode,title:t.message,location:"dashboard",error:e})};return/*#__PURE__*/(0,q.jsx)("div",{className:id().dashboardPage,"data-is-ready":"true",children:/*#__PURE__*/(0,q.jsxs)(o5,{children:[/*#__PURE__*/(0,q.jsx)(ea.Z,{fallback:function(){return null},onError:g,children:/*#__PURE__*/(0,q.jsx)(oV,{activeTab:u,onSidebarClose:f,sidebarOpenMobile:h})}),/*#__PURE__*/(0,q.jsx)(ea.Z,{fallback:function(){return null},onError:g,children:/*#__PURE__*/(0,q.jsxs)("div",{className:id().dashboardBody,children:[r&&/*#__PURE__*/(0,q.jsx)(iK,{onSidebarToggle:p}),/*#__PURE__*/(0,q.jsx)(is,{}),c&&!(l||A)?/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsx)(iz.S,{}),/*#__PURE__*/(0,q.jsx)(iz.Z,{})]}):t,/*#__PURE__*/(0,q.jsx)(o2,{})]})})]})})},o8=function(e){var t=e.children;return/*#__PURE__*/(0,q.jsx)(rK.Z,{hideSplashOnLoad:!1,children:/*#__PURE__*/(0,q.jsx)(iu,{children:/*#__PURE__*/(0,q.jsx)(rV.k,{children:/*#__PURE__*/(0,q.jsxs)(rX.yR,{children:[/*#__PURE__*/(0,q.jsxs)(ic.N,{children:[/*#__PURE__*/(0,q.jsx)(o3,{}),/*#__PURE__*/(0,q.jsx)(rG.ZP,{children:/*#__PURE__*/(0,q.jsx)(o6,{children:t})})]}),/*#__PURE__*/(0,q.jsx)(rz.Z,{stickTo:"right"})]})})})})};(0,z.Z)(function(){return(0,W.__generator)(this,function(e){return[2,{props:{og:(0,eE.Z)((0,G.Z)({},eg),{description:"Create diagrams, wireframes, technical specs with your team. Your all-in-one technical ideation tool."})}}]})});var o9=n(34484);function o7(){return(o7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ae=function(e){return /*#__PURE__*/$.createElement("svg",o7({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"key_svg__feather key_svg__feather-key"},e),k||(k=/*#__PURE__*/$.createElement("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 11-7.778 7.778 5.5 5.5 0 017.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})))};function at(){return(at=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var an=function(e){return /*#__PURE__*/$.createElement("svg",at({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),D||(D=/*#__PURE__*/$.createElement("path",{d:"M3.8 11.4V11a2.4 2.4 0 012.4-2.4h1.6a2.4 2.4 0 012.4 2.4v.4M7 3.8A1.6 1.6 0 107 7a1.6 1.6 0 000-3.2zm0 8.8A5.6 5.6 0 117 1.4a5.6 5.6 0 010 11.2z",stroke:"currentColor",strokeLinecap:"square"})))};function ar(){return(ar=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ai=function(e){return /*#__PURE__*/$.createElement("svg",ar({width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),N||(N=/*#__PURE__*/$.createElement("path",{d:"M3.2 4.6h1.6m1.6 0h2.4M3.2 7h1.6m1.6 0h2.4M6.4 9.4h2.4m-7.6-8h9.6v11.2l-1.6-.8-1.6.8-1.6-.8-1.6.8-1.6-.8-1.6.8V1.4z",stroke:"currentColor",strokeLinejoin:"round"})))};function ao(){return(ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var aa=function(e){return /*#__PURE__*/$.createElement("svg",ao({width:12,height:11,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),O||(O=/*#__PURE__*/$.createElement("path",{d:"M6.349 8.916a.75.75 0 00-.698 0l-1.767.93a.75.75 0 01-1.088-.791l.337-1.968a.75.75 0 00-.215-.664L1.488 5.03a.75.75 0 01.416-1.28l1.975-.286a.75.75 0 00.565-.41l.883-1.79a.75.75 0 011.345 0l.884 1.79a.75.75 0 00.565.41l1.975.286a.75.75 0 01.416 1.28l-1.43 1.393a.75.75 0 00-.215.664l.337 1.968a.75.75 0 01-1.088.79l-1.767-.929z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))};function as(){return(as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var au=function(e){return /*#__PURE__*/$.createElement("svg",as({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),F||(F=/*#__PURE__*/$.createElement("path",{d:"M6 1.2l2.6 2.4M6 1.2L3.6 3.6M6 1.2v7.6m4.8-3.2v5.2H1.2V5.6",stroke:"currentColor"})))};function ac(){return(ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var al=function(e){return /*#__PURE__*/$.createElement("svg",ac({width:12,height:13,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),R||(R=/*#__PURE__*/$.createElement("path",{d:"M0 11.6h12m-7.6-2V4.8m3.2 4.8V2.4m3.2 7.2V0M1.2 7.2v2.4",stroke:"currentColor"})))},aA=n(50389),ad=function(){var e=(0,eI.II)(),t=(0,eD.Rs)(),n=(0,iB.Y)(),r=n.openedPane,o=n.setOpenedPane,a=(0,tR.Q6)(eN.AC.ApiAccess,null==t?void 0:t.id),s=(0,tR.Bv)({featureName:eN.M$.PremiumCredits,teamId:null==t?void 0:t.id,userId:e});if(!t)return null;var u=(0,aA.aX)(t);return/*#__PURE__*/(0,q.jsxs)("div",{className:(0,tt.Z)(tg().sideBarRoot),children:[/*#__PURE__*/(0,q.jsx)("p",{className:(0,tt.Z)(tg().sideBarHeader,te().small,te().semiBold),children:"Team"}),/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"Team Members",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:ix.Z}),isSelected:"members"===r,onClick:function(){return o("members")}}),/*#__PURE__*/(0,q.jsx)(tv.Z,{onClick:function(){o("plans"),eT.Z.trackEvent("payment","open_billing_pane",{source:"settingsModalSidebar"})},label:"Plans & Billing",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:ai}),isSelected:"plans"===r}),!u&&/*#__PURE__*/(0,q.jsx)(tv.Z,{onClick:function(){return o("usage")},label:"Usage",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:al}),isSelected:"usage"===r}),/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"GitHub Connect",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:oo.Z}),isSelected:"gitHub"===r,onClick:function(){return o("gitHub")}}),/*#__PURE__*/(0,q.jsx)(tv.Z,{onClick:function(){return o("custom-icons")},label:"Custom Icons",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:aa}),className:tg().svgAutoHeight,isSelected:"custom-icons"===r,rightElement:u?/*#__PURE__*/(0,q.jsx)(ov.y6,{}):void 0}),/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"API Tokens",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:ae}),isSelected:"api-tokens"===r,onClick:function(){return o("api-tokens")},rightElement:a?void 0:/*#__PURE__*/(0,q.jsx)(ov.y6,{})}),/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"Import",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:au}),isSelected:"import"===r,onClick:function(){return o("import")},rightElement:(null==s?void 0:s.allowed)?void 0:/*#__PURE__*/(0,q.jsx)(ov.y6,{})}),/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"Team Settings",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:iR.Z}),isSelected:"team-settings"===r,onClick:function(){return o("team-settings")}}),/*#__PURE__*/(0,q.jsx)("p",{className:(0,tt.Z)(tg().sideBarHeader,te().small,te().semiBold),children:"Personal"}),/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"Profile",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:an}),isSelected:"profile"===r,onClick:function(){return o("profile")}}),/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"Appearance",focusOnMouseEnter:!1,icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:o9.Z}),isSelected:"appearance"===r,onClick:function(){return o("appearance")}})]})},af={getRef:function(){return eG.RZ.collection("api-tokens")},create:function(e){var t=e.name,n=e.teamId;return(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,this.getRef().add({name:t,teamId:n,createdAt:Date.now(),isDisabled:!1,scopes:["render","autoDiagram:create"]})];case 1:return[2,e.sent().id]}})}).apply(this)},updateById:function(e,t){return(0,z.Z)(function(){return(0,W.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getRef().doc(e).set(t,{merge:!0})];case 1:return n.sent(),[2]}})}).apply(this)},subscribe:function(e,t){var n=e.teamId;return this.getRef().where("teamId","==",n).onSnapshot(function(e){t(e.docs.map(function(e){return(0,G.Z)({id:e.id},e.data())}))})}},ah=function(e){var t=(0,$.useState)(void 0),n=t[0],r=t[1];return(0,$.useEffect)(function(){if(e)return af.subscribe({teamId:e},r)},[e]),n},ap=n(14670),ag=function(e){var t,n=e.isAdmin,r=(0,ig.Z)(),o=(0,eD.LP)(),a=(0,$.useState)(!1),s=a[0],u=a[1],c=(t=(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:if(!o)return[2];return u(!0),[4,af.create({teamId:o,name:"Eraser API Token"}).catch(function(e){r.error("API token create failed: ".concat(e.message))})];case 1:return e.sent(),u(!1),[2]}})}),function(){return t.apply(this,arguments)});return/*#__PURE__*/(0,q.jsx)(tK.ZP,{disabled:!o||!n,isLoading:s,onClick:n?c:void 0,size:tK.ZP.Sizes.SMALL,variant:tK.ZP.Variants.REGULAR,title:n?null:"Only team admins can create a token",children:"Generate Token"})},av=n(34224),am=n(2122),ay=n(79658),ab=/*#__PURE__*/n.n(ay),aw=function(e){var t=e.apiToken,n=e.isAdmin,r=(0,av.Z)(),o=(0,eJ.Z)(),a=o.isOpen,s=o.onClose,u=o.onOpen;return/*#__PURE__*/(0,q.jsxs)("div",{className:ab().root,children:[/*#__PURE__*/(0,q.jsx)("div",{className:ab().label,children:t.name}),/*#__PURE__*/(0,q.jsx)("div",{className:ab().token,children:/*#__PURE__*/(0,q.jsx)(tY.Z,{readOnly:!0,value:t.id,className:ab().inputField,button:/*#__PURE__*/(0,q.jsx)(tK.ZP,{onClick:function(){return r(t.id,"Copied token")},className:ab().copyButton,variant:tK.ZP.Variants.REVERSED,children:"Copy Token"})})}),/*#__PURE__*/(0,q.jsx)(tK.ZP,{onClick:n?u:void 0,variant:tK.ZP.Variants.OUTLINE,disabled:!n,title:n?null:"Only team admins can delete tokens",children:"Delete"}),/*#__PURE__*/(0,q.jsx)(am.Z,{isOpen:a,onCancel:s,title:"Delete API Token?",onConfirm:function(){s(),af.updateById(t.id,{isDisabled:!0})},description:'Are you sure you want to delete the token "'.concat(t.name,'" ?')})]})},a_=n(26942),aE=n(62451),aC=n(88219),aB=/*#__PURE__*/n.n(aC),aI=function(){var e=(0,eD.LP)(),t=ah(e),n=(0,tR.Q6)(eN.AC.ApiAccess,e),r=(0,iB.Y)().setOpenedPane,o=(0,eI.II)(),a=(0,ap.ZP)(e,void 0,{internalOnly:!0}),s=(0,aA.GX)(a,o,aA.H0),u=!t,c=t?t.filter(function(e){return!e.isDisabled}):[],l=c.length>0;return/*#__PURE__*/(0,q.jsxs)("div",{children:[/*#__PURE__*/(0,q.jsxs)("p",{className:aB().subtitle,children:["Eraser's API allows generating diagrams programmatically, using the same engine that drives\xa0",/*#__PURE__*/(0,q.jsx)(a_.d,{href:"https://eraser.io/diagramgpt",children:"DiagramGPT"}),"\xa0and Eraser's\xa0",/*#__PURE__*/(0,q.jsx)(a_.d,{href:"https://docs.eraser.io/docs/diagram-as-code",children:"diagram-as-code"}),"\xa0and AI Diagramming features. API calls require a valid API token which is shared by all team members.\xa0",/*#__PURE__*/(0,q.jsx)(a_.d,{href:"https://docs.eraser.io/reference/api-token",children:"See documentation"}),"."]}),n?/*#__PURE__*/(0,q.jsxs)("div",{className:aB().tokensContainer,children:[u&&/*#__PURE__*/(0,q.jsx)(aE.Z,{}),!l&&!u&&/*#__PURE__*/(0,q.jsxs)("div",{className:aB().emptyTokenContainer,children:[/*#__PURE__*/(0,q.jsx)("span",{className:aB().label,children:"API Token"}),/*#__PURE__*/(0,q.jsx)(tY.Z,{className:aB().inputField,placeholder:"No Token",readOnly:!0}),/*#__PURE__*/(0,q.jsx)(ag,{isAdmin:s})]}),l&&!u&&c.filter(function(e){return!e.isDisabled}).map(function(e){return/*#__PURE__*/(0,q.jsx)(aw,{apiToken:e,isAdmin:s},e.id)})]}):/*#__PURE__*/(0,q.jsxs)("p",{className:aB().subtitle,children:["API access is only available on the ",/*#__PURE__*/(0,q.jsx)(a_.c,{onClick:function(){return r("plans",eN.AC.ApiAccess)},children:"Business Plan"}),"."]})]})},ax=n(72888),aT=/*#__PURE__*/n.n(ax),aS=function(){var e=(0,e1.F)(),t=e.themeSetting,n=e.theme,r=e.setThemeSetting,o="dark"===t,a="light"===t,s="system"===t;return/*#__PURE__*/(0,q.jsxs)("div",{children:[/*#__PURE__*/(0,q.jsxs)("p",{className:aT().subTitle,children:["Toggle between Light & Dark mode at any time with\xa0",/*#__PURE__*/(0,q.jsx)(e9.P,{shortcutStyle:"pills",className:aT().keyboardShortcuts,keys:["Shift","AltOrOption","D"]}),". Your personal settings do not affect what others see."]}),/*#__PURE__*/(0,q.jsxs)("div",{className:(0,tt.Z)(aT().radioCardsWrapper,"dark"===n&&aT().dark),children:[/*#__PURE__*/(0,q.jsxs)("label",{className:(0,tt.Z)(aT().radioCard,a&&aT().checked),children:[/*#__PURE__*/(0,q.jsx)("input",{type:"radio",checked:a,onChange:function(){return r("light")}}),/*#__PURE__*/(0,q.jsxs)("div",{className:aT().labelWrapper,children:[/*#__PURE__*/(0,q.jsx)("span",{className:aT().labelTitle,children:"Light"}),/*#__PURE__*/(0,q.jsx)("span",{className:aT().labelDescription,children:"A traditional “white” board look"})]})]}),/*#__PURE__*/(0,q.jsxs)("label",{className:(0,tt.Z)(aT().radioCard,o&&aT().checked),children:[/*#__PURE__*/(0,q.jsx)("input",{type:"radio",checked:o,onChange:function(){return r("dark")}}),/*#__PURE__*/(0,q.jsxs)("div",{className:aT().labelWrapper,children:[/*#__PURE__*/(0,q.jsx)("span",{className:aT().labelTitle,children:"Dark"}),/*#__PURE__*/(0,q.jsx)("span",{className:aT().labelDescription,children:"A modern “night-time” aesthetic"})]})]}),/*#__PURE__*/(0,q.jsxs)("label",{className:(0,tt.Z)(aT().radioCard,s&&aT().checked),children:[/*#__PURE__*/(0,q.jsx)("input",{type:"radio",checked:s,onChange:function(){return r("system")}}),/*#__PURE__*/(0,q.jsxs)("div",{className:aT().labelWrapper,children:[/*#__PURE__*/(0,q.jsx)("span",{className:aT().labelTitle,children:"Auto"}),/*#__PURE__*/(0,q.jsx)("span",{className:aT().labelDescription,children:"Use system preferences"})]})]})]}),/*#__PURE__*/(0,q.jsxs)("div",{className:aT().imageWrapper,children:[/*#__PURE__*/(0,q.jsx)("img",{alt:"Light mode screenshot",src:"/static/images/settingsModal/lightBg.svg",className:(0,tt.Z)(aT().image,"dark"===n&&aT().hidden)}),/*#__PURE__*/(0,q.jsx)("img",{alt:"Dark mode screenshot",src:"/static/images/settingsModal/darkBg.svg",className:(0,tt.Z)(aT().image,"dark"!==n&&aT().hidden)})]})]})},ak=n(28316),aD=function(){var e=new URL(window.location.href);return e.search="?settings=plans",e.toString()},aN=function(e){var t,n,r,o,a=e.team,s=(0,eI.II)(),u=(0,ap.ZP)(null==a?void 0:a.id,void 0,{internalOnly:!0}),c=(0,aA.GX)(u,s),l=null!==(o=null==a?void 0:null===(t=a.plan)||void 0===t?void 0:t.planType)&&void 0!==o?o:eN.k9.Free,A=(0,aA.GX)(u,s,aA.H0);return!!a&&!!c&&(l===eN.k9.Free||(null===(n=a.plan)||void 0===n?void 0:null===(r=n.stripe)||void 0===r?void 0:r.status)===eN.yh.active&&A)},aO=n(74762),aF=/*#__PURE__*/n.n(aO),aR=function(e){var t=e.children,n=e.isDarkMode,r=e.isCurrent;return/*#__PURE__*/(0,q.jsx)("div",{className:(0,tt.Z)(aF().root,r&&aF().isCurrent,n&&aF().isDarkMode),children:/*#__PURE__*/(0,q.jsxs)("div",{className:aF().content,children:[r&&/*#__PURE__*/(0,q.jsx)(ov.Ct,{variant:"primary",className:aF().badge,children:"Current plan"}),t]})})};function aL(){return(aL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var aM=function(e){return /*#__PURE__*/$.createElement("svg",aL({width:13,height:12,viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),L||(L=/*#__PURE__*/$.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.828 2.4L4.463 9.766.297 5.6l.566-.566 3.6 3.6 6.8-6.8.565.566z",fill:"#2866DF"})))},aP=n(23616),aU=/*#__PURE__*/n.n(aP),aj=ep.CF.pricingURL,aZ=function(e){var t=e.features,n=e.secondaryFeatures,r=e.onLearnMoreClick;return/*#__PURE__*/(0,q.jsxs)("div",{className:aU().benefitsContainer,children:[/*#__PURE__*/(0,q.jsx)("ul",{className:aU().featureList,children:t.map(function(e){return/*#__PURE__*/(0,q.jsxs)("li",{children:[/*#__PURE__*/(0,q.jsx)(r6.J,{icon:aM}),/*#__PURE__*/(0,q.jsx)("span",{className:(0,tt.Z)(e.isHighlighted&&aU().isHighlighted),children:e.label}),e.description&&/*#__PURE__*/(0,q.jsx)("span",{className:aU().bulletListItemDescription,children:e.description})]},e.label)})}),/*#__PURE__*/(0,q.jsx)("ul",{className:aU().secondaryFeatureList,children:null==n?void 0:n.map(function(e){return/*#__PURE__*/(0,q.jsxs)("li",{children:[/*#__PURE__*/(0,q.jsx)(r6.J,{icon:aM}),"string"==typeof e?e:/*#__PURE__*/(0,q.jsx)("span",{className:(0,tt.Z)(e.isHighlighted&&aU().isHighlighted),children:e.label})]},"string"==typeof e?e:e.label)})}),r&&/*#__PURE__*/(0,q.jsx)("a",{className:"linkLight",href:aj,style:{marginLeft:"24px"},target:"_blank",rel:"noreferrer",children:"Learn More"})]})},aQ=n(5406),aH=/*#__PURE__*/n.n(aQ),aV=function(e){var t=e.annualPrice,n=e.monthlyPrice;return/*#__PURE__*/(0,q.jsxs)("div",{className:aH().priceTag,children:[/*#__PURE__*/(0,q.jsxs)("p",{children:[/*#__PURE__*/(0,q.jsxs)("span",{className:aH().priceTagNumber,children:["$",t]}),/*#__PURE__*/(0,q.jsx)("span",{className:aH().priceTagText,children:"per member / month"})]}),/*#__PURE__*/(0,q.jsxs)("p",{className:aH().smallSemiBold,children:["billed annually or $",n,"/monthly"]})]})},aK=n(21949),az=/*#__PURE__*/n.n(aK),aG=function(e){var t=e.children;return/*#__PURE__*/(0,q.jsxs)("div",{className:az().root,children:[/*#__PURE__*/(0,q.jsx)(tK.ZP,(0,eE.Z)((0,G.Z)({},e),{className:(0,tt.Z)(e.className,az().mainButton),children:t})),/*#__PURE__*/(0,q.jsx)(tK.ZP,(0,eE.Z)((0,G.Z)({},e),{isLoading:!1,className:(0,tt.Z)(e.className,az().hiddenButton),children:t}))]})},aW=n(97023),aq=/*#__PURE__*/n.n(aW),aY=(M={},(0,rW.Z)(M,eN.k9.Free,0),(0,rW.Z)(M,eN.k9.Pro,1),(0,rW.Z)(M,eN.k9.Business,2),(0,rW.Z)(M,eN.k9.Enterprise,3),M),a$=function(e){var t=e.currentPlan,n=e.actionsState,r=e.cardPlanType,o=e.canChangePlan,a=e.onUpgradeClick,s=e.onDowngradeClick,u=e.onManagePlanClick,c=e.subscriptionStatus,l=e.willCancelAtPeriodEnd,A=c===eN.yh.paused,d=c===eN.yh.canceled;return o&&r===eN.k9.Enterprise?/*#__PURE__*/(0,q.jsx)(aG,{"data-testid":"billing-plan-management-button",onClick:function(){return u(eN.k9.Enterprise)},isLoading:!1,children:"Contact us"}):o&&(t===eN.k9.Free&&A||t!==eN.k9.Free&&t===r)||t===eN.k9.Free&&r===eN.k9.Free&&(A||d)?/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsx)(aG,{variant:tK.tr.TRANSPARENT,"data-testid":"billing-plan-management-button",onClick:function(){return u(r)},isLoading:n.isManagementButtonLoading===r,children:"Billing & Invoices"}),A&&t===eN.k9.Free&&/*#__PURE__*/(0,q.jsx)("small",{className:aq().failedPayment,children:"Payment failed. Check payment method."})]}):!o||r===eN.k9.Free||t===r||A||aY[r]<aY[t]?!o||t===eN.k9.Free||t===r||aY[r]>aY[t]||r===eN.k9.Free&&l?null:/*#__PURE__*/(0,q.jsx)(aG,{variant:tK.tr.TRANSPARENT,"data-testid":"billing-plan-downgrade-button",isLoading:n.isDowngradeLoading===r,onClick:function(){return s({planType:r,hasPromoCode:!0})},children:"Downgrade"}):/*#__PURE__*/(0,q.jsx)(aG,{"data-testid":"billing-plan-upgrade-button",isLoading:n.isUpgradeLoading===r,onClick:function(){return a({hasPromoCode:!0,planType:r})},children:"Upgrade"})},aX=(0,Y.cn)({key:"paymentState",default:{subscriptionCancellationInfo:null}}),aJ=n(40145),a0=/*#__PURE__*/n.n(aJ),a1=oQ.ZP.free.features.featureLimits,a2=oQ.ZP.pro.features.featureLimits,a4=oQ.ZP.business.features.featureLimits,a3=function(e){var t,n=e.isDarkMode,r=e.currentPlan,o=e.onPlanChange,a=e.canChangePlan,s=e.aiDiagramAccess,u=e.premiumCreditsAccess,c=e.workspaceAccess,l=e.apiUsageAccess,A=e.customIconsAccess,d=e.subscriptionStatus,f=e.onManageBillingClick,h=e.highlightedFeature,p=e.teamMemberCount,g=void 0===p?1:p,v=(0,Y.sJ)(aX).subscriptionCancellationInfo,m=(0,tQ.Z)((0,tH.R)({isUpgradeLoading:null,isDowngradeLoading:null,isManagementButtonLoading:null}),2),y=m[0],b=m[1],w=(0,$.useCallback)(function(e){var t=e||{hasPromoCode:!1,planType:eN.k9.Pro},n=t.planType,r=void 0===n?eN.k9.Pro:n,a=t.hasPromoCode,s=void 0!==a&&a;b({isUpgradeLoading:r}),eT.Z.trackEvent("payment","billing_plan_upgrade",{planType:r,hasPromoCode:s,source:"billingPlanPane"}),o({hasPromoCode:s,planType:r}).finally(function(){return b({isUpgradeLoading:null})})},[b,o]),_=(0,$.useCallback)(function(e){var t=e.planType,n=e.hasPromoCode;b({isDowngradeLoading:t}),eT.Z.trackEvent("payment","billing_plan_downgrade",{source:"billingPlanPane"}),(t===eN.k9.Free?f():o({planType:t,hasPromoCode:void 0!==n&&n})).finally(function(){return b({isDowngradeLoading:null})})},[f,o,b]),E=(0,$.useCallback)(function(e){if(e===eN.k9.Enterprise){window.open("https://cal.com/shin-kim/eraser-enterprise-plan","_blank");return}b({isManagementButtonLoading:e}),eT.Z.trackEvent("payment","billing_plan_manage",{source:"billingPlanPane"}),f().finally(function(){return b({isManagementButtonLoading:null})})},[b,f]),C=(0,$.useCallback)(function(){eT.Z.trackEvent("payment","billing_plan_learn_more",{source:"billingPlanPane"})},[]),B=(0,$.useCallback)(function(e,t,n){return r===eN.k9.Free&&n&&(null==e?void 0:e.limit)||t},[r]),I={currentPlan:r,actionsState:y,canChangePlan:a,onUpgradeClick:w,onDowngradeClick:_,onManagePlanClick:E,subscriptionStatus:d,willCancelAtPeriodEnd:null!==(t=null==v?void 0:v.willCancelAtPeriodEnd)&&void 0!==t&&t},x=h===eN.M$.AiDiagramAndOutlineCredits,T=h===eN.M$.MonthlyAiDiagramApiCalls||h===eN.M$.PremiumApiCalls||h===eN.AC.ApiAccess,S=h===eN.M$.PremiumCredits||h===eN.AC.CustomAiContext,k=[{label:B(s,a1[eN.M$.AiDiagramAndOutlineCredits],!0)+" Standard AI Credits",current:B(s,a1[eN.M$.AiDiagramAndOutlineCredits],!0),description:"one-time use",isHighlighted:x},{label:"".concat(B(u,a1[eN.M$.PremiumCredits],!0)," Premium AI Credits"),description:"one-time use",isHighlighted:S}],D=[{label:"".concat(B(s,a2[eN.M$.AiDiagramAndOutlineCredits])," Standard AI Credits"),description:"per month per member",isHighlighted:x},{label:"".concat(B(s,a2[eN.M$.PremiumCredits])," Premium AI Credits"),description:"per month per member",isHighlighted:S}],N=[{label:"".concat(B(s,a4[eN.M$.AiDiagramAndOutlineCredits])," Standard AI Credits"),description:"per month per member",isHighlighted:x},{label:"".concat(B(s,a4[eN.M$.PremiumCredits])," Premium AI Credits"),description:"per month per member",isHighlighted:S},{label:"AI API Access",description:"".concat(B(l,a4[eN.M$.MonthlyAiDiagramApiCalls])," standard + ").concat(B(l,a4[eN.M$.PremiumApiCalls])," premium"),isHighlighted:T}],O=[{label:"Unlimited Standard AI",description:"per month per member",isHighlighted:x},{label:"More Premium AI",description:"per month per member",isHighlighted:S},{label:"AI API Access",description:"more calls",isHighlighted:T}],F="".concat(g," ").concat(1===g?"Member":"Members");return/*#__PURE__*/(0,q.jsxs)("div",{className:a0().container,children:[/*#__PURE__*/(0,q.jsxs)(aR,{isDarkMode:n,isCurrent:r===eN.k9.Free,children:[/*#__PURE__*/(0,q.jsx)("div",{className:a0().title,children:oQ.ZP.free.label}),/*#__PURE__*/(0,q.jsx)("div",{className:(0,tt.Z)(te().medium,"color-grey-1000"),style:{visibility:r===eN.k9.Free?"visible":"hidden"},children:F}),/*#__PURE__*/(0,q.jsx)(aZ,{features:k,secondaryFeatures:[{label:"".concat(B(c,a1[eN.M$.Workspaces])," Team Files"),isHighlighted:h===eN.M$.Workspaces},"Github Sync","Unlimited Members","Unlimited Guests","Diagram-as-Code","Realtime Collaboration","Commenting"]}),/*#__PURE__*/(0,q.jsx)("div",{className:a0().buttonContainer,children:/*#__PURE__*/(0,q.jsx)(a$,(0,eE.Z)((0,G.Z)({},I),{cardPlanType:eN.k9.Free}))})]}),/*#__PURE__*/(0,q.jsxs)(aR,{isDarkMode:n,isCurrent:r===eN.k9.Pro,children:[/*#__PURE__*/(0,q.jsx)("div",{className:a0().title,children:oQ.ZP.pro.label}),/*#__PURE__*/(0,q.jsx)("div",{className:(0,tt.Z)(te().medium,"color-grey-1000"),style:{visibility:r===eN.k9.Pro?"visible":"hidden"},children:F}),/*#__PURE__*/(0,q.jsx)(aZ,{features:D,secondaryFeatures:["Everything in Free",{label:"Unlimited Team Files",isHighlighted:h===eN.M$.Workspaces},{label:"Security Controls",isHighlighted:h===eN.AC.NoLinkAccess},{label:"".concat(B(A,a2[eN.M$.CustomIcons])," Custom Icons"),isHighlighted:h===eN.M$.CustomIcons},{label:"PDF Export",isHighlighted:h===eN.AC.ExportPDF},{label:"Private Files",isHighlighted:h===eN.AC.PrivateWorkspaces}],onLearnMoreClick:C}),/*#__PURE__*/(0,q.jsx)(aV,{monthlyPrice:12,annualPrice:10}),/*#__PURE__*/(0,q.jsx)("div",{className:a0().buttonContainer,children:/*#__PURE__*/(0,q.jsx)(a$,(0,eE.Z)((0,G.Z)({},I),{cardPlanType:eN.k9.Pro}))})]}),/*#__PURE__*/(0,q.jsxs)(aR,{isDarkMode:n,isCurrent:r===eN.k9.Business,children:[/*#__PURE__*/(0,q.jsx)("div",{className:a0().title,children:oQ.ZP.business.label}),/*#__PURE__*/(0,q.jsx)("div",{className:(0,tt.Z)(te().medium,"color-grey-1000"),style:{visibility:r===eN.k9.Business?"visible":"hidden"},children:F}),/*#__PURE__*/(0,q.jsx)(aZ,{features:N,secondaryFeatures:["Everything in Pro",{label:"Standard AI References",isHighlighted:S},{label:"SAML SSO",isHighlighted:h===eN.AC.SSO},{label:"".concat(B(A,a4[eN.M$.CustomIcons])," Custom Icons"),isHighlighted:h===eN.M$.CustomIcons}],onLearnMoreClick:C}),/*#__PURE__*/(0,q.jsx)(aV,{monthlyPrice:24,annualPrice:20}),/*#__PURE__*/(0,q.jsx)("div",{className:a0().buttonContainer,children:/*#__PURE__*/(0,q.jsx)(a$,(0,eE.Z)((0,G.Z)({},I),{cardPlanType:eN.k9.Business}))})]}),/*#__PURE__*/(0,q.jsxs)(aR,{isDarkMode:n,isCurrent:r===eN.k9.Enterprise,children:[/*#__PURE__*/(0,q.jsx)("div",{className:a0().title,children:oQ.ZP.enterprise.label}),/*#__PURE__*/(0,q.jsx)("div",{className:(0,tt.Z)(te().medium,"color-grey-1000"),style:{visibility:r===eN.k9.Enterprise?"visible":"hidden"},children:F}),/*#__PURE__*/(0,q.jsx)(aZ,{features:O,secondaryFeatures:["Everything in Business",{label:"Custom AI References",isHighlighted:S},"Flexible Deployment","Premium Support"],onLearnMoreClick:C}),/*#__PURE__*/(0,q.jsx)("div",{className:a0().priceTagContainer,children:/*#__PURE__*/(0,q.jsx)("span",{children:"Inquire for pricing"})}),/*#__PURE__*/(0,q.jsx)("div",{className:a0().buttonContainer,children:/*#__PURE__*/(0,q.jsx)(a$,(0,eE.Z)((0,G.Z)({},I),{cardPlanType:eN.k9.Enterprise}))})]})]})},a5=function(e){try{if(e){var t=new URL(e);if(null==t?void 0:t.host.endsWith("stripe.com"))return t.toString()}}catch(e){(0,eW.T)(e)}return null},a6=function(e){var t,n,r,o,a,s=e.highlightedFeature,u=(0,ig.Z)(),c=(0,e1.F)().isDarkMode,l=(0,eI.II)(),A=(0,eD.LP)(),d=(0,eD.Rs)(),f=(0,eQ.K)(),h=aD(),p=aN({team:d}),g=(0,tR.Bv)({featureName:eN.M$.Workspaces,teamId:A}),v=(0,tR.Bv)({featureName:eN.M$.AiDiagramAndOutlineCredits,userId:l,teamId:A}),m=(0,tR.Bv)({featureName:eN.M$.PremiumCredits,userId:l,teamId:A}),y=(0,tR.Bv)({featureName:eN.M$.CustomIcons,userId:l,teamId:A}),b=(0,tR.Bv)({featureName:eN.M$.MonthlyAiDiagramApiCalls,userId:l,teamId:A}),w=(0,ap.ZP)(A,void 0,{internalOnly:!0}),_="true"===f.showPromoCodeOption,E=null!==(a=null==d?void 0:null===(n=d.plan)||void 0===n?void 0:n.planType)&&void 0!==a?a:eN.k9.Free,C=(0,$.useCallback)((t=(0,z.Z)(function(e){var t,n;return(0,W.__generator)(this,function(r){switch(r.label){case 0:return t=e.planType,n=e.hasPromoCode,[4,tU.Z.post("payment/createUrl",{teamId:A,planType:t,returnUrl:h,allowPromoCode:n}).catch(function(e){var t;return(0,eW.T)(e),u.error(null!==(t=null==e?void 0:e.message)&&void 0!==t?t:"Could not access billing page."),{redirectUrl:null}}).then(function(e){var t=a5(e.redirectUrl);t&&(window.location.href=t)})];case 1:return[2,r.sent()]}})}),function(e){return t.apply(this,arguments)}),[A,h]),B=(0,$.useCallback)(/*#__PURE__*/(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,tU.Z.post("payment/createManagementUrl",{teamId:A,returnUrl:h}).catch(function(e){var t;return(0,eW.T)(e),u.error(null!==(t=null==e?void 0:e.message)&&void 0!==t?t:"Could not load subscription."),{redirectUrl:null}}).then(function(e){var t=a5(e.redirectUrl);t&&(window.location.href=t)})];case 1:return[2,e.sent()]}})}),[A,h]);return/*#__PURE__*/(0,q.jsx)(a3,{isDarkMode:c,currentPlan:E,onPlanChange:C,canChangePlan:p,workspaceAccess:g,aiDiagramAccess:v,premiumCreditsAccess:m,customIconsAccess:y,apiUsageAccess:b,showPromoCodeOption:_,onManageBillingClick:B,subscriptionStatus:null==d?void 0:null===(r=d.plan)||void 0===r?void 0:null===(o=r.stripe)||void 0===o?void 0:o.status,highlightedFeature:s,teamMemberCount:null==w?void 0:w.length})},a8=(c=(0,z.Z)(function(e){return(0,W.__generator)(this,function(t){switch(t.label){case 0:return[4,tU.Z.get("payment/getSubscriptionCancellationInfo?teamId=".concat(e))];case 1:return[2,t.sent()]}})}),function(e){return c.apply(this,arguments)}),a9=function(e){var t,n,r=(0,tQ.Z)((0,Y.FV)(aX),2),o=r[0],a=r[1],s=o.subscriptionCancellationInfo,u=null==e?void 0:e.id,c=null==e?void 0:null===(t=e.plan)||void 0===t?void 0:null===(n=t.stripe)||void 0===n?void 0:n.stripeSubscriptionId;return(0,$.useEffect)(function(){u&&c&&null===s&&(a({subscriptionCancellationInfo:void 0}),a8(u).then(function(e){return a({subscriptionCancellationInfo:e})}).catch(function(){return a({subscriptionCancellationInfo:s})}))},[u,c,a,s]),{paymentState:o}},a7=n(75203),se=n(30678),st=n(58869),sn=n(63842),sr=function(e){var t,n,r=e.paywallError,o=e.paywallFeature,a=(0,eD.Rs)();if(!a)return null;var s=null!==(n=null==a?void 0:null===(t=a.plan)||void 0===t?void 0:t.planType)&&void 0!==n?n:eN.k9.Free;return/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsx)(a6,{highlightedFeature:o}),/*#__PURE__*/(0,q.jsx)(si,{paywallError:r,team:a,currentPlan:s})]})},si=function(e){var t,n,r,o,a,s=e.paywallError,u=e.team,c=e.currentPlan,l=void 0===c?eN.k9.Free:c,A=a9(u).paymentState,d=(0,$.useRef)(null),f=null!==(o=(0,ap.ZP)(u.id,void 0,{internalOnly:!0}))&&void 0!==o?o:[],h=f.find(function(e){return(0,aA.H0)(e)}),p=aN({team:u});(0,$.useLayoutEffect)(function(){var e;d.current=null!==(e=document.getElementById("SETTINGS_MODAL_TITLE_SLOT"))&&void 0!==e?e:null},[]);var g=(null!==(a=null===(t=A.subscriptionCancellationInfo)||void 0===t?void 0:t.cancelAt)&&void 0!==a?a:0)*1e3,v=null===(n=A.subscriptionCancellationInfo)||void 0===n?void 0:n.willCancelAtPeriodEnd;if(!d.current)return null;var m=!p&&h?/*#__PURE__*/(0,q.jsxs)("span",{className:"rowCentered marginLeftSmall gapSmall",children:["Contact",/*#__PURE__*/(0,q.jsx)(se.Z,{userId:h.id,size:20}),"to upgrade."]}):null;if(s)return /*#__PURE__*/ak.createPortal(/*#__PURE__*/(0,q.jsx)(st.Z,{variant:st.Z.Variants.Error,children:/*#__PURE__*/(0,q.jsxs)("div",{className:"row alignEnd gapMedium",children:[/*#__PURE__*/(0,q.jsx)("p",{className:(0,tt.Z)(te().medium,te().bold),children:s.message}),/*#__PURE__*/(0,q.jsx)("p",{className:te().medium,children:null!=m?m:s.hint})]})}),d.current);if((null===(r=u.plan)||void 0===r?void 0:r.fixedSeatCount)&&f.length>=u.plan.fixedSeatCount){var y=f.length>u.plan.fixedSeatCount;return /*#__PURE__*/ak.createPortal(/*#__PURE__*/(0,q.jsx)(st.Z,{variant:y?st.Z.Variants.Error:st.Z.Variants.Warning,children:/*#__PURE__*/(0,q.jsxs)("div",{className:"row alignEnd gapMedium",children:[/*#__PURE__*/(0,q.jsx)("p",{className:(0,tt.Z)(te().medium,te().bold),children:y?"You have exceeded your plan's seat limit":"You have reached your plan's maximum number of seats"}),/*#__PURE__*/(0,q.jsxs)("p",{className:te().medium,children:["Contact ",/*#__PURE__*/(0,q.jsx)(sn.d,{href:"mailto:hello@eraser.io",children:"hello@eraser.io"})," to add seats."]})]})}),d.current)}return v&&g?/*#__PURE__*/ak.createPortal(/*#__PURE__*/(0,q.jsx)(st.Z,{children:/*#__PURE__*/(0,q.jsxs)("span",{className:"gapSmall rowCentered",children:[/*#__PURE__*/(0,q.jsx)(r6.J,{icon:a7.Z,width:16,height:16,strokeWidth:2}),/*#__PURE__*/(0,q.jsxs)("p",{className:te().medium,children:["Pending changes are scheduled for"," ",new Intl.DateTimeFormat(void 0,{month:"long",day:"numeric",year:"numeric"}).format(new Date(g))," ","to switch from the ",oQ.ZP[l].label.toLowerCase()," plan to"," ",oQ.ZP.free.label.toLowerCase()," plan.",m]})]})}),d.current):l===eN.k9.Business?/*#__PURE__*/ak.createPortal(/*#__PURE__*/(0,q.jsx)(st.Z,{children:/*#__PURE__*/(0,q.jsxs)("span",{className:"gapSmall rowCentered",children:[/*#__PURE__*/(0,q.jsx)(r6.J,{icon:a7.Z,width:16,height:16,strokeWidth:2}),/*#__PURE__*/(0,q.jsxs)("p",{className:te().medium,children:["Looking for more AI credits? Contact us at ",/*#__PURE__*/(0,q.jsx)(sn.d,{href:"mailto:hello@eraser.io",children:"hello@eraser.io"})]})]})}),d.current):null},so=n(34803),sa=n(67857),ss=/*#__PURE__*/n.n(sa),su=function(e){var t=e.organization,n=e.onRemoveOrganization,r=e.onConfigureOrganization;return/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsxs)("div",{className:ss().organizationHeaderRoot,children:[/*#__PURE__*/(0,q.jsx)("div",{className:ss().organizationLogo,children:/*#__PURE__*/(0,q.jsx)("img",{alt:t.name,src:t.avatarUrl})}),/*#__PURE__*/(0,q.jsxs)("div",{className:ss().organzationInfo,children:[/*#__PURE__*/(0,q.jsx)("span",{className:ss().organizationName,children:t.name}),/*#__PURE__*/(0,q.jsx)(sn.d,{className:ss().organizationLink,href:(0,so.u8)({organizationName:t.name}),children:(0,so.u8)({organizationName:t.name})})]}),/*#__PURE__*/(0,q.jsxs)(tK.ZP,{onClick:n,variant:tK.ZP.Variants.OUTLINE,className:ss().removeOrganizationButton,children:["Remove ",t.name]})]}),/*#__PURE__*/(0,q.jsxs)("p",{className:ss().organizationSubtitle,children:["The repos below are authorized in Github. Eraser will only interact with repos that are set as active here. Active repos can be used for diagramming, monitoring, or syncing.\xa0",/*#__PURE__*/(0,q.jsx)(sn.d,{className:ss().organizationLink,href:"https://docs.eraser.io/docs/github-getting-started",children:"Learn more"})]}),/*#__PURE__*/(0,q.jsx)("p",{className:ss().organizationSubtitle,children:/*#__PURE__*/(0,q.jsx)(sn.d,{role:"button",onClick:r,className:ss().organizationLink,children:"Can't find your repo?"})})]})},sc=n(18149),sl=/*#__PURE__*/n.n(sc),sA=n(87705),sd=n(75217),sf=/*#__PURE__*/n.n(sd),sh=function(e,t){if(!e)return{};var n=new Set(t.filter(function(e){return!e.disabled}).map(function(e){return e.name}));return e.reduce(function(e,t){return e[t]=n.has(t),e},{})},sp=function(e){var t,n=e.organization,r=e.addedRepositories,o=(0,$.useState)(""),a=o[0],s=o[1],u=(0,eD.LP)(),c=(0,ig.Z)(),l=(0,t_.E$)(),A=l.addRepository,d=l.updateRepository,f=l.configureOrganization,h=l.listRepositoriesForOrganization,p=(0,$.useState)(!1),g=p[0],v=p[1],m=(0,$.useState)(null),y=m[0],b=m[1],w=(0,tQ.Z)((0,tH.R)({}),2),_=w[0],E=w[1],C=(0,tQ.Z)((0,tH.R)({}),2),B=C[0],I=C[1],x=(0,$.useMemo)(function(){return{baseCheckedState:sh(y,r),baseSyncedState:y?y.reduce(function(e,t){var n,o;return e[t]=null!==(o=null===(n=r.find(function(e){return e.name===t&&!e.disabled}))||void 0===n?void 0:n.enableSync)&&void 0!==o&&o,e},{}):{}}},[r,y]),T=x.baseCheckedState,S=x.baseSyncedState;(0,$.useEffect)(function(){E(Object.assign({},T)),I(Object.assign({},S))},[T,S,E,I]),(0,$.useEffect)(function(){n.id&&!n.isSuspended&&h(n.id,!0).then(b).catch(function(e){(0,eW.T)(e),b([]),c.error("Could not fetch GitHub repositories.")})},[h,n.id,n.isSuspended]);var k=null===y&&!n.isSuspended,D=_&&(!sl()(_,T)||!sl()(B,S)),N=(t=(0,z.Z)(function(){var e,t,o,a,s,l,f,h,p,g,m,y,b,w,E,C,I,x,k,D,N,O;return(0,W.__generator)(this,function(F){switch(F.label){case 0:for(g in e=function(e){var t,o,c,f,p,g;return(0,W.__generator)(this,function(v){switch(v.label){case 0:if(t=null==T?void 0:T[e],!((o=_[e])&&!t))return[3,5];if(c=r.find(function(t){return t.name===e}),f=B[e],!c)return[3,2];return[4,d({teamId:u,organizationId:n.id,repositoryId:c.id,payload:{disabled:!1,enableSync:f}})];case 1:return v.sent(),[3,4];case 2:return[4,A({repositoryName:e,organizationId:n.id,organizationName:n.name,enableSync:f})];case 3:p=v.sent(),a.set(e,p),v.label=4;case 4:return s.push(e),f&&h.push(e),[3,7];case 5:if(!(!o&&t))return[3,7];return g=r.find(function(t){return t.name===e}),[4,d({teamId:u,organizationId:n.id,repositoryId:g.id,payload:{enableSync:!1,disabled:!0}})];case 6:v.sent(),l.push(e),v.label=7;case 7:return[2]}})},t=function(e){var t,o,s,c,l;return(0,W.__generator)(this,function(A){switch(A.label){case 0:if(o=B[e],s=S[e],!(l=null!==(c=null===(t=r.find(function(t){return t.name===e}))||void 0===t?void 0:t.id)&&void 0!==c?c:a.get(e)))return console.warn("Repository ID not found",e),[2,"continue"];if(!(o&&!s&&(null==T?void 0:T[e])))return[3,2];return h.push(e),[4,d({teamId:u,organizationId:n.id,repositoryId:l,payload:{enableSync:!0}})];case 1:return A.sent(),[3,4];case 2:if(!(!o&&s))return[3,4];return f.push(e),[4,d({teamId:u,organizationId:n.id,repositoryId:l,payload:{enableSync:!1}})];case 3:A.sent(),A.label=4;case 4:return[2]}})},v(!0),o=c.loading("Applying changes ..."),a=new Map,s=[],l=[],f=[],h=[],p=[],_)p.push(g);m=0,F.label=1;case 1:if(!(m<p.length))return[3,4];return y=p[m],[5,(0,W.__values)(e(y))];case 2:F.sent(),F.label=3;case 3:return m++,[3,1];case 4:for(w in b=[],B)b.push(w);E=0,F.label=5;case 5:if(!(E<b.length))return[3,8];return C=b[E],[5,(0,W.__values)(t(C))];case 6:F.sent(),F.label=7;case 7:return E++,[3,5];case 8:return I=function(e){return e>1?"repositories":"repository"},x=s.length>0?"".concat(s.length," ").concat(I(s.length)," activated."):"",k=l.length>0?"".concat(l.length," ").concat(I(l.length)," inactivated."):"",D=f.length>0?"".concat(f.length," ").concat(I(f.length)," unsynced. Archiving files."):"",N=h.length>0?"".concat(h.length," ").concat(I(h.length)," synced. Downloading MD files."):"",c.dismiss(o),O=[x,k,D,N].filter(Boolean).join("\n"),c.success(O),v(!1),[2]}})}),function(){return t.apply(this,arguments)});return/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsxs)("div",{className:sf().repositoryListWrapper,children:[k&&/*#__PURE__*/(0,q.jsx)("div",{className:"rowCentered justifyCentered fullHeight",children:/*#__PURE__*/(0,q.jsx)(aE.Z,{fancy:!0})}),n.isSuspended?/*#__PURE__*/(0,q.jsxs)("p",{className:sf().suspension,children:["The GitHub app is suspended.\xa0",/*#__PURE__*/(0,q.jsx)("a",{role:"button",className:sf().link,onClick:function(){f({organizationId:n.id,organizationName:n.name})},children:"Click here to unsuspend it."})]}):/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[y&&y.length>100&&/*#__PURE__*/(0,q.jsx)(e5.Z,{searchTerm:a,className:sf().searchBar,setSearchTerm:s}),/*#__PURE__*/(0,q.jsx)("ul",{className:sf().repositoryList,children:null==y?void 0:y.filter(function(e){return e.toLocaleLowerCase().includes(a.toLocaleLowerCase())}).slice(0,100).map(function(e){var t,r,o=null!==(t=null==_?void 0:_[e])&&void 0!==t&&t,a=null!==(r=null==B?void 0:B[e])&&void 0!==r&&r,s=o&&a?"Active and synced":o?"Active":"Inactive";return/*#__PURE__*/(0,q.jsxs)("li",{className:sf().repositoryListItem,children:[/*#__PURE__*/(0,q.jsx)(oo.Z,{width:14,height:14,className:(0,tt.Z)(!o&&sf().inactive,"marginRightSmall")}),/*#__PURE__*/(0,q.jsx)("a",{href:"https://github.com/".concat(n.name,"/").concat(e),className:(0,tt.Z)(sf().repositoryLink,!o&&sf().inactive,"marginRightMedium"),children:e}),/*#__PURE__*/(0,q.jsxs)(sA.ZP,{title:s,variant:sA.ZP.Variants.LightGrey,selectionVariant:tv.Z.SelectionVariants.Grey,width:300,children:[/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"Active",isSelected:o&&!a,explanation:"This repo can be access by Eraser",onClick:function(){E((0,rW.Z)({},e,!0)),I((0,rW.Z)({},e,!1))}}),/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"Active and synced",isSelected:o&&a,explanation:"All .md files and .eraserdiagram files can be synced between Eraser and your repo via pushing and pulling",onClick:function(){E((0,rW.Z)({},e,!0)),I((0,rW.Z)({},e,!0))}}),/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"Inactive",isSelected:!o,explanation:"This repo is not accessible by Eraser",onClick:function(){E((0,rW.Z)({},e,!1)),I((0,rW.Z)({},e,!1))}})]})]},e)})}),y&&y.length>100&&/*#__PURE__*/(0,q.jsxs)("p",{className:sf().note,children:["Showing first ",100," repositories only. Search to see more."]})]})]}),D&&/*#__PURE__*/(0,q.jsxs)(tz.Z,{className:sf().repositoryListButtons,children:[/*#__PURE__*/(0,q.jsx)(tK.ZP,{variant:tK.ZP.Variants.TRANSPARENT,size:tK.ZP.Sizes.X_SMALL,disabled:g,onClick:function(){E(Object.assign({},T)),I(Object.assign({},S))},children:"Cancel"}),/*#__PURE__*/(0,q.jsx)(tK.ZP,{size:tK.ZP.Sizes.X_SMALL,onClick:N,disabled:g,children:"Save Changes"})]})]})},sg=n(27405),sv=/*#__PURE__*/n.n(sg),sm=n(54253),sy=n(35289),sb=function(){var e=(0,e$.Pe)(),t=(0,t_.E$)(),n=t.installApp,r=t.organizations,o=t.repositoriesMap,a=t.configureOrganization,s=r&&r.length>0;return(0,$.useEffect)(function(){s&&e.currentUser.markActivation(tx.c.GitHubSync)},[s]),/*#__PURE__*/(0,q.jsxs)("div",{className:sv().root,children:[!s&&/*#__PURE__*/(0,q.jsx)(sy.v,{onConnectClick:n}),s&&r.map(function(e){var t=null==o?void 0:o.get(e.id),n=function(){a({organizationId:e.id,organizationName:e.name})};return/*#__PURE__*/(0,q.jsxs)("div",{className:sv().organizationWrapper,children:[/*#__PURE__*/(0,q.jsx)(su,{organization:e,onRemoveOrganization:n,onConfigureOrganization:n}),e&&t&&/*#__PURE__*/(0,q.jsx)(sp,{organization:e,addedRepositories:t}),/*#__PURE__*/(0,q.jsx)("hr",{className:sv().divider})]},e.id)}),s&&/*#__PURE__*/(0,q.jsx)(sm.g,{onClick:n})]})},sw=n(25487),s_=n(23908),sE=n(34577),sC=/*#__PURE__*/n.n(sE),sB=n(44784),sI=function(e){var t=e.toLocaleLowerCase().replace(".com",""),n="".concat(t.toLocaleUpperCase()[0]).concat(t.slice(1));return"Managed by ".concat(n)},sx=function(){var e,t=(0,ig.Z)(),n=(0,s_.j)(),r=(0,sw.ZP)().updateUserPassword,o=(0,$.useState)(!1),a=o[0],s=o[1],u=(0,tQ.Z)((0,tH.R)({newPassword:"",confirmNewPassword:"",confirmCurrentPassword:""}),2),c=u[0],l=u[1];if(!n)return null;var A=(e=(0,z.Z)(function(e){var n,o;return(0,W.__generator)(this,function(a){switch(a.label){case 0:if(e.preventDefault(),c.newPassword!==c.confirmNewPassword)return t.error("Passwords do not match"),[2];if(n=(0,sB.ym)(c.newPassword))return t.error(n),[2];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,r(c.newPassword,c.confirmCurrentPassword)];case 2:return a.sent(),s(!1),t.success("Password updated successfully"),l({newPassword:"",confirmNewPassword:"",confirmCurrentPassword:""}),[3,4];case 3:return o=a.sent(),t.error(o.message),[2];case 4:return[2]}})}),function(t){return e.apply(this,arguments)});return a?/*#__PURE__*/(0,q.jsxs)("form",{className:sC().form,onSubmit:A,children:[/*#__PURE__*/(0,q.jsxs)("div",{className:sC().row,children:[/*#__PURE__*/(0,q.jsx)("span",{className:sC().label,children:"Current password"}),/*#__PURE__*/(0,q.jsx)(tY.Z,{required:!0,type:"password",labelClassNames:{root:sC().input},value:c.confirmCurrentPassword,onChange:function(e){return l({confirmCurrentPassword:e.currentTarget.value})}})]}),/*#__PURE__*/(0,q.jsxs)("div",{className:sC().row,children:[/*#__PURE__*/(0,q.jsx)("span",{className:sC().label,children:"New password"}),/*#__PURE__*/(0,q.jsx)(tY.Z,{required:!0,type:"password",value:c.newPassword,labelClassNames:{root:sC().input},onChange:function(e){return l({newPassword:e.currentTarget.value})}})]}),/*#__PURE__*/(0,q.jsxs)("div",{className:sC().row,children:[/*#__PURE__*/(0,q.jsx)("span",{className:sC().label,children:"Confirm new password"}),/*#__PURE__*/(0,q.jsx)(tY.Z,{required:!0,type:"password",labelClassNames:{root:sC().input},value:c.confirmNewPassword,onChange:function(e){return l({confirmNewPassword:e.currentTarget.value})}})]}),/*#__PURE__*/(0,q.jsxs)(tz.Z,{className:sC().buttonGroup,children:[/*#__PURE__*/(0,q.jsx)(tK.ZP,{size:tK.ZP.Sizes.X_LARGE,variant:tK.ZP.Variants.OUTLINE,onClick:function(e){e.preventDefault(),s(!1)},children:"Cancel"}),/*#__PURE__*/(0,q.jsx)(tK.ZP,{type:"submit",size:tK.ZP.Sizes.X_LARGE,className:sC().submitButton,variant:tK.ZP.Variants.REGULAR,children:"Update password"})]})]}):/*#__PURE__*/(0,q.jsxs)("div",{className:sC().row,children:[/*#__PURE__*/(0,q.jsx)("span",{className:sC().label,children:"Password"}),"password"!==n?/*#__PURE__*/(0,q.jsx)("span",{className:sC().readonlyValue,children:sI(n)}):/*#__PURE__*/(0,q.jsx)("a",{role:"button",className:sC().link,onClick:function(){return s(!0)},children:"Change Password"})]})},sT=n(98559),sS=n(47519),sk=n(99975),sD=/*#__PURE__*/n.n(sk),sN=function(){var e,t,n,r=(0,eI.aF)(),o=(0,ig.Z)(),a=(0,eD.LP)(),s=(0,s_.j)(),u=(0,sw.Pm)(s),c=(0,sw.ZP)(),l=c.updateUserEmail,A=c.updateUserDisplayName,d=c.resetProviderEmail,f=(0,tQ.Z)((0,tH.R)({email:null!==(e=null==r?void 0:r.email)&&void 0!==e?e:"",displayName:null!==(t=null==r?void 0:r.displayName)&&void 0!==t?t:"",confirmPassword:""}),2),h=f[0],p=f[1],g=(0,$.useState)(),v=g[0],m=g[1];(0,$.useEffect)(function(){var e,t;h.displayName!==(null==r?void 0:r.displayName)&&p({displayName:null!==(e=null==r?void 0:r.displayName)&&void 0!==e?e:""}),h.email!==(null==r?void 0:r.email)&&p({email:null!==(t=null==r?void 0:r.email)&&void 0!==t?t:""})},[p,null==r?void 0:r.displayName,null==r?void 0:r.email]);var y=function(e){var t=h.displayName,n=h.email;if(a&&h[e]!==(null==r?void 0:r[e]))switch(e){case"displayName":if(!(null==t?void 0:t.trim().length)){o.error("Name cannot be an empty string"),b(e);break}o.promise(A(t,a),{loading:"Updating name ...",error:"Something went wrong",success:"Updated name successfully"}).catch(function(e){return b("displayName")});break;case"email":if(!(null==n?void 0:n.trim().length)){o.error("Email cannot be an empty string"),b(e);break}var s,u=(0,sT.R)(n);if(!(0,sT.J)(u)){o.error("Email is invalid"),b(e);break}eT.Z.trackEvent("account","change_email"),o.promise(l(u,a,null!==(s=h.confirmPassword)&&void 0!==s?s:""),{loading:"Updating email ...",error:function(e){return e.message},success:"Updated email successfully"}).catch(function(){b("email"),p({confirmPassword:""})})}},b=function(e){return p((0,rW.Z)({},e,null!==(n=null==r?void 0:r[e])&&void 0!==n?n:""))},w=function(e){return function(t){"Enter"===t.key?y(e):"Escape"===t.key&&(b(e),t.stopPropagation())}},_=function(){u&&d(s,a).catch(function(e){m(e)})};return/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsxs)("div",{className:sD().row,children:[/*#__PURE__*/(0,q.jsx)("span",{className:sD().label,children:"Full Name"}),/*#__PURE__*/(0,q.jsx)(tY.Z,{value:h.displayName,labelClassNames:{root:sD().input},onBlur:function(){return y("displayName")},onKeyDown:w("displayName"),onChange:function(e){return p({displayName:e.currentTarget.value})}})]}),/*#__PURE__*/(0,q.jsxs)("div",{className:sD().row,children:[/*#__PURE__*/(0,q.jsx)("span",{className:sD().label,children:"Email"}),u?/*#__PURE__*/(0,q.jsxs)("div",{className:sD().providerEmail,children:[/*#__PURE__*/(0,q.jsx)("span",{className:sD().readonlyValue,children:h.email}),/*#__PURE__*/(0,q.jsx)(tK.ZP,{variant:tK.ZP.Variants.REVERSED,size:tK.ZP.Sizes.TINY,onClick:_,title:"Authenticate with a different ".concat(sO[s]," account."),className:sD().changeButton,children:"Change"})]}):/*#__PURE__*/(0,q.jsx)(tY.Z,{type:"email",value:h.email,labelClassNames:{root:sD().input},onKeyDown:w("email"),onChange:function(e){return p({email:e.currentTarget.value})}})]}),h.email!==(null==r?void 0:r.email)&&/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsxs)("div",{className:sD().row,children:[/*#__PURE__*/(0,q.jsx)("span",{className:sD().label,children:"Confirm Password"}),/*#__PURE__*/(0,q.jsx)(tY.Z,{type:"password",value:h.confirmPassword,labelClassNames:{root:sD().input},onChange:function(e){return p({confirmPassword:e.currentTarget.value})}})]}),/*#__PURE__*/(0,q.jsx)(tz.Z,{className:sD().buttonGroup,children:/*#__PURE__*/(0,q.jsx)(tK.ZP,{onClick:function(){return y("email")},children:"Update E-mail"})})]}),!!v&&/*#__PURE__*/(0,q.jsxs)(sS.U,{children:[/*#__PURE__*/(0,q.jsx)("span",{className:te().error,children:/*#__PURE__*/(0,q.jsx)("b",{children:v.message})}),/*#__PURE__*/(0,q.jsx)("br",{}),"You must log in again to ensure your eraser account has a valid e-mail associated with it.",/*#__PURE__*/(0,q.jsx)(tK.ZP,{variant:tK.ZP.Variants.REVERSED,size:tK.ZP.Sizes.TINY,onClick:_,title:"Re-auth with your ".concat(sO[s]," account, or try again with a valid account that is not already in use."),children:/*#__PURE__*/(0,q.jsx)("b",{children:"Sign In"})})]})]})},sO={"google.com":"Google","microsoft.com":"Microsoft"},sF=n(37164),sR=n(64044),sL=n(54848),sM=n(35937),sP=n(65227),sU=/*#__PURE__*/n.n(sP),sj=function(){var e,t=(0,eI.aF)(),n=(0,ig.Z)(),r=(0,eD.LP)(),o=(0,sw.ZP)().updateUserPhotoUrl,a=(0,ex.ZP)(null==t?void 0:t.id,!0),s=(0,$.useRef)(null),u=(e=(0,z.Z)(function(){var e,a,u,c,l;return(0,W.__generator)(this,function(A){switch(A.label){case 0:if(!t||!r||!s.current||!s.current.files||!s.current.files.length)return[2];e=(0,sF.x0)(),a=(0,sF.x0)(),(u=s.current.files[0]).size/1048576>3&&n.error("File exceeds maximum size of 3MB",{id:e}),c=new sR.Z({maxSizeMB:3,compress:!0,finalBaseURL:"users/".concat(t.id,"/"),uploadBasePath:"images/users/".concat(t.id,"/")}),A.label=1;case 1:return A.trys.push([1,4,,5]),n.loading("Updating profile image ...",{id:e}),[4,c.upload(u,{fileName:"profilePicture_".concat(a)})];case 2:return l=A.sent().url,[4,o((0,sM.V)(l))];case 3:return A.sent(),n.success("Updated profile image successfully",{id:e}),[3,5];case 4:return A.sent(),n.error("Something went wrong",{id:e}),[3,5];case 5:return[2]}})}),function(){return e.apply(this,arguments)});return/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsx)(sL.Z,(0,G.Z)({size:208,className:sU().avatar},a)),/*#__PURE__*/(0,q.jsxs)("label",{className:sU().uploadButton,children:[/*#__PURE__*/(0,q.jsx)("input",{type:"file",ref:s,accept:"image/jpg, image/png, image/gif, image/webp",onChange:u}),"Upload Photo"]})]})},sZ=n(79170),sQ=n(91852),sH=/*#__PURE__*/n.n(sQ),sV=function(){var e,t=(0,ig.Z)(),n=(0,eI.Fl)(),r=(0,eI.pC)(),o=null===(e=null==n?void 0:n.isGettingStartedEnabled)||void 0===e||e;return og.g.isFeatureEnabled("get_started_checklist")?/*#__PURE__*/(0,q.jsxs)("div",{children:[/*#__PURE__*/(0,q.jsx)("div",{className:(0,tt.Z)(sH().gettingStartedRow),children:/*#__PURE__*/(0,q.jsx)(sZ.Z,{onChange:function(){var e=!o;t.promise(r({isGettingStartedEnabled:e}),{loading:"Updating setting",error:"Something went wrong",success:"Getting Started ".concat(e?"shown on":"hidden from"," dashboard")})},checked:o,label:"Get Started",labelSide:"left"})}),/*#__PURE__*/(0,q.jsx)("span",{className:sH().gettingStartedDescription,children:"Show or hide the Get started checklist on your personal dashboard"})]}):null},sK=function(){return/*#__PURE__*/(0,q.jsxs)("div",{className:sH().root,children:[/*#__PURE__*/(0,q.jsxs)("div",{className:sH().profileInfoSide,children:[/*#__PURE__*/(0,q.jsx)(sN,{}),/*#__PURE__*/(0,q.jsx)(sx,{}),/*#__PURE__*/(0,q.jsx)("hr",{className:sH().separator}),/*#__PURE__*/(0,q.jsx)(sV,{})]}),/*#__PURE__*/(0,q.jsx)("div",{className:sH().profilePictureSide,children:/*#__PURE__*/(0,q.jsx)(sj,{})})]})},sz=n(96737),sG=n(85341),sW=n(95550),sq=n(53017),sY=/*#__PURE__*/n.n(sq),s$=function(e){var t=e.team,n=(0,ig.Z)(),r=(0,$.useState)(t.isAutoJoinEnabled),o=r[0],a=r[1];(0,$.useEffect)(function(){a(t.isAutoJoinEnabled)},[t.isAutoJoinEnabled]);var s=(0,iv.Z)(/*#__PURE__*/(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,n.promise((0,sG.Z)(t.id,{isAutoJoinEnabled:!o}),{success:"Updated team",loading:"Updating team",error:"Something went wrong"})];case 1:return e.sent(),[2]}})}));return t.domain?/*#__PURE__*/(0,q.jsxs)("div",{className:sY().settingRow,children:[/*#__PURE__*/(0,q.jsx)("div",{className:sY().settingTitleContainer,children:/*#__PURE__*/(0,q.jsx)(sZ.Z,{label:"Allowed Email Domain",labelSide:"left",checked:o,disabled:s.loading,onChange:function(){return s.execute()}})}),/*#__PURE__*/(0,q.jsxs)("span",{className:sY().description,children:["Allow ",/*#__PURE__*/(0,q.jsxs)("span",{className:sY().domain,children:["@",t.domain]})," emails to automatically join this team."]})]}):null},sX=function(e){var t=e.isAdmin,n=e.shareController,r=(0,e$.Pe)(),o=(0,eI.II)(),a=(0,av.Z)(),s=(0,$.useCallback)(function(){a(n.inviteLink),o&&r.currentUser.markActivation(tx.c.InviteTeamMember),eT.Z.trackEvent("team_share_dialog","copy_link_click")},[o,n.inviteLink]);return/*#__PURE__*/(0,q.jsxs)("div",{className:sY().settingRow,children:[/*#__PURE__*/(0,q.jsx)("div",{className:sY().settingTitleContainer,children:t?/*#__PURE__*/(0,q.jsx)(sZ.Z,{label:"Invite Link",labelSide:"left",onChange:function(){t&&(n.isEnabled?n.onTurnOff():n.onTurnOn())},checked:n.isEnabled,disabled:!t||n.isCreating||n.isDeleting}):/*#__PURE__*/(0,q.jsx)("span",{className:sY().settingTitle,children:"Invite Link"})}),n.isCreating&&/*#__PURE__*/(0,q.jsx)("span",{className:sY().linkLoading,children:"Loading ..."}),n.inviteLink&&/*#__PURE__*/(0,q.jsxs)("div",{className:sY().inviteLinkContainer,children:[/*#__PURE__*/(0,q.jsx)("span",{className:sY().link,children:n.inviteLink}),/*#__PURE__*/(0,q.jsx)(tK.ZP,{className:sY().copyButton,variant:tK.ZP.Variants.REVERSED,onClick:s,children:"Copy link"})]})]})},sJ=function(e){var t=e.team,n=(0,eI.aF)(),r=(0,ap.ZP)(t.id,void 0,{internalOnly:!0}),o=(0,sz._)({entityType:sW.FU.Team,entityId:t.id}),a=(0,aA.GX)(r,null==n?void 0:n.id,aA.H0);return a||o.inviteLink?/*#__PURE__*/(0,q.jsxs)("div",{className:sY().root,children:[/*#__PURE__*/(0,q.jsx)("h4",{className:sY().title,children:"Settings"}),/*#__PURE__*/(0,q.jsxs)("div",{className:sY().settingRows,children:[a&&(null==n?void 0:n.emailVerified)&&/*#__PURE__*/(0,q.jsx)(s$,{team:t}),/*#__PURE__*/(0,q.jsx)(sX,{shareController:o,team:t,isAdmin:a})]})]}):null},s0=n(20810),s1=n(39739),s2=n(99054),s4=n(12335),s3=n(42389),s5=n(97594),s6=n(10186),s8=function(e){var t=(0,$.useState)(),n=t[0],r=t[1],o=(0,s0.m)(function(e){return e.pipe((0,s2.h)(function(e){return null!=(0,tQ.Z)(e,1)[0]}),(0,s4.w)(function(e){var t;return t=(0,tQ.Z)(e,1)[0],(0,s3.BS)(s6.Z.invites.withConverter(s5.xI).where("teamId","==",t).where("type","==",sW.PA.Email).where("inviteTo","==",sW.FU.Team).where("status","==",sW.aj.Pending).orderBy("inviteeEmail","asc"))}))},[e]);return(0,s1.m)(o,r,eW.T),n},s9=n(84054),s7=n(46572),ue=n(28649),ut=n(25248),un=n(89357),ur=n(41289),ui=function(e){var t=e.teamId,n=e.memberId;return tU.Z.delete("team/".concat(t,"/memberships/").concat(n))},uo=n(20097),ua=n(27401),us=/*#__PURE__*/n.n(ua),uu=function(e){var t=e.combinedMembers,n=void 0===t?[]:t,r=e.onInvite,o=e.isLoading,a=(0,e0.Z)(e,["combinedMembers","onInvite","isLoading"]);return/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsx)("div",{className:us().inviteInputContainer,children:/*#__PURE__*/(0,q.jsx)(ut.b,{onInvite:r,placeholder:"Invite via email address"})}),/*#__PURE__*/(0,q.jsx)("div",{className:us().membersListContainer,children:/*#__PURE__*/(0,q.jsx)("div",{className:(0,tt.Z)(us().userList,"column gapMedium"),children:o?null:(null!=n?n:[]).map(function(e,t){var n;return e.role===uo.i.Guest?null:/*#__PURE__*/(0,q.jsx)(uc,(0,G.Z)({},e,a),"".concat(null!==(n=e.email)&&void 0!==n?n:e.userId,"-").concat(t))})})})]})},uc=function(e){var t=e.userId,n=e.email,r=e.displayName,o=e.profile,a=e.isCurrentUser;return/*#__PURE__*/(0,q.jsxs)("div",{className:(0,tt.Z)(us().userRow,"rowCentered"),"data-testid":"user-row-".concat(n),children:[/*#__PURE__*/(0,q.jsx)(iN.a,{userId:t,email:null!=n?n:void 0,displayName:null!=r?r:void 0,profile:null!=o?o:void 0,displayNameSuffix:a?" (You)":void 0}),/*#__PURE__*/(0,q.jsx)("div",{children:/*#__PURE__*/(0,q.jsx)(ul,(0,G.Z)({},e))})]})},ul=function(e){var t=e.role,n=String(null!=t?t:"pending"),r=function(e){var t=e.role,n=e.isCurrentUser,r=e.currentUserRole,o=e.teamInviteId,a=e.userId,s=e.isCurrentUserSoleAdmin,u=e.currentTeamId,c=null!=t?t:"pending";if(!r||!u||r===uo.i.Guest)return[];if(r===uo.i.Member){if(n&&a)return[{label:"Leave team",asyncOnClick:/*#__PURE__*/(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,ui({teamId:u,memberId:a})];case 1:return e.sent(),[2]}})})}];if("guest"===c&&a)return[{label:"Add to team as member",asyncOnClick:/*#__PURE__*/(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,ur.M)({teamId:u,userId:a,role:uo.i.Member,updateRoleIfExists:!0})];case 1:return e.sent(),[2]}})})}];if("pending"===c&&o)return[{label:"Cancel Invitation",asyncOnClick:/*#__PURE__*/(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,tP.Z)(300)];case 1:return e.sent(),[4,(0,un.Z)(o)];case 2:return e.sent(),[2]}})})}]}else if(r===uo.i.Admin){if(n&&a){if(!s)return[{label:"Downgrade self to member",asyncOnClick:/*#__PURE__*/(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,ur.M)({teamId:u,userId:a,role:uo.i.Member,updateRoleIfExists:!0})];case 1:return e.sent(),[2]}})})},{label:"Leave team",asyncOnClick:/*#__PURE__*/(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,ui({teamId:u,memberId:a})];case 1:return e.sent(),[2]}})})}]}else if("member"===c&&a)return[{label:"Change role to admin",asyncOnClick:/*#__PURE__*/(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,ur.M)({teamId:u,userId:a,role:uo.i.Admin,updateRoleIfExists:!0})];case 1:return e.sent(),[2]}})})},{label:"Remove from team",asyncOnClick:/*#__PURE__*/(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,ui({teamId:u,memberId:a})];case 1:return e.sent(),[2]}})})}];else if("admin"===c&&a)return[{label:"Change role to member",asyncOnClick:/*#__PURE__*/(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,ur.M)({teamId:u,userId:a,role:uo.i.Member,updateRoleIfExists:!0})];case 1:return e.sent(),[2]}})})},{label:"Remove from team",asyncOnClick:/*#__PURE__*/(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,ui({teamId:u,memberId:a})];case 1:return e.sent(),[2]}})})}];else if("guest"===c&&a)return[{label:"Add to team as member",asyncOnClick:/*#__PURE__*/(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,ur.M)({teamId:u,userId:a,role:uo.i.Member,updateRoleIfExists:!0})];case 1:return e.sent(),[2]}})})}];else if("pending"===c&&o)return[{label:"Cancel Invitation",asyncOnClick:/*#__PURE__*/(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return[4,(0,tP.Z)(300)];case 1:return e.sent(),[4,(0,un.Z)(o)];case 2:return e.sent(),[2]}})})}]}return[]}(e);return/*#__PURE__*/(0,q.jsx)(ue.nV,{unopenedText:n.charAt(0).toUpperCase()+n.slice(1),dropdownOptions:r})};function uA(e){var t,n=(e.email?"a":"b")+((null===(t=e.profile)||void 0===t?void 0:t.photoURL)?"a":"b");return e.isCurrentUser?"1":e.isDeletedUser?"7":e.role===uo.i.Admin?"2"+n:e.role===uo.i.Member?"3"+n:e.role===uo.i.Guest?"4"+n:e.role?"8":"5"+n+(e.displayName?"a":"b")}var ud=function(){var e,t,n,r,o=(0,e$.Pe)(),a=(0,eD.LP)(),s=(0,eI.II)(),u=(0,ap.lU)(a,void 0,{internalOnly:!1}),c=(0,ap.Sh)(a,void 0,{internalOnly:!1}),l=(0,ap.q8)(a,void 0,{internalOnly:!1}),A=s8(a),d=function(e){var t=e.allMembersByRole,n=e.membersWithKnownInfo,r=e.membersWithProfiles,o=e.invitedUsers,a=e.currentUserId,s=[],u=Array.from(new Set([null!==(d=null==t?void 0:t.map(function(e){return e.id}))&&void 0!==d?d:[],null!==(f=null==n?void 0:n.map(function(e){return e.memberId}))&&void 0!==f?f:[],null!==(h=null==r?void 0:r.map(function(e){return e.id}))&&void 0!==h?h:[]].flat())),c=!0,l=!1,A=void 0;try{for(var d,f,h,p,g=u[Symbol.iterator]();!(c=(p=g.next()).done);c=!0)!function(){var e,o,u,c=p.value,l=null==n?void 0:n.find(function(e){return e.memberId===c}),A=null==r?void 0:r.find(function(e){return e.id===c}),d=null==t?void 0:t.find(function(e){return e.id===c}),f=!(null!==(e=null==l?void 0:l.displayName)&&void 0!==e?e:null==A?void 0:A.displayName);s.push({userId:c,email:null==l?void 0:l.email,role:null==d?void 0:d.role,displayName:null!==(u=null!==(o=null==l?void 0:l.displayName)&&void 0!==o?o:null==A?void 0:A.displayName)&&void 0!==u?u:"Deleted User",knownPerson:l,isDeletedUser:f,profile:A,isCurrentUser:!!a&&c===a})}()}catch(e){l=!0,A=e}finally{try{c||null==g.return||g.return()}finally{if(l)throw A}}var v=!0,m=!1,y=void 0;try{for(var b,w=(null!=o?o:[])[Symbol.iterator]();!(v=(b=w.next()).done);v=!0){var _=b.value;s.push({userId:null,email:_.inviteeEmail,role:null,displayName:null,knownPerson:void 0,isDeletedUser:!1,profile:void 0,isCurrentUser:!1,teamInviteId:_.id})}}catch(e){m=!0,y=e}finally{try{v||null==w.return||w.return()}finally{if(m)throw y}}return s.sort(function(e,t){var n=uA(e),r=uA(t);if(n<r)return -1;if(n>r)return 1;if(e.displayName<t.displayName)return -1;if(e.displayName>t.displayName)return 1;if(e.email<t.email)return -1;if(e.email>t.email)return 1;if(e.userId<t.userId)return -1;if(e.userId>t.userId)return 1;return 0}),s}({allMembersByRole:u,membersWithKnownInfo:c,membersWithProfiles:l,invitedUsers:A,currentUserId:s}),f=null===(r=null==u?void 0:u.find(function(e){return e.id===s}))||void 0===r?void 0:r.role,h=!!f&&!!u&&f===s7.i4.Admin&&(null!==(t=null===(e=null==u?void 0:u.filter(function(e){return e.role===s7.i4.Admin}))||void 0===e?void 0:e.length)&&void 0!==t?t:0)<=1,p=(0,$.useCallback)((n=(0,z.Z)(function(e){return(0,W.__generator)(this,function(t){switch(t.label){case 0:if(!s||!a)return[2];return[4,(0,s9.Z)({type:sW.PA.Email,inviteeEmail:e,status:sW.aj.Pending,inviteTo:sW.FU.Team,teamId:a},"team_members_modal")];case 1:return t.sent(),o.currentUser.markActivation(tx.c.InviteTeamMember),[2]}})}),function(e){return n.apply(this,arguments)}),[s,a]),g=!a||!s||!u||!c||!l||!A;return/*#__PURE__*/(0,q.jsx)(uu,{combinedMembers:d,onInvite:p,currentUserRole:f,isCurrentUserSoleAdmin:h,currentTeamId:a,isLoading:g})},uf=function(e){var t=e.planType,n=e.teamMembersLength,r=(0,iB.Y)().setOpenedPane;return/*#__PURE__*/(0,q.jsxs)("div",{className:us().settingsSubtext,children:["You are currently on the ",oQ.ZP[null!=t?t:eN.k9.Free].label.toLowerCase()," plan. Your team has\xa0",n," member",n>1?"s":"","\xa0—\xa0",/*#__PURE__*/(0,q.jsx)("a",{role:"button",className:us().manageLink,onClick:function(){r("plans"),eT.Z.trackEvent("payment","open_billing_pane",{source:"teamMembersPane"})},children:"Manage plan"})]})},uh=function(){var e,t,n=(0,eD.Rs)(),r=(0,ap.ZP)(null==n?void 0:n.id,void 0,{internalOnly:!0});return/*#__PURE__*/(0,q.jsx)("div",{className:us().container,children:/*#__PURE__*/(0,q.jsxs)("div",{className:us().centered,children:[/*#__PURE__*/(0,q.jsx)("div",{className:us().preamble,children:"Eraser is made for team collaboration. All team members see the same folders and files on their dashboard. Guests only have access to specific files."}),/*#__PURE__*/(0,q.jsxs)("div",{className:us().body,children:[/*#__PURE__*/(0,q.jsx)("div",{className:us().leftHalf,children:/*#__PURE__*/(0,q.jsx)(ud,{})}),/*#__PURE__*/(0,q.jsxs)("div",{className:us().rightHalf,children:[n&&/*#__PURE__*/(0,q.jsx)(sJ,{team:n}),/*#__PURE__*/(0,q.jsx)(uf,{planType:null==n?void 0:null===(e=n.plan)||void 0===e?void 0:e.planType,teamMembersLength:null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0})]})]})]})})},up=n(42838),ug=function(e){return tU.Z.put("/team/".concat(e.teamId),{config:e.config})},uv=n(76897),um=/*#__PURE__*/n.n(uv),uy=n(4185),ub=n(33695),uw=n(41174),u_=n(53030),uE=n(59711),uC=(0,eE.Z)((0,G.Z)({},u_.vQ),{popperPlacement:"bottom-start",popperModifiers:[{name:"offset",options:{offset:[0,10]}}]}),uB=function(e){var t=e.selected,n=e.isDisabled,r=e.buttonClassname,o=e.onChange;return/*#__PURE__*/(0,q.jsxs)(tG.Lt,(0,eE.Z)((0,G.Z)({isMountedInPopper:!0,onSelect:o,selected:t,isDisabled:n,hint:n?{label:"Upgrade your team plan to change this setting"}:void 0,toggleClassNames:{root:r}},uC),{children:[/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"No link access",icon:/*#__PURE__*/(0,q.jsx)(uy.Z,{}),explanation:u_.Xh.none},uE.bR.NONE),/*#__PURE__*/(0,q.jsx)(tG.KE,{}),/*#__PURE__*/(0,q.jsx)(tv.Z,{icon:/*#__PURE__*/(0,q.jsx)(ub.Z,{}),label:"Anyone with the link can Edit",explanation:u_.Xh.write},uE.bR.WRITE),/*#__PURE__*/(0,q.jsx)(tv.Z,{icon:/*#__PURE__*/(0,q.jsx)(o9.Z,{}),label:"Publicly viewable",explanation:u_.Xh.read},uE.bR.READ),/*#__PURE__*/(0,q.jsx)(tv.Z,{icon:/*#__PURE__*/(0,q.jsx)(uw.Z,{}),label:"Publicly editable",explanation:u_.Xh["anonymous-write"]},uE.bR.ANONYMOUS_WRITE)]}))},uI="Only team admins can view or edit SSO information",ux=n(63955),uT=n(18858),uS=n(11406),uk=/*#__PURE__*/n.n(uS),uD=n(7956);function uN(e){return e?e.startsWith("-----BEGIN CERTIFICATE-----")&&e.endsWith("-----END CERTIFICATE-----")?void 0:'Certificate must start with "-----BEGIN CERTIFICATE-----" and end with "-----END CERTIFICATE-----"':"Certificate is required"}var uO=function(e){var t,n,r,o,a,s,u=e.ssoTenant,c=e.onCancel,l=e.onUpdate,A=(0,ux.cI)({values:u}),d=A.register,f=A.handleSubmit,h=A.formState.errors,p=f((t=(0,z.Z)(function(e){return(0,W.__generator)(this,function(t){return l((0,G.Z)({type:"saml"},e)),[2,!1]})}),function(e){return t.apply(this,arguments)})),g=(0,$.useRef)(null);(0,$.useLayoutEffect)(function(){var e;null===(e=g.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[]);var v=(0,$.useCallback)(function(e){e.preventDefault(),c()},[c]);return/*#__PURE__*/(0,q.jsxs)("form",{onSubmit:p,ref:g,className:uk().form,children:[/*#__PURE__*/(0,q.jsxs)("fieldset",{children:[/*#__PURE__*/(0,q.jsx)(tY.Z,(0,eE.Z)((0,G.Z)({},d("domain",{required:"Domain is required"})),{label:"Verified Domain",readOnly:!0,error:null===(n=h.domain)||void 0===n?void 0:n.message})),/*#__PURE__*/(0,q.jsx)(tY.Z,(0,eE.Z)((0,G.Z)({},d("entryPoint",{required:"Sign-In URL is required",validate:uT.po,setValueAs:function(e){return e.trim()}})),{error:null===(r=h.entryPoint)||void 0===r?void 0:r.message,label:"SAML Sign-In URL"})),/*#__PURE__*/(0,q.jsx)(tY.Z,(0,eE.Z)((0,G.Z)({},d("issuer",{required:"Issuer is required",validate:uT.po,setValueAs:function(e){return e.trim()}})),{error:null===(o=h.issuer)||void 0===o?void 0:o.message,label:"Identity Provider Issuer"})),/*#__PURE__*/(0,q.jsx)(tY.Z,(0,eE.Z)((0,G.Z)({},d("serviceProvider",{required:"Entity ID is required",setValueAs:function(e){return e.trim()}})),{readOnly:!0,error:null===(a=h.serviceProvider)||void 0===a?void 0:a.message,label:"Entity ID"})),/*#__PURE__*/(0,q.jsx)(uD.Z,(0,eE.Z)((0,G.Z)({},d("idpCert",{required:"Certificate is required",validate:uN,setValueAs:function(e){return e.trim()}})),{error:null===(s=h.idpCert)||void 0===s?void 0:s.message,label:"Key x509 Certificate",height:95}))]}),/*#__PURE__*/(0,q.jsxs)(tz.Z,{autoWidth:!0,children:[/*#__PURE__*/(0,q.jsx)(tK.zx,{variant:tK.tr.LIGHT,onClick:v,children:"Cancel"}),/*#__PURE__*/(0,q.jsx)(tK.zx,{type:"submit",children:"Save"})]})]})};function uF(e){if(!e)return"";try{return new URL(e).hostname}catch(e){return"invalid url"}}var uR=function(e){var t=e.ssoTenant,n=e.onUpdate,r=e.hideForm,o=e.originalTenant,a=(0,$.useState)(!t.entryPoint),s=a[0],u=a[1],c=(0,$.useCallback)(function(e){n(e),u(!1),r()},[n,r]);return s?/*#__PURE__*/(0,q.jsx)(uO,{ssoTenant:t,onCancel:function(){u(!1),o||r()},onUpdate:c}):/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsx)("table",{className:uk().table,children:/*#__PURE__*/(0,q.jsxs)("tbody",{children:[/*#__PURE__*/(0,q.jsxs)("tr",{children:[/*#__PURE__*/(0,q.jsx)("td",{children:"Verified Domain"}),/*#__PURE__*/(0,q.jsx)("td",{children:t.domain})]}),/*#__PURE__*/(0,q.jsxs)("tr",{children:[/*#__PURE__*/(0,q.jsx)("td",{children:"SAML Sign-In URL"}),/*#__PURE__*/(0,q.jsx)("td",{children:uF(t.entryPoint)})]}),/*#__PURE__*/(0,q.jsxs)("tr",{children:[/*#__PURE__*/(0,q.jsx)("td",{children:"Identity Provider Issuer"}),/*#__PURE__*/(0,q.jsx)("td",{children:uF(t.issuer)})]}),/*#__PURE__*/(0,q.jsxs)("tr",{children:[/*#__PURE__*/(0,q.jsx)("td",{children:"Key x509 Certificate"}),/*#__PURE__*/(0,q.jsx)("td",{children:"••••••••••"})]}),/*#__PURE__*/(0,q.jsxs)("tr",{children:[/*#__PURE__*/(0,q.jsx)("td",{children:"Entity ID"}),/*#__PURE__*/(0,q.jsx)("td",{children:t.serviceProvider})]})]})}),/*#__PURE__*/(0,q.jsx)(tK.zx,{variant:tK.tr.LIGHT,onClick:function(){return u(!0)},children:"Edit Configuration"})]})},uL=n(71505),uM=function(){var e,t,n,r,o=(0,eD.Rs)(),a=(0,eI.aF)(),s=null===(n=(0,ap.ZP)(null==o?void 0:o.id,void 0))||void 0===n?void 0:n.find(function(e){return e.id===(null==a?void 0:a.id)}),u=(0,aA.H0)(s),c=(0,$.useState)(),l=c[0],A=c[1],d=(0,$.useState)(),f=d[0],h=d[1],p=(0,$.useState)(),g=p[0],v=p[1],m=(0,uL.Z)(eN.AC.SSO,null==o?void 0:o.id),y=(0,$.useState)(!!(null==o?void 0:o.ssoDomain)),b=y[0],w=y[1],_=(0,$.useState)(!!(null==o?void 0:o.ssoDomain)),E=_[0],C=_[1],B=(0,$.useCallback)((e=(0,z.Z)(function(e){var t,n,r;return(0,W.__generator)(this,function(s){switch(s.label){case 0:if(!m)return e.preventDefault(),[2];if(C(t=e.target.checked),!t)return[3,1];if(f){A(f);try{tU.Z.post("sso/".concat(null==o?void 0:o.id),f),ej.a1.success("SSO restored")}catch(e){(0,eW.T)(e),ej.a1.error("Failed to restore SSO")}}else A({domain:null==a?void 0:null===(n=a.email)||void 0===n?void 0:n.split("@")[1],serviceProvider:"https://app.eraser.io"}),w(!1);return[3,5];case 1:if(A(void 0),!f)return[3,5];s.label=2;case 2:return s.trys.push([2,4,,5]),[4,tU.Z.delete("sso/".concat(null==o?void 0:o.id))];case 3:return s.sent(),A(void 0),ej.a1.success("SSO disabled"),[3,5];case 4:return r=s.sent(),(0,eW.T)(r),ej.a1.error("Failed to disable SSO"),[3,5];case 5:return[2]}})}),function(t){return e.apply(this,arguments)}),[o,a,f,m]);(0,$.useEffect)(function(){u&&o&&E&&m&&!f&&tU.Z.get("sso/".concat(o.id)).then(function(e){w(!1),"inactive"in e||(A(e),h(e))}).catch(function(e){w(!1),401===e.statusCode?(e.message===uI&&v(e.message),"SSO already exists for this domain. Please contact us at hello@eraser.io to add SSO to this team."===e.message&&v(e.message),A(void 0)):v(e.message)})},[o,u,m,E,f]);var I=(0,$.useCallback)((t=(0,z.Z)(function(e){var t;return(0,W.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,tU.Z.post("sso/".concat(null==o?void 0:o.id),e)];case 1:return n.sent(),A(e),h(e),f?ej.a1.success("SSO updated"):ej.a1.success("SSO enabled"),[3,3];case 2:return t=n.sent(),(0,eW.T)(t),ej.a1.error("Failed to update SSO"),[3,3];case 3:return[2]}})}),function(e){return t.apply(this,arguments)}),[o,f]),x=(0,$.useCallback)(function(){A(void 0),C(!1)},[]),T=(0,iB.Y)().setOpenedPane,S=/*#__PURE__*/(0,q.jsxs)("h3",{children:["Authentication ",!m&&/*#__PURE__*/(0,q.jsx)(ov.y6,{})]});return u?g?/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[S,/*#__PURE__*/(0,q.jsx)("div",{children:g})]}):/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[S,/*#__PURE__*/(0,q.jsxs)("div",{children:[/*#__PURE__*/(0,q.jsx)(sZ.Z,{checked:E||(null==o?void 0:o.ssoDomain)!==void 0,readOnly:!m||E,onChange:B,label:/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:["SAML SSO ",b&&/*#__PURE__*/(0,q.jsx)(iE.Z,{inline:!0})]})}),/*#__PURE__*/(0,q.jsxs)("p",{className:uk().infoText,children:["Team members on your email domain will be required to sign in with SSO."," ",m?/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsx)("a",{href:"https://docs.eraser.io/docs/sso",children:"Learn about SSO"}),". If you are facing issues with setup, send an email to"," ",/*#__PURE__*/(0,q.jsx)("a",{href:"mailto:hello@eraser.io",children:"hello@eraser.io"}),"."]}):/*#__PURE__*/(0,q.jsx)(q.Fragment,{children:/*#__PURE__*/(0,q.jsx)("a",{href:"#",onClick:function(e){e.preventDefault(),T("plans",eN.AC.SSO)},children:"Upgrade to Business."})})]}),l?/*#__PURE__*/(0,q.jsx)(uR,{ssoTenant:l||{domain:null==a?void 0:null===(r=a.email)||void 0===r?void 0:r.split("@")[1]},originalTenant:f,hideForm:x,onUpdate:I}):null]})]}):/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[S,/*#__PURE__*/(0,q.jsx)("div",{children:uI})]})},uP=function(){var e,t,n,r,o,a,s=(0,ig.Z)(),u=(0,eI.II)(),c=(0,eD.Zj)(),l=(0,eD.Rs)(),A=(0,eD.DJ)().updateTeam,d=(0,iB.Y)().closeSettingsModal,f=(0,$.useRef)(null),h=(0,$.useRef)(!1),p=(0,eJ.Z)(),g=p.isOpen,v=p.onClose,m=p.onOpen,y=(0,iv.Z)(ug),b=(0,$.useState)(null!==(r=null==l?void 0:l.name)&&void 0!==r?r:""),w=b[0],_=b[1],E=(0,ap.ZP)(null==l?void 0:l.id,void 0,{internalOnly:!0}),C=(0,$.useCallback)(function(){var e;_(null!==(e=null==l?void 0:l.name)&&void 0!==e?e:"")},[l]);(0,$.useEffect)(function(){l&&_(l.name)},[l,null==l?void 0:l.name]);var B=null==l?void 0:null===(t=l.plan)||void 0===t?void 0:t.planType,I=B&&B!==eN.k9.Free,x=(0,aA.GX)(E,u,aA.H0),T=null!==(o=null==E?void 0:E.filter(function(e){return e.id!==u}))&&void 0!==o?o:[],S=function(){if(A&&l){if(h.current){h.current=!1;return}w!==l.name&&s.promise(A(l.id,{name:w}),{success:"Updated team name",loading:"Updating team name",error:function(e){return(C(),(0,eW.T)(e),(0,up.Z)(e,iS.c))?e.message:"Something went wrong"}})}},k=(e=(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:var t;if(!l||I)return[2];return[4,s.promise((t=l.id,tU.Z.delete("team/".concat(t))).then(function(){null==c||c(),d()}),{loading:"Deleting team",success:"Deleted team",error:function(e){return(0,eW.T)(e),"Something went wrong"}})];case 1:return e.sent(),null==c||c(),[2]}})}),function(){return e.apply(this,arguments)}),D=(0,$.useCallback)(function(e){l&&I&&s.promise(y.execute({teamId:l.id,config:{defaultWorkspaceAccess:e}}),{success:"Updated default file link settings",loading:"Updating default file link settings",error:function(e){return(0,eW.T)(e),"Something went wrong"}})},[y,l,I]);return/*#__PURE__*/(0,q.jsxs)("div",{children:[/*#__PURE__*/(0,q.jsx)("h3",{className:um().subHeader,children:"Basic information"}),/*#__PURE__*/(0,q.jsx)(tY.Z,{label:"Team Name",explanation:"Can be changed at any time.",ref:f,value:w,disabled:!x,readOnly:!x,onKeyDown:function(e){if("Enter"===e.key)S();else if("Escape"===e.key){var t;e.stopPropagation(),h.current=!0,null===(t=f.current)||void 0===t||t.blur(),C()}},onBlur:function(){return S()},className:um().teamRowInput,placeholder:"Enter team name ...",onChange:function(e){return _(e.currentTarget.value)}}),/*#__PURE__*/(0,q.jsx)(tW.A,{label:/*#__PURE__*/(0,q.jsxs)("span",{children:["Default File Link Access",!I&&/*#__PURE__*/(0,q.jsx)(ov.y6,{className:um().teamRowBadge})]}),explanation:"Applied to all new team files",children:/*#__PURE__*/(0,q.jsx)(uB,{selected:null!==(a=null==l?void 0:null===(n=l.config)||void 0===n?void 0:n.defaultWorkspaceAccess)&&void 0!==a?a:uE.bR.WRITE,isDisabled:y.loading||!I,buttonClassname:um().teamRowDropdown,onChange:D})}),/*#__PURE__*/(0,q.jsx)(uM,{}),x&&!T.length&&/*#__PURE__*/(0,q.jsxs)("div",{className:um().dangerZone,children:[/*#__PURE__*/(0,q.jsx)("span",{className:um().dangerTitle,children:"Danger Zone"}),/*#__PURE__*/(0,q.jsx)("p",{className:um().dangerMessage,children:"Proceed with caution, once completed, these actions cannot be undone."}),/*#__PURE__*/(0,q.jsxs)("div",{children:[/*#__PURE__*/(0,q.jsx)(tK.ZP,{onClick:m,disabled:I,variant:tK.ZP.Variants.TRANSPARENT,children:"Delete Team"}),I&&/*#__PURE__*/(0,q.jsx)("span",{className:um().deletionWarning,children:"The team has an active paid plan and cannot be deleted."})]}),/*#__PURE__*/(0,q.jsx)(am.Z,{isDeletion:!0,isOpen:g,onClose:v,onCancel:v,title:"Delete team?",onConfirm:k,description:"By selecting confirm you will delete all files that belong to this team. This cannot be undone."})]})]})},uU=n(19013),uj=/*#__PURE__*/n.n(uU),uZ=function(){return/*#__PURE__*/(0,q.jsxs)("div",{className:(0,tt.Z)(uj().wrapper,uj().spinnerContainer),children:[/*#__PURE__*/(0,q.jsx)(aE.Z,{fancy:!0,className:(0,tt.Z)(uj().spinner,"marginRightSmall")})," ","Loading icons..."]})},uQ=function(){var e,t=(0,ig.Z)(),n=(0,of.Su)().customIconsService,r=(0,$.useRef)(null),o=(0,$.useRef)({loaded:0,total:0}),a=function(e){r.current?(o.current.loaded+=1,null==t||t.loading("Uploaded ".concat(o.current.loaded,"/").concat(o.current.total," icons"),r.current?{id:r.current}:{})):null==t||t.success("Icon ".concat(e," uploaded successfully"))},s=function(e,n){null==t||t.error("Error uploading icon ".concat(e))};return e=(0,z.Z)(function(e,u,c){var l,A,d,f,h,p,g;return(0,W.__generator)(this,function(v){switch(v.label){case 0:if(1===e.length)return[2,n.uploadCustomIcon({file:e[0],teamId:u,userId:c,onSuccess:a,onError:s})];l=[],o.current={loaded:0,total:e.length},r.current=null==t?void 0:t.loading("Preparing icons"),A=!0,d=!1,f=void 0;try{for(h=Array.from(e)[Symbol.iterator]();!(A=(p=h.next()).done);A=!0)g=p.value,l.push(n.uploadCustomIcon({file:g,teamId:u,userId:c,onSuccess:a,onError:s}))}catch(e){d=!0,f=e}finally{try{A||null==h.return||h.return()}finally{if(d)throw f}}return[4,Promise.allSettled(l)];case 1:return v.sent(),null==t||t.success("".concat(o.current.loaded,"/").concat(o.current.total," icons uploaded successfully"),r.current?{id:r.current}:{}),r.current=null,[2]}})}),function(t,n,r){return e.apply(this,arguments)}},uH=n(11053),uV=n(97848),uK=n(8350),uz=/*#__PURE__*/n.n(uK),uG=n(62202),uW=function(e){var t=e.label,n=e.hideIcon,r=e.buttonVariant,o=e.isDisabled,a=e.className,s=e.onSelectFiles,u=e.allowedFiles,c=e.fileLimit,l=e.fileLimitError,A=(0,$.useRef)(null);return/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsxs)(tK.ZP,{className:(0,tt.Z)(uz().uploadBtn,a),variant:tK.ZP.Variants[void 0===r?"REGULAR":r],onClick:function(){var e;o||null===(e=A.current)||void 0===e||e.click()},disabled:o,children:[!n&&/*#__PURE__*/(0,q.jsx)(r6.J,{icon:au,height:12,width:12}),/*#__PURE__*/(0,q.jsx)("span",{children:t})]}),/*#__PURE__*/(0,q.jsx)("input",{type:"file",ref:A,multiple:!0,accept:null==u?void 0:u.join(","),className:uz().fileInput,onChange:function(e){if(!o&&e.target.files){if(c&&e.target.files.length>c){uG.Am.error(null!=l?l:"You can upload up to ".concat(c," files")),A.current.value="";return}s(e.target.files),A.current.value=""}}})]})},uq=n(5462),uY=n(16294),u$=n(72119),uX=n(31783),uJ=/*#__PURE__*/n.n(uX),u0=function(e){var t=e.icon,n=e.onUpdateIcon,r=e.onUpdateName,o=e.onDelete,a=(0,ig.Z)(),s=(0,av.Z)(),u=(0,$.useRef)(null),c=(0,$.useState)(!1),l=c[0],A=c[1],d=(0,$.useState)(t.label||""),f=d[0],h=d[1],p=(0,ex.ZP)(t.createdBy),g=(0,$.useCallback)(function(e){var n=e.currentTarget.value;if(0===n.length){h(t.label);return}if(t.label!==n){var o=(0,uH.i)(n);r(t.id,o)}},[t.id,t.label,r]),v=(0,$.useCallback)(/*#__PURE__*/(0,z.Z)(function(){return(0,W.__generator)(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,fetch(t.url)];case 1:return[4,e.sent().text()];case 2:return s(e.sent(),"Icon copied to clipboard"),[3,4];case 3:return console.error("Copy SVG failure",e.sent()),a.error("Failed to copy icon to clipboard"),[3,4];case 4:return[2]}})}),[t.url]),m=(0,$.useCallback)(function(){var e;null===(e=u.current)||void 0===e||e.click()},[]),y=(0,$.useCallback)(function(e){var r=e.target.files;(null==r?void 0:r.length)!==0&&n(t.id,r[0])},[t.id,n]);return(0,$.useEffect)(function(){h(t.label)},[t.label]),/*#__PURE__*/(0,q.jsxs)("div",{className:uJ().icon,children:[/*#__PURE__*/(0,q.jsxs)("div",{className:uJ().iconImg,children:[/*#__PURE__*/(0,q.jsx)("img",{src:t.url,alt:t.label,className:l?void 0:uJ().hidden,onLoad:function(){return A(!0)}}),!l&&/*#__PURE__*/(0,q.jsx)(r$.ZP,{width:"64px",height:64,className:uJ().iconImgSkeleton})]}),/*#__PURE__*/(0,q.jsxs)("div",{className:uJ().iconInfo,children:[/*#__PURE__*/(0,q.jsx)(tY.Z,{value:f,labelClassNames:{root:uJ().iconLabel},className:uJ().iconName,size:tY.Z.Sizes.SMALL,onChange:function(e){return h((0,uH.i)(e.currentTarget.value))},onBlur:g}),/*#__PURE__*/(0,q.jsx)("span",{className:uJ().iconAuthor,children:p?"Added by ".concat(p.displayName):""}),/*#__PURE__*/(0,q.jsx)("input",{type:"file",ref:u,multiple:!1,accept:"image/svg+xml",className:uJ().fileInput,onChange:y}),/*#__PURE__*/(0,q.jsxs)(tG.Ng,{minWidth:176,hint:{label:"Actions"},toggleClassNames:{button:uJ().iconDropdown},children:[/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"Replace Icon",icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:uY.Z}),onClick:m}),/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"Copy Icon",icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:uq.Z}),onClick:v}),/*#__PURE__*/(0,q.jsx)(tG.KE,{}),/*#__PURE__*/(0,q.jsx)(tv.Z,{label:"Delete",className:uJ().deleteOption,icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:u$.Z,color:"red"}),onClick:function(){return o(t.id)}})]})]})]},t.id)},u1=function(e){var t,n,r,o,a=e.icons,s=e.userId,u=e.teamId,c=e.teamPlan,l=e.limit,A=(0,ig.Z)(),d=(0,of.Su)().customIconsService,f=(0,$.useRef)(null),h=(0,$.useRef)(null),p=(0,$.useState)(""),g=p[0],v=p[1],m=uQ(),y=a.filter(function(e){var t=(0,uH.i)(g.toLowerCase());return e.label.toLowerCase().includes(t)}),b=(t=(0,z.Z)(function(e){return(0,W.__generator)(this,function(t){switch(t.label){case 0:return[4,m(e,u,s)];case 1:return t.sent(),[2]}})}),function(e){return t.apply(this,arguments)}),w=(n=(0,z.Z)(function(e){return(0,W.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,d.deleteIcon(e)];case 1:return t.sent(),null==A||A.success("Icon deleted successfully"),[3,3];case 2:return t.sent(),null==A||A.error("Error deleting icon"),[3,3];case 3:return[2]}})}),function(e){return n.apply(this,arguments)}),_=(r=(0,z.Z)(function(e,t){return(0,W.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,d.updateIconName(e,t)];case 1:return n.sent(),null==A||A.success("Icon name updated successfully"),[3,3];case 2:return n.sent(),null==A||A.error("Error updating icon name"),[3,3];case 3:return[2]}})}),function(e,t){return r.apply(this,arguments)}),E=(o=(0,z.Z)(function(e,t){return(0,W.__generator)(this,function(n){switch(n.label){case 0:h.current=null==A?void 0:A.loading("Updating icon..."),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,d.updateIconFile(e,s,u,t)];case 2:return n.sent(),null==A||A.success("Icon updated successfully",{id:h.current}),[3,4];case 3:return n.sent(),null==A||A.error("Error updating icon",{id:h.current}),[3,4];case 4:return h.current=null,[2]}})}),function(e,t){return o.apply(this,arguments)});return(0,eb.Z)({"/":function(e){var t;e.preventDefault(),null===(t=f.current)||void 0===t||t.focus()}}),/*#__PURE__*/(0,q.jsxs)("div",{className:uj().wrapper,children:[/*#__PURE__*/(0,q.jsxs)("div",{className:uj().sidebar,children:[/*#__PURE__*/(0,q.jsx)(uW,{label:"Upload SVG Icons",className:uj().browseBtn,onSelectFiles:b,isDisabled:!(null==l?void 0:l.allowed)}),/*#__PURE__*/(0,q.jsx)("p",{className:uj().description,children:"Upload custom SVG icons that you and your team can use within any Eraser file. Custom icons can be added to the Canvas via the Insert menu or used in Diagram as Code & AI Diagrams."}),/*#__PURE__*/(0,q.jsxs)("p",{className:uj().notes,children:["Note: Names must be lower case letters, numbers, or hyphens (no spaces). Maximum length"," ",uH.v," characters."]}),l&&/*#__PURE__*/(0,q.jsx)(oU.Z,{showLimitName:!1,limit:l.limit,upgradeLinkText:"Upgrade limit",className:uj().limitIndicator,current:l.current,contactUs:!l.allowed,featureName:eN.M$.CustomIcons,shortExplanation:l.allowed,showLink:(null==c?void 0:c.planType)===eN.k9.Pro})]}),/*#__PURE__*/(0,q.jsxs)("div",{className:uj().list,children:[/*#__PURE__*/(0,q.jsxs)("div",{className:uj().search,children:[/*#__PURE__*/(0,q.jsx)("span",{className:uj().searchIcon,children:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:uV.Z,color:"grey-1100"})}),/*#__PURE__*/(0,q.jsx)(tY.Z,{ref:f,autoFocus:!0,value:g,className:uj().searchInput,placeholder:"Search custom icon",onChange:function(e){return v(e.currentTarget.value)}}),/*#__PURE__*/(0,q.jsx)("span",{className:uj().searchHotkey,children:"/"})]}),/*#__PURE__*/(0,q.jsx)("div",{className:uj().listContainer,children:0===y.length?/*#__PURE__*/(0,q.jsxs)("p",{className:uj().noIcons,children:['No icons found with "',g,'" in the name']}):y.map(function(e){return/*#__PURE__*/(0,q.jsx)(u0,{icon:e,onUpdateName:_,onDelete:w,onUpdateIcon:E},e.id)})})]})]})},u2=n(95153),u4=/*#__PURE__*/n.n(u2),u3=function(e){var t,n=e.description,r=e.notes,o=e.allowedFiles,a=e.fileLimit,s=e.fileLimitError,u=e.onUpload,c=(0,$.useState)(!1),l=c[0],A=c[1],d=(t=(0,z.Z)(function(e){return(0,W.__generator)(this,function(t){switch(t.label){case 0:return[4,u(e)];case 1:return t.sent(),[2]}})}),function(e){return t.apply(this,arguments)});return/*#__PURE__*/(0,q.jsxs)("div",{className:(0,tt.Z)(u4().dragArea,l&&u4().highlightOutline),onDragOver:function(){return A(!0)},onDragLeave:function(){return A(!1)},onDrop:function(e){e.preventDefault(),d(e.dataTransfer.files).then(function(){A(!1)})},children:[/*#__PURE__*/(0,q.jsx)("span",{className:u4().title,children:"Drag & drop to upload or"}),/*#__PURE__*/(0,q.jsx)(uW,{label:"Browse Files",className:u4().browseBtn,onSelectFiles:d,allowedFiles:o,fileLimit:a,fileLimitError:s}),/*#__PURE__*/(0,q.jsx)("p",{className:u4().description,children:n}),r&&/*#__PURE__*/(0,q.jsxs)("p",{className:u4().notes,children:[/*#__PURE__*/(0,q.jsx)("b",{children:"Note:"}),"\xa0",r]})]})},u5=function(e){var t,n=e.userId,r=e.teamId,o=uQ(),a=(t=(0,z.Z)(function(e){return(0,W.__generator)(this,function(t){switch(t.label){case 0:return[4,o(e,r,n)];case 1:return t.sent(),[2]}})}),function(e){return t.apply(this,arguments)});return/*#__PURE__*/(0,q.jsx)(u3,{description:"Upload custom icons that you and your team can use within any Eraser file. Custom icons can be added to the Canvas via the Insert menu or used in Diagram as Code & AI Diagrams.",notes:/*#__PURE__*/(0,q.jsxs)("span",{children:["Names must be lower case letters, numbers, or hyphens (no spaces). ",/*#__PURE__*/(0,q.jsx)("br",{})," Maximum length\xa0",uH.v," characters."]}),allowedFiles:["image/svg+xml"],onUpload:a})},u6=n(91625),u8=/*#__PURE__*/n.n(u6),u9=function(){var e=(0,iB.Y)().openSettingsModal,t=(0,of.Su)().analyticsService;return/*#__PURE__*/(0,q.jsxs)("div",{className:u8().upgradePlanPane,children:[/*#__PURE__*/(0,q.jsx)("p",{className:u8().description,children:"Upload custom SVG icons that you and your team can use within any Eraser file. Custom icons can be added to the Canvas via the Insert menu or used in Diagram as Code & AI Diagrams."}),/*#__PURE__*/(0,q.jsxs)("p",{className:u8().description,children:["Custom icons access is only available on"," ",/*#__PURE__*/(0,q.jsx)(a_.c,{onClick:function(){e({openedPane:"plans",paywallFeature:eN.M$.CustomIcons}),t.trackEvent("payment","open_billing_pane",{source:"customIcons",featureName:eN.M$.CustomIcons})},className:u8().link,children:"paid plans"})]})]})},u7=n(39418),ce=/*#__PURE__*/n.n(u7),ct=function(){var e=(0,eI.II)(),t=(0,eD.vn)(),n=(0,eD.LP)(),r=(0,of.Su)().customIconsService,o=(0,$.useState)(void 0),a=o[0],s=o[1],u=(0,tR.Bv)({featureName:eN.M$.CustomIcons,teamId:n,immediateCallbackWithLimit:!0});if((0,$.useEffect)(function(){if(n)return r.subscribeByTeamId(n,s)},[n,r]),!e||!n||!u)return null;var c=!u||!u.allowed;return/*#__PURE__*/(0,q.jsx)("div",{className:(0,tt.Z)(ce().wrapper,c&&ce().noMargin),children:a?c&&0===a.length?/*#__PURE__*/(0,q.jsx)(u9,{}):0===a.length?/*#__PURE__*/(0,q.jsx)(u5,{userId:e,teamId:n}):/*#__PURE__*/(0,q.jsx)(u1,{icons:a,userId:e,teamId:n,teamPlan:t,limit:u}):/*#__PURE__*/(0,q.jsx)(uZ,{})})},cn=n(44335),cr=n(20578),ci=n(60869),co=n(59590);(l=P||(P={})).Uploading="uploading",l.Rendering="rendering",l.Complete="complete",l.Error="error";var ca=(0,Y.cn)({key:"imageToDiagramState",default:{files:[],diagrams:[]}}),cs=(U={},(0,rW.Z)(U,P.Uploading,"Uploading image file ..."),(0,rW.Z)(U,P.Rendering,"Generating diagram. This can take a few minutes, do not leave the page."),(0,rW.Z)(U,P.Complete,"Diagram complete"),(0,rW.Z)(U,P.Error,"Failed to generate diagram"),U),cu=function(e){var t,n,r,o=e.onSuccess,a=(0,tQ.Z)((0,Y.FV)(ca),2),s=a[0],u=a[1],c=(0,ig.Z)(),l=(0,er.useRouter)(),A=(0,eI.II)(),d=(0,eD.LP)(),f=(0,eD.vn)(),h=(0,e$.Pe)(),p=(0,t4.Z)().request,g=(null==f?void 0:f.planType)===eN.k9.Business,v=l.query.workspaceId,m=(0,$.useRef)(null),y=(0,$.useRef)([]),b=(0,tR.Bv)({featureName:eN.M$.PremiumCredits,teamId:d,userId:A,immediateCallbackWithLimit:!0}),w=(t=(0,z.Z)(function(e){var t,n,r;return(0,W.__generator)(this,function(o){switch(o.label){case 0:if(t=Array.from(e),!g)return c.error("This feature is available only on the Business Plan"),[2];if(!(null==b?void 0:b.allowed))return c.error("You have no premium AI credits remaining"),[2];if(!d||!A)return[2];if(n=v,u({files:(0,tr.Z)(t)}),n)return[3,2];return[4,p("image_to_diagram_pane",{})];case 1:n=null==(r=o.sent())?void 0:r.id,o.label=2;case 2:return m.current=c.loading(cs[P.Uploading]),[4,_(d,A,n,t)];case 3:return o.sent(),[2]}})}),function(e){return t.apply(this,arguments)}),_=(n=(0,z.Z)(function(e,t,n,r){return(0,W.__generator)(this,function(a){switch(a.label){case 0:return[4,Promise.all((r||[]).map(function(r){return C(r,e,t,n)}))];case 1:return a.sent(),null==o||o(),[2]}})}),function(e,t,r,o){return n.apply(this,arguments)}),E=(0,Y._8)(function(e){var t,n=e.snapshot,r=e.set;return t=(0,z.Z)(function(e,t){var o,a,s,u,l,A,d;return(0,W.__generator)(this,function(f){switch(f.label){case 0:return[4,n.getPromise(ca)];case 1:if(!(u=null===(o=(s=f.sent()).diagrams)||void 0===o?void 0:o.map(function(n){return n.requestId===e?(0,eE.Z)((0,G.Z)({},n),{status:t}):n}))||0===u.length||(null===(a=s.files)||void 0===a?void 0:a.length)===0||(l=u.length||0,A=u.filter(function(e){return e.status===P.Complete}),d=u.filter(function(e){return e.status===P.Error}),A.length+d.length!==l))return[2];return A.length===l?c.success(cs[P.Complete],{id:m.current||void 0}):d.length===l?c.error(cs[P.Error],{id:m.current||void 0}):c.loading("Diagrams successfully rendered for some files:"+A.map(function(e){return e.fileName}).join(", "),{id:m.current||void 0}),m.current=null,y.current=[],r(ca,{files:void 0,diagrams:void 0}),[2]}})}),function(e,n){return t.apply(this,arguments)}}),C=(r=(0,z.Z)(function(e,t,n,r){var o,a;return(0,W.__generator)(this,function(s){return r?(a=(o=h.makeAiDiagramGenerationService({user:n,text:void 0,teamId:t,workspaceId:r,imageFile:e,mode:ci.en.Premium})).requestId||(0,sF.x0)(),u(function(t){return(0,eE.Z)((0,G.Z)({},t),{diagrams:(0,tr.Z)(t.diagrams||[]).concat([{requestId:a,fileName:e.name,status:P.Rendering}])})}),c.loading(cs[P.Rendering],{id:m.current||void 0}),y.current.push(o),o.initiateImageToDiagram(),o.on(cn.w.UPDATE,function(t){if(t.phase===co.s1.Error)u(function(e){var t;return(0,eE.Z)((0,G.Z)({},e),{diagrams:null===(t=e.diagrams)||void 0===t?void 0:t.map(function(e){return e.requestId===a?(0,eE.Z)((0,G.Z)({},e),{status:P.Error}):e})})}),E(a,P.Error),c.error("Failed to render diagram: "+e.name),o.clean(),(0,eW.T)(t.error);else if(t.phase===co.s1.Complete){var n,r=null===(n=t.diagrams)||void 0===n?void 0:n[0];if(!r){console.error("No diagram found in complete state");return}cr.Z.emit("add-element",(0,eE.Z)((0,G.Z)({type:"diagram"},r),{x:0,y:0})),u(function(e){var t;return(0,eE.Z)((0,G.Z)({},e),{diagrams:null===(t=e.diagrams)||void 0===t?void 0:t.map(function(e){return e.requestId===a?(0,eE.Z)((0,G.Z)({},e),{status:P.Complete}):e})})}),E(a,P.Complete),c.success("Diagrams successfully rendered for file: "+e.name),o.clean();return}}),[2]):[2,Promise.reject(Error("workspaceId is required"))]})}),function(e,t,n,o){return r.apply(this,arguments)});return{diagrams:s.diagrams,handleUpload:w}},cc=n(60411),cl=/*#__PURE__*/n.n(cc),cA=function(){var e=(0,eI.II)(),t=(0,eD.LP)(),n=(0,eD.vn)();null==n||n.planType,eN.k9.Business;var r=(0,iB.Y)(),o=r.setOpenedPane,a=cu({onSuccess:r.closeSettingsModal}),s=a.diagrams,u=a.handleUpload,c=(0,tR.Bv)({featureName:eN.M$.PremiumCredits,teamId:t,userId:e,immediateCallbackWithLimit:!0}),l=c?(null==c?void 0:c.limit)-(null==c?void 0:c.current):0,A=Math.min(l,5);if(!e||!t)return null;if(!(null==c?void 0:c.allowed))return/*#__PURE__*/(0,q.jsxs)("p",{className:cl().subtitle,children:["You have used all of your premium credits, please"," ",/*#__PURE__*/(0,q.jsx)(a_.c,{onClick:function(){return o("plans",eN.M$.PremiumCredits)},children:"upgrade your plan"})," ","or contact us at ",/*#__PURE__*/(0,q.jsx)(a_.d,{href:"mailto:hello@eraser.io",children:"hello@eraser.io"})," ","for more credits."]});var d=null==s?void 0:s.some(function(e){return e.status===P.Uploading||e.status===P.Rendering});return/*#__PURE__*/(0,q.jsx)("div",{className:(0,tt.Z)(cl().wrapper),children:d?/*#__PURE__*/(0,q.jsxs)("div",{className:u4().dragArea,style:{gap:20},children:[/*#__PURE__*/(0,q.jsx)(iE.Z,{}),/*#__PURE__*/(0,q.jsx)("span",{children:"We are processing your diagrams, it might take up to few minutes. Please wait."})]}):/*#__PURE__*/(0,q.jsx)(u3,{description:"Bring existing diagrams from LucidChart, Draw.io, Visio, or Mermaid into Eraser.",notes:"Note: Upload PNG or JPEG files. Up to ".concat(5," files at once. Each file will consume 1 premium AI credit (").concat(l," credits remaining)."),fileLimit:A,fileLimitError:"You can upload up to ".concat(A," files (due to your credits limit)"),allowedFiles:["image/png","image/jpeg"],onUpload:u})})},cd=n(99944),cf=/*#__PURE__*/n.n(cd),ch=function(e){var t=e.access,n=e.showTooltip;if(!t||t.limit===oQ.fY)return null;var r=t.limit,o=t.current,a=o>r?"".concat(r+1,"+"):(0,tR.oj)(o),s=/*#__PURE__*/(0,q.jsx)(oK.k,{useColor:!0,limit:t.limit,current:(0,tR.ZP)(t.current),className:cf().progressBar});return n?/*#__PURE__*/(0,q.jsx)(r8.Z,{placement:"bottom-end",contentClassName:cf().tooltipRoot,text:"".concat(a," of ").concat(r),children:s}):s},cp=n(54242),cg=/*#__PURE__*/n.n(cp),cv=[{title:"AI Credits",feature:eN.M$.AiDiagramAndOutlineCredits,showCurrentMonthPeriod:!0,description:"Monthly AI credits per user."},{title:"Premium AI credits",feature:eN.M$.PremiumCredits,showCurrentMonthPeriod:!0,description:"Monthly premium AI credits per user."},{title:"API calls",feature:eN.M$.MonthlyAiDiagramApiCalls,showCurrentMonthPeriod:!0,description:"Monthly API calls per team."},{title:"Premium API calls",feature:eN.M$.PremiumApiCalls,showCurrentMonthPeriod:!0,description:"Monthly premium API calls per team."},{title:"Custom icons",feature:eN.M$.CustomIcons,showCurrentMonthPeriod:!1,description:"Custom icons saved in the team library."}],cm=function(e){var t,n,r,o,a,s,u,c,l,A,d,f,h=e.usage,p=e.teamId,g=e.userId,v=e.onUpgradeClick,m=(0,tR.Bv)({featureName:h.feature,teamId:p,userId:g,immediateCallbackWithLimit:!0}),y=(0,of.Su)().analyticsService;if(!m)return null;var b=function(){y.trackEvent("payment","open_billing_pane",{featureName:h.feature,source:"limitBar"}),v()},w=m.limit===oQ.fY;return/*#__PURE__*/(0,q.jsxs)("div",{className:cg().usageItem,children:[/*#__PURE__*/(0,q.jsx)("span",{className:cg().usageItemTitle,children:h.title}),m.limit>0?/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[h.showCurrentMonthPeriod&&/*#__PURE__*/(0,q.jsx)("span",{className:cg().usageItemPeriod,children:(n=new Date((t=new Date).getFullYear(),t.getMonth(),1),r=new Date(t.getFullYear(),t.getMonth()+1,0),a=(o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"])[n.getMonth()],s=o[r.getMonth()],u=n.getDate(),c=r.getDate(),l=n.getFullYear(),A=r.getFullYear(),d="".concat(a," ").concat(u,", ").concat(l),f="".concat(s," ").concat(c,", ").concat(A),"".concat(d," - ").concat(f))}),w?"Unlimited":/*#__PURE__*/(0,q.jsx)("div",{className:cg().usageItemLimitBar,children:m.limit>0?/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsx)("div",{className:cg().bar,children:/*#__PURE__*/(0,q.jsx)(ch,{access:m})}),/*#__PURE__*/(0,q.jsxs)("span",{children:[(0,tR.oj)(m.current),"/",m.limit]})]}):null})]}):null,/*#__PURE__*/(0,q.jsxs)("span",{className:cg().usageItemDescription,children:[/*#__PURE__*/(0,q.jsx)("span",{className:"marginRightSmall",children:h.description}),0===m.limit?/*#__PURE__*/(0,q.jsx)("a",{role:"button",onClick:b,className:"linkLight",children:"Upgrade for access."}):m.limit>0?/*#__PURE__*/(0,q.jsx)("a",{role:"button",onClick:b,className:"linkLight",children:"Upgrade limit."}):null]})]},h.feature)},cy=function(e){var t,n=e.teamId,r=e.seatCount,o=(0,ap.ZP)(n,void 0,{internalOnly:!0}),a=null!==(t=null==o?void 0:o.length)&&void 0!==t?t:0,s={current:a,limit:r,allowed:a<r};return/*#__PURE__*/(0,q.jsxs)("div",{className:cg().usageItem,children:[/*#__PURE__*/(0,q.jsx)("span",{className:cg().usageItemTitle,children:"Seats"}),/*#__PURE__*/(0,q.jsxs)("div",{className:cg().usageItemLimitBar,children:[/*#__PURE__*/(0,q.jsx)("div",{className:cg().bar,children:/*#__PURE__*/(0,q.jsx)(ch,{access:s})}),/*#__PURE__*/(0,q.jsxs)("span",{children:[(0,tR.oj)(s.current),"/",s.limit]})]}),/*#__PURE__*/(0,q.jsxs)("span",{className:cg().usageItemDescription,children:[/*#__PURE__*/(0,q.jsx)("span",{className:"marginRightSmall",children:"Pre-purchased seats."}),/*#__PURE__*/(0,q.jsx)("a",{role:"button",href:"mailto:hello@eraser.io",className:"linkLight",children:"Add seats"})]})]})},cb=function(){var e,t=(0,eI.II)(),n=(0,eD.vn)(),r=(0,eD.LP)(),o=(0,iB.Y)().setOpenedPane;return/*#__PURE__*/(0,q.jsxs)("div",{className:cg().usagePaneRoot,children:[(null==n?void 0:n.fixedSeatCount)&&/*#__PURE__*/(0,q.jsx)(cy,{teamId:r,seatCount:n.fixedSeatCount}),cv.map(function(a){/*#__PURE__*/return(0,q.jsx)(cm,{usage:a,teamId:r,userId:t,teamPlan:null!==(e=null==n?void 0:n.planType)&&void 0!==e?e:eN.k9.Free,onUpgradeClick:function(){return o("plans",a.feature)}},a.feature)})]})},cw=n(99618),c_=function(){var e=(0,eQ.K)(),t=(0,iB.Y)().openSettingsModal;(0,$.useLayoutEffect)(function(){e.settings&&t({openedPane:e.settings})},[e.settings,t])},cE=function(){var e=(0,iB.Y)(),t=e.openedPane,n=e.paywallError,r=e.paywallFeature;return/*#__PURE__*/(0,q.jsxs)("div",{className:e4().container,children:[/*#__PURE__*/(0,q.jsx)(ad,{}),/*#__PURE__*/(0,q.jsx)("div",{className:e4().paneContainer,children:function(){if(null==t)return null;var e=null;switch(t){case"gitHub":e=/*#__PURE__*/(0,q.jsx)(sb,{});break;case"api-tokens":e=/*#__PURE__*/(0,q.jsx)(aI,{});break;case"members":e=/*#__PURE__*/(0,q.jsx)(uh,{});break;case"team-settings":e=/*#__PURE__*/(0,q.jsx)(uP,{});break;case"appearance":e=/*#__PURE__*/(0,q.jsx)(aS,{});break;case"plans":e=/*#__PURE__*/(0,q.jsx)(sr,{paywallError:n,paywallFeature:r});break;case"usage":e=/*#__PURE__*/(0,q.jsx)(cb,{});break;case"profile":e=/*#__PURE__*/(0,q.jsx)(sK,{});break;case"custom-icons":e=/*#__PURE__*/(0,q.jsx)(ct,{});break;case"import":e=/*#__PURE__*/(0,q.jsx)(cA,{})}return/*#__PURE__*/(0,q.jsx)("div",{className:e4().pane,children:e})}()})]})},cC=function(){return/*#__PURE__*/(0,q.jsxs)("div",{className:"rowCentered",children:["Settings",/*#__PURE__*/(0,q.jsx)("span",{id:"SETTINGS_MODAL_TITLE_SLOT",className:e4().titleSlot})]})},cB=function(){e=(0,iB.Y)().openSettingsModal,t=(0,$.useCallback)(function(){nr.Z.get(cw.qf)&&(e({openedPane:"gitHub"}),nr.Z.remove(cw.qf))},[e]),(0,t_.DZ)("onInstallWindowClosed",t),c_();var e,t,n=(0,iB.Y)(),r=n.isSettingsModalOpen,o=n.closeSettingsModal;return/*#__PURE__*/(0,q.jsx)(e3.Z,{title:/*#__PURE__*/(0,q.jsx)(cC,{}),showTitleSeparator:!0,size:e3.Z.Sizes.XL,closeButtonVariant:"text",className:e4().modalRoot,isOpen:r,onClose:o,children:/*#__PURE__*/(0,q.jsx)(cE,{})})},cI=n(70289),cx=n(39183),cT=n(67058),cS=n(86378),ck=/*#__PURE__*/n.n(cS),cD=/*#__PURE__*/(0,q.jsxs)("span",{children:[/*#__PURE__*/(0,q.jsxs)("span",{className:ck().keys,children:[(0,cT.K8)("ArrowUp",!0),(0,cT.K8)("ArrowDown",!0)]}),/*#__PURE__*/(0,q.jsx)("span",{children:"to navigate"})]}),cN=function(e){switch(e){case"commands":return/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[cD,/*#__PURE__*/(0,q.jsxs)("span",{children:[/*#__PURE__*/(0,q.jsx)("span",{className:ck().keys,children:(0,cT.K8)("Enter",!0)}),/*#__PURE__*/(0,q.jsx)("span",{children:"enter command"})]})]});case"fileSearch":case"help":return/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsxs)("span",{children:[/*#__PURE__*/(0,q.jsx)("span",{className:ck().keys,children:(0,cT.K8)("Enter",!0)}),/*#__PURE__*/(0,q.jsx)("span",{children:"search"})]}),/*#__PURE__*/(0,q.jsxs)("span",{children:[/*#__PURE__*/(0,q.jsx)("span",{className:ck().keys,children:(0,cT.K8)("Esc",!0)}),/*#__PURE__*/(0,q.jsx)("span",{children:"cancel"})]})]});case"goToFile":return/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[cD,/*#__PURE__*/(0,q.jsxs)("span",{children:[/*#__PURE__*/(0,q.jsx)("span",{className:ck().keys,children:(0,cT.K8)("Enter",!0)}),/*#__PURE__*/(0,q.jsx)("span",{children:"open here"})]}),/*#__PURE__*/(0,q.jsxs)("span",{children:[/*#__PURE__*/(0,q.jsxs)("span",{className:ck().keys,children:[(0,cT.K8)("CtrlOrCmd",!0)," ",(0,cT.K8)("Enter",!0)]}),/*#__PURE__*/(0,q.jsx)("span",{children:"open new tab"})]})]});default:return null}},cO=/*#__PURE__*/(0,q.jsxs)("span",{className:ck().toggleTitle,children:["Mode ",/*#__PURE__*/(0,q.jsx)(e9.P,{keys:["AltOrOption","M"]})]}),cF=/*#__PURE__*/(0,$.forwardRef)(function(e,t){var n=e.screen,r=e.onScreenChange,o=e.onDropdownClose,a=(0,$.useRef)(null),s=(0,$.useState)(!1),u=s[0],c=s[1];return(0,eb.Z)({"ctrl+m":{callback:function(){var e;return null===(e=a.current)||void 0===e?void 0:e.click()}}}),(0,$.useImperativeHandle)(t,function(){return{openDropdown:function(){var e;return null===(e=a.current)||void 0===e?void 0:e.click()}}},[]),/*#__PURE__*/(0,q.jsxs)("div",{className:ck().shortcuts,children:[cN(n),/*#__PURE__*/(0,q.jsx)("span",{className:ck().modeWrapper,children:/*#__PURE__*/(0,q.jsxs)(tG.Lt,{showCaret:!1,selected:n,title:cO,toggleRef:a,isOpen:u,onSelect:function(e){r(e),eT.Z.trackEvent("command_k","switch_screen",{method:"dropdown",screen:n})},classNames:{menu:ck().menu},onOpenChange:function(e){c(e),e||o()},selectionVariant:tv._.Grey,toggleClassNames:{button:ck().toggleButton,root:ck().toggleRoot},children:[/*#__PURE__*/(0,q.jsx)(tq.Wx,{rightElement:/*#__PURE__*/(0,q.jsx)(e9.P,{keys:["CtrlOrCmd","K"]}),children:"Commands"},"commands"),/*#__PURE__*/(0,q.jsx)(tq.Wx,{rightElement:/*#__PURE__*/(0,q.jsx)(e9.P,{keys:["CtrlOrCmd","P"]}),children:"Go to file ..."},"goToFile"),/*#__PURE__*/(0,q.jsx)(tq.Wx,{rightElement:/*#__PURE__*/(0,q.jsx)(e9.P,{keys:["AltOrOption","F"]}),children:"File Search"},"fileSearch"),/*#__PURE__*/(0,q.jsx)(tq.Wx,{rightElement:/*#__PURE__*/(0,q.jsx)(e9.P,{keys:["AltOrOption","H"]}),children:"Help"},"help")]})})]})}),cR=n(21732),cL=n(39097),cM=/*#__PURE__*/n.n(cL),cP=n(50852),cU=n(83433),cj=n(56983),cZ=n(91947),cQ=n(12967),cH=n(49377),cV=function(e){if("folder"===e.type)return{icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:cH.Z}),subTitle:e.title};var t,n=(0,tV.T5)(e.gitHubRepository||{}),r=n.organization,o=n.repository,a=!!e.isPrivate,s=r&&o,u=void 0,c="",l=e.folderName||ek.bo;return s&&(u=/*#__PURE__*/(0,q.jsx)(r6.J,{icon:cZ.Z,width:10}),l="".concat(r.name,"/").concat(o.name),c=(0,so.Id)(null===(t=e.gitHubRepository)||void 0===t?void 0:t.filePath)),a&&(u=/*#__PURE__*/(0,q.jsx)(r6.J,{icon:cQ.Z})),{icon:u,subTitle:l,secondaryTitle:c}},cK=function(e){return"/dashboard/all?search=".concat(encodeURIComponent(e))},cz=n(12614),cG=/*#__PURE__*/n.n(cz),cW=n(12567),cq=n(57200),cY=/*#__PURE__*/n.n(cq),c$=function(e){var t=e.classNames,n=(0,e0.Z)(e,["classNames"]);return/*#__PURE__*/(0,q.jsx)(cW.v,(0,eE.Z)((0,G.Z)({},n),{disableHover:!0,classNames:(0,eE.Z)((0,G.Z)({},t),{root:(0,tt.Z)(null==t?void 0:t.root,cY().root),rootActive:(0,tt.Z)(null==t?void 0:t.rootActive,cY().rootActive)})}))},cX=function(e,t){return"folder"===e.type?"/folder/".concat(e.id):e.id!==lj.id?"/workspace/".concat(e.id):cK(t)},cJ=function(e){var t=e.query,n=e.isActive,r=e.item,o=e.onClick,a=e.onMouseOver,s=cV(r);return/*#__PURE__*/(0,q.jsx)(cM(),{href:cX(r,t),children:/*#__PURE__*/(0,q.jsx)("a",{onClick:function(e){return o(r,e)},children:/*#__PURE__*/(0,q.jsx)(c$,(0,eE.Z)((0,G.Z)({},s),{isActive:n,onMouseOver:a,mainTitle:r.title||ek.SF,classNames:{icon:cG().icon}}))})})},c0=n(79941),c1=/*#__PURE__*/n.n(c0),c2=function(){return/*#__PURE__*/(0,q.jsx)(q.Fragment,{children:Array.from(Array(6)).map(function(e,t){return/*#__PURE__*/(0,q.jsx)("div",{className:(0,tt.Z)(c1().skeletonWrapper,0===t&&c1().isActive),children:/*#__PURE__*/(0,q.jsxs)(r$.yB,{color:"var(--grey-800)",highlightColor:"var(--grey-400)",children:[/*#__PURE__*/(0,q.jsx)(r$.ZP,{height:15}),/*#__PURE__*/(0,q.jsx)(r$.ZP,{className:c1().folder,width:"30%",height:14})]})},"skeleton-".concat(t))})})},c4=n(69713),c3=/*#__PURE__*/n.n(c4);function c5(e){return Array.isArray?Array.isArray(e):"[object Array]"===ln(e)}let c6=1/0;function c8(e){return"string"==typeof e}function c9(e){return"number"==typeof e}function c7(e){return"object"==typeof e}function le(e){return null!=e}function lt(e){return!e.trim().length}function ln(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}let lr=e=>`Invalid value for key ${e}`,li=e=>`Pattern length exceeds max of ${e}.`,lo=e=>`Missing ${e} property in key`,la=e=>`Property 'weight' in key '${e}' must be a positive integer`,ls=Object.prototype.hasOwnProperty;class lu{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(e=>{let n=lc(e);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(e=>{e.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function lc(e){let t=null,n=null,r=null,o=1,a=null;if(c8(e)||c5(e))r=e,t=ll(e),n=lA(e);else{if(!ls.call(e,"name"))throw Error(lo("name"));let s=e.name;if(r=s,ls.call(e,"weight")&&(o=e.weight)<=0)throw Error(la(s));t=ll(s),n=lA(s),a=e.getFn}return{path:t,id:n,weight:o,src:r,getFn:a}}function ll(e){return c5(e)?e:e.split(".")}function lA(e){return c5(e)?e.join("."):e}var ld={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(e,t){let n=[],r=!1,o=(e,t,a)=>{if(le(e)){if(t[a]){var s,u;let c=e[t[a]];if(le(c)){if(a===t.length-1&&(c8(c)||c9(c)||!0===(s=c)||!1===s||c7(u=s)&&null!==u&&"[object Boolean]"==ln(s)))n.push(null==c?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-c6?"-0":t}(c));else if(c5(c)){r=!0;for(let e=0,n=c.length;e<n;e+=1)o(c[e],t,a+1)}else t.length&&o(c,t,a+1)}}else n.push(e)}};return o(e,c8(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};let lf=/[^ ]+/g;class lh{constructor({getFn:e=ld.getFn,fieldNormWeight:t=ld.fieldNormWeight}={}){this.norm=function(e=1,t=3){let n=new Map,r=Math.pow(10,t);return{get(t){let o=t.match(lf).length;if(n.has(o))return n.get(o);let a=parseFloat(Math.round(1/Math.pow(o,.5*e)*r)/r);return n.set(o,a),a},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((e,t)=>{this._keysMap[e.id]=t})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,c8(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){let t=this.size();c8(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!le(e)||lt(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((t,r)=>{let o=t.getFn?t.getFn(e):this.getFn(e,t.path);if(le(o)){if(c5(o)){let e=[],t=[{nestedArrIndex:-1,value:o}];for(;t.length;){let{nestedArrIndex:n,value:r}=t.pop();if(le(r)){if(c8(r)&&!lt(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else c5(r)&&r.forEach((e,n)=>{t.push({nestedArrIndex:n,value:e})})}}n.$[r]=e}else if(c8(o)&&!lt(o)){let e={v:o,n:this.norm.get(o)};n.$[r]=e}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function lp(e,t,{getFn:n=ld.getFn,fieldNormWeight:r=ld.fieldNormWeight}={}){let o=new lh({getFn:n,fieldNormWeight:r});return o.setKeys(e.map(lc)),o.setSources(t),o.create(),o}function lg(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:o=ld.distance,ignoreLocation:a=ld.ignoreLocation}={}){let s=t/e.length;if(a)return s;let u=Math.abs(r-n);return o?s+u/o:u?1:s}class lv{constructor(e,{location:t=ld.location,threshold:n=ld.threshold,distance:r=ld.distance,includeMatches:o=ld.includeMatches,findAllMatches:a=ld.findAllMatches,minMatchCharLength:s=ld.minMatchCharLength,isCaseSensitive:u=ld.isCaseSensitive,ignoreLocation:c=ld.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:a,minMatchCharLength:s,isCaseSensitive:u,ignoreLocation:c},this.pattern=u?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;let l=(e,t)=>{this.chunks.push({pattern:e,alphabet:function(e){let t={};for(let n=0,r=e.length;n<r;n+=1){let o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}(e),startIndex:t})},A=this.pattern.length;if(A>32){let e=0,t=A%32,n=A-t;for(;e<n;)l(this.pattern.substr(e,32),e),e+=32;if(t){let e=A-32;l(this.pattern.substr(e),e)}}else l(this.pattern,0)}searchIn(e){let{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}let{location:r,distance:o,threshold:a,findAllMatches:s,minMatchCharLength:u,ignoreLocation:c}=this.options,l=[],A=0,d=!1;this.chunks.forEach(({pattern:t,alphabet:f,startIndex:h})=>{let{isMatch:p,score:g,indices:v}=function(e,t,n,{location:r=ld.location,distance:o=ld.distance,threshold:a=ld.threshold,findAllMatches:s=ld.findAllMatches,minMatchCharLength:u=ld.minMatchCharLength,includeMatches:c=ld.includeMatches,ignoreLocation:l=ld.ignoreLocation}={}){let A;if(t.length>32)throw Error(li(32));let d=t.length,f=e.length,h=Math.max(0,Math.min(r,f)),p=a,g=h,v=u>1||c,m=v?Array(f):[];for(;(A=e.indexOf(t,g))>-1;)if(p=Math.min(lg(t,{currentLocation:A,expectedLocation:h,distance:o,ignoreLocation:l}),p),g=A+d,v){let e=0;for(;e<d;)m[A+e]=1,e+=1}g=-1;let y=[],b=1,w=d+f,_=1<<d-1;for(let r=0;r<d;r+=1){let a=0,u=w;for(;a<u;)lg(t,{errors:r,currentLocation:h+u,expectedLocation:h,distance:o,ignoreLocation:l})<=p?a=u:w=u,u=Math.floor((w-a)/2+a);w=u;let c=Math.max(1,h-u+1),A=s?f:Math.min(h+u,f)+d,E=Array(A+2);E[A+1]=(1<<r)-1;for(let a=A;a>=c;a-=1){let s=a-1,u=n[e.charAt(s)];if(v&&(m[s]=+!!u),E[a]=(E[a+1]<<1|1)&u,r&&(E[a]|=(y[a+1]|y[a])<<1|1|y[a+1]),E[a]&_&&(b=lg(t,{errors:r,currentLocation:s,expectedLocation:h,distance:o,ignoreLocation:l}))<=p){if(p=b,(g=s)<=h)break;c=Math.max(1,2*h-g)}}if(lg(t,{errors:r+1,currentLocation:h,expectedLocation:h,distance:o,ignoreLocation:l})>p)break;y=E}let E={isMatch:g>=0,score:Math.max(.001,b)};if(v){let e=function(e=[],t=ld.minMatchCharLength){let n=[],r=-1,o=-1,a=0;for(let s=e.length;a<s;a+=1){let s=e[a];s&&-1===r?r=a:s||-1===r||((o=a-1)-r+1>=t&&n.push([r,o]),r=-1)}return e[a-1]&&a-r>=t&&n.push([r,a-1]),n}(m,u);e.length?c&&(E.indices=e):E.isMatch=!1}return E}(e,t,f,{location:r+h,distance:o,threshold:a,findAllMatches:s,minMatchCharLength:u,includeMatches:n,ignoreLocation:c});p&&(d=!0),A+=g,p&&v&&(l=[...l,...v])});let f={isMatch:d,score:d?A/this.chunks.length:1};return d&&n&&(f.indices=l),f}}class lm{constructor(e){this.pattern=e}static isMultiMatch(e){return ly(e,this.multiRegex)}static isSingleMatch(e){return ly(e,this.singleRegex)}search(){}}function ly(e,t){let n=e.match(t);return n?n[1]:null}class lb extends lm{constructor(e,{location:t=ld.location,threshold:n=ld.threshold,distance:r=ld.distance,includeMatches:o=ld.includeMatches,findAllMatches:a=ld.findAllMatches,minMatchCharLength:s=ld.minMatchCharLength,isCaseSensitive:u=ld.isCaseSensitive,ignoreLocation:c=ld.ignoreLocation}={}){super(e),this._bitapSearch=new lv(e,{location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:a,minMatchCharLength:s,isCaseSensitive:u,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class lw extends lm{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0,r=[],o=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,r.push([t,n-1]);let a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}}let l_=[class extends lm{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},lw,class extends lm{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends lm{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends lm{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends lm{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends lm{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},lb],lE=l_.length,lC=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,lB=new Set([lb.type,lw.type]),lI=[];function lx(e,t){for(let n=0,r=lI.length;n<r;n+=1){let r=lI[n];if(r.condition(e,t))return new r(e,t)}return new lv(e,t)}let lT={AND:"$and",OR:"$or"},lS={PATH:"$path",PATTERN:"$val"},lk=e=>!!(e[lT.AND]||e[lT.OR]),lD=e=>!!e[lS.PATH],lN=e=>!c5(e)&&c7(e)&&!lk(e),lO=e=>({[lT.AND]:Object.keys(e).map(t=>({[t]:e[t]}))});function lF(e,t,{auto:n=!0}={}){let r=e=>{let o=Object.keys(e),a=lD(e);if(!a&&o.length>1&&!lk(e))return r(lO(e));if(lN(e)){let r=a?e[lS.PATH]:o[0],s=a?e[lS.PATTERN]:e[r];if(!c8(s))throw Error(lr(r));let u={keyId:lA(r),pattern:s};return n&&(u.searcher=lx(s,t)),u}let s={children:[],operator:o[0]};return o.forEach(t=>{let n=e[t];c5(n)&&n.forEach(e=>{s.children.push(r(e))})}),s};return lk(e)||(e=lO(e)),r(e)}function lR(e,t){let n=e.matches;t.matches=[],le(n)&&n.forEach(e=>{if(!le(e.indices)||!e.indices.length)return;let{indices:n,value:r}=e,o={indices:n,value:r};e.key&&(o.key=e.key.src),e.idx>-1&&(o.refIndex=e.idx),t.matches.push(o)})}function lL(e,t){t.score=e.score}class lM{constructor(e,t={},n){this.options={...ld,...t},this.options.useExtendedSearch,this._keyStore=new lu(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof lh))throw Error("Incorrect 'index' type");this._myIndex=t||lp(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){le(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let t=[];for(let n=0,r=this._docs.length;n<r;n+=1){let o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,r-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){let{includeMatches:n,includeScore:r,shouldSort:o,sortFn:a,ignoreFieldNorm:s}=this.options,u=c8(e)?c8(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return!function(e,{ignoreFieldNorm:t=ld.ignoreFieldNorm}){e.forEach(e=>{let n=1;e.matches.forEach(({key:e,norm:r,score:o})=>{let a=e?e.weight:null;n*=Math.pow(0===o&&a?Number.EPSILON:o,(a||1)*(t?1:r))}),e.score=n})}(u,{ignoreFieldNorm:s}),o&&u.sort(a),c9(t)&&t>-1&&(u=u.slice(0,t)),function(e,t,{includeMatches:n=ld.includeMatches,includeScore:r=ld.includeScore}={}){let o=[];return n&&o.push(lR),r&&o.push(lL),e.map(e=>{let{idx:n}=e,r={item:t[n],refIndex:n};return o.length&&o.forEach(t=>{t(e,r)}),r})}(u,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){let t=lx(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:e,i:n,n:o})=>{if(!le(e))return;let{isMatch:a,score:s,indices:u}=t.searchIn(e);a&&r.push({item:e,idx:n,matches:[{score:s,value:e,norm:o,indices:u}]})}),r}_searchLogical(e){let t=lF(e,this.options),n=(e,t,r)=>{if(!e.children){let{keyId:n,searcher:o}=e,a=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:o});return a&&a.length?[{idx:r,item:t,matches:a}]:[]}let o=[];for(let a=0,s=e.children.length;a<s;a+=1){let s=n(e.children[a],t,r);if(s.length)o.push(...s);else if(e.operator===lT.AND)return[]}return o},r=this._myIndex.records,o={},a=[];return r.forEach(({$:e,i:r})=>{if(le(e)){let s=n(t,e,r);s.length&&(o[r]||(o[r]={idx:r,item:e,matches:[]},a.push(o[r])),s.forEach(({matches:e})=>{o[r].matches.push(...e)}))}}),a}_searchObjectList(e){let t=lx(e,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach(({$:e,i:r})=>{if(!le(e))return;let a=[];n.forEach((n,r)=>{a.push(...this._findMatches({key:n,value:e[r],searcher:t}))}),a.length&&o.push({idx:r,item:e,matches:a})}),o}_findMatches({key:e,value:t,searcher:n}){if(!le(t))return[];let r=[];if(c5(t))t.forEach(({v:t,i:o,n:a})=>{if(!le(t))return;let{isMatch:s,score:u,indices:c}=n.searchIn(t);s&&r.push({score:u,key:e,value:t,idx:o,norm:a,indices:c})});else{let{v:o,n:a}=t,{isMatch:s,score:u,indices:c}=n.searchIn(o);s&&r.push({score:u,key:e,value:o,norm:a,indices:c})}return r}}lM.version="7.0.0",lM.createIndex=lp,lM.parseIndex=function(e,{getFn:t=ld.getFn,fieldNormWeight:n=ld.fieldNormWeight}={}){let{keys:r,records:o}=e,a=new lh({getFn:t,fieldNormWeight:n});return a.setKeys(r),a.setIndexRecords(o),a},lM.config=ld,lM.parseQuery=lF,function(...e){lI.push(...e)}(class{constructor(e,{isCaseSensitive:t=ld.isCaseSensitive,includeMatches:n=ld.includeMatches,minMatchCharLength:r=ld.minMatchCharLength,ignoreLocation:o=ld.ignoreLocation,findAllMatches:a=ld.findAllMatches,location:s=ld.location,threshold:u=ld.threshold,distance:c=ld.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:a,ignoreLocation:o,location:s,threshold:u,distance:c},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map(e=>{let n=e.trim().split(lC).filter(e=>e&&!!e.trim()),r=[];for(let e=0,o=n.length;e<o;e+=1){let o=n[e],a=!1,s=-1;for(;!a&&++s<lE;){let e=l_[s],n=e.isMultiMatch(o);n&&(r.push(new e(n,t)),a=!0)}if(!a)for(s=-1;++s<lE;){let e=l_[s],n=e.isSingleMatch(o);if(n){r.push(new e(n,t));break}}}return r})}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){let t=this.query;if(!t)return{isMatch:!1,score:1};let{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let o=0,a=[],s=0;for(let r=0,u=t.length;r<u;r+=1){let u=t[r];a.length=0,o=0;for(let t=0,r=u.length;t<r;t+=1){let r=u[t],{isMatch:c,indices:l,score:A}=r.search(e);if(c){if(o+=1,s+=A,n){let e=r.constructor.type;lB.has(e)?a=[...a,...l]:a.push(l)}}else{s=0,o=0,a.length=0;break}}if(o){let e={isMatch:!0,score:s/o};return n&&(e.indices=a),e}}return{isMatch:!1,score:1}}});var lP=n(40230),lU=function(e){var t=(0,eD.LP)(),n=(0,lP.k)(t).folders,r=(0,$.useMemo)(function(){return new lM(n||[],{keys:["name"],threshold:.1})},[n]);return(0,$.useMemo)(function(){return n?r.search(e).map(function(e){return e.item}):[]},[n,r,e])},lj={id:"no-results",type:"file",title:"No results found",folderName:"Hit enter to try full search"},lZ=function(e){var t,n=e.query,r=(0,cR.Y)().isModalOpen,o=(0,tB.qz)().setModalStates,a=(0,cj.Z)(n,7),s=lU(n),u=(0,$.useMemo)(function(){return Array.isArray(a.results)?a.results:[]},[a.results]),c=function(){var e,t=(null===(e=a.results)||void 0===e?void 0:e.length)||0;eT.Z.trackEvent("files_search","open_full_search",{resultsCount:t})},l=function(e,t){var n=t[cP.q]||t.shiftKey;"folder"===e.type?eT.Z.trackEvent("files_search","open_folder",{method:"click",isInNewTab:n}):eT.Z.trackEvent("files_search","open_file",{method:"click",isInNewTab:n}),n||o({isFileSearchModalOpen:!1})},A=(0,$.useMemo)(function(){return(0,tr.Z)(s.map(function(e){return{id:e.id,type:"folder",title:e.name,isInRootFolder:null===e.parentFolderId}})).concat((0,tr.Z)(u))},[s,u]),d=A.length?A:[lj],f=(0,cU.c)({isListOpen:r,items:d,onSelect:function(e,t){var r=cX(e,n),a=t[cP.q]||t.shiftKey;if(e===lj&&c(),eT.Z.trackEvent("files_search","open_file",{method:"keyboard",isInNewTab:a}),null==t?void 0:t[cP.q]){window.open(r,"_blank");return}t.shiftKey?window.open(r,e.title):(ei().push(r),o({isFileSearchModalOpen:!1}))},options:{additionalOnSelectShortcuts:["shift+enter"]}}),h=f.activeIndex,p=f.setActiveIndex;return(0,$.useEffect)(function(){var e;!n.length||a.isLoading||null!==(e=a.results)&&void 0!==e&&e.length||eT.Z.trackEvent("files_search","no_results")},[a.isLoading,a.results,n.length]),/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[d?d.map(function(e,t){return/*#__PURE__*/(0,q.jsx)(cJ,{query:n,item:e,onClick:l,isActive:t===h,onMouseOver:p.bind(null,t)},e.id)}):/*#__PURE__*/(0,q.jsx)(c2,{}),n&&(null===(t=a.results)||void 0===t?void 0:t.length)===1&&/*#__PURE__*/(0,q.jsxs)("div",{className:c3().fullSearchSuggestion,children:["Not what you are looking for? Try",/*#__PURE__*/(0,q.jsx)(cM(),{href:cK(n),children:/*#__PURE__*/(0,q.jsx)("a",{onClick:function(){c(),o({isFileSearchModalOpen:!1})},children:"full search."})})]})]})},lQ="data-command-k-item-index",lH=function(e){var t,n,r,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I=e.context,x=e.registrar,T=[],S="\xa0\xa0then\xa0\xa0",k="workspace"===I.type&&!(null===(t=I.workspace)||void 0===t?void 0:t.teamId),D=function(e){var t,n,r;(null===(t=x[e])||void 0===t?void 0:t.execute)&&(null===(n=x[e])||void 0===n||null===(r=n.execute)||void 0===r||r.call(n),eT.Z.trackEvent("command_k","execute_item",{commandId:e}))},N=[{type:"action",id:"toggleDarkMode",categoryId:"display",title:"Toggle dark mode",shortcut:["Shift","AltOrOption","D"],execute:function(){return D("toggleDarkMode")},description:"Switch between a light and dark theme",availableContextTypes:{dashboard:!0,folder:!0,gitHubRepo:!0,workspace:!0}},{type:"action",id:"toggleComments",categoryId:"display",title:"Toggle comments",shortcut:["AltOrOption","C"],availableContextTypes:{workspace:!0},execute:function(){return D("toggleComments")},description:"Toggle the visibility of comments"},{id:"toggleUi",type:"action",title:"Toggle UI",categoryId:"display",shortcut:["CtrlOrCmd","\\"],isHidden:null===(n=x.toggleUi)||void 0===n?void 0:n.isHidden,execute:function(){return D("toggleUi")},availableContextTypes:{workspace:!0},description:"Toggle the visibility of the UI"},{type:"action",aliases:["note"],categoryId:"display",id:"switchLayoutDocument",shortcut:["AltOrOption","1"],title:"Switch to Document layout",description:"Only see the Document",availableContextTypes:{workspace:!0},isHidden:null===(r=x.switchLayoutDocument)||void 0===r?void 0:r.isHidden,execute:function(){return D("switchLayoutDocument")}},{type:"action",categoryId:"display",id:"switchLayoutBoth",title:"Switch to Both layout",shortcut:["AltOrOption","2"],availableContextTypes:{workspace:!0},isHidden:null===(o=x.switchLayoutBoth)||void 0===o?void 0:o.isHidden,execute:function(){return D("switchLayoutBoth")},description:"See both the Document and the Canvas"},{type:"action",categoryId:"display",aliases:["whiteboard"],id:"switchLayoutCanvas",shortcut:["AltOrOption","3"],title:"Switch to Canvas layout",description:"Only see the Canvas",availableContextTypes:{workspace:!0},isHidden:null===(a=x.switchLayoutCanvas)||void 0===a?void 0:a.isHidden,execute:function(){return D("switchLayoutCanvas")}}],O=[{id:"newFile",type:"action",title:"New file",categoryId:"newFile",shortcut:["Control|Alt","N"],isHidden:null===(s=x.newFile)||void 0===s?void 0:s.isHidden,execute:function(){return D("newFile")},description:"Create a new Eraser file",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0}},{type:"action",categoryId:"newFile",id:"newFileFromTemplate",shortcut:["Control|Alt","T"],title:"New file from template",execute:function(){return D("newFileFromTemplate")},description:"Use a template to create a new Eraser file",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"newGitHubFile",categoryId:"newFile",title:"New Github file",shortcut:["Control|Alt","CtrlOrCmd","N"],execute:function(){return D("newGitHubFile")},description:"Create a new Eraser file that is synced to Github",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"newPrivateFile",categoryId:"newFile",title:"New private file",shortcut:["Control|Alt","Shift","N"],isHidden:null===(u=x.newPrivateFile)||void 0===u?void 0:u.isHidden,execute:function(){return D("newPrivateFile")},description:"Create a new Eraser file that only you can see",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}],F=[{type:"action",id:"inviteToTeam",title:"Invite to team",aliases:["add","user"],categoryId:"inviteAndShare",execute:function(){return D("inviteToTeam")},description:"Invite team members to this team",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"copyShareLink",aliases:["invite"],title:"Copy share link",categoryId:"inviteAndShare",shortcut:["CtrlOrCmd","Shift","L"],availableContextTypes:{workspace:!0},description:"Quickly copy the link to this file",execute:function(){return D("copyShareLink")}},{type:"action",id:"openShare",title:"Open share",categoryId:"inviteAndShare",shortcut:["CtrlOrCmd","Shift","S"],execute:function(){return D("openShare")},availableContextTypes:{workspace:!0},description:"View the share options for this file",aliases:["add","invite","secure","security","access","read","write"]},{type:"action",id:"changeFileType",title:"Change file type",categoryId:"inviteAndShare",aliases:["access","team","private"],availableContextTypes:{workspace:!0},description:"Modify the privacy of this file",execute:function(){return D("changeFileType")}},{type:"action",id:"changeLinkAccess",title:"Change link access",categoryId:"inviteAndShare",availableContextTypes:{workspace:!0},execute:function(){return D("changeLinkAccess")},description:"Modify the settings of the file link",aliases:["security","privacy","read","write","public"]},{type:"action",id:"changeToTeamFile",subCategory:"File type",categoryId:"inviteAndShare",title:"Change to team file",availableContextTypes:{workspace:!0},isHidden:null===(c=x.changeToTeamFile)||void 0===c?void 0:c.isHidden,execute:function(){return D("changeToTeamFile")},description:"Any team member can find and edit this file"},{type:"action",subCategory:"File type",id:"changeToPrivateFile",categoryId:"inviteAndShare",title:"Change to private file",availableContextTypes:{workspace:!0},isHidden:null===(l=x.changeToPrivateFile)||void 0===l?void 0:l.isHidden,description:"Only invited members and guests can edit",execute:function(){return D("changeToPrivateFile")}},{type:"action",subCategory:"Link type",id:"changeToNoLinkAccess",categoryId:"inviteAndShare",title:"Change to no link access",availableContextTypes:{workspace:!0},isHidden:null===(A=x.changeToNoLinkAccess)||void 0===A?void 0:A.isHidden,execute:function(){return D("changeToNoLinkAccess")},description:"Only team members or invited guests can view or edit this file"},{type:"action",subCategory:"Link type",categoryId:"inviteAndShare",id:"changeToAnyoneAccessFile",availableContextTypes:{workspace:!0},title:"Change to anyone with the link can edit",isHidden:null===(d=x.changeToAnyoneAccessFile)||void 0===d?void 0:d.isHidden,execute:function(){return D("changeToAnyoneAccessFile")},description:"Anyone with the link can View. Does not require Eraser account. Anyone with the link can Edit. Requires Eraser account."},{type:"action",subCategory:"Link type",categoryId:"inviteAndShare",id:"changeToPublicViewedFile",title:"Change to publicly viewable",availableContextTypes:{workspace:!0},isHidden:null===(f=x.changeToPublicViewedFile)||void 0===f?void 0:f.isHidden,execute:function(){return D("changeToPublicViewedFile")},description:"Anyone with the link can View. Does not require Eraser account."},{type:"action",subCategory:"Link type",categoryId:"inviteAndShare",id:"changeToPublicEditableFile",title:"Change to publicly editable",availableContextTypes:{workspace:!0},isHidden:null===(h=x.changeToPublicEditableFile)||void 0===h?void 0:h.isHidden,execute:function(){return D("changeToPublicEditableFile")},description:"Anyone with a link can Edit. Does not require Eraser account."}],R=[{type:"action",id:"newFolder",title:"New folder",categoryId:"folderActions",description:"Create a new folder",execute:function(){return D("newFolder")},availableContextTypes:{folder:!0,dashboard:!0}},{type:"action",id:"moveFolder",title:"Move folder",categoryId:"folderActions",availableContextTypes:{folder:!0},isHidden:null===(p=x.moveFolder)||void 0===p?void 0:p.isHidden,execute:function(){return D("moveFolder")},description:"Modify the location of this folder"},{type:"action",id:"renameFolder",title:"Rename folder",categoryId:"folderActions",availableContextTypes:{folder:!0},description:"Modify the name of this folder",execute:function(){return D("renameFolder")}},{type:"action",id:"deleteFolder",title:"Delete folder",categoryId:"folderActions",availableContextTypes:{folder:!0},description:"Permanently delete this folder",execute:function(){return D("deleteFolder")}}],L=[{type:"action",id:"exportFile",title:"Export file",categoryId:"fileActions",shortcut:["CtrlOrCmd","E"],availableContextTypes:{workspace:!0},execute:function(){return D("exportFile")},description:"Export to pdf, markdown, svg or image formats"},{type:"action",id:"renameFile",title:"Rename file",categoryId:"fileActions",availableContextTypes:{workspace:!0},description:"Modify the name of this file",execute:function(){return D("renameFile")}},{type:"action",id:"duplicateFile",title:"Duplicate file",categoryId:"fileActions",shortcut:["CtrlOrCmd","Shift","D"],availableContextTypes:{workspace:!0},execute:function(){return D("duplicateFile")},description:"Make a copy of this file and navigate to it"},{type:"action",id:"archiveFile",title:"Archive file",categoryId:"fileActions",shortcut:["CtrlOrCmd","Shift","E"],isHidden:null===(g=x.archiveFile)||void 0===g?void 0:g.isHidden,availableContextTypes:{workspace:!0},execute:function(){return D("archiveFile")},description:"Hide this file and move it to Archive"},{type:"action",id:"restoreFile",title:"Restore file",categoryId:"fileActions",shortcut:["CtrlOrCmd","Shift","E"],isHidden:null===(v=x.restoreFile)||void 0===v?void 0:v.isHidden,availableContextTypes:{workspace:!0},execute:function(){return D("restoreFile")},description:"Restore this file back to its original folder"},{type:"action",id:"openVersionHistory",categoryId:"fileActions",title:"Open version history",aliases:["backup","changes"],availableContextTypes:{workspace:!0},isHidden:null===(m=x.openVersionHistory)||void 0===m?void 0:m.isHidden,description:"View the version history for this file",execute:function(){return D("openVersionHistory")}},{type:"action",id:"openFileInfo",categoryId:"fileActions",title:"Open file information",shortcut:["AltOrOption","I"],availableContextTypes:{workspace:!0},execute:function(){return D("openFileInfo")},description:"View the meta data for this file",aliases:["contribute","visit","editor","guest"]},{type:"action",id:"moveFile",title:"Move file",aliases:["folder"],categoryId:"fileActions",shortcut:["Control|Alt","M"],execute:function(){return D("moveFile")},isHidden:null===(y=x.moveFile)||void 0===y?void 0:y.isHidden,availableContextTypes:{workspace:!0},description:"Modify the location of this file"}],M=[{type:"action",shortcut:["/"],id:"openInsertMenu",title:"Open insert menu",categoryId:"canvasActions",description:"View the Canvas insert menu",availableContextTypes:{workspace:!0},execute:function(){return D("openInsertMenu")}},{type:"action",id:"openZoomControls",title:"Open zoom controls",categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"View the canvas zoom level options",execute:function(){return D("openZoomControls")}},{type:"action",id:"zoomToFit",subCategory:"Zoom",title:"Zoom to fit",categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"Fit the entire canvas in view",execute:function(){return D("zoomToFit")}},{type:"action",id:"zoomTo100",subCategory:"Zoom",title:"Zoom to 100%",categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"Fit the canvas too 100% scale",execute:function(){return D("zoomTo100")}}],P=[{type:"action",id:"goToFile",categoryId:"general",title:"Go to file (Cmd+P)",shortcut:["CtrlOrCmd","P"],aliases:["open","switch","find"],execute:function(){return D("goToFile")},description:"Quickly navigate to any of your files",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"searchFiles",aliases:["find"],title:"Search files",categoryId:"general",shortcut:["AltOrOption","F"],execute:function(){return D("searchFiles")},description:"Search the content of all of your files",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"openHelp",title:"Open help",categoryId:"general",shortcut:["AltOrOption","H"],aliases:["how","learn","tutorial"],execute:function(){return D("openHelp")},description:"Useful links and support articles",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}],U=[{type:"action",id:"pushFile",title:"Push file",categoryId:"gitHub",isHidden:null===(b=x.pushFile)||void 0===b?void 0:b.isHidden,description:"Push this file to Github",availableContextTypes:{workspace:!0},execute:function(){return D("pushFile")}},{type:"action",id:"pullFile",title:"Pull file",categoryId:"gitHub",isHidden:null===(w=x.pullFile)||void 0===w?void 0:w.isHidden,availableContextTypes:{workspace:!0},execute:function(){return D("pullFile")},description:"Pull the latest changes of this file from Github"},{type:"action",id:"pushRepo",categoryId:"gitHub",title:"Push entire repo",availableContextTypes:{gitHubRepo:!0},execute:function(){return D("pushRepo")},description:"Push all of the files in this repo to Github"},{type:"action",id:"pullRepo",categoryId:"gitHub",title:"Pull entire repo",availableContextTypes:{gitHubRepo:!0},execute:function(){return D("pullRepo")},description:"Pull all of the latest changes of this repo from Github"}],j=[{type:"link",id:"eraserDocs",target:"_blank",aliases:["docs"],categoryId:"help",href:ep.CF.docsURL,title:"Eraser documentation",onClick:function(){var e,t;return null===(e=x.eraserDocs)||void 0===e?void 0:null===(t=e.execute)||void 0===t?void 0:t.call(e)},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"sendFeedback",categoryId:"help",title:"Send feedback",aliases:["report","bug"],execute:function(){return D("sendFeedback")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",target:"_blank",categoryId:"help",id:"submitRequest",aliases:["suggestion"],title:"Submit feature request",href:ep.CF.featureRequestURL,onClick:function(){var e,t;return null===(e=x.submitRequest)||void 0===e?void 0:null===(t=e.execute)||void 0===t?void 0:t.call(e)},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",target:"_blank",categoryId:"help",id:"eraserWebsite",title:"Eraser website",href:ep.CF.homepageURL,aliases:["site","page","home"],onClick:function(){var e,t;return null===(e=x.eraserWebsite)||void 0===e?void 0:null===(t=e.execute)||void 0===t?void 0:t.call(e)},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",categoryId:"help",id:"openKeyboardShortcuts",title:"Open keyboard shortcuts",execute:function(){return D("openKeyboardShortcuts")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"joinSlack",target:"_blank",categoryId:"help",href:ep.CF.slackURL,title:"Join Slack community",onClick:function(){var e,t;return null===(e=x.joinSlack)||void 0===e?void 0:null===(t=e.execute)||void 0===t?void 0:t.call(e)},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}],Z=[{type:"action",id:"goToDashboard",title:"Go to dashboard",categoryId:"navigation",description:"Navigate to the Dashboard",isHidden:null===(_=x.goToDashboard)||void 0===_?void 0:_.isHidden,shortcut:["Control","AltOrOption","ArrowLeft"],aliases:["home","files"],execute:function(){return D("goToDashboard")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"goToTemplates",categoryId:"navigation",title:"Go to Templates",isHidden:null===(E=x.goToTemplates)||void 0===E?void 0:E.isHidden,execute:function(){return D("goToTemplates")},description:"Navigate to Templates on the Dashboard",shortcut:["Control","AltOrOption","ArrowLeft",S,"T"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"goToPrivateFiles",categoryId:"navigation",title:"Go to Private files",isHidden:null===(C=x.goToPrivateFiles)||void 0===C?void 0:C.isHidden,execute:function(){return D("goToPrivateFiles")},description:"Navigate to Private files on the Dashboard",shortcut:["Control","AltOrOption","ArrowLeft",S,"P"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"goToArchive",title:"Go to Archive",categoryId:"navigation",isHidden:null===(B=x.goToArchive)||void 0===B?void 0:B.isHidden,execute:function(){return D("goToArchive")},description:"Navigate to Archive on the Dashboard",shortcut:["Control","AltOrOption","ArrowLeft",S,"E"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"openSettings",title:"Open Settings",categoryId:"navigation",description:"View the Settings modal",shortcut:["Shift","AltOrOption","S"],execute:function(){return D("openSettings")},availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}];return k?T.push.apply(T,(0,tr.Z)(M).concat((0,tr.Z)(j))):"dashboard"===I.type?T.push.apply(T,(0,tr.Z)(F).concat((0,tr.Z)(O),(0,tr.Z)(R),(0,tr.Z)(P),(0,tr.Z)(Z),(0,tr.Z)(N),(0,tr.Z)(j),(0,tr.Z)(U),(0,tr.Z)(L),(0,tr.Z)(M))):"workspace"===I.type?T.push.apply(T,(0,tr.Z)(U).concat((0,tr.Z)(F),(0,tr.Z)(M),(0,tr.Z)(L),(0,tr.Z)(P),(0,tr.Z)(O),(0,tr.Z)(Z),(0,tr.Z)(N),(0,tr.Z)(j),(0,tr.Z)(R))):T.push.apply(T,(0,tr.Z)(U).concat((0,tr.Z)(R),(0,tr.Z)(F),(0,tr.Z)(O),(0,tr.Z)(P),(0,tr.Z)(Z),(0,tr.Z)(N),(0,tr.Z)(j),(0,tr.Z)(L),(0,tr.Z)(M))),T.filter(function(e){return e.availableContextTypes[I.type]}).filter(function(e){return!e.isHidden||!e.isHidden()})},lV=function(e){var t=e.context,n=e.registrar,r=(0,$.useState)(!1)[0],o=(0,$.useState)([]),a=o[0],s=o[1];return(0,$.useEffect)(function(){t&&s(lH({context:t,registrar:n}))},[t,n]),{commandKItems:a,areItemsLoading:r}},lK=n(19101),lz=/*#__PURE__*/n.n(lK),lG=n(18114);function lW(){return(lW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var lq=function(e){return /*#__PURE__*/$.createElement("svg",lW({width:15,height:16,viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),j||(j=/*#__PURE__*/$.createElement("path",{d:"M7.5 9.5V8H8a1.5 1.5 0 001.5-1.5v-.1A1.4 1.4 0 008.1 5h-.6A1.5 1.5 0 006 6.5M7 11h1m-.5 4a7 7 0 110-14 7 7 0 010 14z",stroke:"currentColor"})))};function lY(){return(lY=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l$=function(e){return /*#__PURE__*/$.createElement("svg",lY({width:14,height:10,viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Z||(Z=/*#__PURE__*/$.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.854.646L13.207 5 8.854 9.354l-.708-.708L11.293 5.5H0v-1h11.293L8.146 1.354l.708-.708z",fill:"currentColor"})))};function lX(){return(lX=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var lJ=function(e){return /*#__PURE__*/$.createElement("svg",lX({width:15,height:13,viewBox:"0 0 15 13",xmlns:"http://www.w3.org/2000/svg"},e),Q||(Q=/*#__PURE__*/$.createElement("path",{d:"M.5 11.5v-10a1 1 0 011-1h4l2 2h6a1 1 0 011 1v8a1 1 0 01-1 1h-12a1 1 0 01-1-1z",fill:"none",stroke:"currentColor"})))},l0=n(6634);function l1(){return(l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l2=function(e){return /*#__PURE__*/$.createElement("svg",l1({width:15,height:16,viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),H||(H=/*#__PURE__*/$.createElement("path",{d:"M.5 1l6 14 2-6 6-2-14-6z",stroke:"currentColor",strokeLinejoin:"round"})))},l4=n(32538),l3=n(44885),l5=n(41144),l6=n(26378),l8=/*#__PURE__*/n.n(l6),l9=function(e){switch(e.id){case"canvasActions":return/*#__PURE__*/(0,q.jsx)(r6.J,{icon:l2});case"display":return/*#__PURE__*/(0,q.jsx)(r6.J,{icon:lG.Z});case"fileActions":return/*#__PURE__*/(0,q.jsx)(r6.J,{icon:l0.Z});case"folderActions":return/*#__PURE__*/(0,q.jsx)(r6.J,{icon:lJ});case"general":case"gettingStarted":return null;case"gitHub":return/*#__PURE__*/(0,q.jsx)(r6.J,{icon:oo.Z});case"inviteAndShare":return/*#__PURE__*/(0,q.jsx)(r6.J,{icon:ix.Z});case"navigation":return/*#__PURE__*/(0,q.jsx)(r6.J,{icon:l$});case"newFile":return/*#__PURE__*/(0,q.jsx)(r6.J,{icon:os.Z});case"help":return/*#__PURE__*/(0,q.jsx)(r6.J,{icon:lq})}},l7=function(e){switch(e.id){case"goToFile":return/*#__PURE__*/(0,q.jsx)(r6.J,{icon:l3.Z});case"searchFiles":return/*#__PURE__*/(0,q.jsx)(r6.J,{icon:iQ});case"openHelp":return/*#__PURE__*/(0,q.jsx)(r6.J,{icon:lq});default:return null}},Ae=function(e){var t,n=e.category,r=e.isActive,o=e.item,a=e.setIsActive,s=e.index,u=e.classNames,c=tM().isMouseMoving,l=(0,eE.Z)((0,G.Z)({isActive:r,onMouseOver:function(){c.current&&a()},subTitle:o.description},o.subCategory?{mainTitle:/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsx)("span",{className:l8().subCategory,children:o.subCategory}),/*#__PURE__*/(0,q.jsx)(r6.J,{className:l8().subCategoryChevron,icon:l4.Z}),o.title]})}:{mainTitle:o.title}),(t={classNames:(0,G.Z)({root:lz().item,icon:lz().itemIcon,subTitle:lz().itemSubTitle,endContent:lz().itemEndContent},u)},(0,rW.Z)(t,lQ,s),(0,rW.Z)(t,"icon",l7(o)||l9(n)),(0,rW.Z)(t,"endContent",o.shortcut?/*#__PURE__*/(0,q.jsx)(e9.P,{keys:o.shortcut}):null),t));switch(o.type){case"link":return/*#__PURE__*/(0,q.jsx)(cM(),{href:"string"==typeof o.href?o.href:o.href(),children:/*#__PURE__*/(0,q.jsx)("a",{target:o.target,onClick:o.onClick,children:/*#__PURE__*/(0,q.jsx)(c$,(0,eE.Z)((0,G.Z)({},l),{endContent:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:l5.Z})}))})});case"action":return/*#__PURE__*/(0,q.jsx)(c$,(0,eE.Z)((0,G.Z)({},l),{onClick:o.execute}));case"checkbox":return null}},At=n(24344),An=/*#__PURE__*/n.n(At),Ar=function(e){var t=e.context,n=e.query,r=lV({context:t,registrar:(0,tF.l)().registrar}).commandKItems,o=(0,$.useMemo)(function(){return r.filter(function(e){return"help"===e.categoryId&&e.title.toLowerCase().includes((null==n?void 0:n.toLowerCase())||"")})},[r,n]),a=(0,cU.c)({items:o,onSelect:function(e,t){t.preventDefault(),t.stopPropagation();var n=o.findIndex(function(t){return t.id===e.id}),r=document.querySelector("[".concat(lQ,'="').concat(n,'"]'));null==r||r.click()}}),s=a.activeIndex,u=a.setActiveIndex;return(0,$.useEffect)(function(){eT.Z.trackEvent("help_center","help_center_click")},[]),/*#__PURE__*/(0,q.jsxs)("div",{children:[/*#__PURE__*/(0,q.jsx)("p",{className:An().helpTitle,children:"Help"}),o.map(function(e,t){return/*#__PURE__*/(0,q.jsx)(Ae,{item:e,index:t,isActive:s===t,classNames:{root:An().item},category:{id:"help",title:"Help"},setIsActive:function(){return u(t)}},e.id)})]})},Ai=n(74803),Ao=/*#__PURE__*/n.n(Ai),Aa=function(e){switch(e){case"folder":return/*#__PURE__*/(0,q.jsx)(r6.J,{icon:lJ,color:"grey-1200"});case"gitHubRepo":return/*#__PURE__*/(0,q.jsx)(r6.J,{icon:oo.Z,color:"grey-1200"});default:return null}},As=function(e){switch(e.type){case"folder":return e.folder.name||ek.bo;case"gitHubRepo":return"".concat(e.organizationName,"/").concat(e.repositoryName);case"workspace":return e.workspace.title||ek.SF;case"dashboard":return"Dashboard";default:return""}},Au=function(e){var t=e.context;switch(e.screen){case"commands":return/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[Aa(t.type),As(t)]});case"fileSearch":return"File search";case"goToFile":return"Go to file ...";case"help":return"Help";default:return""}},Ac=function(e){var t=e.screen,n=e.contextDto;return n&&!n.isLoading&&n.context?/*#__PURE__*/(0,q.jsx)("div",{className:(0,tt.Z)(Ao().root,"commands"===t&&Ao().light),children:Au({context:n.context,screen:t})}):null},Al=n(17423),AA=n(62915),Ad=function(e){var t=e.query.workspaceId,n=(0,AA.Z)(t),r=n.data,o=n.isLoading;return e.pathname.startsWith("/workspace")?o||!r?{isValid:!0,context:null,isLoading:o}:{isValid:!0,isLoading:!1,context:{workspace:r,type:"workspace"}}:{isValid:!1,context:null,isLoading:!1}},Af=function(e){var t=(0,eD.LP)(),n=e.query.folderId,r=(0,Al.Z)(n,t),o=r.data,a=r.isLoading;return e.pathname.startsWith("/dashboard/folder")?a||!o?{isValid:!0,context:null,isLoading:a}:{isValid:!0,isLoading:!1,context:{type:"folder",folder:o}}:{isValid:!1,context:null,isLoading:!1}},Ah=function(e){var t=e.query.repositoryName,n=e.query.organizationName;return e.pathname.startsWith("/dashboard/github")?t&&n?{isValid:!0,isLoading:!1,context:{type:"gitHubRepo",repositoryName:t,organizationName:n}}:{isValid:!0,context:null,isLoading:!0}:{isValid:!1,context:null,isLoading:!1}},Ap=function(){var e=(0,er.useRouter)(),t=Af(e),n={isValid:!0,isLoading:!1,context:{type:"dashboard",subPage:e.pathname.split("/")[2]}};return[Ad(e),t,Ah(e),n].find(function(e){return e.isValid})||null},Ag=n(62441),Av=/*#__PURE__*/n.n(Ag),Am=function(e){var t=e.category,n=e.items,r=e.setIsActive,o=e.activeIndex,a=e.startIndex;return 0===n.length?null:/*#__PURE__*/(0,q.jsxs)("div",{className:Av().root,children:[/*#__PURE__*/(0,q.jsx)("p",{className:Av().title,children:t.title}),n.map(function(e,n){return/*#__PURE__*/(0,q.jsx)(Ae,{item:e,category:t,index:a+n,isActive:o===a+n,setIsActive:function(){return r(a+n)}},e.id)})]})},Ay=n(27202),Ab=/*#__PURE__*/n.n(Ay),Aw=function(){return/*#__PURE__*/(0,q.jsx)(q.Fragment,{children:Array.from(Array(6)).map(function(e,t){return/*#__PURE__*/(0,q.jsx)("div",{className:(0,tt.Z)(Ab().skeletonWrapper,0===t&&Ab().isActive),children:/*#__PURE__*/(0,q.jsxs)(r$.yB,{color:"var(--grey-800)",highlightColor:"var(--grey-400)",children:[/*#__PURE__*/(0,q.jsx)(r$.ZP,{width:"30%",height:14}),/*#__PURE__*/(0,q.jsx)(r$.ZP,{className:Ab().description,height:15})]})},"skeleton-".concat(t))})})},A_=new Map([["gettingStarted",{id:"gettingStarted",title:"Getting started"}],["inviteAndShare",{id:"inviteAndShare",title:"Invite and share"}],["newFile",{id:"newFile",title:"New file"}],["folderActions",{id:"folderActions",title:"Folder actions"}],["general",{id:"general",title:"General"}],["navigation",{id:"navigation",title:"Navigation"}],["display",{id:"display",title:"Display"}],["help",{id:"help",title:"Help"}],["gitHub",{id:"gitHub",title:"GitHub"}],["fileActions",{id:"fileActions",title:"File actions"}],["canvasActions",{id:"canvasActions",title:"Canvas actions"}]]),AE=function(e){switch(e){case"dashboard":return["gettingStarted","inviteAndShare","newFile","folderActions","general","navigation","display","help","gitHub","fileActions","canvasActions"];case"workspace":return["gettingStarted","gitHub","inviteAndShare","canvasActions","fileActions","general","newFile","navigation","display","help","folderActions"];case"folder":case"gitHubRepo":return["gettingStarted","gitHub","folderActions","inviteAndShare","newFile","general","navigation","display","help","fileActions","canvasActions"]}},AC=function(e){var t=e.contextType,n=(0,$.useState)(!1)[0],r=(0,$.useState)([]),o=r[0],a=r[1];return(0,$.useEffect)(function(){t&&a(AE(t).map(function(e){return A_.get(e)}))},[t]),{commandKCategories:o,areCategoriesLoading:n}},AB=function(e,t,n){if(!t)return{filteredMap:e,mapScoreById:new Map};var r=new Map,o=null==n?void 0:n.search(t),a=new Map(null==o?void 0:o.map(function(e){return[e.item.id,e.score]})),s=new Map;return e.forEach(function(e,t){var n=1/0,o=[],u=!0,c=!1,l=void 0;try{for(var A,d=e[Symbol.iterator]();!(u=(A=d.next()).done);u=!0){var f=A.value,h=a.get(f.id);null!=h&&(o.push(f),h<n&&(n=h))}}catch(e){c=!0,l=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw l}}o.sort(function(e,t){return a.get(e.id)-a.get(t.id)}),o.length>0&&(r.set(t,o),s.set(t,n))}),{filteredMap:r,mapScoreById:s}},AI=/*#__PURE__*/(0,$.forwardRef)(function(e,t){var n=e.context,r=e.query,o=null==n?void 0:n.type,a=(0,cR.Y)().isModalOpen,s=lV({context:n,registrar:(0,tF.l)().registrar}),u=s.commandKItems,c=s.areItemsLoading,l=(0,$.useMemo)(function(){return new lM(u,{keys:["title","aliases","description"],includeScore:!0,threshold:.4})},[u]),A=(0,$.useMemo)(function(){return u.reduce(function(e,t){return e.has(t.categoryId)?e.get(t.categoryId).push(t):e.set(t.categoryId,[t]),e},new Map)},[u]),d=(0,$.useMemo)(function(){return AB(A,r,l)},[A,r,l]),f=d.filteredMap,h=d.mapScoreById,p=AC({contextType:o}),g=p.commandKCategories,v=p.areCategoriesLoading,m=(0,$.useMemo)(function(){var e,t;return h.size?(0,tr.Z)(g).sort(function(n,r){return(null!==(e=h.get(n.id))&&void 0!==e?e:1/0)-(null!==(t=h.get(r.id))&&void 0!==t?t:1/0)}):g},[g,h]),y=!!f.size,b=(0,$.useMemo)(function(){return m.flatMap(function(e){return f.get(e.id)||[]})},[m,f]),w=function(e){return b.findIndex(function(t){return t.id===(null==e?void 0:e.id)})},_=(0,cU.c)({onSelect:function(e,t){t.preventDefault(),t.stopPropagation();var n=w(e),r=document.querySelector("[".concat(lQ,'="').concat(n,'"]'));null==r||r.click()},items:b,customScrollIntoView:function(e){var t=document.querySelector("[".concat(lQ,'="').concat(e,'"]'));null==t||t.scrollIntoView({block:"nearest",behavior:"auto",inline:"nearest"})},isListOpen:a,options:{additionalOnSelectShortcuts:["shift+enter"]}}),E=_.activeIndex,C=_.setActiveIndex;return(0,$.useImperativeHandle)(t,function(){return{didQueryMatchItems:y}},[y]),/*#__PURE__*/(0,q.jsx)("div",{children:v||c?/*#__PURE__*/(0,q.jsx)(Aw,{}):y?m.map(function(e){var t;/*#__PURE__*/return(0,q.jsx)(Am,{category:e,activeIndex:E,setIsActive:C,items:f.get(e.id)||[],startIndex:w(null===(t=f.get(e.id))||void 0===t?void 0:t[0])},e.id)}):/*#__PURE__*/(0,q.jsx)("div",{className:lz().notFoundWrapper,children:/*#__PURE__*/(0,q.jsx)(c$,{mainTitle:"No results found",icon:/*#__PURE__*/(0,q.jsx)(r6.J,{icon:iQ}),subTitle:"Hit enter to try File Search",classNames:{root:lz().item,icon:lz().itemIcon,subTitle:lz().itemSubTitle}})})})}),Ax=function(e){var t=e.containerRef,n=e.isModalOpen,r=tM().isMouseMoving;(0,$.useEffect)(function(){if(t&&n){var e,o=function(){r.current=!0},a=function(){r.current=!1},s=function(){clearTimeout(e),e=setTimeout(a,300)};return t.addEventListener("mousemove",s),t.addEventListener("mousemove",o),t.addEventListener("mouseleave",a),function(){t.removeEventListener("mousemove",s),t.removeEventListener("mousemove",o),t.removeEventListener("mouseleave",a),clearTimeout(e)}}},[t,r,n])},AT=function(e,t){var n=(0,$.useRef)();(0,$.useEffect)(function(){if(e){var r,o=window.getSelection();n.current={element:document.activeElement},o&&o.rangeCount>0&&(n.current.selectionRange=o.getRangeAt(0)),null===(r=t.current)||void 0===r||r.focus()}else{var a,s,u=null===(a=n.current)||void 0===a?void 0:a.element;if(!u||!document.contains(u))return;var c=window.getSelection(),l=null===(s=n.current)||void 0===s?void 0:s.selectionRange,A=l&&document.contains(l.startContainer);u.focus(),A&&(null==c||c.removeAllRanges(),null==c||c.addRange(l)),n.current=void 0}},[e,t.current])},AS=function(e){var t=e.isModalOpen,n=e.footerRef,r=e.openOrGoToScreen,o=(0,$.useCallback)(function(e){if((e.ctrlKey||e.metaKey)&&"k"===e.key)r("commands",e);else if((e.ctrlKey||e.metaKey)&&"p"===e.key)r("goToFile",e);else if(e.altKey&&"KeyH"===e.code)r("help",e);else if(e.altKey&&"KeyF"===e.code)r("fileSearch",e);else if(e.altKey&&"KeyM"===e.code&&t){var o;null===(o=n.current)||void 0===o||o.openDropdown(),e.preventDefault()}},[r,t,n.current]);(0,$.useEffect)(function(){return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}},[o])},Ak=function(){var e=(0,cR.Y)().switchScreen,t=(0,tF.l)().register,n=(0,iB.Y)().openSettingsModal,r=(0,$.useCallback)(function(t){e({screen:t,inputValue:""})},[e]);(0,$.useEffect)(function(){t("openSettings",function(){return n()}),t("inviteToTeam",function(){return n({openedPane:"members"})}),t("searchFiles",function(){return r("fileSearch"),!1}),t("openHelp",function(){return r("help"),!1}),t("goToFile",function(){return r("goToFile"),!1})},[t,r,n])},AD=n(38814),AN=/*#__PURE__*/n.n(AD);n(31858);var AO=function(e){switch(e){case"commands":return"Search commands ...";case"fileSearch":return"Search files for ...";case"goToFile":return"Search file name ...";case"help":return"Search help ...";default:return""}},AF=function(){var e=(0,eD.LP)(),t=(0,$.useRef)(null),n=Ap(),r=(0,cx.S$)(),o=(0,$.useRef)(null),a=(0,$.useRef)(null),s=(0,$.useState)(null),u=s[0],c=s[1],l=(0,cR.Y)(),A=l.query,d=l.screen,f=l.inputValue,h=l.isModalOpen,p=l.switchScreen,g=l.setInputValue,v=l.openCommandKModal,m=l.closeCommandKModal,y=(0,$.useMemo)(function(){return"/team/create"!==ei().pathname&&!r&&!!e},[r,e]),b=(0,$.useCallback)(function(e,n){var r;y&&(null==n||n.preventDefault(),null==n||n.stopPropagation(),null===(r=t.current)||void 0===r||r.focus(),h?(p({screen:e}),eT.Z.trackEvent("command_k","switch_screen",{method:"shortcut",screen:e})):(v({screen:e}),eT.Z.trackEvent("command_k","open",{method:"shortcut",screen:e})))},[y,h,p,v]);return Ak(),AT(h,t),AS({isModalOpen:h,footerRef:o,openOrGoToScreen:b}),Ax({containerRef:null==u?void 0:u.contentWrapperEl,isModalOpen:h}),/*#__PURE__*/(0,q.jsxs)(e3.Z,{hideCloseButton:!0,isOpen:h,"data-screen":d,onClose:function(){m(),eT.Z.trackEvent("command_k","close",{screen:d,query:A})},className:AN().modalRoot,"data-testid":"command-k-modal",contentWrapperClassName:AN().modalWrapper,children:[/*#__PURE__*/(0,q.jsx)(Ac,{screen:d,contextDto:n}),/*#__PURE__*/(0,q.jsx)("input",{type:"text",ref:t,value:f,onKeyDown:function(e){var t;"Enter"===e.key&&"fileSearch"===d&&A.length>0?ei().push(cK(A)):!(A.length>0)||"Enter"!==e.key||"commands"!==d||(null===(t=a.current)||void 0===t?void 0:t.didQueryMatchItems)||ei().push(cK(A))},className:AN().searchInput,"data-testid":"command-k-modal-input",placeholder:AO(d),onChange:function(e){return g(e.target.value)}}),"fileSearch"!==d&&/*#__PURE__*/(0,q.jsx)(cI.Z,{ref:c,className:AN().content,classNames:{contentWrapper:AN().contentWrapper},children:function(){switch(d){case"goToFile":return/*#__PURE__*/(0,q.jsx)(lZ,{query:A});case"commands":return/*#__PURE__*/(0,q.jsx)(AI,{query:A,ref:a,context:null==n?void 0:n.context});case"fileSearch":return null;case"help":return/*#__PURE__*/(0,q.jsx)(Ar,{context:null==n?void 0:n.context,query:A})}}()}),/*#__PURE__*/(0,q.jsx)(cF,{ref:o,screen:d,onScreenChange:b,onDropdownClose:function(){var e;return null===(e=t.current)||void 0===e?void 0:e.focus()}})]})},AR=n(90581),AL=(V={},(0,rW.Z)(V,"workspace_create",tx.c.CreateFile),(0,rW.Z)(V,"insert_menu_icon_create",tx.c.AddIcon),(0,rW.Z)(V,"insert_menu_figure_create",tx.c.AddFigure),(0,rW.Z)(V,"canvas_figure_create",tx.c.AddFigure),(0,rW.Z)(V,"figure_create_from_selection",tx.c.AddFigure),(0,rW.Z)(V,"notepad_wikilink_create",function(e){return(null==e?void 0:e.type)==="figureLink"?tx.c.AddFigureEmbed:void 0}),(0,rW.Z)(V,"notepad_add_content",tx.c.AddNoteContent),(0,rW.Z)(V,"comment_create",tx.c.AddComment),(0,rW.Z)(V,"insert_menu_open",tx.c.OpenInsertMenu),(0,rW.Z)(V,"canvas_diagram_create",tx.c.GenerateDiagramWithCode),(0,rW.Z)(V,"ai_diagram_create",tx.c.GenerateAiDiagram),V),AM=/*#__PURE__*/function(){function e(){(0,AR.Z)(this,e)}var t=e.prototype;return t.trackEvent=function(e,t){if(this._userId){var n,r=AL[e];!r&&/^insert_menu_(.+)_create$/i.test(e)&&(r=tx.c.UseInsertMenu);var o="function"==typeof r?r(t):r;!o||(null===(n=this._activations)||void 0===n?void 0:n[o])||(0,e$.z6)().currentUser.markActivation(o)}},t.identify=function(e){var t=e.id,n=e.isAnonymous,r=this;if(t!==this._userId){if(n){this.cleanup();return}this.cleanup(),this._userId=t,this._unsubscribe=(0,e$.z6)().currentUser.getActivationsDataStream().subscribe(function(e){r._activations=e})}},t.cleanup=function(){var e;null===(e=this._unsubscribe)||void 0===e||e.call(this),this._unsubscribe=void 0,this._userId=void 0,this._activations=void 0},t.dispose=function(){this.cleanup()},e}(),AP=n(50252),AU=(A=(0,z.Z)(function(e){var t,r,o;return(0,W.__generator)(this,function(a){switch(a.label){case 0:return[4,n.e(7804).then(n.bind(n,77804))];case 1:t=a.sent().default,e.registerIntegration(new t),a.label=2;case 2:if(!ep.bO.apiKey)return[3,5];return[4,n.e(8546).then(n.bind(n,68546))];case 3:return[4,(0,a.sent().default)(ep.bO.apiKey)];case 4:r=a.sent(),e.registerIntegration(r),a.label=5;case 5:if(!ep.HE.appId)return[3,7];return[4,n.e(6851).then(n.bind(n,96851))];case 6:o=a.sent().default,e.registerIntegration(new o(ep.HE.appId)),a.label=7;case 7:return e.registerIntegration(new AM),e.registerIntegration(AP.N),[2]}})}),function(e){return A.apply(this,arguments)}),Aj=n(36274),AZ=n(91427),AQ=n(48617),AH=n(28257),AV=n(14413),AK=/*#__PURE__*/n.n(AV),Az=function(e){var t=e.children,n=e.authUser,r=e.userDomain,o=(0,eD.K)();return(0,$.useMemo)(function(){if(o)return Array.from(o.values()).find(function(e){return e.ssoDomain===r.toLowerCase()})},[o,r])?/*#__PURE__*/(0,q.jsx)(q.Fragment,{children:t}):/*#__PURE__*/(0,q.jsx)(AG,{authUser:n})},AG=function(e){var t,n=e.authUser;(0,ey.r4)();var r=(0,sw.ZP)().signOut,o=(0,ig.Z)(),a=(0,i_.Z)(),s=(0,tQ.Z)((0,eD.p3)(),2),u=(s[0],s[1]);(0,$.useCallback)((t=(0,z.Z)(function(e){var t;return(0,W.__generator)(this,function(r){switch(r.label){case 0:return t="teamId"in e?e.teamId:e.id,[4,o.promise((0,im.Z)(t,n.id,{origin:"sso",isAutoJoin:!0}),{loading:"Joining team",success:"Joined team",error:"Something went wrong"})];case 1:return r.sent(),u(t,{shouldResetFolder:!0}),[2]}})}),function(e){return t.apply(this,arguments)}),[n.id,u]);var c=null==a?void 0:a.filter(function(e){var t;return"ssoDomain"in e&&e.ssoDomain&&e.ssoDomain===(null===(t=n.sso)||void 0===t?void 0:t.toLowerCase())});return(null==c?void 0:c.length)?/*#__PURE__*/(0,q.jsx)("div",{className:AK().container,children:/*#__PURE__*/(0,q.jsxs)(AQ.Z,{title:"Join Team",label:"SSO Sign Up",labelIcon:/*#__PURE__*/(0,q.jsx)(AH.Z,{color:"var(--green-success)"}),children:[/*#__PURE__*/(0,q.jsx)("p",{className:AK().joinText,children:"Reach out to your admin if you don't see the team you're looking for."}),/*#__PURE__*/(0,q.jsx)("table",{className:AK().joinTable,children:/*#__PURE__*/(0,q.jsx)("tbody",{children:null==c?void 0:c.map(function(e){var t=(0,tQ.Z)("teamId"in e?[e.teamName,e.teamId]:[e.name,e.id],2);t[0],t[1],AK().joinTableTeamName,tK.zx,tK.u8.X_LARGE})})})]})}):/*#__PURE__*/(0,q.jsx)("div",{className:AK().container,children:/*#__PURE__*/(0,q.jsxs)(AQ.Z,{title:"Join Team",label:"SSO Sign Up",labelIcon:/*#__PURE__*/(0,q.jsx)(AH.Z,{color:"var(--green-success)"}),children:[/*#__PURE__*/(0,q.jsx)("p",{children:"There are no teams you are eligible to join yet. Please reach out to your admin for an invite."}),/*#__PURE__*/(0,q.jsx)(tK.zx,{size:tK.u8.X_LARGE,onClick:r,children:"Sign Out"})]})})},AW=n(27038),Aq=function(e){var t=e.authUser,n=e.ssoTeam,r=(0,sw.ZP)().signOut,o=(0,$.useCallback)(/*#__PURE__*/(0,z.Z)(function(){var e;return(0,W.__generator)(this,function(n){switch(n.label){case 0:return[4,(0,AW.Z)(t.email)];case 1:return e=n.sent(),[4,r()];case 2:return n.sent(),window.location.href=e,[2]}})}),[r,t.email]),a=n&&t;return(0,$.useLayoutEffect)(function(){a&&setTimeout(o,1500)},[a,o]),(0,ey.r4)(),/*#__PURE__*/(0,q.jsx)("div",{className:AK().container,children:/*#__PURE__*/(0,q.jsxs)(AQ.Z,{title:"Re-routing to SSO login...",label:"SSO Detected",labelIcon:/*#__PURE__*/(0,q.jsx)(AH.Z,{color:"var(--green-success)"}),children:[/*#__PURE__*/(0,q.jsx)("p",{children:"SSO is detected for your domain."}),/*#__PURE__*/(0,q.jsxs)("span",{onClick:o,className:AK().rerouting,children:[/*#__PURE__*/(0,q.jsx)(iE.Z,{inline:!0})," Re-routing..."]})]})})},AY=function(e){var t,n,r,o=e.children,a=(0,eI.fC)(),s=(null===(n=null==a?void 0:null===(t=a.email)||void 0===t?void 0:t.split("@")[1])||void 0===n?void 0:n.toLowerCase())||"example.com",u=(null==a?void 0:null===(r=a.sso)||void 0===r?void 0:r.toLowerCase())===s,c=(0,eD.K)(),l=(0,$.useMemo)(function(){if(c&&s)return Array.from(c.values()).find(function(e){return e.ssoDomain===s})},[c,s]);return a&&l&&(!l||!u)&&(l||u)?l?/*#__PURE__*/(0,q.jsx)(Aq,{authUser:a,ssoTeam:l}):/*#__PURE__*/(0,q.jsx)(Az,{authUser:a,userDomain:s}):/*#__PURE__*/(0,q.jsx)(q.Fragment,{children:o})},A$=n(92458),AX={logLevel:4,sdkKey:"X8uGG684qRdkxfjg7yDEx",datafileOptions:{autoUpdate:!0,updateInterval:6e5,urlTemplate:"/api/optimizely/datafile"}},AJ=function(e){var t=e.children,n=(0,eI.fC)(),r=null==n?void 0:n.id,o=(0,eD.DJ)().currentTeamId,a=(0,eD.Ad)(),s=(0,eI.g5)(),u=(0,eD.MV)(),c=(0,$.useMemo)(function(){return{teamId:null!=o?o:"",userId:null!=r?r:"",areTeamsEmpty:a,areTeamsLoaded:u,isUserAnonymous:s}},[o,r,a,u,s]);return(0,A$.B)(c,AX)?/*#__PURE__*/(0,q.jsx)(q.Fragment,{children:t}):null};Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(e){if((e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0)&&!(e>=this.length))return this[e]},writable:!0,enumerable:!1,configurable:!0}),n(17459),n(97653),n(83167);var A0=n(34406);eq.jU&&(window.addEventListener("error",function(e){var t,n,r;e.stopImmediatePropagation(),e.error&&(("string"==typeof(r=null!==(n=null===(t=e.error)||void 0===t?void 0:t.message)&&void 0!==n?n:"")?r:r.message).toLowerCase().replace(/_/g," ").includes("permission denied")?console.warn(e.error):(0,eW.T)(e.error,{isUncaught:!0}))}),window.addEventListener("unhandledrejection",function(e){e.stopImmediatePropagation(),e.reason&&console.warn("Unhandled rejection",e)}));var A1=function(e){var t=e.error;return/*#__PURE__*/(0,q.jsx)(eo.ZP,{statusCode:500,title:"Something went wrong",error:t})},A2=["pdf-view","render"],A4=["/tutorial/iframe"],A3="live"===ek.Wi,A5=A0.env.TEST_ANALYTICS_ENABLED;(A3||A5)&&AU(eT.Z);var A6=function(e){var t,n=e.Component,r=e.pageProps,o=(0,er.useRouter)();nt((0,$.useCallback)(function(){return window.location.reload()},[]));var a=o.pathname.startsWith("/dashboard")?/*#__PURE__*/(0,q.jsx)(o8,{children:/*#__PURE__*/(0,q.jsx)(n,(0,G.Z)({},r))}):/*#__PURE__*/(0,q.jsx)(n,(0,G.Z)({},r));return t=A2.some(function(e){return o.asPath.includes(e)})?/*#__PURE__*/(0,q.jsx)(Y.Wh,{children:/*#__PURE__*/(0,q.jsx)(ne.Yl,{children:a})}):A4.some(function(e){return o.asPath.startsWith(e)})?/*#__PURE__*/(0,q.jsx)(q.Fragment,{children:/*#__PURE__*/(0,q.jsx)(ea.Z,{fallback:A1,children:/*#__PURE__*/(0,q.jsx)(Y.Wh,{children:/*#__PURE__*/(0,q.jsx)(ne.Yl,{children:/*#__PURE__*/(0,q.jsx)(AZ.D,{children:/*#__PURE__*/(0,q.jsx)(t7,{children:/*#__PURE__*/(0,q.jsx)(AJ,{children:/*#__PURE__*/(0,q.jsxs)(AY,{children:[/*#__PURE__*/(0,q.jsx)(na,{}),/*#__PURE__*/(0,q.jsx)(ew,{}),a]})})})})})})})}):/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsx)(em,{og:(null==r?void 0:r.og)?(0,G.Z)({},eg,r.og):eg}),/*#__PURE__*/(0,q.jsx)(ey.ch,{initialTheme:null==r?void 0:r.theme}),/*#__PURE__*/(0,q.jsx)(ea.Z,{fallback:A1,children:/*#__PURE__*/(0,q.jsx)(Y.Wh,{children:/*#__PURE__*/(0,q.jsx)(ne.Yl,{children:/*#__PURE__*/(0,q.jsx)(Aj.N,{children:/*#__PURE__*/(0,q.jsx)(t7,{children:/*#__PURE__*/(0,q.jsx)(AJ,{children:/*#__PURE__*/(0,q.jsxs)(AY,{children:[/*#__PURE__*/(0,q.jsx)(na,{}),/*#__PURE__*/(0,q.jsx)(ew,{}),/*#__PURE__*/(0,q.jsx)(cB,{}),/*#__PURE__*/(0,q.jsx)(AF,{}),a]})})})})})})})]}),/*#__PURE__*/(0,q.jsxs)(q.Fragment,{children:[/*#__PURE__*/(0,q.jsxs)(en(),{children:[/*#__PURE__*/(0,q.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"}),/*#__PURE__*/(0,q.jsx)("title",{children:"Eraser"})]}),t]})},A8=function(e){if(!e)return null;try{var t=e.url,n=e.headers.host;if(!t||!n)return null;return new URL(t,"http://".concat(n)).searchParams.get("theme")}catch(e){return null}},A9=(d=(0,z.Z)(function(e){var t,n,r,o,a,s,u,c;return(0,W.__generator)(this,function(l){switch(l.label){case 0:return t="/playground"===e.router.pathname?"dark":"light",[4,ee.default.getInitialProps(e)];case 1:n=l.sent();try{return s=(a=e.ctx).req,u=a.res,"string"==typeof(null===(o=e.ctx.query)||void 0===o?void 0:o.theme)?r=e.ctx.query.theme:e.router.asPath.match(/theme=(dark|light)/)?r=e.router.asPath.match(/theme=(dark|light)/)[1]:A8(s)?r=A8(s):u&&s?(c=new(J())(s,u),r=nn.J.getItem(ni,c)||t):r=t,[2,{pageProps:(0,G.Z)({theme:r},n.pageProps)}]}catch(e){return(0,eW.T)(e),[2,n]}return[2]}})}),function(e){return d.apply(this,arguments)});A6.getInitialProps=A9;var A7=A6},98916:function(e,t,n){"use strict";n.d(t,{b:function(){return s}});var r=n(2784),o=n(96933),a=n(45403);function s(){var e,t=(0,a.Pe)(),n=null!==(e=(0,o.aF)())&&void 0!==e?e:{},s=n.id,u=n.isAnonymous,c=(0,r.useState)({}),l=c[0],A=c[1],d=(0,r.useState)(!0),f=d[0],h=d[1],p=(0,r.useCallback)(function(e){A(e),h(!1)},[]);return(0,r.useEffect)(function(){if(!s||u){A({}),h(!1);return}h(!0);try{return t.currentUser.getActivationsDataStream().subscribe(p)}catch(e){console.error("Error subscribing to activations",e),h(!1)}},[s,u,p]),{loading:f,activations:l}}},42541:function(e,t,n){"use strict";var r=n(90581),o=n(70865),a=n(96670),s=n(32472),u=new/*#__PURE__*/(function(){function e(){(0,r.Z)(this,e),this._integrations=new Set,this._sessionProperties={},this._cachedEvents=[]}var t=e.prototype;return t.registerIntegration=function(e){this._integrations.add(e),this._cachedEvents&&this._cachedEvents.forEach(function(t){e.trackEvent(t.event,t.payload)})},t.trackEvent=function(e,t,n){var r=null!=e?"".concat(e,"_").concat(t):t,u=(0,a.Z)((0,o.Z)({appVersion:s.Ji},this._sessionProperties,n),{isTouchDevice:!!(null==window?void 0:window.ontouchstart)||!!(null==navigator?void 0:navigator.maxTouchPoints)});this._integrations.forEach(function(e){e.trackEvent(r,u)}),this._addToCache({event:r,payload:u})},t._addToCache=function(e){this._cachedEvents.push(e),this._cachedEvents.length>100&&this._cachedEvents.unshift()},t.identify=function(e){this._integrations.forEach(function(t){t.identify(e)})},t.updateSessionProperties=function(e){this._sessionProperties=(0,o.Z)({},this._sessionProperties,e)},t.dispose=function(){this._sessionProperties={},this._cachedEvents=[],this._integrations.forEach(function(e){e.dispose()})},e}());t.Z=u},50252:function(e,t,n){"use strict";n.d(t,{N:function(){return s}});var r=n(90581),o=n(21218),a=n(39309),s=new/*#__PURE__*/(function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}var s=n.prototype;return s.trackEvent=function(e,t){this.emit("event",e,t)},s.identify=function(){},s.dispose=function(){this.removeAllListeners()},n}(n(30686).v))},73251:function(e,t,n){"use strict";n.d(t,{n:function(){return l}});var r=n(42389),o=n(10186),a=n(24618),s=n(88995),u=s.Z,c=s.Z,l={observeCanvasCatalogs:function(e){return(0,r.BS)(o.Z.canvasCatalogs.where("teamId","==",e).withConverter(u)).pipe((0,a.pA)([]),(0,a.Fb)([]))},observeCanvasCatalogItems:function(e){return(0,r.BS)(o.Z.canvasCatalogItems(e).withConverter(c)).pipe((0,a.pA)([]),(0,a.Fb)([]))}}},49864:function(e,t,n){"use strict";n.d(t,{b:function(){return a}});var r=n(90581),o=n(66140).CF.url.replace(/https?:\/\/(?:www.)?/,"."),a=/*#__PURE__*/function(){function e(){(0,r.Z)(this,e)}return e.getByName=function(t){if(!("document"in n.g))return null;var r={};if(document.cookie===e.cookieString)r=e.cookieObject;else{for(var o=document.cookie.split(";"),a=0;a<o.length;a++){var s=o[a].trim().split("=");r[s[0]]=s[1]}e.cookieObject=r}return r[t]||null},e.add=function(t){if("document"in n.g){var r=new Date,a=t.name,s=t.value,u=t.expire,c=t.domain;r.setTime(r.getTime()+(u||2592e6)),document.cookie="".concat(a,"=").concat(s,";expires=").concat(r.toUTCString(),";domain=").concat(c||o,";path=/"),e.cookieString=document.cookie,e.cookieObject[a]=s}},e}();a.cookieString="",a.cookieObject={}},85957:function(e,t,n){"use strict";var r=n(98788),o=n(22970),a=n(10097),s=n(61490);function u(){return(u=(0,r.Z)(function(e,t){return(0,o.__generator)(this,function(n){switch(n.label){case 0:return[4,(0,s.VS)(function(){return a.wk.httpsCallable(e)(t)})];case 1:return[2,n.sent().data]}})})).apply(this,arguments)}t.Z=function(e,t){return u.apply(this,arguments)}},28043:function(e,t,n){"use strict";n.d(t,{GH:function(){return o}});var r=n(10097).ZP.firestore,o=r.FieldValue;r.FieldPath,r.Timestamp},64044:function(e,t,n){"use strict";var r=n(98788),o=n(90581),a=n(70865),s=n(96670),u=n(22970),c=n(75215),l=n(10097),A=n(89960),d=n(34406);function f(){return(f=(0,r.Z)(function(e,t){return(0,u.__generator)(this,function(r){switch(r.label){case 0:return[4,n.e(5362).then(n.bind(n,78321))];case 1:return[4,(0,r.sent().default)(e,(0,s.Z)((0,a.Z)({},t),{useWebWorker:!0}))];case 2:return[2,r.sent()]}})})).apply(this,arguments)}var h=/*#__PURE__*/function(){function e(t){(0,o.Z)(this,e),this._options=t}var t=e.prototype;return t.upload=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;return(0,r.Z)(function(){var r,o,a,s,h,p,g,v,m,y,b,w,_,E,C,B,I;return(0,u.__generator)(this,function(u){switch(u.label){case 0:if(r=t.fileName,a=void 0===(o=t.cache)||o,h=void 0!==(s=t.useFirebaseUrl)&&s,g=(p=n._options).uploadBasePath,v=p.finalBaseURL,m=p.compress,y=p.maxSizeMB,b=p.maxWidthOrHeight,w=(0,c.Vg)({blobType:e.type,fileName:r,uploadBasePath:g}),_=l.tO.ref(w),!(m&&"image/svg+xml"!==e.type))return[3,2];return[4,function(e,t){return f.apply(this,arguments)}(e,{maxSizeMB:y,maxWidthOrHeight:b})];case 1:e=u.sent(),u.label=2;case 2:E=w.replace(new RegExp("^".concat(g)),v),u.label=3;case 3:return u.trys.push([3,7,,8]),C=a?{}:{cacheControl:"Cache-Control: no-cache, max-age=0"},[4,_.put(e,C)];case 4:if(B=u.sent(),!(d.env.FIREBASE_EMULATOR_ENABLED||h))return[3,6];return[4,B.ref.getDownloadURL()];case 5:E=u.sent(),u.label=6;case 6:return[3,8];case 7:return I=u.sent(),(0,A.T)(I),[3,8];case 8:return[2,{url:E,mimeType:e.type,size:e.size}]}})})()},t.dispose=function(){},e}();t.Z=h},89357:function(e,t,n){"use strict";var r=n(10186);t.Z=function(e){return r.Z.invite(e).delete()}},84054:function(e,t,n){"use strict";var r,o=n(98788),a=n(22970),s=n(42541),u=n(95550),c=n(67640),l=function(e,t){var n;e.inviteTo===u.FU.Team?n=e.teamId:e.inviteTo===u.FU.Workspace&&(n=e.workspaceId),n&&e.type===u.PA.Email&&s.Z.trackEvent("invite","create",{inviteTo:e.inviteTo,inviteId:n,inviteType:e.type,origin:t})},A=(r=(0,o.Z)(function(e,t){var n;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return[4,c.Z.post("invite",e)];case 1:return(n=r.sent())&&l(e,t),[2,n]}})}),function(e,t){return r.apply(this,arguments)});t.Z=A},4313:function(e,t,n){"use strict";n.d(t,{K:function(){return E}});var r=n(11929),o=n(42541),a=n(2595),s=n(96933),u=n(59858),c=n(11269),l=n(70621),A=n(89960),d=n(50389),f=n(88218),h=n(2784),p=n(98788),g=n(22970),v=n(10186),m=n(62557),y={},b={load:/*#__PURE__*/(0,p.Z)(function(){var e,t,n,r=arguments;return(0,g.__generator)(this,function(o){switch(o.label){case 0:if(y[e=r.length>0&&void 0!==r[0]?r[0]:"webapp"])return[2,y[e]];return[4,v.Z.config(e).get()];case 1:return n=null!==(t=o.sent().data())&&void 0!==t?t:{},y[e]=new m.v(n),[2,y[e]]}})})},w=["team_create_domain_exceptions"],_=n(67640);function E(){var e,t,n,p,g=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onSuccess,v=(0,a.Z)(),m=(0,s.aF)(),y=(0,u.Z)(),E=(0,c.K)(),C=(e="team_create_domain_exceptions",n=(t=(0,h.useState)(null))[0],p=t[1],(0,h.useEffect)(function(){b.load().then(p)},[]),{value:(0,h.useMemo)(function(){return n&&w.includes(e)?n.getArray(e):null},[n,e]),isLoading:!n}),B=C.value,I=C.isLoading,x=(0,f.u6)(m),T=function(e,t,n,r){var o=null==e||null==t||null==r;if(o)return{isLoadingCreateTeamCheck:o,canCreateTeam:!1};if(!n||r.includes(n))return{isLoadingCreateTeamCheck:o,canCreateTeam:!0};var a=e.some(function(e){return"domain"in e&&e.domain===n&&(0,d.aX)(e)}),s=t.some(function(e){return e.domain===n&&(0,d.aX)(e)});return{isLoadingCreateTeamCheck:o,canCreateTeam:!a&&!s}}(y,E?Array.from(E.values()):void 0,x,I?null:null!=B?B:[]),S=T.canCreateTeam,k=T.isLoadingCreateTeamCheck,D=(0,s.ZE)(),N=D?"".concat(D.split(" ")[0],"'s Team"):"",O=(0,r.UK)(function(e){if(S){var t;v.promise((t={name:e.name,isAutoJoinEnabled:null==m?void 0:m.emailVerified},_.Z.post("team",t)),{loading:"Creating team",success:"Created team",error:function(e){return 409===(0,l.Lr)(e).statusCode?"You already have a team with that name. Try another name.":((0,A.T)(e),"Error creating team.")}}).then(function(e){o.Z.trackEvent("team","create",{teamId:e.id}),null==g||g(e)})}else v.error("".concat(x," already has a team with a free plan"))});return{isLoadingCreateTeamCheck:k,canCreateTeam:S,workDomain:x,handleCreateTeam:O.execute,error:O.error,loading:O.loading,defaultTeamName:N}}},6021:function(e,t,n){"use strict";var r,o=n(98788),a=n(70865),s=n(96670),u=n(22970),c=n(42541),l=n(18698),A=n(67640),d=(r=(0,o.Z)(function(e,t,n){return(0,u.__generator)(this,function(r){switch(r.label){case 0:if(!t)throw Error("Cannot join a team without a userId");return[4,A.Z.post("team/".concat(e,"/join"),{})];case 1:return r.sent(),(0,l.pW)(t),c.Z.trackEvent("team","join",(0,s.Z)((0,a.Z)({},n),{teamId:e})),[2]}})}),function(e,t,n){return r.apply(this,arguments)});t.Z=d},41289:function(e,t,n){"use strict";n.d(t,{M:function(){return a}});var r=n(26297),o=n(67640),a=function(e){var t=e.teamId,n=e.userId,a=(0,r.Z)(e,["teamId","userId"]);return o.Z.post("team/".concat(t,"/memberships/").concat(n),a)}},57398:function(e,t,n){"use strict";var r=n(42389),o=n(97594),a=n(10186),s=n(24618);t.Z=function(e){return(0,r._1)(a.Z.team(e).withConverter(o.ML)).pipe((0,s.pA)(null),(0,s.VK)(),(0,s.Fb)(null))}},29446:function(e,t,n){"use strict";n.d(t,{nm:function(){return l}}),n(61938);var r=n(97594),o=n(10186),a=n(24618),s=n(42389),u="updatedAt",c="desc",l={orderBy:u,orderDir:c};t.ZP=function(e){var t=e.teamId,n=e.ownerId,l=e.folderId,A=e.isPrivate,d=e.isArchived,f=e.isTemplate,h=e.orderBy,p=e.orderDir,g=o.Z.workspaces.withConverter(r.BV).where("teamId","==",t).where("isArchived","==",void 0!==d&&d).where("isTemplate","==",void 0!==f&&f);return n&&(g=g.where("ownerId","==",n)),void 0!==l&&(g=g.where("folderId","==",l)),void 0!==A&&A&&(g=g.where("isPrivate","==",!0)),g=g.orderBy(void 0===h?u:h,void 0===p?c:p),(0,s.BS)(g).pipe((0,a.pA)([]),(0,a.VK)(),(0,a.Fb)([]))}},85341:function(e,t,n){"use strict";var r=n(98788),o=n(22970),a=n(10186);function s(){return(s=(0,r.Z)(function(e,t){return(0,o.__generator)(this,function(n){switch(n.label){case 0:return[4,a.Z.team(e).update(t)];case 1:return n.sent(),[2]}})})).apply(this,arguments)}t.Z=function(e,t){return s.apply(this,arguments)}},1429:function(e,t,n){"use strict";n.d(t,{X:function(){return a}});var r=n(67640),o=n(42541),a=function(e){return o.Z.trackEvent("template","publish",{templateId:e.templateWorkspaceId,teamId:e.teamId}),r.Z.post("template/save",e)}},60379:function(e,t,n){"use strict";n.d(t,{GF:function(){return A},QZ:function(){return g},ES:function(){return p},yh:function(){return d},wR:function(){return f},do:function(){return h}});var r,o=n(98788),a=n(22970),s=n(85957),u=n(99669),c="anonymous-user-token",l="anonymous-user-id",A=(r=(0,o.Z)(function(){var e;return(0,a.__generator)(this,function(t){switch(t.label){case 0:var n;return[4,(n={prevToken:d()},(0,s.Z)("user-createAnonymousToken",n))];case 1:return e=t.sent(),u.J.setItem(c,e),[2]}})}),function(){return r.apply(this,arguments)}),d=function(){return u.J.getItem(c)||void 0},f=function(){u.J.removeItem(c)},h=function(e){u.J.setItem(l,e)},p=function(){return u.J.getItem(l)},g=function(){u.J.removeItem(l)}},41217:function(e,t,n){"use strict";n.d(t,{AJ:function(){return a},Q0:function(){return u},jj:function(){return s}});var r=n(99669),o="cached-profile-args",a=function(){var e;return null!==(e=r.J.getItem(o))&&void 0!==e?e:{}},s=function(e){var t,n=null!==(t=a())&&void 0!==t?t:{},s=Object.assign({},n,e);n.signUpOrigin&&"other"===e.signUpOrigin&&(s.signUpOrigin=n.signUpOrigin),r.J.setItem(o,s)},u=function(){r.J.removeItem(o)}},66230:function(e,t,n){"use strict";n.d(t,{H:function(){return b}});var r,o,a,s,u,c=n(98788),l=n(70865),A=n(22970),d=n(17620),f=/*#__PURE__*/n.n(d),h=n(97594),p=n(10186),g=n(52826),v=(r=(0,c.Z)(function(e,t){var n,r,o,a;return(0,A.__generator)(this,function(s){switch(s.label){case 0:return[4,p.Z.profile(e).get()];case 1:return n=s.sent().data(),r=f()(t,"analyticsId","signUpOrigin","signUpCampaign","signUpPage"),(null==n?void 0:n.analyticsId)||!t.analyticsId||(r.analyticsId=t.analyticsId),(null==n?void 0:n.signUpOrigin)||!t.signUpOrigin||(r.signUpOrigin=t.signUpOrigin,r.signUpCampaign=null!==(o=t.signUpCampaign)&&void 0!==o?o:"",r.signUpPage=null!==(a=t.signUpPage)&&void 0!==a?a:""),g._K.has(e)&&g._K.set(e,(0,l.Z)({},g._K.get(e),r)),[2,p.Z.profile(e).withConverter(h.Zd).set(r,{merge:!0})]}})}),function(e,t){return r.apply(this,arguments)}),m=(o=(0,c.Z)(function(e,t){return(0,A.__generator)(this,function(n){return[2,p.Z.profile(e).withConverter(h.Zd).set(t,{merge:!0})]})}),function(e,t){return o.apply(this,arguments)}),y=(a=(0,c.Z)(function(e,t,n){var r;return(0,A.__generator)(this,function(o){switch(o.label){case 0:return[4,p.Z.knownPeople.withConverter(h.UK).where("userId","==",e).where("teamId","==",t).get()];case 1:return r=o.sent().docs[0].id,[4,p.Z.knownPerson(r).withConverter(h.UK).set(n,{merge:!0})];case 2:return o.sent(),[2]}})}),function(e,t,n){return a.apply(this,arguments)}),b={updateUserProfile:m,updateUserSettings:(s=(0,c.Z)(function(e,t){var n,r,o;return(0,A.__generator)(this,function(a){switch(a.label){case 0:if(!t)return[2];return[4,(n=p.Z.user(e).withConverter(h.yN)).get()];case 1:if((r=a.sent()).exists)return[3,3];return[4,n.set({id:e,userSettings:t})];case 2:return a.sent(),[3,4];case 3:return o=r.data(),[2,n.set({userSettings:(0,l.Z)({},null==o?void 0:o.userSettings,t)},{merge:!0})];case 4:return[2]}})}),function(e,t){return s.apply(this,arguments)}),updateUserKnownPerson:y,createOrUpdateUserProfile:v,updateUserSurvey:(u=(0,c.Z)(function(e,t){var n,r,o;return(0,A.__generator)(this,function(a){switch(a.label){case 0:if(!t)return[2];return[4,(n=p.Z.user(e).withConverter(h.yN)).get()];case 1:if((r=a.sent()).exists)return[3,3];return[4,n.set({id:e,surveyData:t})];case 2:return[2,a.sent()];case 3:return o=r.data(),[2,n.update({surveyData:(0,l.Z)({},null==o?void 0:o.surveyData,t)})]}})}),function(e,t){return u.apply(this,arguments)})}},90332:function(e,t,n){"use strict";n.d(t,{D:function(){return l},M:function(){return A}});var r=n(5632),o=/*#__PURE__*/n.n(r),a=n(92106),s=n(99669),u="last-textbox-scale",c=function(){var e=o().query.id||o().query.workspaceId;return"string"!=typeof e?u:"".concat(e,"-").concat(u)},l=function(e){s.J.setItem(c(),e)},A=function(){return s.J.getItem(c())||a.hl}},3552:function(e,t,n){"use strict";n.d(t,{M:function(){return d}});var r,o=n(98788),a=n(70865),s=n(96670),u=n(22970),c=n(42541),l=n(67640),A=function(e,t,n){c.Z.trackEvent("workspace","create",{workspaceId:e,eventSource:t,isTemplate:n.isTemplate}),n.isTemplate&&c.Z.trackEvent("template","create",{templateId:e,teamId:n.teamId})},d=(r=(0,o.Z)(function(e,t,n){var r,o,c,d;return(0,u.__generator)(this,function(u){switch(u.label){case 0:return[4,l.Z.post("workspace",(0,s.Z)((0,a.Z)({},e),{creationType:n}))];case 1:return o=(r=u.sent()).workspace,c=r.didCreate,d=r.id,c&&A(d,t,e),[2,o]}})}),function(e,t,n){return r.apply(this,arguments)})},45262:function(e,t,n){"use strict";n.d(t,{B:function(){return o},f:function(){return a}});var r=n(99669),o="workspace-id";function a(){r.J.removeItem(o)}},21273:function(e,t,n){"use strict";var r=n(10732),o=n(99054),a=n(77984),s=n(88995),u=n(10186),c=n(24618);t.Z=function(e){return(0,r.m)(u.Z.workspaceCollaborators(e).withConverter(s.Z),{includeMetadataChanges:!0}).pipe((0,o.h)(function(e){return!e.metadata.fromCache&&!e.metadata.hasPendingWrites}),(0,a.U)(function(e){return e.docs.map(function(e){return e.data()})}),(0,c.Fb)([]))}},54039:function(e,t,n){"use strict";n.d(t,{e:function(){return u}});var r=n(70865),o=n(96670),a=n(28043),s=n(10186),u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{shouldUpdateEditedTime:!0};return s.Z.workspace(e).update((0,o.Z)((0,r.Z)({},t),{updatedAt:n.shouldUpdateEditedTime?a.GH.serverTimestamp():void 0}))}},355:function(e,t,n){"use strict";n.d(t,{$d:function(){return o},NY:function(){return a}}),n(64846);var r=n(61534),o=function(e){return Object.values(r.X).includes(e)},a=function(e){var t=e.workspaceId,n=e.params,r="".concat(location.origin,"/workspace/").concat(t);return n&&(r+="?".concat(new URLSearchParams(n).toString())),r}},27750:function(e,t,n){"use strict";n.d(t,{Z:function(){return F}});var r=n(52322),o=n(2784),a=n(27729),s=n(11269),u=n(45403),c=n(74010),l=n(42541),A=n(70865),d=n(96670),f=n(26297),h=n(95162),p=n(2643),g=n(91983),v=/*#__PURE__*/n.n(g),m=n(66838),y=n(60238),b=n(89960),w=n(2595),_=function(e){var t=e.folder,n=e.isOpen,s=e.onClose,u=(0,f.Z)(e,["folder","isOpen","onClose"]),l=(0,w.Z)(),g=(0,c.Z)(),_=g.getAllFolderPaths,E=g.updateFolder,C=(0,o.useState)(void 0),B=C[0],I=C[1],x=(0,o.useCallback)(function(){void 0!==B&&l.promise(E(t.id,{parentFolderId:B}),{loading:"Moving folder",success:"Moved folder",error:"Something went wrong"}).catch(b.T),null==s||s()},[t.id,s,B,E]),T=(0,o.useCallback)(function(){I(null),null==s||s()},[s]),S=!!t.parentFolderId;return/*#__PURE__*/(0,r.jsxs)(p.Z,(0,d.Z)((0,A.Z)({isOpen:n,title:"Move Folder",onClose:T},u),{className:v().container,children:[/*#__PURE__*/(0,r.jsxs)("div",{className:v().folderList,children:[S&&/*#__PURE__*/(0,r.jsx)(m.G,{name:"/",selected:null===B,onClick:function(){return I(null)}}),_().filter(function(e){return e.length<y.p}).map(function(e){var n=e[e.length-1],o=e.reduce(function(e,t){return"".concat(e,"/").concat(t.name||a.Yp)},""),s=n.id===t.id,u=n.id===t.parentFolderId;return s||u?null:/*#__PURE__*/(0,r.jsx)(m.G,{name:o,selected:n.id===B,onClick:function(){return I(n.id)}},n.id)})]}),/*#__PURE__*/(0,r.jsxs)("div",{className:v().buttonGroup,children:[/*#__PURE__*/(0,r.jsx)(h.ZP,{variant:h.ZP.Variants.REVERSED,onClick:T,className:v().button,children:"Cancel"}),/*#__PURE__*/(0,r.jsx)(h.ZP,{onClick:x,className:v().button,disabled:void 0===B,children:"Confirm"})]})]}))},E=n(2122),C=n(66804),B=n(88404),I=n(28563),x=n(80498),T=n(64442),S=n(72119),k=n(74442),D=n(48845),N=n(45369),O=/*#__PURE__*/n.n(N),F=function(e){var t=e.mountedIn,n=e.children,A=e.folder,d=e.onStartRenaming,f=e.dots,h=e.className,p=e.dropdownShortcut,g=(0,u.Pe)(),v=(0,T.l)().register,m=(0,c.Z)(),y=m.switchFolder,b=!!(0,m.getFolderChildren)(A.id).length,w=(0,x.Z)(),N=w.isOpen,F=w.onClose,R=w.onOpen,L=(0,x.Z)(),M=L.isOpen,P=L.onClose,U=L.onOpen,j=(0,o.useCallback)(function(){R()},[R]),Z=(0,s.LP)(),Q=(0,o.useCallback)(function(){Z&&(l.Z.trackEvent("folders","delete_folder"),g.folders.deleteById(A.id,{teamId:Z}),F(),y&&(A.parentFolderId?y("folder",A.parentFolderId):y("all")))},[A.id,A.parentFolderId,F,y,Z]);(0,o.useEffect)(function(){"folderRow"!==t&&(v("deleteFolder",j),v("moveFolder",{isHidden:function(){return b},action:U}))},[t,b,v,U,j]);var H=f?C.Ng:C.Lt;return/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:[/*#__PURE__*/(0,r.jsx)(E.Z,{title:"Delete folder and archive workspaces?",description:"Selecting confirm will delete the folder “".concat(A.name||a.Yp,"” and move all of the files to the team’s “Achived” folder"),isOpen:N,onConfirm:Q,onCancel:F}),M&&/*#__PURE__*/(0,r.jsx)(_,{isOpen:!0,folder:A,onClose:P}),/*#__PURE__*/(0,r.jsxs)(H,{title:n,keyboardShortcut:p,isHidden:!!f&&!f.visible,toggleClassNames:{root:O().folderSelect,button:h},children:[/*#__PURE__*/(0,r.jsx)(I.Z,{label:"Move Folder",onClick:U,isDisabled:b,icon:/*#__PURE__*/(0,r.jsx)(B.J,{icon:k.Z})}),/*#__PURE__*/(0,r.jsx)(I.Z,{label:"Rename",onClick:d,icon:/*#__PURE__*/(0,r.jsx)(B.J,{icon:D.Z})}),/*#__PURE__*/(0,r.jsx)(I.Z,{label:"Delete Folder",onClick:j,icon:/*#__PURE__*/(0,r.jsx)(B.J,{icon:S.Z})})]})]})}},37944:function(e,t,n){"use strict";n.d(t,{x:function(){return u}});var r=n(52322),o=n(3635),a=n(83264),s=/*#__PURE__*/n.n(a),u=function(e){var t=e.children,n=e.className;return/*#__PURE__*/(0,r.jsx)("div",{className:(0,o.Z)(s().dashboardHeader,n),"data-testid":"dashboard-header",children:t})};u.Title=function(e){var t=e.children;return/*#__PURE__*/(0,r.jsx)("div",{className:s().dashboardHeaderTitle,children:t})},u.Tools=function(e){var t=e.children,n=e.className;return/*#__PURE__*/(0,r.jsx)("div",{className:(0,o.Z)(s().dashboardHeaderTools,n),children:t})}},43667:function(e,t,n){"use strict";n.d(t,{q:function(){return x}});var r,o=n(70865),a=n(96670),s=n(52322),u=n(11269),c=n(14670),l=n(4406),A=n(91232),d=n(51516),f=n(2784);function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e){return /*#__PURE__*/f.createElement("svg",h({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/f.createElement("path",{d:"M11.963.568a.401.401 0 01-.08.115L4.32 8.245l2.136 3.56a.4.4 0 00.71-.047L11.964.568zM3.755 7.68L.195 5.542a.4.4 0 01.047-.71L11.434.035a.398.398 0 00-.117.081L3.755 7.68z",fill:"currentColor"})))},g=n(95162),v=n(75194),m=n(3635),y=n(37944),b=n(42541),w=n(89563),_=n(21732),E=n(83264),C=/*#__PURE__*/n.n(E),B=n(64001),I=/*#__PURE__*/n.n(B),x=function(e){var t,n=e.className,r=void 0===n?C().dashboardHeaderTools:n,f=e.showSearchBar,h=e.showRightSide,E=e.searchBarProps,B=(0,v.d)(),x=(0,u.LP)(),T=(0,_.Y)().openCommandKModal,S=(0,d.Y)().openSettingsModal,k=(0,c.ZP)(x,void 0,{internalOnly:!0});return B?null:/*#__PURE__*/(0,s.jsxs)(y.x.Tools,{className:r,children:[(void 0===f||f)&&/*#__PURE__*/(0,s.jsx)(A.Z,(0,a.Z)((0,o.Z)({},E),{className:(0,m.Z)(null==E?void 0:E.className,I().searchBar)})),!B&&/*#__PURE__*/(0,s.jsx)(g.ZP,{variant:g.ZP.Variants.OUTLINE,onClick:function(){T(),b.Z.trackEvent("command_k","open",{method:"button",screen:"commands"})},"data-testid":"command-k-button",children:/*#__PURE__*/(0,s.jsx)(w.P,{keys:["CtrlOrCmd","K"]})}),void 0!==h&&h?/*#__PURE__*/(0,s.jsxs)(s.Fragment,{children:[/*#__PURE__*/(0,s.jsx)(l.Z,{isStaticSize:!0,avatarSize:24,showDummyAvatars:!0,avatarDummyThreshold:3,className:I().rightMargin10,userIds:null!==(t=null==k?void 0:k.map(function(e){return e.id}))&&void 0!==t?t:[]}),/*#__PURE__*/(0,s.jsx)(g.ZP,{leftIcon:/*#__PURE__*/(0,s.jsx)(p,{}),className:I().noMargin,onClick:function(){return S({openedPane:"members"})},"data-testid":"dashboard-header-invite-button",children:"Invite"})]}):null]})}},26340:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(2784),o=n(39739),a=n(11269),s=n(96933),u=n(29446),c=n(89960),l=function(e){var t=e.orderBy,n=e.ownerId,l=e.orderDir,A=e.folderId,d=e.isPrivate,f=e.isTemplate,h=e.isArchived,p=(0,a.LP)()||"",g=(0,s.II)(),v=(0,r.useState)(void 0),m=v[0],y=v[1],b=(0,r.useMemo)(function(){return(0,u.ZP)({teamId:p,orderBy:t,ownerId:n,folderId:A,orderDir:l,isPrivate:d,isTemplate:f,isArchived:h})},[p,A,t,l,n,h,d,f]);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12e4;(0,r.useEffect)(function(){var n=e.subscribe(function(){});return function(){setTimeout(function(){n.unsubscribe()},t)}},[e])}(b);var w=(0,r.useRef)();return(0,r.useEffect)(function(){var e=setTimeout(function(){y(void 0)},200);return w.current=e,function(){clearTimeout(e)}},[p,A,d,h,n]),(0,r.useEffect)(function(){w.current&&clearTimeout(w.current)},[m]),(0,o.m)(b,function(e){y(e.filter(function(e){return(!e.isPrivate||e.ownerId===g)&&("boolean"!=typeof d||!!d||!e.isPrivate)}))},c.T),m}},36410:function(e,t,n){"use strict";n.d(t,{T:function(){return u}});var r=n(16962),o=n(66842),a=n(5632),s=n(2784),u=function(e){var t=(0,a.useRouter)(),n=(0,r.Rx)().onInputChange;(0,s.useEffect)(function(){if(e.current){var r,a,s=(null===(r=t.query)||void 0===r?void 0:r[o.KU])||"";s&&(null===(a=e.current)||void 0===a||a.focus(),n(s))}},[e,n,t.query])}},91232:function(e,t,n){"use strict";var r=n(52322),o=n(36410),a=n(2784),s=n(16962),u=n(97848),c=n(88404),l=n(22805),A=n(89563),d=n(3635),f=n(72397),h=/*#__PURE__*/n.n(f);t.Z=function(e){var t=e.className,n=e.tabTitle,f=e.folderId,p=e.isArchived,g=e.isOwner,v=e.isPrivate,m=(0,s.Rx)(),y=m.onInputChange,b=m.query,w=m.saveRouteToHistory,_=(0,s.Sr)().setPassedFilters,E=(0,a.useRef)(null),C=(0,a.useState)(!1),B=C[0],I=C[1];(0,o.T)(E),(0,a.useEffect)(function(){_({isArchived:p,isOwner:g,isPrivate:v,folderId:f})},[f,p,g,v,_]);var x=(0,a.useCallback)(function(e){var t;["Escape","ArrowUp","ArrowDown"].includes(e.key)&&B&&(null===(t=E.current)||void 0===t||t.blur())},[B]),T=(0,a.useCallback)(function(e){var t;B||(e.preventDefault(),null===(t=E.current)||void 0===t||t.focus())},[B]);return(0,l.Z)({"/":T}),/*#__PURE__*/(0,r.jsxs)("div",{className:(0,d.Z)(h().searchContainer,B&&h().focused,t),children:[/*#__PURE__*/(0,r.jsx)("span",{className:h().searchIcon,children:/*#__PURE__*/(0,r.jsx)(c.J,{icon:u.Z,color:"grey-1100"})}),/*#__PURE__*/(0,r.jsx)("input",{type:"text",value:b,ref:E,className:h().input,onKeyDown:x,onBlur:function(){I(!1),w()},onFocus:function(){return I(!0)},placeholder:"Search ".concat(void 0===n?"":n),onChange:function(e){return y(e.target.value)},"data-testid":B?"compact-search-bar-input-extended":"compact-search-bar-input"}),!b&&/*#__PURE__*/(0,r.jsx)("div",{className:h().shortcut,children:/*#__PURE__*/(0,r.jsx)(A.P,{keys:["/"]})})]})}},59509:function(e,t,n){"use strict";n.d(t,{S:function(){return K},Z:function(){return z}});var r,o,a,s,u,c,l=n(52322),A=n(2784),d=n(5632),f=n(51105),h=n(16962),p=n(96933),g=n(25947),v=/*#__PURE__*/n.n(g),m=function(){return/*#__PURE__*/(0,l.jsxs)("div",{className:v().container,children:[/*#__PURE__*/(0,l.jsx)("div",{className:v().title,children:"No results found"}),/*#__PURE__*/(0,l.jsx)("div",{className:v().text,children:"We didn’t seem to find anything based off of your search"})]})},y=n(84979),b=/*#__PURE__*/n.n(y),w=n(83433),_=n(39097),E=/*#__PURE__*/n.n(_),C=n(98788),B=n(22970),I=n(79421),x=/*#__PURE__*/n.n(I),T=n(12982),S=/*#__PURE__*/n.n(T);(r=s||(s={})).Snippet="_snippetResult",r.Highlight="_highlightResult";var k=(o=(0,C.Z)(function(e,t,r){var o;return(0,B.__generator)(this,function(a){switch(a.label){case 0:if(!t||!(null==e?void 0:e.value)||"full"!==e.matchLevel&&"partial"!==e.matchLevel)return[2,void 0];return[4,n.e(5368).then(n.t.bind(n,35368,23))];case 1:return o=a.sent().default.sanitize(e.value),[2,{attribute:t,value:r,component:/*#__PURE__*/(0,l.jsx)("span",{className:b().highlight,dangerouslySetInnerHTML:{__html:o}})}]}})}),function(e,t,n){return o.apply(this,arguments)}),D=(a=(0,C.Z)(function(e){var t,n;return(0,B.__generator)(this,function(r){switch(r.label){case 0:var o;return t={},n=[],x()(e[s.Snippet],(o=(0,C.Z)(function(r,o){var a,s,u,c,l,A,d,f;return(0,B.__generator)(this,function(h){switch(h.label){case 0:if(null==r)return[2];return a=o,Array.isArray(r)?(-1===(c=S()(r,{matchLevel:"full"}))&&(c=0),s=e[a][c],u=r[c]):(s=null!==(l=e[a])&&void 0!==l?l:"",u=r),A="guestNames"===a||"ownerName"===a?"user":a,d=k(u,a,s),n.push(d),[4,d];case 1:if(null==(f=h.sent()))return[2];return t[A]=f,[2]}})}),function(e,t){return o.apply(this,arguments)})),[4,Promise.all(n)];case 1:return r.sent(),[2,t]}})}),function(e){return a.apply(this,arguments)});function N(){return(N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=function(e){return /*#__PURE__*/A.createElement("svg",N({width:18,height:13,viewBox:"0 0 18 13",xmlns:"http://www.w3.org/2000/svg"},e),u||(u=/*#__PURE__*/A.createElement("path",{d:"M1.785 8.7a1 1 0 00-1.14 1.643l1.14-1.644zm7.087 1.586l-.83-.557.83.557zM17 2a1 1 0 100-2v2zM.645 10.343c.993.688 2.609 1.57 4.246 1.949 1.604.37 3.623.322 4.812-1.45L8.042 9.729c-.477.71-1.357.925-2.7.615-1.31-.303-2.692-1.044-3.557-1.644l-1.14 1.644zm9.058.5c.758-1.13 1.12-2.34 1.378-3.43.273-1.15.415-2.05.729-2.888.29-.772.686-1.352 1.377-1.768C13.907 2.323 15.063 2 17 2V0c-2.127 0-3.691.349-4.845 1.043-1.185.714-1.82 1.72-2.218 2.78-.373.994-.575 2.17-.802 3.128C8.893 7.97 8.598 8.9 8.042 9.73l1.66 1.114z",fill:"currentColor"})))};function F(){return(F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var R=function(e){return /*#__PURE__*/A.createElement("svg",F({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),c||(c=/*#__PURE__*/A.createElement("path",{stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",d:"M1 1h12M1 5h7M1 9h10M1 13h12"})))},L=n(12967),M=n(32472),P=n(54848),U=n(88404),j=n(71921),Z=n(3635),Q=function(e){var t=e.title,n=e.updatedAt,r=e.isPrivate;return/*#__PURE__*/(0,l.jsxs)("span",{className:b().fileRowMinimal,children:[/*#__PURE__*/(0,l.jsxs)("h4",{children:[r&&/*#__PURE__*/(0,l.jsx)(U.J,{icon:L.Z,style:{marginRight:10}}),t||M.SF]}),/*#__PURE__*/(0,l.jsx)("h6",{children:n&&/*#__PURE__*/(0,l.jsx)(j.Z,{time:n})})]})},H=function(e){var t=e.match,n=void 0,r=void 0;switch(t.attribute){case"whiteboardTexts":n=/*#__PURE__*/(0,l.jsx)(U.J,{icon:O}),r="Found in Canvas";break;case"noteText":n=/*#__PURE__*/(0,l.jsx)(U.J,{icon:R}),r="Found in Notes";break;case"ownerName":case"guestNames":n=/*#__PURE__*/(0,l.jsx)(P.Z,{displayName:t.value}),r="User Match"}return/*#__PURE__*/(0,l.jsxs)("span",{className:b().matchBlock,children:[/*#__PURE__*/(0,l.jsx)("span",{className:b().matchIcon,children:n}),/*#__PURE__*/(0,l.jsxs)("span",{className:b().matchBody,children:[/*#__PURE__*/(0,l.jsx)("span",{className:b().matchFoundIn,children:r}),/*#__PURE__*/(0,l.jsxs)("span",{className:b().matchContent,children:["“",t.component,"”"]})]})]})},V=function(e){var t,n=e.hit,r=e.isFocused,o=e.setFocusOnHover,a=(0,A.useState)(),s=a[0],u=a[1];return((0,A.useEffect)(function(){D(n).then(u)},[n]),s)?/*#__PURE__*/(0,l.jsx)(E(),{href:"/workspace/".concat(n.objectID),passHref:!0,children:/*#__PURE__*/(0,l.jsxs)("a",{"data-testid":"dasbhoard-search-result-highlighted-link",onMouseMove:o,rel:"noopener noreferrer",className:(0,Z.Z)(b().searchRow,r&&b().isFocused),tabIndex:-1,children:[/*#__PURE__*/(0,l.jsx)(Q,{title:(null==s?void 0:null===(t=s.title)||void 0===t?void 0:t.component)||n.title,updatedAt:n.updatedAt||Date.now(),isPrivate:n.isPrivate},n.objectID),/*#__PURE__*/(0,l.jsxs)("span",{className:b().matches,children:[s.noteText&&/*#__PURE__*/(0,l.jsx)(H,{match:s.noteText}),s.whiteboardTexts&&/*#__PURE__*/(0,l.jsx)(H,{match:s.whiteboardTexts}),s.user&&/*#__PURE__*/(0,l.jsx)(H,{match:s.user})]}),/*#__PURE__*/(0,l.jsx)("span",{className:b().divider})]})}):null},K=function(){var e={title:{id:"title",title:"Title",flex:1},edited:{id:"edited",title:"Edited",flex:1,className:b().alignRight}};return/*#__PURE__*/(0,l.jsx)(f.Z,{className:b().headerPadding,columns:e,orderBy:"",orderDir:"asc",updateOrder:function(){}})},z=function(){var e=(0,A.useRef)(null),t=(0,h.O6)(),n=(0,h.nR)(),r=(0,p.II)(),o=(0,d.useRouter)(),a=t.filter(function(e){return!(e.isPrivate&&e.ownerId!==r)}),s=!a.length,u=(0,A.useCallback)(function(e){var t=e.objectID;o.push("/workspace/".concat(t))},[o]),c=(0,w.c)({containerRef:e,items:a,onSelect:u,scrollOptions:{behavior:"auto",block:"nearest"},options:{shouldTabKeySelect:!1,whenShouldHookBeActive:"whenNoInputIsFocused"}}),f=c.activeIndex,g=c.setActiveIndex;return!n&&s?/*#__PURE__*/(0,l.jsx)(m,{}):/*#__PURE__*/(0,l.jsx)("div",{ref:e,className:b().searchPadding,children:a.map(function(e,t){return/*#__PURE__*/(0,l.jsx)(V,{hit:e,isFocused:f===t,setFocusOnHover:function(){return g(t)}},t)})})}},56318:function(e,t,n){"use strict";n.d(t,{j:function(){return f}});var r,o=n(52322),a=n(53122),s=/*#__PURE__*/n.n(a),u=n(2784);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e){return /*#__PURE__*/u.createElement("svg",c({width:9,height:6,viewBox:"0 0 9 6",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/u.createElement("path",{d:"M1 1l3.5 4L8 1",stroke:"currentColor",strokeWidth:1.067,fill:"none",strokeLinecap:"square"})))},A=n(88404),d=n(3635),f=function(e){var t=e.isExpanded,n=e.isIconVisible,r=e.onClick;return/*#__PURE__*/(0,o.jsx)("div",{onClick:r,className:(0,d.Z)(s().root,void 0!==t&&t&&s().expanded),children:void 0!==n&&n&&/*#__PURE__*/(0,o.jsx)(A.J,{icon:l})})}},37214:function(e,t,n){"use strict";n.d(t,{M:function(){return d}});var r=n(70865),o=n(52322),a=n(47200),s=/*#__PURE__*/n.n(a),u=n(56318),c=n(3635),l=n(46402),A=/*#__PURE__*/n.n(l),d=function(e){var t=e.icon,n=e.onClick,a=e.content,l=e.isActive,d=e.shortcut,f=e.dragRefs,h=e.onKeyDown,p=e.isDragging,g=e.dropTarget,v=e.tabPosition,m=e.isExpandable,y=e.classNames,b=void 0===y?{}:y,w=e.textSize,_=e.tabHeight,E=e.accordionButtonProps;return/*#__PURE__*/(0,o.jsx)("div",{ref:null==f?void 0:f.containerRef,className:A().fullWidth,"data-testid":"sidebar-tab-".concat(a),children:/*#__PURE__*/(0,o.jsx)("div",{ref:null==f?void 0:f.previewRef,className:(0,c.Z)(A().fullWidth,p&&s().isDragging),children:/*#__PURE__*/(0,o.jsx)("div",{ref:null==f?void 0:f.dropRef,className:A().fullWidth,children:/*#__PURE__*/(0,o.jsxs)("div",{tabIndex:0,role:"button",onClick:n,onKeyDown:h,ref:null==f?void 0:f.dragRef,className:(0,c.Z)(A().root,b.root,A()[void 0===_?"large":_],l&&A().active,"last"===v&&s().isLast,"first"===v&&s().isFirst,"on"===g&&s().folderTarget,"after"===g&&s().droppingBorderAfter,"before"===g&&s().droppingBorderBefore),children:[t&&/*#__PURE__*/(0,o.jsx)("div",{className:A().icon,children:t}),/*#__PURE__*/(0,o.jsxs)("span",{className:(0,c.Z)(A().content,A().fullWidth,A()[void 0===w?"large":w],b.content),children:[m&&/*#__PURE__*/(0,o.jsx)(u.j,(0,r.Z)({},E)),a]}),d&&/*#__PURE__*/(0,o.jsx)("div",{className:A().shortcut,children:d})]})})})})}},40230:function(e,t,n){"use strict";n.d(t,{k:function(){return A}});var r=n(47842),o=n(70865),a=n(96670),s=n(2784),u=n(89960),c=n(49678),l=n(45403),A=function(e){var t=(0,l.Pe)(),n=(0,s.useState)({}),A=n[0],d=n[1];(0,s.useEffect)(function(){e&&!A[e]&&t.folders.fetchByTeam(e).then(function(t){d(function(n){return(0,a.Z)((0,o.Z)({},n),(0,r.Z)({},e,t))})}).catch(function(e){(0,u.T)(Error("Failed to fetch folders for team",{cause:e}))})},[e,A]);var f=e?A[e]:void 0,h=(0,s.useMemo)(function(){return f?(0,c.Hz)(f):{}},[f]),p=(0,s.useCallback)(function(){return(0,c.am)(h)},[h]);return{folders:f,folderTree:h,getAllFolderPaths:p}}},17062:function(e,t,n){"use strict";n.d(t,{b:function(){return m}});var r=n(70865),o=n(96670),a=n(26297),s=n(52322),u=n(2784),c=n(55929),l=n(95162),A=n(45506),d=n(11747),f=n(2643),h=n(2595),p=n(54039),g=function(){var e=(0,h.Z)();return{moveFileToGitHub:(0,u.useCallback)(function(t){var n=t.workspaceId,r=t.organizationId,o=t.repositoryId,a=t.filePath;return n&&r&&o?e.promise((0,p.e)(n,{folderId:null,gitHubRepository:{organizationId:r,repositoryId:o,filePath:void 0===a?"":a}}),{error:"An error has occurred.",loading:"Movile file to repository...",success:"File moved to repository successfully."}):Promise.resolve()},[])}},v=n(32472),m=function(e){var t=e.workspace,n=e.organizationId,h=e.repositoryId,p=e.onClose,m=(0,a.Z)(e,["workspace","organizationId","repositoryId","onClose"]),y=(0,u.useState)("/"),b=y[0],w=y[1],_=g().moveFileToGitHub,E=(0,A.T5)({organizationId:n,repositoryId:h}),C=E.organization,B=E.repository;return/*#__PURE__*/(0,s.jsxs)(f.Z,(0,o.Z)((0,r.Z)({},m),{title:"Move file to Github repository",onClose:p,children:[/*#__PURE__*/(0,s.jsx)(c.Z,{label:"Repository",readOnly:!0,value:"".concat(null==C?void 0:C.name,"/").concat(null==B?void 0:B.name)}),/*#__PURE__*/(0,s.jsx)(c.Z,{label:"File path",value:b,placeholder:"Enter path ...",onChange:function(e){return w(e.currentTarget.value)}}),/*#__PURE__*/(0,s.jsxs)(d.Z,{children:[/*#__PURE__*/(0,s.jsx)(l.ZP,{variant:l.ZP.Variants.TRANSPARENT,onClick:p,children:"Cancel"}),/*#__PURE__*/(0,s.jsx)(l.ZP,{disabled:!b,onClick:function(){null==p||p();var e=b.replace(/^\//,""),r=t.title||v.SF;_({repositoryId:h,organizationId:n,filePath:e.length?"".concat(e,"/").concat(r):r,workspaceId:t.id})},variant:l.ZP.Variants.REGULAR,children:"Move File"})]})]}))}},76784:function(e,t,n){"use strict";n.d(t,{U:function(){return H}});var r,o=n(70865),a=n(96670),s=n(26297),u=n(52322),c=n(2784),l=n(35637),A=n(95162),d=n(89563),f=n(41832),h=n(42896),p=n(25300),g=n(32472),v=n(57225),m=n(73705),y=/*#__PURE__*/n.n(m),b=function(e){var t=e.isLoading,n=e.templates,r=e.onUseTemplate,o=e.onClose,a=e.onTemplatePreview,s=(0,c.useState)(""),m=s[0],b=s[1],w=(0,p.Z)(),_=w.loading,E=w.request;return/*#__PURE__*/(0,u.jsxs)("div",{children:[/*#__PURE__*/(0,u.jsxs)("div",{className:y().titleWrapper,children:[/*#__PURE__*/(0,u.jsx)("h3",{className:y().title,children:"Team Templates"}),/*#__PURE__*/(0,u.jsxs)("div",{className:y().titleTools,children:[/*#__PURE__*/(0,u.jsx)(l.Z,{showShortcut:!0,searchTerm:m,className:y().searchBar,setSearchTerm:b}),/*#__PURE__*/(0,u.jsxs)(A.ZP,{onClick:o,size:A.ZP.Sizes.SMALL,className:y().closeButton,variant:A.ZP.Variants.TRANSPARENT,children:["Close",/*#__PURE__*/(0,u.jsx)(d.P,{keys:["Esc"]})]})]})]}),/*#__PURE__*/(0,u.jsxs)("div",{className:y().contentWrapper,children:[n.filter(function(e){var t,n;return null===(n=null===(t=e.title)||void 0===t?void 0:t.toLocaleLowerCase())||void 0===n?void 0:n.includes(m.toLocaleLowerCase())}).map(function(e,n){return/*#__PURE__*/(0,u.jsx)(f.w,{template:e,isLoading:t,onUseTemplate:r,classNames:{root:y().templateCard},onPreviewClick:function(){return a(n)}},e.id)}),/*#__PURE__*/(0,u.jsx)(h.x,{disabled:_,onClick:function(){_||E("templates_page",{title:g.k1,isTemplate:!0},{toastOptions:{success:{duration:5e3}},toastMessages:{loading:"Creating template",error:"Something went wrong. Failed to create template.",success:/*#__PURE__*/(0,u.jsx)(v.S,{successMessage:"Template created"})}})},classNames:{root:y().templateCard}})]})]})},w=n(5632),_=n(25237),E=/*#__PURE__*/n.n(_),C=n(88404);function B(){return(B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var I=function(e){return /*#__PURE__*/c.createElement("svg",B({width:8,height:12,viewBox:"0 0 8 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/c.createElement("path",{d:"M1 11.2L6.6 6 1 .8",stroke:"currentColor",fill:"none",strokeLinecap:"square"})))},x=n(26758),T=n(11269),S=n(4120),k=n(77622),D=n(4126),N=n(35937),O=n(6375),F=n(34823),R=/*#__PURE__*/n.n(F),L=E()(function(){return Promise.all([n.e(7920),n.e(1637),n.e(1041),n.e(7219),n.e(4526),n.e(8716),n.e(178),n.e(7870),n.e(6309),n.e(4515),n.e(1727)]).then(n.bind(n,11980)).then(function(e){return e.default})},{loadableGenerated:{webpack:function(){return[11980]}},ssr:!1,loading:function(){return/*#__PURE__*/(0,u.jsx)(O.Z,{})}}),M=function(e,t){var n=e.id,r=e.templateVersionId,o=e.templatePreviewImages;if(!r||!o||!o[t]||o[t]!==r)return{};var a=(0,k.j)({theme:t,templateVersionId:r,templateWorkspaceId:n}).imgixPath;return{backgroundImage:"url(".concat((0,N.V)(a),")")}},P=function(e){var t=e.onNext,n=e.onCancel,r=e.template,o=e.isLoading,a=e.onPrevious,s=e.onUseTemplate,l=e.onSeeAllTemplates,d=(0,w.useRouter)(),f=(0,D.F)().theme,h=(0,T.LP)(),p=(0,c.useState)(!1),g=p[0],v=p[1],m=(0,x.o)({currentTeamId:h,workspaceId:r.id,workspaceTeamId:r.teamId,isArchived:!!r.isArchived}),y=M(r,f);return/*#__PURE__*/(0,u.jsxs)("div",{className:R().root,children:[/*#__PURE__*/(0,u.jsxs)("div",{className:R().headerWrapper,children:[/*#__PURE__*/(0,u.jsxs)("div",{className:R().navigationWrapper,children:[/*#__PURE__*/(0,u.jsx)(A.ZP,{variant:A.ZP.Variants.TRANSPARENT,onClick:l,children:"See all"}),/*#__PURE__*/(0,u.jsx)(A.ZP,{onClick:a,variant:A.ZP.Variants.TRANSPARENT,children:/*#__PURE__*/(0,u.jsx)(C.J,{icon:I,className:R().previousIcon})}),/*#__PURE__*/(0,u.jsx)(A.ZP,{onClick:t,variant:A.ZP.Variants.TRANSPARENT,children:/*#__PURE__*/(0,u.jsx)(C.J,{icon:I})})]}),/*#__PURE__*/(0,u.jsx)("div",{className:R().metadataWrapper,children:/*#__PURE__*/(0,u.jsx)(S.E,{template:r})}),/*#__PURE__*/(0,u.jsx)("div",{className:R().controlsWrapper,children:r.isArchived?/*#__PURE__*/(0,u.jsxs)(u.Fragment,{children:[/*#__PURE__*/(0,u.jsx)(A.ZP,{onClick:n,variant:A.ZP.Variants.TRANSPARENT,children:"Cancel"}),/*#__PURE__*/(0,u.jsx)(A.ZP,{onClick:m,children:"Restore Template"})]}):/*#__PURE__*/(0,u.jsxs)(u.Fragment,{children:[/*#__PURE__*/(0,u.jsx)(A.ZP,{isLoading:g,onClick:function(){v(!0),d.push("/workspace/".concat(r.id))},variant:A.ZP.Variants.TRANSPARENT,children:"Edit Template"}),/*#__PURE__*/(0,u.jsx)(A.ZP,{isLoading:o,onClick:function(){return s(r)},children:"Use Template"})]})})]}),/*#__PURE__*/(0,u.jsx)("div",{className:R().previewWrapper,children:y.backgroundImage?/*#__PURE__*/(0,u.jsx)("div",{className:R().previewImage,style:y}):/*#__PURE__*/(0,u.jsx)(L,{template:r},r.id)})]})},U=n(2643),j=n(68583),Z=n(94127),Q=/*#__PURE__*/n.n(Z),H=function(e){var t,n,r=e.isOpen,l=e.onClose,A=e.isLoading,d=e.mountedIn,f=e.onUseTemplate,h=e.templateToPreview,p=(0,s.Z)(e,["isOpen","onClose","isLoading","mountedIn","onUseTemplate","templateToPreview"]),g=(0,c.useState)(-1),v=g[0],m=g[1],y=h?"templatePreview":"allTemplates",w=(0,c.useState)(y),_=w[0],E=w[1],C=null!==(n=(0,j.z)({isArchived:null!==(t=null==h?void 0:h.isArchived)&&void 0!==t&&t}))&&void 0!==n?n:[],B=(0,c.useMemo)(function(){var e=C.findIndex(function(e){return e.id===(null==h?void 0:h.id)});return -1===v?e:v},[v,h,C]),I=function(){m(-1),"templatesPage"===d?null==l||l():E("allTemplates")};return/*#__PURE__*/(0,u.jsxs)(U.Z,(0,a.Z)((0,o.Z)({isOpen:r,hideCloseButton:!0,className:Q().root,onClose:l},p),{children:["allTemplates"===_&&/*#__PURE__*/(0,u.jsx)(b,{onClose:l,isLoading:A,templates:C,onUseTemplate:f,onTemplatePreview:function(e){m(e),E("templatePreview")}}),"templatePreview"===_&&C[B]&&/*#__PURE__*/(0,u.jsx)(P,{onUseTemplate:f,onCancel:I,template:C[B],onSeeAllTemplates:I,onNext:function(){return m((B+1)%C.length)},onPrevious:function(){return m((B-1)%C.length)}})]}))}},15902:function(e,t,n){"use strict";n.d(t,{nU:function(){return l},sv:function(){return c},zO:function(){return u}});var r=n(90581),o=n(21218),a=n(20624),s=n(39309),u=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,o){var a;return(0,r.Z)(this,n),(a=t.call(this,e)).name="ParseError",a.hash=o,a}return n}((0,a.Z)(Error)),c=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e,o){var a,s=e.message,u=e.line,c=e.lineNumber;return(0,r.Z)(this,n),(a=t.call(this,s)).lineNumber=c,a.message=o({line:(void 0===u?"":u).trim(),message:s}),a}return n}((0,a.Z)(Error));function l(e,t){throw new u(e,t)}},64888:function(e,t,n){"use strict";n.d(t,{L:function(){return s},N:function(){return a}});var r,o=n(19696),a=function(e){r=e},s=function(e,t,n){(0,o.J)("playgroundDevTools").consoleLogAnalyticsEvents&&console.log("Analytics trackEvent: ",{category:e,event:t},n),null==r||r.trackEvent(e,t,n)}},64926:function(e,t,n){"use strict";n.d(t,{Cj:function(){return u},E5:function(){return c},Vx:function(){return s},XU:function(){return l},ub:function(){return a},vE:function(){return A}});var r=n(5392),o=/*#__PURE__*/n.n(r),a="#ffffff",s="#242424",u=o()(a),c=o()(s),l="#1c1c1c",A="#000000"},48389:function(e,t,n){"use strict";n.d(t,{XW:function(){return d},dN:function(){return p},pk:function(){return g},xE:function(){return u}});var r=n(87394),o=n(5392),a=/*#__PURE__*/n.n(o),s=n(93939),u="#171717",c=(0,r.Z)(a()(u).oklab(),1)[0],l="transparent",A=function(e){return e===l?e:a().valid(e)?e.startsWith("#")?e:"#".concat(e):null},d=function(e){return e?e!==l&&A(e)?f(a()(e)).hex():e:""},f=function(e){var t=(0,r.Z)(e.hsl(),3),n=t[0],o=t[1],s=t[2];return a().hsl(n,o,1-s).alpha(e.alpha())},h=function(e,t){var n=(0,r.Z)(e.oklab(),3),o=n[0],s=n[1],u=n[2];return a().oklab(o-o*t+t,s,u).alpha(e.alpha())},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"light";if(!e)return"";var n=/^var\(--(.+?)\)$/.exec(e);if(n)return(0,s.IH)(n[1]);if("light"===t||e===l||!A(e))return e;var o=a()(e),u=f(o),d=(0,r.Z)(o.hsv(),2);return h(u,c*(1-(d[0],d[1]))).hex()},g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"light",n=/^var\(--(.+?)\)$/.exec(e);return n?(0,s.IH)(n[1]):"dark"===t?d(e):e}},14935:function(e,t,n){"use strict";n.d(t,{Cj:function(){return u},Dj:function(){return A},E5:function(){return l},Fs:function(){return p},Kf:function(){return v},Od:function(){return d},Ws:function(){return w},eO:function(){return y},jc:function(){return h},jw:function(){return g},pF:function(){return c},wj:function(){return f}});var r=n(5392),o=/*#__PURE__*/n.n(r),a=n(96603),s=n(64926),u=a.ix,c=a.MA[4],l=a.Sn,A="#ec2c40",d="#00a9e5",f="#b7d2f7",h="#2866df",p="transparent",g="rgba(0, 169, 229, 0.1)",v=function(e){return e===p?e:o().valid(e)?e.startsWith("#")?e:"#".concat(e):null},m=function(e){var t=parseInt(e.substring(1),16);return .2126*(t>>16&255)+.7152*(t>>8&255)+.0722*(t>>0&255)},y=function(e){return e===p||!!o().valid(e)&&m(o()(e).hex())>238},b=[1,.98,.92,.85,.7,.45,.35,.18,.12],w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e===p||e===s.ub&&t<5)return e;if(!o().valid(e))return"rgba(0, 0, 0, 0)";var r=o()(e).hsl(),a=Math.round(r[0]),u=r[1],c=b[t];return"rgba(".concat(o()([a,u,null!=c?c:.975],"hsl").rgb().join(","),", ").concat(n,")")}},98568:function(e,t,n){"use strict";n.d(t,{$C:function(){return B},$e:function(){return b},AU:function(){return W},Af:function(){return T},D8:function(){return m},E1:function(){return e_},EX:function(){return Y},F9:function(){return X},FO:function(){return N},Fg:function(){return ee},Gj:function(){return er},H:function(){return ey},Hg:function(){return U},IM:function(){return R},Iw:function(){return y},J$:function(){return en},KE:function(){return x},Ks:function(){return o},LP:function(){return ec},Mj:function(){return el},OO:function(){return J},O_:function(){return V},Oh:function(){return E},Pp:function(){return Q},S$:function(){return eB},TO:function(){return eI},UL:function(){return ew},Vh:function(){return O},Vi:function(){return C},W4:function(){return L},_D:function(){return M},_P:function(){return es},av:function(){return ed},ay:function(){return w},az:function(){return eu},cH:function(){return et},dJ:function(){return G},dt:function(){return H},eA:function(){return eb},f:function(){return g},fK:function(){return ep},fn:function(){return eC},g8:function(){return eA},hU:function(){return Z},hs:function(){return j},i5:function(){return q},j9:function(){return F},jo:function(){return eo},ks:function(){return ea},lS:function(){return $},mp:function(){return D},n5:function(){return P},nB:function(){return K},nM:function(){return ei},oc:function(){return _},qj:function(){return eE},qx:function(){return v},sc:function(){return I},tn:function(){return S},uB:function(){return z},ut:function(){return k},vM:function(){return ef},vu:function(){return eh},wK:function(){return ev},xX:function(){return em},yK:function(){return eg}});var r,o,a,s,u,c,l,A,d=n(47842),f=n(31632),h=n(6901),p=n(27352),g=10,v=8,m=1,y=5,b=1,w=Math.PI/12,_={TEXT:"text",CROSSHAIR:"crosshair",NESW_RESIZE:"nesw-resize",NWSE_RESIZE:"nwse-resize",NS_RESIZE:"ns-resize",EW_RESIZE:"ew-resize",GRAB:"grab",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",NOT_ALLOWED:"not-allowed",SPLINE_CONTROL_MOVE:"spline-control-move",PEN:"pen",DUPLICATE:"duplicate",ROTATION_NW:"rotation-nw",ROTATION_NE:"rotation-ne",ROTATION_SW:"rotation-sw",ROTATION_SE:"rotation-se",AUTO:""},E={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};(r=o||(o={})).COPY="copy",r.PASTE="paste",r.CUT="cut",r.KEYDOWN="keydown",r.KEYUP="keyup",r.MOUSE_MOVE="mousemove",r.RESIZE="resize",r.UNLOAD="unload",r.BLUR="blur",r.DRAG_OVER="dragover",r.DROP="drop",r.GESTURE_END="gestureend",r.BEFORE_UNLOAD="beforeunload",r.GESTURE_START="gesturestart",r.GESTURE_CHANGE="gesturechange",r.POINTER_MOVE="pointermove",r.POINTER_UP="pointerup",r.STATE_CHANGE="statechange",r.WHEEL="wheel",r.TOUCH_START="touchstart",r.TOUCH_END="touchend",r.SCROLL="scroll",r.CONTEXT_MENU="contextmenu";var C={TEST:"test",DEVELOPMENT:"development"},B={SHAPE_ACTIONS_MENU:"shape-actions-menu",CANVAS_BUTTON:"canvas-button"},I={S:20,M:30,L:40,XL:50},x={S:.2,M:.33,L:.6,XL:1.2},T="data-textfield-blur-exception",S="data-copy-paste-exception",k={1:"Virgil",2:"EraserNimbusSans",3:"Cascadia",4:"FerruleSans",5:"JetBrainsMono",6:"Inter"},D={ROUGH:2,CLEAN:6,MONO:5},N={2:"rough",6:"clean",5:"mono"},O=(a={},(0,d.Z)(a,D.ROUGH,1),(0,d.Z)(a,D.CLEAN,.87),(0,d.Z)(a,D.MONO,.85),a),F=(s={},(0,d.Z)(s,D.ROUGH,h.ED?-3.5:-.5),(0,d.Z)(s,D.CLEAN,h.ED?1.1:.4),(0,d.Z)(s,D.MONO,h.ED?1.4:1),s),R=(u={},(0,d.Z)(u,D.MONO,h.ED?-.5:0*globalThis.devicePixelRatio),(0,d.Z)(u,D.ROUGH,h.ED?-1:-.45*globalThis.devicePixelRatio),(0,d.Z)(u,D.CLEAN,h.ED?-.8:-.35*globalThis.devicePixelRatio),u),L=Object.values(D),M="Segoe UI Emoji",P=20,U="left",j="middle",Z=h.Um?1.25:1,Q=f.ck.Normal,H=10,V=12,K=.3,z="excalidraw",G="excalidraw-cursor-element",W="text-editor-root",q="canvasTextEditor",Y="diagram-sidebar-wrapper",$=.22,X=function(e){return e?.525:.5},J=5,ee=function(e){return e?.15:.25},et=12,en=70,er=300,ei=500,eo=["image/png","image/jpg","image/jpeg","image/svg+xml","image/gif"],ea="-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica Neue, Helvetica, Nimbus Sans, Ubuntu, Roboto, Noto, Arial, sans-serif",es="arrow",eu=[430,600],ec=(c={},(0,d.Z)(c,f.Nm.LEFT,"←"),(0,d.Z)(c,f.Nm.RIGHT,"→"),(0,d.Z)(c,f.Nm.UP,"↑"),(0,d.Z)(c,f.Nm.DOWN,"↓"),c);l={},(0,d.Z)(l,f.Nm.UP,f.Nm.DOWN),(0,d.Z)(l,f.Nm.DOWN,f.Nm.UP),(0,d.Z)(l,f.Nm.LEFT,f.Nm.RIGHT),(0,d.Z)(l,f.Nm.RIGHT,f.Nm.LEFT);var el=(A={},(0,d.Z)(A,p.tW.ARROW_UP,f.Nm.UP),(0,d.Z)(A,p.tW.ARROW_DOWN,f.Nm.DOWN),(0,d.Z)(A,p.tW.ARROW_LEFT,f.Nm.LEFT),(0,d.Z)(A,p.tW.ARROW_RIGHT,f.Nm.RIGHT),A),eA=6,ed=2,ef=6.5,eh=.8,ep=1.5,eg=26/Math.PI,ev=50,em=10,ey=12,eb=6,ew=4,e_=12,eE=8,eC=12,eB=10,eI=30},19907:function(e,t,n){"use strict";n.d(t,{CM:function(){return I},Gv:function(){return E},KP:function(){return L},Pi:function(){return F},Ut:function(){return U},i2:function(){return Q},mI:function(){return Z},os:function(){return j},qf:function(){return w},wC:function(){return P},zL:function(){return M}});var r=n(42838),o=n(70865),a=n(96670),s=n(87394),u=n(50930),c=n(14061),l=n(74889),A=n(33489),d=n(31781),f=n(83250),h=n(98568),p=n(98030),g=n(39895),v=n(19600),m=n(56818),y=!1;("production"===h.Vi.TEST||"production"===h.Vi.DEVELOPMENT)&&(window.enableDebugCache=function(){y=!0},window.disableDebugCache=function(){y=!1});var b=function(e,t,n,r,o){var a=n(e);if(a&&!y)return a;var s=t(e);return y&&a?O(s,a)||console.error("".concat(o," cache error"),e.id,e.version,s,a):r(e,s),s},w=function(e){return b(e,B,A.Sj,A.mt,"getElementAbsoluteCoords")},_=function(e){return!!e.lockedGroupId&&((0,m._u)(e)||(0,m.WQ)(e))},E=function(e){return _(e)?C((0,a.Z)((0,o.Z)({},e),{lockedGroupId:null})):w(e)},C=function(e){return(0,m.F9)(e)?S(e):(0,m.bt)(e)?D(e):[e.x,e.y,e.x+e.width,e.y+e.height]},B=function(e){if(_(e)){var t=null===(l=f.Z.getScene(e))||void 0===l?void 0:l.getElementsInGroup(e.lockedGroupId);if(null==t?void 0:t.includes(e)){var n=1/0,r=1/0,o=-1/0,a=-1/0,s=!0,u=!1,c=void 0;try{for(var l,A,d=t[Symbol.iterator]();!(s=(A=d.next()).done);s=!0){var h=A.value;n=Math.min(n,h.x),r=Math.min(r,h.y),o=Math.max(o,h.x+h.width),a=Math.max(a,h.y+h.height)}}catch(e){u=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(u)throw c}}return[n,r,o,a]}}return C(e)},I=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=e.sets[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if("path"===s.type)return s.ops}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e.sets[0].ops},x=function(e,t){var n=[0,0],r=e.reduce(function(e,r){var o=r.op,a=r.data;if("move"===o)n=a;else if("bcurveTo"===o){var u=[a[0],a[1]],c=[a[2],a[3]],A=[a[4],a[5]],d=n;n=A;for(var f=0;f<=1;){var h,p=(0,l._s)(d[0],u[0],c[0],A[0],f),g=(0,l._s)(d[1],u[1],c[1],A[1],f);t&&(p=(h=(0,s.Z)(t(p,g),2))[0],g=h[1]),e.minY=Math.min(e.minY,g),e.minX=Math.min(e.minX,p),e.maxX=Math.max(e.maxX,p),e.maxY=Math.max(e.maxY,g),f+=.1}}return e},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[r.minX,r.minY,r.maxX,r.maxY]},T=function(e){for(var t=1/0,n=1/0,r=-1/0,o=-1/0,a=0;a<e.length-1;a++){var u=(0,s.Z)(e[a],2),c=u[0],l=u[1];(0,v.p)(e,a)||(t=Math.min(t,c),n=Math.min(n,l),r=Math.max(r,c),o=Math.max(o,l))}return[t,n,r,o]},S=function(e){var t=(0,s.Z)(T(e.points),4),n=t[0],r=t[1],o=t[2],a=t[3];return[n+e.x,r+e.y,o+e.x,a+e.y]},k=function(e){var t=e.points.reduce(function(e,t){var n=(0,s.Z)(t,2),r=n[0],o=n[1];return e.minY=Math.min(e.minY,o),e.minX=Math.min(e.minX,r),e.maxX=Math.max(e.maxX,r),e.maxY=Math.max(e.maxY,o),e},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),n=t.minX,r=t.minY,o=t.maxX,a=t.maxY;return[n+e.x,r+e.y,o+e.x,a+e.y]},D=function(e){var t;if(e.points.length<2||!d.g.get(e))t=k(e);else{var n=I(d.g.get(e)[0]),r=(0,s.Z)(x(n),4),o=r[0],a=r[1],u=r[2],c=r[3];t=[o+e.x,a+e.y,u+e.x,c+e.y]}return t},N=function(e,t,n){if(e.points.length<2||!d.g.get(e)){var r=e.points.reduce(function(r,o){var a,u=(0,s.Z)(o,2),c=u[0],A=u[1];return c=(a=(0,s.Z)((0,l.xj)([e.x+c,e.y+A],[t,n],e.angle),2))[0],A=a[1],r.minY=Math.min(r.minY,A),r.minX=Math.min(r.minX,c),r.maxX=Math.max(r.maxX,c),r.maxY=Math.max(r.maxY,A),r},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[r.minX,r.minY,r.maxX,r.maxY]}return x(I(d.g.get(e)[0]),function(r,o){return(0,l.xj)([e.x+r,e.y+o],[t,n],e.angle)})},O=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]},F=function(e){return b(e,R,A.FM,A.sN,"getElementBounds")},R=function(e){var t,n=(0,s.Z)(w(e),4),r=n[0],o=n[1],a=n[2],c=n[3],A=(r+a)/2,d=(o+c)/2;if((0,m.F9)(e)){var f=(0,s.Z)(T(e.points.map(function(t){var n=(0,s.Z)(t,4),r=n[0],o=n[1],a=n[2],c=n[3];return(0,u.Z)((0,l.xj)([r,o],[A-e.x,d-e.y],e.angle)).concat([a,c])})),4),h=f[0],p=f[1],g=f[2],v=f[3];t=[h+e.x,p+e.y,g+e.x,v+e.y]}else if((0,m.bt)(e))t=N(e,A,d);else if("diamond"===e.type){var y=(0,s.Z)((0,l.xj)([A,o],[A,d],e.angle),2),b=y[0],_=y[1],E=(0,s.Z)((0,l.xj)([A,c],[A,d],e.angle),2),C=E[0],B=E[1],I=(0,s.Z)((0,l.xj)([r,d],[A,d],e.angle),2),x=I[0],S=I[1],k=(0,s.Z)((0,l.xj)([a,d],[A,d],e.angle),2),D=k[0],O=k[1];t=[Math.min(b,C,x,D),Math.min(_,B,S,O),Math.max(b,C,x,D),Math.max(_,B,S,O)]}else if("ellipse"===e.type){var F=(a-r)/2,R=(c-o)/2,L=Math.cos(e.angle),M=Math.sin(e.angle),P=Math.hypot(F*L,R*M),U=Math.hypot(R*L,F*M);t=[A-P,d-U,A+P,d+U]}else{var j=(0,s.Z)((0,l.xj)([r,o],[A,d],e.angle),2),Z=j[0],Q=j[1],H=(0,s.Z)((0,l.xj)([r,c],[A,d],e.angle),2),V=H[0],K=H[1],z=(0,s.Z)((0,l.xj)([a,c],[A,d],e.angle),2),G=z[0],W=z[1],q=(0,s.Z)((0,l.xj)([a,o],[A,d],e.angle),2),Y=q[0],$=q[1];t=[Math.min(Z,V,G,Y),Math.min(Q,K,W,$),Math.max(Z,V,G,Y),Math.max(Q,K,W,$)]}return t},L=function(e,t){if(!((0,r.Z)(e,Set)?e.size:e.length))return[0,0,0,0];var n=1/0,o=-1/0,a=1/0,u=-1/0;return e.forEach(function(e){if(!(null==t?void 0:t.includeLockedTextboxes)&&"textbox"===e.type&&e.lockedGroupId){var r;if((null===(r=e.parentElementMetadata)||void 0===r?void 0:r.type)!=="icon")return}var c=(0,s.Z)(F(e),4),l=c[0],A=c[1],d=c[2],f=c[3];n=Math.min(n,l),a=Math.min(a,A),o=Math.max(o,d),u=Math.max(u,f)}),[n,a,o,u]};function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{x:e[0]-t,y:e[1]-t,width:e[2]-e[0]+2*t,height:e[3]-e[1]+2*t}}var P=function(e,t,n){if(!((0,m.bt)(e)||(0,m.F9)(e)))return[e.x,e.y,e.x+t,e.y+n];var r,o=(0,p.zJ)(0,t,(0,p.zJ)(1,n,e.points));if((0,m.F9)(e))r=T(o);else{var a=c.ZP.generator();r=x(I("round"===e.strokeSharpness?a.curve(o,(0,g.i)(e)):a.linearPath(o,(0,g.i)(e))))}var u=(0,s.Z)(r,4),l=u[0],A=u[1],d=u[2],f=u[3];return[l+e.x,A+e.y,d+e.x,f+e.y]},U=function(e,t,n){var r=c.ZP.generator(),o=I("round"===n?r.curve(t,(0,g.i)(e)):r.linearPath(t,(0,g.i)(e))),a=(0,s.Z)(x(o),4),u=a[0],l=a[1],A=a[2],d=a[3];return[u+e.x,l+e.y,A+e.x,d+e.y]},j=function(e,t){if(!e.length)return[0,0,0,0];var n=1/0,r=e[0];return e.forEach(function(e){var o=(0,s.Z)(F(e),4),a=o[0],u=o[1],c=o[2],A=o[3],d=(0,l.LW)((a+c)/2,(u+A)/2,t.x,t.y);d<n&&(n=d,r=e)}),F(r)};function Z(e){return{x:e.x+e.width/2,y:e.y+e.height/2}}var Q=function(e,t){var n=(0,s.Z)(e,4),r=n[0],o=n[1],a=n[2],u=n[3],c=(0,s.Z)(t,4),A=c[0],d=c[1],f=c[2],h=c[3],p=f<r,g=a<A,v=h<o,m=u<d;if(m&&p)return(0,l.LW)(r,u,f,d);if(p&&v)return(0,l.LW)(r,o,f,h);if(v&&g)return(0,l.LW)(a,o,A,h);if(g&&m)return(0,l.LW)(a,u,A,d);if(p)return r-f;if(g)return A-a;if(v)return o-h;else if(m)return d-u;else return 0}},21986:function(e,t,n){"use strict";n.d(t,{R:function(){return r},m:function(){return o}});var r=5,o=5},42327:function(e,t,n){"use strict";n.d(t,{JP:function(){return u},Lm:function(){return c},_M:function(){return A},qP:function(){return l},y$:function(){return s}});var r=n(70865),o=n(96670),a=n(56818),s=function(e){return null==e.x||null==e.y||null==e.width||null==e.height},u=function(e){return"freedraw"===e.type&&e.points.length<2},c=function(e){return e.filter(function(e){return!e.isDeleted&&!s(e)})},l=function(e){return!e.isDeleted},A=function(e){return c(e).map(function(e){return(0,a.dt)(e.type)?(0,o.Z)((0,r.Z)({},e),{lastCommittedPoint:null}):e})}},19600:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var r=function(e,t){return e[t][3]&&(0===t||!0===e[t-1][3])}},76436:function(e,t,n){"use strict";n.d(t,{BE:function(){return A},DR:function(){return c},nP:function(){return l}});var r=n(70865),o=n(96670),a=n(98030),s=n(7424),u=n(83250),c=function(e,t,n){var o=!1,s=t.points;for(var c in void 0!==s&&(t=(0,r.Z)({},(0,a.kc)(s),t)),t){var A=t[c];if(void 0!==A){if(e[c]===A&&("object"!=typeof A||null===A||"groupIds"===c))continue;e[c]=A,o=!0}}if(o){l(e);var d=u.Z.getScene(e);if((null==d?void 0:d.getElement(e.id))===e)d.informMutation({changedElements:[e],preventLocalTextboxRender:null==n?void 0:n.preventLocalTextboxRender});else if(d){var f,h=null===(f=Error().stack)||void 0===f?void 0:f.split("\n")[2].replace(/^\s+at\s+/,"");console.warn("mutateElement called with an out of date version of element, this means replaceAllElements was called.\n\nCalled from: ".concat(h,"\n\nWith keys: ").concat(Object.keys(t).join(", ")))}else e.type}};function l(e){e.version++,e.versionNonce=(0,s.LU)(),e.modifiedAt=Date.now()}var A=function(e,t){return(0,o.Z)((0,r.Z)({},e,t),{modifiedAt:Date.now(),version:e.version+1,versionNonce:(0,s.LU)()})}},26843:function(e,t,n){"use strict";n.d(t,{HL:function(){return A},N9:function(){return c}});var r=n(70865),o=n(96670),a=n(76436),s=n(56818),u=n(61542);function c(e,t){var n=l(e,t);return n?(0,a.BE)(e,n):e}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e){var r=t.scale/n,o={x:t.x+e.x*r,y:t.y+e.y*r,width:e.width*r,height:e.height*r,strokeWidth:e.strokeWidth*r};return 1!==r&&((0,s.kh)(e)&&(e.points&&(o.points=e.points.map(function(e){return[e[0]*r,e[1]*r]})),e.arrowHeadSize&&(o.arrowHeadSize=r*e.arrowHeadSize),e.textGap&&(o.textGap=e.textGap.map(function(e){return e*r})),e.gaps&&(o.gaps=e.gaps.map(function(e){return e.map(function(e){return e*r})}))),(0,s.Sf)(e)&&(o.scale=e.scale*r)),o}}function A(e,t,n){var s=!0,c=!1,A=void 0;try{for(var d,f=(0,u.Q8)(e,t)[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var h=d.value,p=(0,o.Z)((0,r.Z)({},h),{x:h.x-n.x,y:h.y-n.y}),g=l(p,t,n.scale);g&&(0,a.DR)(h,g)}}catch(e){c=!0,A=e}finally{try{s||null==f.return||f.return()}finally{if(c)throw A}}}},74410:function(e,t,n){"use strict";n.d(t,{S2:function(){return y},Sv:function(){return v},ZO:function(){return b}});var r,o=n(90581),a=n(47842),s=n(70865),u=n(96670),c=n(31632),l=n(48389),A=n(46317),d=n(98568),f=n(7424),h=n(93939),p=n(51632),g=n(6901),v=function(e){r=e},m=/*#__PURE__*/function(){function e(t){var n;(0,o.Z)(this,e),this._namespace=t,this._elementToHtmlCache=(n={},(0,a.Z)(n,c.ck.CodeBlock,new WeakMap),(0,a.Z)(n,c.ck.Normal,new WeakMap),n),this.existingEditors={}}var t=e.prototype;return t.setHTML=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.appPositionMetrics,o=n.width,a=this._getOrCreateEditor(e),u=this._getContentFromElement((0,s.Z)({},e,t)),c=u.text,l=u.html,A=this._setHtmlContent(a,{text:c,html:l}),d=(0,h.zX)(e).naturalWidth,f=e.hasFixedBounds?d:o;return this._setDefaultStyles(A,e,n),a.style.width=f?"".concat(f,"px"):"auto",a.style.visibility="visible",A.style.transform=(0,p.C)(f||A.offsetWidth,A.offsetHeight,e.angle,r,e.scale),A},t.measureBaseline=function(e){var t=this.setHTML(e,{text:e.text,html:e.html}),n=document.createElement("span");n.style.display="inline-block",n.style.overflow="hidden",n.style.width="1px",n.style.height="1px",t.appendChild(n);var r=n.offsetTop+n.offsetHeight;return n.remove(),r},t.measureScaledSize=function(e,t,n,r,o){var a,u=t.text,l=t.html,A=t.slate,d=e.mode===c.ck.CodeBlock&&u.match(/^\n/);d&&(u="/"+u,l=l?l.replace("\n","/\n"):void 0);var f=this.setHTML(e,{text:u,html:l,slate:A},(0,s.Z)({width:n,appPositionMetrics:r},o)),h=f.getBoundingClientRect(),p=h.width,g=h.height;return d&&this.setHTML(e,t,{width:n,appPositionMetrics:r}),null===(a=f.parentElement)||void 0===a||a.remove(),[p,g]},t.measureScaledSizeWithText=function(e,t){var n,r=e.html,o=e.text,a=e.mode,s=e.slate;o=(n=this._getContentFromElement({text:o,html:r,slate:s,mode:a})).text,r=n.html;var u=this._getOrCreateEditor(),c=this._setHtmlContent(u,{text:o,html:r});this._setDefaultStyles(c,e,t),c.style.transform="scale(".concat(e.scale,")");var l=c.getBoundingClientRect(),A=l.width,d=l.height;return u.remove(),[A,d]},t.refreshEditorPosition=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._getOrCreateEditor(e);if(!this.existingEditors[e.id]){var o=this._getContentFromElement(e),a=o.text,s=o.html;this._setHtmlContent(r,{text:a,html:s})}var u=r.childNodes[0],c=(0,h.zX)(e),l=c.naturalWidth,A=c.naturalHeight,d=(0,h.Zz)({element:e,offset:t,scrollState:t}),f=d.x,g=d.y;Object.assign(r.style,{visibility:"visible",top:"".concat(g,"px"),left:"".concat(f,"px"),width:"".concat(l,"px"),zIndex:"".concat(e.zIndex||1)}),this._setDefaultStyles(u,e,n),u.style.width="".concat(l,"px"),u.style.height="".concat(A,"px"),u.style.transform=(0,p.C)(l,A,e.angle,t,e.scale)},t.hideFromCanvas=function(e){this.existingEditors[e.id]&&(this._getOrCreateEditor(e).remove(),this.existingEditors[e.id]=!1)},t._getOrCreateEditor=function(e){var t=(null==e?void 0:e.id)||(0,f.kb)(),n="".concat(this._namespace,"-textbox-").concat(t),r=document.getElementById(n);if(r)return r;(r=document.createElement("div")).id=n,r.className="textEditorWrapper";var o=document.createElement("div"),a=(null==e?void 0:e.fontFamily)===d.mp.MONO;return o.contentEditable="false",o.classList.add("textMeasurerEditor"),g.Um&&o.classList.add("darwin"),a&&o.classList.add("is-monospace"),r.appendChild(o),document.getElementById(d.uB).appendChild(r),e&&(this.existingEditors[e.id]=!0),r},t._setHtmlContent=function(e,t){var n=e.childNodes[0];return n.innerHTML=t.html||t.text.split(/\n/).map(function(e){return 0===e.trim().length?"&nbsp;":e}).join("\n"),n},t._getContentFromElement=function(e){var t=e.text,n=e.html,o=e.mode,a=e.slate,s=this._elementToHtmlCache[o||c.ck.Normal];if(a&&s.has(a))return s.get(a);var u={text:t,html:n};return a&&a.length>0&&r&&(u=r({textboxElement:{text:t,html:n,slate:a},mode:null!=o?o:c.ck.Normal}),s.set(a,u)),u},t._setDefaultStyles=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.theme,o=n.maxWidth,a=(0,A.I)(e),c=a?d.IM[t.fontFamily]:d.j9[t.fontFamily];Object.assign(e.style,(0,u.Z)((0,s.Z)({width:"100%",height:"100%",display:"block",userSelect:"none",pointerEvents:"none",whiteSpace:"pre-wrap",wordBreak:"break-word",alignSelf:"flex-start"},(0,h.P)(t)),{top:"".concat(c||0,"px"),textAlign:t.textAlign,paddingBottom:a?0:"3px",lineHeight:d.hU,maxWidth:o?"".concat(o,"px"):"none",color:(0,l.dN)(t.strokeColor,r)}))},e}(),y=new m("measurer"),b=new m("previewer")},51632:function(e,t,n){"use strict";n.d(t,{C:function(){return o},j:function(){return r}});var r=function(e,t){return{zoom:t.zoom,offsetLeft:e.offsetLeft,offsetTop:e.offsetTop,scrollX:t.scrollX,scrollY:t.scrollY}},o=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,a=180*n/Math.PI;if(!r)return"scale(".concat(o,")");var s=r.zoom,u=r.offsetTop,c=(e-2*r.offsetLeft)*(s.value-1)/2,l=(t-2*u)*(s.value-1)/2;return"translate(".concat(c,"px, ").concat(l,"px) scale(").concat(s.value*o,") rotate(").concat(a,"deg)")}},56818:function(e,t,n){"use strict";n.d(t,{$5:function(){return f},$N:function(){return s},AW:function(){return l},B3:function(){return A},F9:function(){return x},H7:function(){return L},J8:function(){return T},L0:function(){return C},Le:function(){return h},Mt:function(){return u},SQ:function(){return k},Sf:function(){return w},TB:function(){return g},UB:function(){return D},WQ:function(){return d},_u:function(){return y},bA:function(){return _},bt:function(){return I},dt:function(){return c},e7:function(){return b},f0:function(){return O},fe:function(){return S},h4:function(){return B},iB:function(){return v},kh:function(){return p},lR:function(){return P},pC:function(){return m},r2:function(){return R},yZ:function(){return E},zK:function(){return M}});var r=n(31632),o=n(72490),a=function(e){return"selection"===e||"rectangle"===e||"oval"===e||"star"===e||"document"===e||"hexagon"===e||"parallelogram"===e||"trapezoid"===e||"cylinder"===e||"diamond"===e||"triangle"===e||"ellipse"===e},s=function(e){return"selection"!==e&&a(e)},u=function(e){return"arrow"===e||"line"===e},c=function(e){return"arrow"===e||"freedraw"===e||"line"===e||"draw"===e},l=function(e){return"text"===e||"textbox"===e},A=function(e){return null!=e&&a(e.type)},d=function(e){return!!e&&s(e.type)},f=function(e){return!!e&&"figure"===e.type},h=function(e){return"arrow"===e||"line"===e},p=function(e){return h(null==e?void 0:e.type)},g=function(e){return p(e)&&!e.isDeleted&&!!(e.endBinding||e.startBinding)},v=function(e){return null!=e&&"text"===e.type},m=function(e){return null!=e&&"image"===e.type},y=function(e){return(null==e?void 0:e.type)==="icon"},b=function(e,t){return y(e)||d(e)&&!!e.lockedGroupId&&!e.isLockedContainer&&C(t)&&t.diagramType===r.pj.CAD},w=function(e){return null!=e&&"textbox"===e.type},_=function(e){return w(e)&&e.mode===r.ck.CodeBlock},E=function(e){return null!=e&&("text"===e.type||"textbox"===e.type)},C=function(e){return null!=e&&"diagram"===e.type},B=function(e){return null!=e&&"comment"===e.type},I=function(e){return null!=e&&c(e.type)},x=function(e){return null!=e&&T(e.type)},T=function(e){return"freedraw"===e},S=function(e){return"eraser"===e},k=function(e){return null!=e&&S(e.type)},D=function(e){return["eraser","freedraw"].includes(e)},N=["rectangle","oval","star","document","hexagon","parallelogram","trapezoid","diamond","triangle","cylinder","ellipse","text","icon","image","figure"],O=function(e){return"textbox"===e.type?!e.lockedGroupId:N.includes(e.type)},F=["textbox","oval","star","document","hexagon","parallelogram","trapezoid","diamond","triangle","cylinder","rectangle","ellipse","arrow","icon","image","freedraw","line","figure","draw","text"],R=function(e){return F.includes(null==e?void 0:e.type)},L=function(e){return"v2"===e.shapeVersion},M=new Set([r.pj.CAD,r.pj.FLOW,r.pj.CUSTOM]),P=function(e){return!!(e.diagramType&&M.has(e.diagramType)&&e.renderVersion&&e.renderVersion>=o.pA)}},57568:function(e,t,n){"use strict";n.d(t,{$L:function(){return h},bZ:function(){return c},f:function(){return f},po:function(){return A}});var r=n(98788),o=n(22970),a=n(35937),s=n(89813),u=new Map;function c(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(function(e){var t,n,r,a=arguments;return(0,o.__generator)(this,function(o){var s;return n=e+Object.keys(s=t=a.length>1&&void 0!==a[1]?a[1]:{}).sort().reduce(function(e,t){return"".concat(e,"|").concat(t,"=").concat(JSON.stringify(s[t]))},""),(r=u.get(n))||(r=A(e,t,10),u.set(n,r)),[2,r]})})).apply(this,arguments)}function A(e){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(function(e){var t,n,r,a,u,c,l,d,h,p,g=arguments;return(0,o.__generator)(this,function(o){switch(o.label){case 0:t=g.length>1&&void 0!==g[1]?g[1]:{},n=g.length>2&&void 0!==g[2]?g[2]:0,r=g.length>3&&void 0!==g[3]?g[3]:0,u=void 0===(a=t.crossOrigin)?"anonymous":a,l=void 0===(c=t.applyOptimizations)||c,d=t.lowQualityImagePreview,h=document.createElement("img"),e.startsWith("data:")||null==u||(h.crossOrigin=u),h.src=f(e,{applyOptimizations:l,lowQualityImagePreview:d}),o.label=1;case 1:return o.trys.push([1,3,,7]),[4,h.decode()];case 2:return o.sent(),[2,h];case 3:if(p=o.sent(),!(n>0))return[3,5];return[4,(0,s.Z)((r+1)*200)];case 4:return o.sent(),[2,A(e,t,n-1,r+1)];case 5:throw p;case 6:return[3,7];case 7:return[2]}})})).apply(this,arguments)}function f(e,t){var n=t.applyOptimizations,r=t.lowQualityImagePreview;return n?(0,a.V)(e,{fit:"fill",auto:["compress","format"],"max-w":r?256:2048,"max-h":r?256:2048}):(0,a.V)(e)}function h(){u.clear()}},27352:function(e,t,n){"use strict";n.d(t,{Ac:function(){return c},Wl:function(){return s},aU:function(){return o},tW:function(){return a},zJ:function(){return u}});var r=n(6901),o={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",C:"KeyC",G:"KeyG",K:"KeyK",F:"KeyF",H:"KeyH",M:"KeyM",V:"KeyV",Z:"KeyZ"},a={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:r.Um?"metaKey":"ctrlKey",CTRL:"ctrlKey",SHIFT:"shiftKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",FORWARD_SLASH:"/",DOT:".",COMMA:",",LEFT_CARET:"<",RIGHT_CARET:">",A:"a",C:"c",D:"d",E:"e",F:"f",I:"i",J:"j",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Z:"z"},s=function(e){return e===a.ARROW_LEFT||e===a.ARROW_RIGHT||e===a.ARROW_DOWN||e===a.ARROW_UP},u=function(e){return e.altKey},c=function(e){return e.shiftKey}},74889:function(e,t,n){"use strict";n.d(t,{FO:function(){return B},H5:function(){return h},KP:function(){return d},LW:function(){return A},OE:function(){return b},TE:function(){return l},UM:function(){return _},_s:function(){return w},a7:function(){return C},c9:function(){return g},g6:function(){return p},hK:function(){return f},xj:function(){return u},yq:function(){return c}});var r=n(87394),o=n(50930),a=n(57006),s=n(98568),u=function(e,t,n){if(0===n)return[e[0],e[1]];var o=(0,r.Z)(e,2),a=o[0],s=o[1],u=(0,r.Z)(t,2),c=u[0],l=u[1];return[(a-c)*Math.cos(n)-(s-l)*Math.sin(n)+c,(a-c)*Math.sin(n)+(s-l)*Math.cos(n)+l]},c=function(e,t,n,r,o,a,s,u){var c=Math.cos(r),l=Math.sin(r);return e.e&&e.w?t+=o+s:e.e?(t+=o*(1+c),n+=o*l,t+=s*(1-c),n+=-(s*l)):e.w&&(t+=o*(1-c),n+=-(o*l),t+=s*(1+c),n+=s*l),e.n&&e.s?n+=a+u:e.n?(t+=a*l,n+=a*(1-c),t+=-(u*l),n+=u*(1+c)):e.s&&(t+=-(a*l),n+=a*(1+c),t+=u*l,n+=u*(1-c)),[t,n]},l=function(e,t){return Math.abs(e-t)},A=function(e,t,n,r){return Math.hypot(n-e,r-t)},d=function(e,t){return A.apply(void 0,(0,o.Z)(e).concat((0,o.Z)(t)))},f=function(e,t){return A(e.x,e.y,t.x,t.y)},h=function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.length>=3){var n=[e[0],e[e.length-1]],r=n[0],o=n[1];return A(r[0],r[1],o[0],o[1])<=s.qx/(t*s.D8)}return!1},g=function(e,t){var n=t.length;if(n<3)return!1;for(var r=[Number.MAX_SAFE_INTEGER,e[1]],o=0,a=0;a<n;a++){var s=t[a],u=t[(a+1)%n];if(y(s,u,e,r)){if(0===m(s,e,u))return v(s,e,u);o++}}return o%2==1},v=function(e,t,n){return t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0])&&t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1])},m=function(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return 0===r?0:r>0?1:2},y=function(e,t,n,r){var o=m(e,t,n),a=m(e,t,r),s=m(n,r,e),u=m(n,r,t);return!!(o!==a&&s!==u||0===o&&v(e,n,t)||0===a&&v(e,r,t)||0===s&&v(n,e,r)||0===u&&v(n,t,r))},b=function(e,t,n){var r=.5*(1-n),o=.5*(1+n);return[[e[0]+(t[0]-e[0])*r,e[1]+(t[1]-e[1])*r],[e[0]+(t[0]-e[0])*o,e[1]+(t[1]-e[1])*o]]},w=function(e,t,n,r,o){return e*Math.pow(o,3)+3*t*Math.pow(o,2)*(1-o)+3*n*o*Math.pow(1-o,2)+r*Math.pow(1-o,3)},_=function(e,t,n,o,a,s){for(var u=(0,r.Z)(e,2),c=u[0],l=u[1],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.01,f=0;f<=1;){if(A(w(t[0],n[0],o[0],a[0],f),w(t[1],n[1],o[1],a[1],f),c,l)<s)return!0;f+=d}return!1},E=function(e,t){var n=t.length;if(e<=t[0])return 0;if(e>=t[n-1])return n-1;for(var r=0,o=n,a=0,s=function(e,n,r){return e-t[n]>=t[r]-e?r:n};r<o&&t[a=Math.floor((r+o)/2)]!==e;)if(e<t[a]){if(a>0&&e>t[a-1])return s(e,a-1,a);o=a}else{if(a<n-1&&e<t[a+1])return s(e,a,a+1);r=a+1}return a},C=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,n=0,r=(0,a.s)(e,t),o=[],s=0;s<r.length-1;s++)n+=A(r[s][0],r[s][1],r[s+1][0],r[s+1][1]),o.push(n);return r[E(n/2,o)]},B=function(e,t){var n,o,a=(0,r.Z)(e,2),s=a[0],u=a[1],c=(0,r.Z)(t,2),l=(0,r.Z)(c[0],2),A=l[0],d=l[1],f=(0,r.Z)(c[1],2),h=f[0],p=f[1],g=h-A,v=p-d,m=g*g+v*v,y=-1;0!==m&&(y=((s-A)*g+(u-d)*v)/m),y<0?(n=A,o=d):y>1?(n=h,o=p):(n=A+y*g,o=d+y*v);var b=s-n,w=u-o;return Math.sqrt(b*b+w*w)}},98030:function(e,t,n){"use strict";n.d(t,{Lp:function(){return l},OV:function(){return f},PY:function(){return d},eN:function(){return s},kc:function(){return o},tw:function(){return A},zJ:function(){return c}});var r=n(50930),o=function(e){var t,n,o,a,s=e.map(function(e){return e[0]}),u=e.map(function(e){return e[1]});return{width:(t=Math).max.apply(t,(0,r.Z)(s))-(n=Math).min.apply(n,(0,r.Z)(s)),height:(o=Math).max.apply(o,(0,r.Z)(u))-(a=Math).min.apply(a,(0,r.Z)(u))}},a=function(e){if(!e.length)return[0,0];var t=0,n=0;return e.forEach(function(e){t+=e[0],n+=e[1]}),[t/e.length,n/e.length]},s=function(e){if(e.length<2)return console.warn("Unable to calculate line mid point. Points.length = ".concat(e.length)),[0,0];for(var t=0,n=e.map(function(n,r){var o=0===r?[0,0]:e[r-1],a=Math.hypot(n[0]-o[0],n[1]-o[1]);return t+=a,a}),r=t/2,o=0,s=0,u=0;u<n.length;u++)if((s+=n[u])>r){o=u;break}return a([e[o-1],e[o]])},u=function(e,t){var n=1/0,r=-1/0;e.forEach(function(e){var o=e[t];n=Math.min(o,n),r=Math.max(o,r)});var o=r-n;return{prevMin:n,prevMax:r,prevSize:o}};function c(e,t,n){var o=u(n,e),a=o.prevMin,s=o.prevSize,c=0===s?1:t/s,l=1/0,A=n.map(function(t){var n=t[e]*c;l=Math.min(n,l);var o=(0,r.Z)(t);return o[e]=n,o});if(2===A.length)return A;var d=a-l;return A.map(function(t){var n=(0,r.Z)(t);return"number"!=typeof n[e]||(n[e]=n[e]+d),n})}var l=function(e){return[e.x,e.y]};function A(e){return{x:e[0],y:e[1]}}var d=l,f=A},7424:function(e,t,n){"use strict";n.d(t,{LU:function(){return a},kb:function(){return s}});var r=n(37164),o=new(n(54298)).k(Date.now()),a=function(){return Math.floor(2147483648*o.next())},s=function(){return(0,r.x0)()}},33489:function(e,t,n){"use strict";n.d(t,{FM:function(){return h},NJ:function(){return A},Sj:function(){return g},UO:function(){return l},kK:function(){return y},kf:function(){return d},mt:function(){return v},q2:function(){return f},r9:function(){return m},sN:function(){return p}});var r=n(90581),o=n(47842),a=n(50930),s=n(56818),u=n(26843),c=n(10291),l=new WeakMap([]),A=new WeakMap,d=new WeakMap,f=new WeakMap,h=function(e){var t=d.get(e);if(t&&t.version===e.version)return t.bounds},p=function(e,t){d.set(e,{bounds:t,version:e.version})},g=function(e){var t=f.get(e);if(t&&t.version===e.version)return t.coords},v=function(e,t){f.set(e,{coords:t,version:e.version})},m=function e(){(0,r.Z)(this,e)};m.cache=new Map,m.textboxCanvasesMap=new Map,m.setCache=function(e,t,n,r){var o={scale:e.scale,elements:t,code:e.code,parsed:n,erdSelectionData:r};return m.cache.set(e.id,o),o},m.getCache=function(e){return m.cache.get(e.id)||null},m.generateTextboxCanvases=function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var l,A=e[Symbol.iterator]();!(r=(l=A.next()).done);r=!0)!function(){var e=l.value;if((0,s.Sf)(e)){var r=(0,u.N9)(e,t);null===m.getTextboxCanvas(t,r)&&n.push((0,c.PZ)(r,t.id).then(function(e){m.setTextboxCanvas(t,r,e)}))}}()}catch(e){o=!0,a=e}finally{try{r||null==A.return||A.return()}finally{if(o)throw a}}return Promise.all(n)},m.setTextboxCanvas=function(e,t,n){var r=m.textboxCanvasesMap.get(e.id);if(r){r[t.id]=n;return}m.textboxCanvasesMap.set(e.id,(0,o.Z)({},t.id,n))},m.getTextboxCanvas=function(e,t){var n;return e&&(null===(n=m.textboxCanvasesMap.get(e.id))||void 0===n?void 0:n[t.id])||null},m.cleanTextboxCanvases=function(e){m.textboxCanvasesMap.delete(e.id)},m.clean=function(e){m.cleanTextboxCanvases(e),m.cache.delete(e.id)};var y=/*#__PURE__*/function(){function e(){(0,r.Z)(this,e)}return e.add=function(t){t.targetElementId&&(e.cache.has(t.targetElementId)?e.cache.set(t.targetElementId,(0,a.Z)(e.cache.get(t.targetElementId)||[]).concat([t])):e.cache.set(t.targetElementId,[t]))},e.set=function(t,n){t&&(0,s.h4)(t)&&(t.targetElementId||n)&&t.targetElementId!==n&&(n?(t.targetElementId&&e.cache.set(t.targetElementId,(0,a.Z)(e.cache.get(t.targetElementId)||[]).concat([t])),e.cache.set(n,(0,a.Z)((e.cache.get(n)||[]).filter(function(e){return e.id!==t.id})))):t.targetElementId&&e.cache.set(t.targetElementId,(0,a.Z)(e.cache.get(t.targetElementId)||[]).concat([t])))},e.get=function(t){return e.cache.get(t)||[]},e.clear=function(){e.cache.clear()},e}();y.cache=new Map([])},39895:function(e,t,n){"use strict";n.d(t,{R7:function(){return p},i:function(){return g},ru:function(){return h}});var r=n(92106),o=n(31632),a=n(48389),s=n(56818),u=n(74889),c=n(5392),l=/*#__PURE__*/n.n(c),A=[.65,.55,.2],d=[.65,.7,1],f=function(e,t){switch(e.type){case"rectangle":case"oval":case"star":case"document":case"hexagon":case"parallelogram":case"trapezoid":case"cylinder":case"diamond":case"triangle":case"ellipse":case"figure":e.width<20&&e.height<20?(t.roughness=.25,t.strokeWidth*=.85):e.width>200&&e.height>200?t.roughness=1:e.width>100&&e.height>100?(t.roughness=.7,t.strokeWidth*=.95):(t.roughness=.5,t.strokeWidth*=.9);break;case"line":case"arrow":var n=Math.max(e.width,e.height);n<20?(t.roughness=.25,t.strokeWidth*=.85):n>=20&&n<100?(t.roughness=.5,t.strokeWidth*=.9):n>=100&&n<200?(t.roughness=.75,t.strokeWidth*=.95):(t.roughness=1,t.strokeWidth*=1)}},h=function(e){return[8,8+e]},p=function(e){return[1.5,6+e]},g=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{theme:"light",continuousPath:!1,skipDynamicRoughness:!1},c="strokeColor"in e?(0,a.dN)(e.strokeColor||"black",n.theme):"black",g={seed:e.seed,strokeLineDash:"dashed"===e.strokeStyle?h(e.strokeWidth):"dotted"===e.strokeStyle?p(e.strokeWidth):void 0,disableMultiStroke:!0,strokeWidth:null!==(t=e.strokeWidth)&&void 0!==t?t:1,fillWeight:e.strokeWidth/2,hachureGap:4*e.strokeWidth,roughness:e.shouldApplyRoughness?e.roughness:0,stroke:c,preserveVertices:n.continuousPath||!1};switch(n.skipDynamicRoughness||f(e,g),(0,s.$5)(e)&&(g.roughness=0,g.bowing=0,g.preserveVertices=!0,g.disableMultiStroke=!0,g.disableMultiStrokeFill=!0,g.curveStepCount=100),0===g.roughness&&(g.bowing=0),g.strokeWidth&&(g.strokeWidth=g.strokeWidth*r.w7.STROKE_MULTIPLIER),g.roughness&&(g.roughness=g.roughness*r.w7.ROUGHNESS_MULTIPLIER),e.type){case"image":case"icon":case"rectangle":case"oval":case"star":case"document":case"hexagon":case"parallelogram":case"trapezoid":case"cylinder":case"diamond":case"triangle":case"ellipse":case"figure":g.fillStyle=e.fillStyle,g.fill=(0,a.dN)(e.backgroundColor,n.theme),"ellipse"===e.type&&(g.curveFitting=1);break;case"draw":(0,u.g6)(e.points)&&(g.fillStyle=e.fillStyle,g.fill=(0,a.dN)(e.backgroundColor,n.theme));break;case"line":case"freedraw":case"arrow":g.preserveVertices=!0}if("elementStyle"in e){if(e.elementStyle===o.wi.Watercolor&&g.fill&&"transparent"!==g.fill){if("#ffffff"!==g.fill){g.fill=l()(g.fill).alpha(d[e.colorMode||0]).hex();var v=(0,a.dN)(e.colorMode===o.UX.Outline?e.strokeColor:e.backgroundColor,n.theme);"transparent"!==v&&"#ffffff"!==v&&(g.watercolorColor=l()(v).alpha(A[e.colorMode||0]).hex())}g.watercolorColor||(g.watercolorColor="#00000022"),g.watercolorSmoothness=function(e){switch(e.type){case"document":case"diamond":case"parallelogram":case"trapezoid":return 4;case"hexagon":case"cylinder":case"rectangle":return 3;case"ellipse":case"star":case"oval":return 2}return 6}(e)/Math.min(g.roughness||1,1),g.watercolorUseBoundingBox="rectangle"===e.type}e.elementStyle===o.wi.Shadow&&(g.shadowColor=(0,a.dN)("#E8E8E8",n.theme),g.shadowOffset=[4,4])}return g}},31781:function(e,t,n){"use strict";n.d(t,{b:function(){return c},g:function(){return u}});var r=n(84754),o=n(33489),a=n(56818),s=n(83250),u=new r.T,c=function(e){if(u.delete(e),o.kf.delete(e),o.q2.delete(e),(0,a.Sf)(e)&&e.lockedGroupId){var t=null===(l=s.Z.getScene(e))||void 0===l?void 0:l.getElementsInGroup(e.lockedGroupId);if(t){var n=!0,r=!1,c=void 0;try{for(var l,A,d=t[Symbol.iterator]();!(n=(A=d.next()).done);n=!0){var f=A.value;u.delete(f),o.kf.delete(f),o.q2.delete(f)}}catch(e){r=!0,c=e}finally{try{n||null==d.return||d.return()}finally{if(r)throw c}}}}}},83250:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(90581),o=n(70865),a=n(96670),s=n(87394),u=n(54367),c=n(42327),l=n(56818),A=n(57568),d=n(33489),f=n(76436),h=function(e){return"string"==typeof e},p=/*#__PURE__*/function(){function e(){(0,r.Z)(this,e),this._batch=!1,this._callbacks=new Set,this._elements=[],this._elementsMap=new Map,this._elementIds=new Set,this._elementIdsByGroupId=new Map,this._groupIdsByElementId=new Map,this._mutationVersion=0,this._destroyed=!1}var t=e.prototype;return t.getElements=function(){return this._elements},t.getElementsById=function(e){var t=this;return e.map(function(e){return t._elementsMap.get(e)})},t.getElement=function(e){return this._elementsMap.get(e)||null},t.getElementIdsInGroup=function(e){if(e)return this._elementIdsByGroupId.get(e)},t.getElementsInGroup=function(e){if(e){var t=this._elementIdsByGroupId.get(e);if(!t){console.warn("No elements found for group",e);return}var n=[],r=!0,o=!1,a=void 0;try{for(var s,c=t[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value,A=this._elementsMap.get(l);A?n.push(A):console.warn("Element not found for id",l)}}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return(0,u.W)(n)}},t.getVersion=function(){return this._mutationVersion},t.replaceAllElements=function(t,n){var r=this,u=[];(null==n?void 0:n.ignorePendingComments)||(u=this._elements.filter(function(e){return(0,l.h4)(e)&&!e.isDeleted&&null==e.threadId}));var A=function(e){var t=function(e){n.push(e),r.add(e.id)},n=[],r=new Set,o={},a={},s={},u={},c={},A=new Set,d=new Set,f={};e.forEach(function(e,t){f[e.id]=t,!1===(0,l.Sf)(e)&&e.lockedGroupId&&d.add(e.lockedGroupId)}),e.forEach(function(t,n){if((0,l.Sf)(t)&&t.lockedGroupId&&d.has(t.lockedGroupId))A.add(t.id),o[t.lockedGroupId]=t;else if((0,l.bt)(t)&&(t.startBinding||t.endBinding)){var r=t.startBinding?f[t.startBinding.elementId]:void 0,h=t.endBinding?f[t.endBinding.elementId]:void 0;if(void 0!==r||void 0!==h){var p=Math.max(r||0,h||0);A.add(t.id);var g=e[p].id;a[g]=a[g]||[],a[g].push(t)}}else t.lockedContainerId&&t.lockedContainerId in f?(A.add(t.id),c[t.lockedContainerId]=c[t.lockedContainerId]||[],c[t.lockedContainerId].push(t)):t.diagramId&&t.diagramId in f?(A.add(t.id),u[t.diagramId]=u[t.diagramId]||[],u[t.diagramId].push(t)):t.figureId&&t.figureId in f&&(A.add(t.id),s[t.figureId]=s[t.figureId]||[],s[t.figureId].push(t))});var h=!0,p=!1,g=void 0;try{for(var v,m=e[Symbol.iterator]();!(h=(v=m.next()).done);h=!0){var y=v.value;A.has(y.id)||(t(y),function e(n){if(n.lockedGroupId&&o[n.lockedGroupId]&&t(o[n.lockedGroupId]),s[n.id]){var l=!0,A=!1,d=void 0;try{for(var f,h=s[n.id][Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var p=f.value;t(p),e(p)}}catch(e){A=!0,d=e}finally{try{l||null==h.return||h.return()}finally{if(A)throw d}}}else if(u[n.id]){var g=!0,v=!1,m=void 0;try{for(var y,b=u[n.id][Symbol.iterator]();!(g=(y=b.next()).done);g=!0){var w=y.value;t(w),e(w)}}catch(e){v=!0,m=e}finally{try{g||null==b.return||b.return()}finally{if(v)throw m}}}else if(c[n.id]){var _=!0,E=!1,C=void 0;try{for(var B,I=c[n.id][Symbol.iterator]();!(_=(B=I.next()).done);_=!0){var x=B.value;t(x),e(x)}}catch(e){E=!0,C=e}finally{try{_||null==I.return||I.return()}finally{if(E)throw C}}}if(a[n.id]){var T=!0,S=!1,k=void 0;try{for(var D,N=a[n.id][Symbol.iterator]();!(T=(D=N.next()).done);T=!0){var O,F,R,L=D.value,M=(null===(O=L.startBinding)||void 0===O?void 0:O.elementId)===n.id?null===(F=L.endBinding)||void 0===F?void 0:F.elementId:null===(R=L.startBinding)||void 0===R?void 0:R.elementId;!M||r.has(M)?(t(L),e(L)):M&&(a[M]=a[M]||[],a[M].push(L))}}catch(e){S=!0,k=e}finally{try{T||null==N.return||N.return()}finally{if(S)throw k}}}}(y))}}catch(e){p=!0,g=e}finally{try{h||null==m.return||m.return()}finally{if(p)throw g}}return n}(t),h=this._elementsMap,p=this._elementIds;this._elementsMap=new Map,this._elementIds=new Set;var g=[],v=[],m=[],y={},b=Object.entries((null==n?void 0:n.predicates)||{}),w=!0,_=!1,E=void 0;try{for(var C,B=b[Symbol.iterator]();!(w=(C=B.next()).done);w=!0)y[(0,s.Z)(C.value,1)[0]]=[]}catch(e){_=!0,E=e}finally{try{w||null==B.return||B.return()}finally{if(_)throw E}}d.kK.clear();var I=0,x=[],T=function(t){g.push(t),r._updateElementGroups((0,a.Z)((0,o.Z)({},t),{isDeleted:!0})),e._sceneMapByElement.delete(t),e._sceneMapById.delete(t.id)},S=function(e){m.push(e),r._updateElementGroups(e)},k=function(e){v.push(e),r._updateElementGroups(e)};A.forEach(function(t){if(!r._elementIds.has(t.id)){r._elementsMap.set(t.id,t),r._elementIds.add(t.id),p.delete(t.id);var o=h.get(t.id);e.mapElementToScene(t,r),r._shouldNewElementBeMarkedDeleted(t,n)&&(t.isDeleted=!0,(0,f.nP)(t));var a=!0,u=!1,A=void 0;try{for(var g,v=b[Symbol.iterator]();!(a=(g=v.next()).done);a=!0){var m=(0,s.Z)(g.value,2),w=m[0];(0,m[1])(t,h.get(t.id))&&y[w].push(t)}}catch(e){u=!0,A=e}finally{try{a||null==v.return||v.return()}finally{if(u)throw A}}if(!(0,c.qP)(t)){o&&(0,c.qP)(o)&&T(t);return}var _=t.zIndex;t.zIndex=I++,x.push(t),o&&(0,c.qP)(o)?t!==o?k(t):t.zIndex!==_&&((0,f.nP)(t),k(t)):S(t),(0,l.h4)(t)&&d.kK.add(t)}});var D=!0,N=!1,O=void 0;try{for(var F,R=p[Symbol.iterator]();!(D=(F=R.next()).done);D=!0){var L=F.value,M=h.get(L);((null==n?void 0:n.isRemote)||M&&(0,c.qP)(M))&&T(M)}}catch(e){N=!0,O=e}finally{try{D||null==R.return||R.return()}finally{if(N)throw O}}var P=!0,U=!1,j=void 0;try{for(var Z,Q=u[Symbol.iterator]();!(P=(Z=Q.next()).done);P=!0){var H=Z.value;H.zIndex=I++,x.push(H)}}catch(e){U=!0,j=e}finally{try{P||null==Q.return||Q.return()}finally{if(U)throw j}}return this._elements=x,(v.length||m.length||g.length)&&this._mutationVersion++,this._emitStateChange({changedElements:v,deletedElements:g,addedElements:m,previousElements:h,preventLocalTextboxRender:null==n?void 0:n.preventLocalTextboxRender,isRemote:!!(null==n?void 0:n.isRemote),isInitialRender:!!(null==n?void 0:n.isInitialRender)}),y},t.batchMutations=function(e){if(this._changeBatch){e();return}this._changeBatch=new Set,this._batch=!0,this._batchedPreventLocalTextboxRender=!0,e(),this._batch=!1,this.informMutation({changedElements:Array.from(this._changeBatch),preventLocalTextboxRender:this._batchedPreventLocalTextboxRender}),this._changeBatch=void 0,this._batchedPreventLocalTextboxRender=void 0},t.informMutation=function(e){var t=e.changedElements,n=void 0===t?[]:t,r=e.preventLocalTextboxRender,o=void 0!==r&&r,a=this;if(n.forEach(function(e){a._updateElementGroups(e)}),this._batch){var s=!0,u=!1,c=void 0;try{for(var l,A=n[Symbol.iterator]();!(s=(l=A.next()).done);s=!0){var d,f=l.value;null===(d=this._changeBatch)||void 0===d||d.add(f)}}catch(e){u=!0,c=e}finally{try{s||null==A.return||A.return()}finally{if(u)throw c}}o||(this._batchedPreventLocalTextboxRender=!1);return}this._mutationVersion++,this._emitStateChange({changedElements:n,deletedElements:[],addedElements:[],previousElements:this._elementsMap,preventLocalTextboxRender:o,isRemote:!1,isInitialRender:!1})},t.addCallback=function(e){var t=this;if(this._callbacks.has(e))throw Error("Scene already has this callback!");return this._callbacks.add(e),function(){if(!t._destroyed){if(!t._callbacks.has(e))throw Error();t._callbacks.delete(e)}}},t._updateElementGroups=function(e){var t=this._groupIdsByElementId.get(e.id),n=e.isDeleted?void 0:e.groupIds;if(null==t?void 0:t.size){var r=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c,l=s.value;(null==n?void 0:n.includes(l))||null===(c=this._elementIdsByGroupId.get(l))||void 0===c||c.delete(e.id)}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}if(null==n?void 0:n.length){this._groupIdsByElementId.set(e.id,new Set(n));var A=!0,d=!1,f=void 0;try{for(var h,p=n[Symbol.iterator]();!(A=(h=p.next()).done);A=!0){var g=h.value;(null==t?void 0:t.has(g))||(this._elementIdsByGroupId.has(g)||this._elementIdsByGroupId.set(g,new Set),this._elementIdsByGroupId.get(g).add(e.id))}}catch(e){d=!0,f=e}finally{try{A||null==p.return||p.return()}finally{if(d)throw f}}}else this._groupIdsByElementId.delete(e.id)},t._shouldNewElementBeMarkedDeleted=function(e,t){var n;return!e.isDeleted&&(!!(0,c.y$)(e)||!!(!(null==t?void 0:t.skipDeleteHangingDiagramElements)&&e.diagramId&&(!this.getElement(e.diagramId)||(null===(n=this.getElement(e.diagramId))||void 0===n?void 0:n.isDeleted))))},t._emitStateChange=function(e){var t=e.changedElements,n=e.deletedElements,r=e.addedElements,o=e.previousElements,a=e.preventLocalTextboxRender,s=e.isRemote,u=e.isInitialRender,c=!0,l=!1,A=void 0;try{for(var d,f=Array.from(this._callbacks)[Symbol.iterator]();!(c=(d=f.next()).done);c=!0)(0,d.value)({sceneVersion:this.getVersion(),changedElements:t,deletedElements:n,addedElements:r,previousElements:o,preventLocalTextboxRender:a,isRemote:!!s,isInitialRender:!!u})}catch(e){l=!0,A=e}finally{try{c||null==f.return||f.return()}finally{if(l)throw A}}},t.destroy=function(){var t=this;this._destroyed=!0,e._sceneMapById.forEach(function(n,r){n===t&&e._sceneMapById.delete(r)}),this._callbacks.clear(),(0,A.$L)()},e.mapElementToScene=function(t,n){if(h(t)){var r=n.getElement(t);r&&(e._sceneMapById.set(t,n),e._sceneMapByElement.set(r,n))}else e._sceneMapByElement.set(t,n),e._sceneMapById.set(t.id,n)},e.unmapElementFromScene=function(t){var n=e.getScene(t);if(n){var r=h(t)?n.getElement(t):t,o=h(t)?t:t.id;e._sceneMapById.delete(o),r&&e._sceneMapByElement.delete(r)}},e.getScene=function(t){return h(t)?e._sceneMapById.get(t)||null:e._sceneMapByElement.get(t)||e._sceneMapById.get(t.id)||null},e}();p._sceneMapByElement=new WeakMap,p._sceneMapById=new Map;var g=p},10291:function(e,t,n){"use strict";n.d(t,{wu:function(){return aB},PZ:function(){return aI},TS:function(){return aE}});for(var r,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x,T,S,k,D,N,O,F,R,L,M,P,U,j,Z,Q,H,V,K,z,G,W,q,Y,$,X,J,ee,et,en,er,ei,eo,ea,es,eu,ec,el,eA,ed,ef,eh,ep,eg,ev,em,ey,eb,ew,e_,eE,eC,eB,eI,ex,eT,eS,ek=n(98788),eD=n(87394),eN=n(22970),eO=n(90581),eF=n(42838),eR=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var a=e.charCodeAt(n++);(64512&a)==56320?t.push(((1023&o)<<10)+(1023&a)+65536):(t.push(o),n--)}else t.push(o)}return t},eL=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],o=-1,a="";++o<n;){var s=e[o];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(o+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},eM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eP="undefined"==typeof Uint8Array?[]:new Uint8Array(256),eU=0;eU<eM.length;eU++)eP[eM.charCodeAt(eU)]=eU;for(var ej="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eZ="undefined"==typeof Uint8Array?[]:new Uint8Array(256),eQ=0;eQ<ej.length;eQ++)eZ[ej.charCodeAt(eQ)]=eQ;for(var eH=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},eV=function(){function e(e,t,n,r,o,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=o,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t]+(e>>5&63),t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),eK="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ez="undefined"==typeof Uint8Array?[]:new Uint8Array(256),eG=0;eG<eK.length;eG++)ez[eK.charCodeAt(eG)]=eG;var eW=[9001,65288],eq=(o=Array.isArray(r=function(e){var t,n,r,o,a,s=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):Array(s),A=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<u;t+=4)n=eZ[e.charCodeAt(t)],r=eZ[e.charCodeAt(t+1)],o=eZ[e.charCodeAt(t+2)],a=eZ[e.charCodeAt(t+3)],A[c++]=n<<2|r>>4,A[c++]=(15&r)<<4|o>>2,A[c++]=(3&o)<<6|63&a;return l}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="))?function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}(r):new Uint32Array(r),s=eH(a=Array.isArray(r)?function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n}(r):new Uint16Array(r),12,o[4]/2),l=2===o[5]?eH(a,(24+o[4])/2):(u=Math.ceil((24+o[4])/4),o.slice?o.slice(u,void 0):new Uint32Array(Array.prototype.slice.call(o,u,c))),new eV(o[0],o[1],o[2],o[3],s,l)),eY=[30,36],e$=[1,2,3,5],eX=[10,8],eJ=[27,26],e0=e$.concat(eX),e1=[38,39,40,34,35],e2=[15,13],e4=function(e,t){void 0===t&&(t="strict");var n=[],r=[],o=[];return e.forEach(function(e,a){var s=eq.get(e);if(s>50?(o.push(!0),s-=50):o.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(a),n.push(16);if(4===s||11===s){if(0===a)return r.push(a),n.push(30);var u=n[a-1];return -1===e0.indexOf(u)?(r.push(r[a-1]),n.push(u)):(r.push(a),n.push(30))}return(r.push(a),31===s)?n.push("strict"===t?21:37):42===s||29===s?n.push(30):43===s?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(37):n.push(30):void n.push(s)}),[r,n,o]},e3=function(e,t,n,r){var o=r[n];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var a=n;a<=r.length;){var s=r[++a];if(s===t)return!0;if(10!==s)break}if(10===o)for(var a=n;a>0;){var u=r[--a];if(Array.isArray(e)?-1!==e.indexOf(u):e===u)for(var c=n;c<=r.length;){var s=r[++c];if(s===t)return!0;if(10!==s)break}if(10!==u)break}return!1},e5=function(e,t){for(var n=e;n>=0;){var r=t[n];if(10!==r)return r;n--}return 0},e6=function(e,t,n,r,o){if(0===n[r])return"\xd7";var a=r-1;if(Array.isArray(o)&&!0===o[a])return"\xd7";var s=a-1,u=a+1,c=t[a],l=s>=0?t[s]:0,A=t[u];if(2===c&&3===A)return"\xd7";if(-1!==e$.indexOf(c))return"!";if(-1!==e$.indexOf(A)||-1!==eX.indexOf(A))return"\xd7";if(8===e5(a,t))return"\xf7";if(11===eq.get(e[a])||(32===c||33===c)&&11===eq.get(e[u])||7===c||7===A||9===c||-1===[10,13,15].indexOf(c)&&9===A||-1!==[17,18,19,24,28].indexOf(A)||22===e5(a,t)||e3(23,22,a,t)||e3([17,18],21,a,t)||e3(12,12,a,t))return"\xd7";if(10===c)return"\xf7";if(23===c||23===A)return"\xd7";if(16===A||16===c)return"\xf7";if(-1!==[13,15,21].indexOf(A)||14===c||36===l&&-1!==e2.indexOf(c)||28===c&&36===A||20===A||-1!==eY.indexOf(A)&&25===c||-1!==eY.indexOf(c)&&25===A||27===c&&-1!==[37,32,33].indexOf(A)||-1!==[37,32,33].indexOf(c)&&26===A||-1!==eY.indexOf(c)&&-1!==eJ.indexOf(A)||-1!==eJ.indexOf(c)&&-1!==eY.indexOf(A)||-1!==[27,26].indexOf(c)&&(25===A||-1!==[22,15].indexOf(A)&&25===t[u+1])||-1!==[22,15].indexOf(c)&&25===A||25===c&&-1!==[25,28,24].indexOf(A))return"\xd7";if(-1!==[25,28,24,17,18].indexOf(A))for(var d=a;d>=0;){var f=t[d];if(25===f)return"\xd7";if(-1!==[28,24].indexOf(f))d--;else break}if(-1!==[27,26].indexOf(A))for(var d=-1!==[17,18].indexOf(c)?s:a;d>=0;){var f=t[d];if(25===f)return"\xd7";if(-1!==[28,24].indexOf(f))d--;else break}if(38===c&&-1!==[38,39,34,35].indexOf(A)||-1!==[39,34].indexOf(c)&&-1!==[39,40].indexOf(A)||-1!==[40,35].indexOf(c)&&40===A||-1!==e1.indexOf(c)&&-1!==[20,26].indexOf(A)||-1!==e1.indexOf(A)&&27===c||-1!==eY.indexOf(c)&&-1!==eY.indexOf(A)||24===c&&-1!==eY.indexOf(A)||-1!==eY.concat(25).indexOf(c)&&22===A&&-1===eW.indexOf(e[u])||-1!==eY.concat(25).indexOf(A)&&18===c)return"\xd7";if(41===c&&41===A){for(var h=n[a],p=1;h>0;)if(41===t[--h])p++;else break;if(p%2!=0)return"\xd7"}return 32===c&&33===A?"\xd7":"\xf7"},e8=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=e4(e,t.lineBreak),r=n[0],o=n[1],a=n[2];return("break-all"===t.wordBreak||"break-word"===t.wordBreak)&&(o=o.map(function(e){return -1!==[25,30,42].indexOf(e)?37:e})),[r,o,"keep-all"===t.wordBreak?a.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0]},e9=function(){function e(e,t,n,r){this.codePoints=e,this.required="!"===t,this.start=n,this.end=r}return e.prototype.slice=function(){return eL.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),e7=function(e,t){var n=eR(e),r=e8(n,t),o=r[0],a=r[1],s=r[2],u=n.length,c=0,l=0;return{next:function(){if(l>=u)return{done:!0,value:null};for(var e="\xd7";l<u&&"\xd7"===(e=e6(n,a,o,++l,s)););if("\xd7"!==e||l===u){var t=new e9(n,e,c,l);return c=l,{value:t,done:!1}}return{done:!0,value:null}}}},te=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="".concat(123,"px"),n.style.display="block",e.body.appendChild(n),t.selectNode(n);var r=Math.round(t.getBoundingClientRect().height);if(e.body.removeChild(n),123===r)return!0}}return!1},tt=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,o=eR(r.data).map(function(e){return eL(e)}),a=0,s={},u=o.every(function(e,t){n.setStart(r,a),n.setEnd(r,a+e.length);var o=n.getBoundingClientRect();a+=e.length;var u=o.x>s.x||o.y>s.y;return s=o,0===t||u});return e.body.removeChild(t),u},tn=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0},tr=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},ti=function(e){var t=e.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var r=new Image,o=t.toDataURL();r.src=o;var a=to(100,100,0,0,r);return n.fillStyle="red",n.fillRect(0,0,100,100),ta(a).then(function(t){n.drawImage(t,0,0);var r=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var a=e.createElement("div");return a.style.backgroundImage="url(".concat(o,")"),a.style.height="".concat(100,"px"),tr(r)?ta(to(100,100,0,0,a)):Promise.reject(!1)}).then(function(e){return n.drawImage(e,0,0),tr(n.getImageData(0,0,100,100).data)}).catch(function(){return!1})},to=function(e,t,n,r,o){var a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"svg"),u=document.createElementNS(a,"foreignObject");return s.setAttributeNS(null,"width",e.toString()),s.setAttributeNS(null,"height",t.toString()),u.setAttributeNS(null,"width","100%"),u.setAttributeNS(null,"height","100%"),u.setAttributeNS(null,"x",n.toString()),u.setAttributeNS(null,"y",r.toString()),u.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(u),u.appendChild(o),s},ta=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(new XMLSerializer().serializeToString(e)))})},ts={get SUPPORT_RANGE_BOUNDS(){var tu=te(document);return Object.defineProperty(ts,"SUPPORT_RANGE_BOUNDS",{value:tu}),tu},get SUPPORT_WORD_BREAKING(){var tc=ts.SUPPORT_RANGE_BOUNDS&&tt(document);return Object.defineProperty(ts,"SUPPORT_WORD_BREAKING",{value:tc}),tc},get SUPPORT_SVG_DRAWING(){var tl=tn(document);return Object.defineProperty(ts,"SUPPORT_SVG_DRAWING",{value:tl}),tl},get SUPPORT_FOREIGNOBJECT_DRAWING(){var tA="function"==typeof Array.from&&"function"==typeof window.fetch?ti(document):Promise.resolve(!1);return Object.defineProperty(ts,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:tA}),tA},get SUPPORT_CORS_IMAGES(){var td=void 0!==new Image().crossOrigin;return Object.defineProperty(ts,"SUPPORT_CORS_IMAGES",{value:td}),td},get SUPPORT_RESPONSE_TYPE(){var tf="string"==typeof new XMLHttpRequest().responseType;return Object.defineProperty(ts,"SUPPORT_RESPONSE_TYPE",{value:tf}),tf},get SUPPORT_CORS_XHR(){var th="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ts,"SUPPORT_CORS_XHR",{value:th}),th},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var tp=!!("undefined"!=typeof Intl&&Intl.Segmenter);return Object.defineProperty(ts,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:tp}),tp}},tg=/*#__PURE__*/function(){function e(){(0,eO.Z)(this,e)}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e}();tg._origin="about:blank";var tv=/*#__PURE__*/function(){function e(t,n){(0,eO.Z)(this,e),this.context=t,this._options=n,this._cache={}}var t=e.prototype;return t.addImage=function(e){var t=Promise.resolve();return this.has(e)||(tC(e)||tw(e))&&(this._cache[e]=this.loadImage(e),this._cache[e].catch(function(){})),t},t.match=function(e){return this._cache[e]},t.loadImage=function(e){var t=this;return(0,ek.Z)(function(){var n,r,o,a;return(0,eN.__generator)(this,function(s){switch(s.label){case 0:if(n=tg.isSameOrigin(e),r=!t_(e)&&!0===t._options.useCORS&&ts.SUPPORT_CORS_IMAGES&&!n,o=!t_(e)&&!n&&!tC(e)&&"string"==typeof t._options.proxy&&ts.SUPPORT_CORS_XHR&&!r,!n&&!1===t._options.allowTaint&&!t_(e)&&!tC(e)&&!o&&!r)return[2];if(a=e,!o)return[3,2];return[4,t.proxy(a)];case 1:a=s.sent(),s.label=2;case 2:return t.context.logger.debug("Added image ".concat(e.substring(0,256))),[4,new Promise(function(e,n){var o=new Image;o.onload=function(){return e(o)},o.onerror=n,(tE(a)||r)&&(o.crossOrigin="anonymous"),o.src=a,!0===o.complete&&setTimeout(function(){return e(o)},500),t._options.imageTimeout>0&&setTimeout(function(){return n("Timed out (".concat(t._options.imageTimeout,"ms) loading image"))},t._options.imageTimeout)})];case 3:return[2,s.sent()]}})})()},t.has=function(e){return void 0!==this._cache[e]},t.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(o,a){var s=ts.SUPPORT_RESPONSE_TYPE?"blob":"text",u=new XMLHttpRequest;u.onload=function(){if(200===u.status){if("text"===s)o(u.response);else{var e=new FileReader;e.addEventListener("load",function(){return o(e.result)},!1),e.addEventListener("error",function(e){return a(e)},!1),e.readAsDataURL(u.response)}}else a("Failed to proxy resource ".concat(r," with status code ").concat(u.status))},u.onerror=a;var c=n.indexOf("?")>-1?"&":"?";if(u.open("GET","".concat(n).concat(c,"url=").concat(encodeURIComponent(e),"&responseType=").concat(s)),"text"!==s&&(0,eF.Z)(u,XMLHttpRequest)&&(u.responseType=s),t._options.imageTimeout){var l=t._options.imageTimeout;u.timeout=l,u.ontimeout=function(){return a("Timed out (".concat(l,"ms) proxying ").concat(r))}}u.send()})},e}(),tm=/^data:image\/svg\+xml/i,ty=/^data:image\/.*;base64,/i,tb=/^data:image\/.*/i,tw=function(e){return ts.SUPPORT_SVG_DRAWING||!tB(e)},t_=function(e){return tb.test(e)},tE=function(e){return ty.test(e)},tC=function(e){return"blob"===e.substr(0,4)},tB=function(e){return"svg"===e.substr(-3).toLowerCase()||tm.test(e)},tI=n(70865),tx=n(50930),tT=/*#__PURE__*/function(){function e(t){var n=t.id,r=t.enabled;(0,eO.Z)(this,e),this.id=n,this.enabled=r,this.start=Date.now()}var t=e.prototype;return t.debug=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.enabled&&(window.console&&"function"==typeof console.debug?(e=console).debug.apply(e,[this.id,"".concat(this.getTime(),"ms")].concat((0,tx.Z)(n))):this.info.apply(this,(0,tx.Z)(n)))},t.getTime=function(){return Date.now()-this.start},t.info=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.enabled&&window.console&&"function"==typeof console.info&&(e=console).info.apply(e,[this.id,"".concat(this.getTime(),"ms")].concat((0,tx.Z)(n)))},t.warn=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.enabled&&(window.console&&"function"==typeof console.warn?(e=console).warn.apply(e,[this.id,"".concat(this.getTime(),"ms")].concat((0,tx.Z)(n))):this.info.apply(this,(0,tx.Z)(n)))},t.error=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];this.enabled&&(window.console&&"function"==typeof console.error?(e=console).error.apply(e,[this.id,"".concat(this.getTime(),"ms")].concat((0,tx.Z)(n))):this.info.apply(this,(0,tx.Z)(n)))},e}();tT.instances={};var tS=function e(t,n){var r;(0,eO.Z)(this,e),this.instanceName="#".concat(e.instanceCount++),this.windowBounds=n,this.logger=new tT({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new tv(this,t)};tS.instanceCount=1;var tk=/*#__PURE__*/function(){function e(t,n,r,o){(0,eO.Z)(this,e),this.left=t,this.top=n,this.width=r,this.height=o,this.left=t,this.top=n,this.width=r,this.height=o}return e.prototype.add=function(t,n,r,o){return new e(this.left+t,this.top+n,this.width+r,this.height+o)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(e){return 0!==e.width});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e}();tk.EMPTY=new tk(0,0,0,0);var tD=function(e,t){return tk.fromClientRect(e,t.getBoundingClientRect())},tN=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw Error("Unable to get document size");return new tk(0,0,Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight)))};(A=X||(X={}))[A.STRING_TOKEN=0]="STRING_TOKEN",A[A.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",A[A.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",A[A.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",A[A.COMMA_TOKEN=4]="COMMA_TOKEN",A[A.HASH_TOKEN=5]="HASH_TOKEN",A[A.DELIM_TOKEN=6]="DELIM_TOKEN",A[A.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",A[A.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",A[A.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",A[A.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",A[A.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",A[A.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",A[A.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",A[A.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",A[A.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",A[A.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",A[A.NUMBER_TOKEN=17]="NUMBER_TOKEN",A[A.FUNCTION=18]="FUNCTION",A[A.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",A[A.IDENT_TOKEN=20]="IDENT_TOKEN",A[A.COLUMN_TOKEN=21]="COLUMN_TOKEN",A[A.URL_TOKEN=22]="URL_TOKEN",A[A.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",A[A.CDC_TOKEN=24]="CDC_TOKEN",A[A.CDO_TOKEN=25]="CDO_TOKEN",A[A.COLON_TOKEN=26]="COLON_TOKEN",A[A.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",A[A.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",A[A.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",A[A.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",A[A.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",A[A.EOF_TOKEN=32]="EOF_TOKEN";var tO=function(e){return e>=48&&e<=57},tF=function(e){return tO(e)||e>=65&&e<=70||e>=97&&e<=102},tR=function(e){return 10===e||9===e||32===e},tL=function(e){var t;return(t=e)>=97&&t<=122||t>=65&&t<=90||e>=128||95===e},tM=function(e){return tL(e)||tO(e)||45===e},tP=function(e,t){return 92===e&&10!==t},tU=function(e,t,n){return 45===e?tL(t)||tP(t,n):!!(tL(e)||92===e&&tP(e,t))},tj=function(e,t,n){return 43===e||45===e?!!tO(t)||46===t&&tO(n):46===e?tO(t):tO(e)},tZ=function(e){var t=0,n=1;(43===e[0]||45===e[t])&&(45===e[t]&&(n=-1),t++);for(var r=[];tO(e[t]);)r.push(e[t++]);var o=r.length?parseInt(eL.apply(void 0,(0,tx.Z)(r)),10):0;46===e[t]&&t++;for(var a=[];tO(e[t]);)a.push(e[t++]);var s=a.length,u=s?parseInt(eL.apply(void 0,(0,tx.Z)(a)),10):0;(69===e[t]||101===e[t])&&t++;var c=1;(43===e[t]||45===e[t])&&(45===e[t]&&(c=-1),t++);for(var l=[];tO(e[t]);)l.push(e[t++]);return n*(o+u*Math.pow(10,-s))*Math.pow(10,c*(l.length?parseInt(eL.apply(void 0,(0,tx.Z)(l)),10):0))},tQ={type:2},tH={type:3},tV={type:4},tK={type:13},tz={type:8},tG={type:21},tW={type:9},tq={type:10},tY={type:11},t$={type:12},tX={type:14},tJ={type:23},t0={type:1},t1={type:25},t2={type:24},t4={type:26},t3={type:27},t5={type:28},t6={type:29},t8={type:31},t9={type:32},t7=/*#__PURE__*/function(){function e(){(0,eO.Z)(this,e),this._value=[]}var t=e.prototype;return t.write=function(e){this._value=this._value.concat(eR(e))},t.read=function(){for(var e=[],t=this.consumeToken();t!==t9;)e.push(t),t=this.consumeToken();return e},t.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tM(t)||tP(n,r)){var o=tU(t,n,r)?2:1;return{type:5,value:this.consumeName(),flags:o}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),tK;break;case 39:return this.consumeStringToken(39);case 40:return tQ;case 41:return tH;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),tX;break;case 43:case 46:if(tj(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return tV;case 45:var a=this.peekCodePoint(0),s=this.peekCodePoint(1);if(tj(e,a,s))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(tU(e,a,s))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(45===a&&62===s)return this.consumeCodePoint(),this.consumeCodePoint(),t2;break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(42===u&&47===(u=this.consumeCodePoint())||-1===u)return this.consumeToken()}break;case 58:return t4;case 59:return t3;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),t1;break;case 64:if(tU(this.peekCodePoint(0),this.peekCodePoint(1),this.peekCodePoint(2)))return{type:7,value:this.consumeName()};break;case 91:return t5;case 92:if(tP(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return t6;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),tz;break;case 123:return tY;case 125:return t$;case 117:case 85:var c=this.peekCodePoint(0),l=this.peekCodePoint(1);return 43===c&&(tF(l)||63===l)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),tW;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),tG;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),tq;break;case -1:return t9}return tR(e)?(this.consumeWhiteSpace(),t8):tO(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):tL(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:eL(e)}},t.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},t.reconsumeCodePoint=function(e){this._value.unshift(e)},t.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();tF(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(eL.apply(void 0,(0,tx.Z)(e.map(function(e){return 63===e?48:e}))),16),end:parseInt(eL.apply(void 0,(0,tx.Z)(e.map(function(e){return 63===e?70:e}))),16)};var r=parseInt(eL.apply(void 0,(0,tx.Z)(e)),16);if(!(45===this.peekCodePoint(0)&&tF(this.peekCodePoint(1))))return{type:30,start:r,end:r};this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];tF(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(eL.apply(void 0,(0,tx.Z)(o)),16)}},t.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var t=this.peekCodePoint(0);if(39===t||34===t){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),tJ)}for(;;){var r,o=this.consumeCodePoint();if(-1===o||41===o)return{type:22,value:eL.apply(void 0,(0,tx.Z)(e))};if(tR(o)){if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))return this.consumeCodePoint(),{type:22,value:eL.apply(void 0,(0,tx.Z)(e))};return this.consumeBadUrlRemnants(),tJ}if(34===o||39===o||40===o||(r=o)>=0&&r<=8||11===r||r>=14&&r<=31||127===r)return this.consumeBadUrlRemnants(),tJ;if(92===o){if(!tP(o,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),tJ;e.push(this.consumeEscapedCodePoint())}else e.push(o)}},t.consumeWhiteSpace=function(){for(;tR(this.peekCodePoint(0));)this.consumeCodePoint()},t.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||-1===e)return;tP(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.consumeStringSlice=function(e){for(var t="";e>0;){var n=Math.min(5e4,e);t+=eL.apply(void 0,(0,tx.Z)(this._value.splice(0,n))),e-=n}return this._value.shift(),t},t.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(-1===r||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(10===r)return this._value.splice(0,n),t0;if(92===r){var o=this._value[n+1];-1!==o&&void 0!==o&&(10===o?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):tP(r,o)&&(t+=this.consumeStringSlice(n)+eL(this.consumeEscapedCodePoint()),n=-1))}n++}},t.consumeNumber=function(){var e=[],t=4,n=this.peekCodePoint(0);for((43===n||45===n)&&e.push(this.consumeCodePoint());tO(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(46===n&&tO(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;tO(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((69===n||101===n)&&((43===r||45===r)&&tO(o)||tO(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;tO(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[tZ(e),t]},t.consumeNumericToken=function(){var e=(0,eD.Z)(this.consumeNumber(),2),t=e[0],n=e[1],r=this.peekCodePoint(0);return tU(r,this.peekCodePoint(1),this.peekCodePoint(2))?{type:15,number:t,flags:n,unit:this.consumeName()}:37===r?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},t.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(tF(e)){for(var t=eL(e);tF(this.peekCodePoint(0))&&t.length<6;)t+=eL(this.consumeCodePoint());tR(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||n>=55296&&n<=57343||n>1114111?65533:n}return -1===e?65533:e},t.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tM(t))e+=eL(t);else{if(!tP(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=eL(this.consumeEscapedCodePoint())}}},e}(),ne=/*#__PURE__*/function(){function e(t){(0,eO.Z)(this,e),this._tokens=t}var t=e.prototype;return t.parseComponentValue=function(){for(var e=this.consumeToken();e.type===X.WHITESPACE_TOKEN;)e=this.consumeToken();if(e.type===X.EOF_TOKEN)throw SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===X.WHITESPACE_TOKEN);if(e.type===X.EOF_TOKEN)return t;throw SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===X.EOF_TOKEN)return e;e.push(t),e.push()}},t.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case X.LEFT_CURLY_BRACKET_TOKEN:case X.LEFT_SQUARE_BRACKET_TOKEN:case X.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(e.type);case X.FUNCTION_TOKEN:return this.consumeFunction(e)}return e},t.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===X.EOF_TOKEN||ns(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.consumeFunction=function(e){for(var t={name:e.value,values:[],type:X.FUNCTION};;){var n=this.consumeToken();if(n.type===X.EOF_TOKEN||n.type===X.RIGHT_PARENTHESIS_TOKEN)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},t.consumeToken=function(){var e=this._tokens.shift();return void 0===e?t9:e},t.reconsumeToken=function(e){this._tokens.unshift(e)},e.create=function(t){var n=new t7;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e}(),nt=function(e){return e.type===X.DIMENSION_TOKEN},nn=function(e){return e.type===X.NUMBER_TOKEN},nr=function(e){return e.type===X.IDENT_TOKEN},ni=function(e,t){return nr(e)&&e.value===t},no=function(e){return e.type!==X.WHITESPACE_TOKEN&&e.type!==X.COMMA_TOKEN},na=function(e){var t=[],n=[];return e.forEach(function(e){if(e.type===X.COMMA_TOKEN){if(0===n.length)throw Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}e.type!==X.WHITESPACE_TOKEN&&n.push(e)}),n.length&&t.push(n),t},ns=function(e,t){return t===X.LEFT_CURLY_BRACKET_TOKEN&&e.type===X.RIGHT_CURLY_BRACKET_TOKEN||t===X.LEFT_SQUARE_BRACKET_TOKEN&&e.type===X.RIGHT_SQUARE_BRACKET_TOKEN||t===X.LEFT_PARENTHESIS_TOKEN&&e.type===X.RIGHT_PARENTHESIS_TOKEN},nu=function(e){return e.type===X.NUMBER_TOKEN||e.type===X.DIMENSION_TOKEN},nc=function(e){return e.type===X.PERCENTAGE_TOKEN||nu(e)},nl=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},nA={type:X.NUMBER_TOKEN,number:0,flags:4},nd={type:X.PERCENTAGE_TOKEN,number:50,flags:4},nf={type:X.PERCENTAGE_TOKEN,number:100,flags:4},nh=function(e,t,n){var r=(0,eD.Z)(e,2),o=r[0],a=r[1];return[np(o,t),np(void 0!==a?a:o,n)]},np=function(e,t){if(e.type===X.PERCENTAGE_TOKEN)return e.number/100*t;if(nt(e))switch(e.unit){case"rem":case"em":return 16*e.number}return e.number},ng="grad",nv="turn",nm={parse:function(e,t){if(t.type===X.DIMENSION_TOKEN)switch(t.unit){case"deg":return Math.PI*t.number/180;case ng:return Math.PI/200*t.number;case"rad":return t.number;case nv:return 2*Math.PI*t.number}throw Error("Unsupported angle type")}},ny=function(e){return e.type===X.DIMENSION_TOKEN&&("deg"===e.unit||e.unit===ng||"rad"===e.unit||e.unit===nv)},nb=function(e){switch(e.filter(nr).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[nA,nA];case"to top":case"bottom":return nw(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[nA,nf];case"to right":case"left":return nw(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[nf,nf];case"to bottom":case"top":return nw(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[nf,nA];case"to left":case"right":return nw(270)}return 0},nw=function(e){return Math.PI*e/180},n_={parse:function(e,t){if(t.type===X.FUNCTION){var n=nk[t.name];if(void 0===n)throw Error('Attempting to parse an unsupported color function "'.concat(t.name,'"'));return n(e,t.values)}if(t.type===X.HASH_TOKEN){if(3===t.value.length){var r=t.value.substring(0,1),o=t.value.substring(1,2),a=t.value.substring(2,3);return nB(parseInt(r+r,16),parseInt(o+o,16),parseInt(a+a,16),1)}if(4===t.value.length){var s=t.value.substring(0,1),u=t.value.substring(1,2),c=t.value.substring(2,3),l=t.value.substring(3,4);return nB(parseInt(s+s,16),parseInt(u+u,16),parseInt(c+c,16),parseInt(l+l,16)/255)}if(6===t.value.length){var A=t.value.substring(0,2),d=t.value.substring(2,4),f=t.value.substring(4,6);return nB(parseInt(A,16),parseInt(d,16),parseInt(f,16),1)}if(8===t.value.length){var h=t.value.substring(0,2),p=t.value.substring(2,4),g=t.value.substring(4,6),v=t.value.substring(6,8);return nB(parseInt(h,16),parseInt(p,16),parseInt(g,16),parseInt(v,16)/255)}}if(t.type===X.IDENT_TOKEN){var m=nN[t.value.toUpperCase()];if(void 0!==m)return m}return nN.TRANSPARENT}},nE=function(e){return(255&e)==0},nC=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,o=255&e>>24;return t<255?"rgba(".concat(o,",").concat(r,",").concat(n,",").concat(t/255,")"):"rgb(".concat(o,",").concat(r,",").concat(n,")")},nB=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r)<<0)>>>0},nI=function(e,t){if(e.type===X.NUMBER_TOKEN)return e.number;if(e.type===X.PERCENTAGE_TOKEN){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},nx=function(e,t){var n=t.filter(no);if(3===n.length){var r=(0,eD.Z)(n.map(nI),3);return nB(r[0],r[1],r[2],1)}if(4===n.length){var o=(0,eD.Z)(n.map(nI),4);return nB(o[0],o[1],o[2],o[3])}return 0};function nT(e,t,n){return(n<0&&(n+=1),n>=1&&(n-=1),n<1/6)?(t-e)*n*6+e:n<.5?t:n<2/3?(t-e)*6*(2/3-n)+e:e}var nS=function(e,t){var n=t.filter(no),r=(0,eD.Z)(n,4),o=r[0],a=r[1],s=r[2],u=r[3],c=(o.type===X.NUMBER_TOKEN?nw(o.number):nm.parse(e,o))/(2*Math.PI),l=nc(a)?a.number/100:0,A=nc(s)?s.number/100:0,d=void 0!==u&&nc(u)?np(u,1):1;if(0===l)return nB(255*A,255*A,255*A,1);var f=A<=.5?A*(l+1):A+l-A*l,h=2*A-f;return nB(255*nT(h,f,c+1/3),255*nT(h,f,c),255*nT(h,f,c-1/3),d)},nk={hsl:nS,hsla:nS,rgb:nx,rgba:nx},nD=function(e,t){return n_.parse(e,ne.create(t).parseComponentValue())},nN={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};(d=J||(J={}))[d.NONE=0]="NONE",d[d.ALL=1]="ALL",d[d.CLONE=2]="CLONE",d[d.PARSE=3]="PARSE",d[d.RENDER=4]="RENDER";var nO=function(e){switch(e.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},nF=function(e,t){var n=nO(e);return 1===n||t===n},nR=function(e,t){return(e&t)!=0};(f=ee||(ee={}))[f.VALUE=0]="VALUE",f[f.LIST=1]="LIST",f[f.IDENT_VALUE=2]="IDENT_VALUE",f[f.TYPE_VALUE=3]="TYPE_VALUE",f[f.TOKEN_VALUE=4]="TOKEN_VALUE",(h=et||(et={}))[h.BORDER_BOX=0]="BORDER_BOX",h[h.PADDING_BOX=1]="PADDING_BOX",h[h.CONTENT_BOX=2]="CONTENT_BOX";var nL={name:"background-clip",initialValue:"border-box",prefix:!1,type:ee.LIST,parse:function(e,t){return t.map(function(e){if(nr(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},nM={name:"background-color",initialValue:"transparent",prefix:!1,type:ee.TYPE_VALUE,format:"color"},nP=function(e,t){var n=n_.parse(e,t[0]),r=t[1];return r&&nc(r)?{color:n,stop:r}:{color:n,stop:null}},nU=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=nA),null===r.stop&&(r.stop=nf);for(var o=[],a=0,s=0;s<e.length;s++){var u=e[s].stop;if(null!==u){var c=np(u,t);c>a?o.push(c):o.push(a),a=c}else o.push(null)}for(var l=null,A=0;A<o.length;A++){var d=o[A];if(null===d)null===l&&(l=A);else if(null!==l){for(var f=A-l,h=(d-o[l-1])/(f+1),p=1;p<=f;p++)o[l+p-1]=h*p;l=null}}return e.map(function(e,n){return{color:e.color,stop:Math.max(Math.min(1,o[n]/t),0)}})},nj=function(e,t,n){var r=t/2,o=n/2,a=np(e[0],t)-r;return(Math.atan2(o-np(e[1],n),a)+2*Math.PI)%(2*Math.PI)},nZ=function(e,t,n){var r="number"==typeof e?e:nj(e,t,n),o=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,s=n/2,u=o/2,c=Math.sin(r-Math.PI/2)*u,l=Math.cos(r-Math.PI/2)*u;return[o,a-l,a+l,s-c,s+c]},nQ=function(e,t){return Math.sqrt(e*e+t*t)},nH=function(e,t,n,r,o){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var a=(0,eD.Z)(t,2),s=nQ(n-a[0],r-a[1]);return(o?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e},{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner},nV=function(e,t,n,r,o){var a=0,s=0;switch(e.size){case ei.CLOSEST_SIDE:e.shape===er.CIRCLE?a=s=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-o)):e.shape===er.ELLIPSE&&(a=Math.min(Math.abs(t),Math.abs(t-r)),s=Math.min(Math.abs(n),Math.abs(n-o)));break;case ei.CLOSEST_CORNER:if(e.shape===er.CIRCLE)a=s=Math.min(nQ(t,n),nQ(t,n-o),nQ(t-r,n),nQ(t-r,n-o));else if(e.shape===er.ELLIPSE){var u=Math.min(Math.abs(n),Math.abs(n-o))/Math.min(Math.abs(t),Math.abs(t-r)),c=(0,eD.Z)(nH(r,o,t,n,!0),2);a=nQ(c[0]-t,(c[1]-n)/u),s=u*a}break;case ei.FARTHEST_SIDE:e.shape===er.CIRCLE?a=s=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-o)):e.shape===er.ELLIPSE&&(a=Math.max(Math.abs(t),Math.abs(t-r)),s=Math.max(Math.abs(n),Math.abs(n-o)));break;case ei.FARTHEST_CORNER:if(e.shape===er.CIRCLE)a=s=Math.max(nQ(t,n),nQ(t,n-o),nQ(t-r,n),nQ(t-r,n-o));else if(e.shape===er.ELLIPSE){var l=Math.max(Math.abs(n),Math.abs(n-o))/Math.max(Math.abs(t),Math.abs(t-r)),A=(0,eD.Z)(nH(r,o,t,n,!1),2);a=nQ(A[0]-t,(A[1]-n)/l),s=l*a}}return Array.isArray(e.size)&&(a=np(e.size[0],r),s=2===e.size.length?np(e.size[1],o):a),[a,s]},nK=function(e,t){var n=nw(180),r=[];return na(t).forEach(function(t,o){if(0===o){var a=t[0];if(a.type===X.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(a.value)){n=nb(t);return}if(ny(a)){n=(nm.parse(e,a)+nw(270))%nw(360);return}}var s=nP(e,t);r.push(s)}),{angle:n,stops:r,type:en.LINEAR_GRADIENT}},nz="closest-side",nG="farthest-side",nW="closest-corner",nq="farthest-corner",nY="circle",n$="ellipse",nX="cover",nJ="contain",n0=function(e,t){var n=er.CIRCLE,r=ei.FARTHEST_CORNER,o=[],a=[];return na(t).forEach(function(t,s){var u=!0;if(0===s?u=t.reduce(function(e,t){if(nr(t))switch(t.value){case"center":return a.push(nd),!1;case"top":case"left":return a.push(nA),!1;case"right":case"bottom":return a.push(nf),!1}else if(nc(t)||nu(t))return a.push(t),!1;return e},u):1===s&&(u=t.reduce(function(e,t){if(nr(t))switch(t.value){case nY:return n=er.CIRCLE,!1;case n$:return n=er.ELLIPSE,!1;case nJ:case nz:return r=ei.CLOSEST_SIDE,!1;case nG:return r=ei.FARTHEST_SIDE,!1;case nW:return r=ei.CLOSEST_CORNER,!1;case nX:case nq:return r=ei.FARTHEST_CORNER,!1}else if(nu(t)||nc(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},u)),u){var c=nP(e,t);o.push(c)}}),{size:r,shape:n,stops:o,position:a,type:en.RADIAL_GRADIENT}};(p=en||(en={}))[p.URL=0]="URL",p[p.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",p[p.RADIAL_GRADIENT=2]="RADIAL_GRADIENT",(g=er||(er={}))[g.CIRCLE=0]="CIRCLE",g[g.ELLIPSE=1]="ELLIPSE",(v=ei||(ei={}))[v.CLOSEST_SIDE=0]="CLOSEST_SIDE",v[v.FARTHEST_SIDE=1]="FARTHEST_SIDE",v[v.CLOSEST_CORNER=2]="CLOSEST_CORNER",v[v.FARTHEST_CORNER=3]="FARTHEST_CORNER";var n1={parse:function(e,t){if(t.type===X.URL_TOKEN){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(t.type===X.FUNCTION){var r=n2[t.name];if(void 0===r)throw Error('Attempting to parse an unsupported image function "'.concat(t.name,'"'));return r(e,t.values)}throw Error("Unsupported image type ".concat(t.type))}},n2={"linear-gradient":function(e,t){var n=nw(180),r=[];return na(t).forEach(function(t,o){if(0===o){var a=t[0];if(a.type===X.IDENT_TOKEN&&"to"===a.value){n=nb(t);return}if(ny(a)){n=nm.parse(e,a);return}}var s=nP(e,t);r.push(s)}),{angle:n,stops:r,type:en.LINEAR_GRADIENT}},"-moz-linear-gradient":nK,"-ms-linear-gradient":nK,"-o-linear-gradient":nK,"-webkit-linear-gradient":nK,"radial-gradient":function(e,t){var n=er.CIRCLE,r=ei.FARTHEST_CORNER,o=[],a=[];return na(t).forEach(function(t,s){var u=!0;if(0===s){var c=!1;u=t.reduce(function(e,t){if(c){if(nr(t))switch(t.value){case"center":a.push(nd);break;case"top":case"left":a.push(nA);break;case"right":case"bottom":a.push(nf)}else(nc(t)||nu(t))&&a.push(t)}else if(nr(t))switch(t.value){case nY:return n=er.CIRCLE,!1;case n$:return n=er.ELLIPSE,!1;case"at":return c=!0,!1;case nz:return r=ei.CLOSEST_SIDE,!1;case nX:case nG:return r=ei.FARTHEST_SIDE,!1;case nJ:case nW:return r=ei.CLOSEST_CORNER,!1;case nq:return r=ei.FARTHEST_CORNER,!1}else if(nu(t)||nc(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},u)}if(u){var l=nP(e,t);o.push(l)}}),{size:r,shape:n,stops:o,position:a,type:en.RADIAL_GRADIENT}},"-moz-radial-gradient":n0,"-ms-radial-gradient":n0,"-o-radial-gradient":n0,"-webkit-radial-gradient":n0,"-webkit-gradient":function(e,t){var n=nw(180),r=[],o=en.LINEAR_GRADIENT,a=er.CIRCLE,s=ei.FARTHEST_CORNER;return na(t).forEach(function(t,n){var a=t[0];if(0===n){if(nr(a)&&"linear"===a.value){o=en.LINEAR_GRADIENT;return}if(nr(a)&&"radial"===a.value){o=en.RADIAL_GRADIENT;return}}if(a.type===X.FUNCTION){if("from"===a.name){var s=n_.parse(e,a.values[0]);r.push({stop:nA,color:s})}else if("to"===a.name){var u=n_.parse(e,a.values[0]);r.push({stop:nf,color:u})}else if("color-stop"===a.name){var c=a.values.filter(no);if(2===c.length){var l=n_.parse(e,c[1]),A=c[0];nn(A)&&r.push({stop:{type:X.PERCENTAGE_TOKEN,number:100*A.number,flags:A.flags},color:l})}}}}),o===en.LINEAR_GRADIENT?{angle:(n+nw(180))%nw(360),stops:r,type:o}:{size:s,shape:a,stops:r,position:[],type:o}}},n4={name:"background-image",initialValue:"none",type:ee.LIST,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return n.type===X.IDENT_TOKEN&&"none"===n.value?[]:t.filter(function(e){var t;return no(e)&&!((t=e).type===X.IDENT_TOKEN&&"none"===t.value)&&(t.type!==X.FUNCTION||!!n2[t.name])}).map(function(t){return n1.parse(e,t)})}};(m=eo||(eo={}))[m.BORDER_BOX=0]="BORDER_BOX",m[m.PADDING_BOX=1]="PADDING_BOX",m[m.CONTENT_BOX=2]="CONTENT_BOX";var n3={name:"background-origin",initialValue:"border-box",prefix:!1,type:ee.LIST,parse:function(e,t){return t.map(function(e){if(nr(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},n5={name:"background-position",initialValue:"0% 0%",type:ee.LIST,prefix:!1,parse:function(e,t){return na(t).map(function(e){return e.filter(nc)}).map(nl)}};(y=ea||(ea={}))[y.REPEAT=0]="REPEAT",y[y.NO_REPEAT=1]="NO_REPEAT",y[y.REPEAT_X=2]="REPEAT_X",y[y.REPEAT_Y=3]="REPEAT_Y";var n6={name:"background-repeat",initialValue:"repeat",prefix:!1,type:ee.LIST,parse:function(e,t){return na(t).map(function(e){return e.filter(nr).map(function(e){return e.value}).join(" ")}).map(n8)}},n8=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};(b=es||(es={})).AUTO="auto",b.CONTAIN="contain",b.COVER="cover";var n9={name:"background-size",initialValue:"0",prefix:!1,type:ee.LIST,parse:function(e,t){return na(t).map(function(e){return e.filter(n7)})}},n7=function(e){return nr(e)||nc(e)},re=function(e){return{name:"border-".concat(e,"-color"),initialValue:"transparent",prefix:!1,type:ee.TYPE_VALUE,format:"color"}},rt=re("top"),rn=re("right"),rr=re("bottom"),ri=re("left"),ro=function(e){return{name:"border-radius-".concat(e),initialValue:"0 0",prefix:!1,type:ee.LIST,parse:function(e,t){return nl(t.filter(nc))}}},ra=ro("top-left"),rs=ro("top-right"),ru=ro("bottom-right"),rc=ro("bottom-left");(w=eu||(eu={}))[w.NONE=0]="NONE",w[w.SOLID=1]="SOLID",w[w.DASHED=2]="DASHED",w[w.DOTTED=3]="DOTTED",w[w.DOUBLE=4]="DOUBLE";var rl=function(e){return{name:"border-".concat(e,"-style"),initialValue:"solid",prefix:!1,type:ee.IDENT_VALUE,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rA=rl("top"),rd=rl("right"),rf=rl("bottom"),rh=rl("left"),rp=function(e){return{name:"border-".concat(e,"-width"),initialValue:"0",type:ee.VALUE,prefix:!1,parse:function(e,t){return nt(t)?t.number:0}}},rg=rp("top"),rv=rp("right"),rm=rp("bottom"),ry=rp("left"),rb={name:"box-shadow",initialValue:"none",type:ee.LIST,prefix:!1,parse:function(e,t){return 1===t.length&&ni(t[0],"none")?[]:na(t).map(function(t){for(var n={color:255,offsetX:nA,offsetY:nA,blur:nA,spread:nA,inset:!1},r=0,o=0;o<t.length;o++){var a=t[o];ni(a,"inset")?n.inset=!0:nu(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:2===r?n.blur=a:n.spread=a,r++):n.color=n_.parse(e,a)}return n})}},rw={name:"color",initialValue:"transparent",prefix:!1,type:ee.TYPE_VALUE,format:"color"};ee.LIST,ee.LIST,ee.LIST,(_=ec||(ec={}))[_.LTR=0]="LTR",_[_.RTL=1]="RTL";var r_={name:"direction",initialValue:"ltr",prefix:!1,type:ee.IDENT_VALUE,parse:function(e,t){return"rtl"===t?1:0}};(E=el||(el={}))[E.NONE=0]="NONE",E[E.BLOCK=2]="BLOCK",E[E.INLINE=4]="INLINE",E[E.RUN_IN=8]="RUN_IN",E[E.FLOW=16]="FLOW",E[E.FLOW_ROOT=32]="FLOW_ROOT",E[E.TABLE=64]="TABLE",E[E.FLEX=128]="FLEX",E[E.GRID=256]="GRID",E[E.RUBY=512]="RUBY",E[E.SUBGRID=1024]="SUBGRID",E[E.LIST_ITEM=2048]="LIST_ITEM",E[E.TABLE_ROW_GROUP=4096]="TABLE_ROW_GROUP",E[E.TABLE_HEADER_GROUP=8192]="TABLE_HEADER_GROUP",E[E.TABLE_FOOTER_GROUP=16384]="TABLE_FOOTER_GROUP",E[E.TABLE_ROW=32768]="TABLE_ROW",E[E.TABLE_CELL=65536]="TABLE_CELL",E[E.TABLE_COLUMN_GROUP=131072]="TABLE_COLUMN_GROUP",E[E.TABLE_COLUMN=262144]="TABLE_COLUMN",E[E.TABLE_CAPTION=524288]="TABLE_CAPTION",E[E.RUBY_BASE=1048576]="RUBY_BASE",E[E.RUBY_TEXT=2097152]="RUBY_TEXT",E[E.RUBY_BASE_CONTAINER=4194304]="RUBY_BASE_CONTAINER",E[E.RUBY_TEXT_CONTAINER=8388608]="RUBY_TEXT_CONTAINER",E[E.CONTENTS=16777216]="CONTENTS",E[E.INLINE_BLOCK=33554432]="INLINE_BLOCK",E[E.INLINE_LIST_ITEM=67108864]="INLINE_LIST_ITEM",E[E.INLINE_TABLE=134217728]="INLINE_TABLE",E[E.INLINE_FLEX=268435456]="INLINE_FLEX",E[E.INLINE_GRID=536870912]="INLINE_GRID";var rE={name:"display",initialValue:"inline-block",prefix:!1,type:ee.LIST,parse:function(e,t){return t.filter(nr).reduce(function(e,t){return e|rC(t.value)},0)}},rC=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},rB={parse:function(e,t){if(t.type===X.DIMENSION_TOKEN)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw Error("Unsupported time type")}},rI={name:"duration",initialValue:"0s",prefix:!1,type:ee.LIST,parse:function(e,t){return t.filter(nt).map(function(t){return rB.parse(e,t)})}};(C=eA||(eA={}))[C.NONE=0]="NONE",C[C.LEFT=1]="LEFT",C[C.RIGHT=2]="RIGHT",C[C.INLINE_START=3]="INLINE_START",C[C.INLINE_END=4]="INLINE_END";var rx={name:"float",initialValue:"none",prefix:!1,type:ee.IDENT_VALUE,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},rT={name:"font-family",initialValue:"",prefix:!1,type:ee.LIST,parse:function(e,t){var n=[],r=[];return t.forEach(function(e){switch(e.type){case X.IDENT_TOKEN:case X.STRING_TOKEN:n.push(e.value);break;case X.NUMBER_TOKEN:n.push(e.number.toString());break;case X.COMMA_TOKEN:r.push(n.join(" ")),n.length=0}}),n.length&&r.push(n.join(" ")),r.map(function(e){return -1===e.indexOf(" ")?e:"'".concat(e,"'")})}},rS={name:"font-size",initialValue:"0",prefix:!1,type:ee.TYPE_VALUE,format:"length"};(B=ed||(ed={})).NORMAL="normal",B.ITALIC="italic",B.OBLIQUE="oblique";var rk={name:"font-style",initialValue:"normal",prefix:!1,type:ee.IDENT_VALUE,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},rD={name:"font-variant",initialValue:"none",type:ee.LIST,prefix:!1,parse:function(e,t){return t.filter(nr).map(function(e){return e.value})}},rN={name:"font-weight",initialValue:"normal",type:ee.VALUE,prefix:!1,parse:function(e,t){return nn(t)?t.number:nr(t)&&"bold"===t.value?700:400}},rO={name:"letter-spacing",initialValue:"0",prefix:!1,type:ee.VALUE,parse:function(e,t){return t.type===X.IDENT_TOKEN&&"normal"===t.value?0:t.type===X.NUMBER_TOKEN||t.type===X.DIMENSION_TOKEN?t.number:0}};(I=ef||(ef={})).NORMAL="normal",I.STRICT="strict";var rF={name:"line-break",initialValue:"normal",prefix:!1,type:ee.IDENT_VALUE,parse:function(e,t){return"strict"===t?ef.STRICT:ef.NORMAL}},rR={name:"line-height",initialValue:"normal",prefix:!1,type:ee.TOKEN_VALUE},rL=function(e,t){return nr(e)&&"normal"===e.value?1.2*t:e.type===X.NUMBER_TOKEN?t*e.number:nc(e)?np(e,t):t},rM={name:"list-style-image",initialValue:"none",type:ee.VALUE,prefix:!1,parse:function(e,t){return t.type===X.IDENT_TOKEN&&"none"===t.value?null:n1.parse(e,t)}};(x=eh||(eh={}))[x.INSIDE=0]="INSIDE",x[x.OUTSIDE=1]="OUTSIDE";var rP={name:"list-style-position",initialValue:"outside",prefix:!1,type:ee.IDENT_VALUE,parse:function(e,t){return"inside"===t?0:1}};(T=ep||(ep={}))[T.NONE=-1]="NONE",T[T.DISC=0]="DISC",T[T.CIRCLE=1]="CIRCLE",T[T.SQUARE=2]="SQUARE",T[T.DECIMAL=3]="DECIMAL",T[T.CJK_DECIMAL=4]="CJK_DECIMAL",T[T.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",T[T.LOWER_ROMAN=6]="LOWER_ROMAN",T[T.UPPER_ROMAN=7]="UPPER_ROMAN",T[T.LOWER_GREEK=8]="LOWER_GREEK",T[T.LOWER_ALPHA=9]="LOWER_ALPHA",T[T.UPPER_ALPHA=10]="UPPER_ALPHA",T[T.ARABIC_INDIC=11]="ARABIC_INDIC",T[T.ARMENIAN=12]="ARMENIAN",T[T.BENGALI=13]="BENGALI",T[T.CAMBODIAN=14]="CAMBODIAN",T[T.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",T[T.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",T[T.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",T[T.DEVANAGARI=18]="DEVANAGARI",T[T.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",T[T.GEORGIAN=20]="GEORGIAN",T[T.GUJARATI=21]="GUJARATI",T[T.GURMUKHI=22]="GURMUKHI",T[T.HEBREW=22]="HEBREW",T[T.HIRAGANA=23]="HIRAGANA",T[T.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",T[T.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",T[T.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",T[T.KANNADA=27]="KANNADA",T[T.KATAKANA=28]="KATAKANA",T[T.KATAKANA_IROHA=29]="KATAKANA_IROHA",T[T.KHMER=30]="KHMER",T[T.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",T[T.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",T[T.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",T[T.LAO=34]="LAO",T[T.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",T[T.MALAYALAM=36]="MALAYALAM",T[T.MONGOLIAN=37]="MONGOLIAN",T[T.MYANMAR=38]="MYANMAR",T[T.ORIYA=39]="ORIYA",T[T.PERSIAN=40]="PERSIAN",T[T.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",T[T.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",T[T.TAMIL=43]="TAMIL",T[T.TELUGU=44]="TELUGU",T[T.THAI=45]="THAI",T[T.TIBETAN=46]="TIBETAN",T[T.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",T[T.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",T[T.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",T[T.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",T[T.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED";var rU={name:"list-style-type",initialValue:"none",prefix:!1,type:ee.IDENT_VALUE,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return -1}}},rj=function(e){return{name:"margin-".concat(e),initialValue:"0",prefix:!1,type:ee.TOKEN_VALUE}},rZ=rj("top"),rQ=rj("right"),rH=rj("bottom"),rV=rj("left"),rK={name:"opacity",initialValue:"1",type:ee.VALUE,prefix:!1,parse:function(e,t){return nn(t)?t.number:1}};(S=eg||(eg={}))[S.VISIBLE=0]="VISIBLE",S[S.HIDDEN=1]="HIDDEN",S[S.SCROLL=2]="SCROLL",S[S.CLIP=3]="CLIP",S[S.AUTO=4]="AUTO";var rz={name:"overflow",initialValue:"visible",prefix:!1,type:ee.LIST,parse:function(e,t){return t.filter(nr).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}};(k=ev||(ev={})).NORMAL="normal",k.BREAK_WORD="break-word";var rG={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:ee.IDENT_VALUE,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},rW=function(e){return{name:"padding-".concat(e),initialValue:"0",prefix:!1,type:ee.TYPE_VALUE,format:"length-percentage"}},rq=rW("top"),rY=rW("right"),r$=rW("bottom"),rX=rW("left");(D=em||(em={}))[D.FILL=0]="FILL",D[D.STROKE=1]="STROKE",D[D.MARKERS=2]="MARKERS";var rJ={name:"paint-order",initialValue:"normal",prefix:!1,type:ee.LIST,parse:function(e,t){var n=[];return t.filter(nr).forEach(function(e){switch(e.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}}),[0,1,2].forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),n}};(N=ey||(ey={}))[N.STATIC=0]="STATIC",N[N.RELATIVE=1]="RELATIVE",N[N.ABSOLUTE=2]="ABSOLUTE",N[N.FIXED=3]="FIXED",N[N.STICKY=4]="STICKY";var r0={name:"position",initialValue:"static",prefix:!1,type:ee.IDENT_VALUE,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}};ee.LIST,(O=eb||(eb={}))[O.LEFT=0]="LEFT",O[O.CENTER=1]="CENTER",O[O.RIGHT=2]="RIGHT";var r1={name:"text-align",initialValue:"left",prefix:!1,type:ee.IDENT_VALUE,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},r2={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:ee.TYPE_VALUE,format:"color"};(F=ew||(ew={}))[F.NONE=0]="NONE",F[F.UNDERLINE=1]="UNDERLINE",F[F.OVERLINE=2]="OVERLINE",F[F.LINE_THROUGH=3]="LINE_THROUGH",F[F.BLINK=4]="BLINK";var r4={name:"text-decoration-line",initialValue:"none",prefix:!1,type:ee.LIST,parse:function(e,t){return t.filter(nr).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},r3={name:"text-shadow",initialValue:"none",type:ee.LIST,prefix:!1,parse:function(e,t){return 1===t.length&&ni(t[0],"none")?[]:na(t).map(function(t){for(var n={color:nN.TRANSPARENT,offsetX:nA,offsetY:nA,blur:nA},r=0,o=0;o<t.length;o++){var a=t[o];nu(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:n.blur=a,r++):n.color=n_.parse(e,a)}return n})}};(R=e_||(e_={}))[R.NONE=0]="NONE",R[R.LOWERCASE=1]="LOWERCASE",R[R.UPPERCASE=2]="UPPERCASE",R[R.CAPITALIZE=3]="CAPITALIZE";var r5={name:"text-transform",initialValue:"none",prefix:!1,type:ee.IDENT_VALUE,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}};function r6(e){throw e}var r8={name:"transform",initialValue:"none",prefix:!0,type:ee.VALUE,parse:function(e,t){if(t.type===X.IDENT_TOKEN&&"none"===t.value)return null;if(t.type===X.FUNCTION){var n=r9[t.name];if(void 0===n)throw Error('Attempting to parse an unsupported transform function "'.concat(t.name,'"'));return n(t.values)}return null}},r9={matrix:function(e){var t=e.filter(function(e){return e.type===X.NUMBER_TOKEN}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return e.type===X.NUMBER_TOKEN}).map(function(e){return e.number}),n=(0,eD.Z)(t,16),r=n[0],o=n[1],a=n[2],a=null!==a?a:r6(TypeError("Cannot destructure undefined")),s=n[3],s=null!==s?s:r6(TypeError("Cannot destructure undefined")),u=n[4],c=n[5],l=n[6],l=null!==l?l:r6(TypeError("Cannot destructure undefined")),A=n[7],A=null!==A?A:r6(TypeError("Cannot destructure undefined")),d=n[8],d=null!==d?d:r6(TypeError("Cannot destructure undefined")),f=n[9],f=null!==f?f:r6(TypeError("Cannot destructure undefined")),h=n[10],h=null!==h?h:r6(TypeError("Cannot destructure undefined")),p=n[11],p=null!==p?p:r6(TypeError("Cannot destructure undefined")),g=n[12],v=n[13],m=n[14],m=null!==m?m:r6(TypeError("Cannot destructure undefined")),y=n[15],y=null!==y?y:r6(TypeError("Cannot destructure undefined"));return 16===t.length?[r,o,u,c,g,v]:null}},r7={type:X.PERCENTAGE_TOKEN,number:50,flags:4},ie=[r7,r7],it={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:ee.LIST,parse:function(e,t){var n=t.filter(nc);return 2!==n.length?ie:[n[0],n[1]]}};(L=eE||(eE={}))[L.VISIBLE=0]="VISIBLE",L[L.HIDDEN=1]="HIDDEN",L[L.COLLAPSE=2]="COLLAPSE";var ir={name:"visible",initialValue:"none",prefix:!1,type:ee.IDENT_VALUE,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}},ii={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:ee.TYPE_VALUE,format:"color"},io={name:"-webkit-text-stroke-width",initialValue:"0",type:ee.VALUE,prefix:!1,parse:function(e,t){return nt(t)?t.number:0}};(M=eC||(eC={})).NORMAL="normal",M.BREAK_ALL="break-all",M.KEEP_ALL="keep-all";var ia={name:"word-break",initialValue:"normal",prefix:!1,type:ee.IDENT_VALUE,parse:function(e,t){switch(t){case"break-all":return eC.BREAK_ALL;case"keep-all":return eC.KEEP_ALL;default:return eC.NORMAL}}},is={name:"z-index",initialValue:"auto",prefix:!1,type:ee.VALUE,parse:function(e,t){if(t.type===X.IDENT_TOKEN)return{auto:!0,order:0};if(nn(t))return{auto:!1,order:t.number};throw Error("Invalid z-index number parsed")}},iu=/*#__PURE__*/function(){function e(t,n){(0,eO.Z)(this,e),this.animationDuration=ic(t,rI,n.animationDuration),this.backgroundClip=ic(t,nL,n.backgroundClip),this.backgroundColor=ic(t,nM,n.backgroundColor),this.backgroundImage=ic(t,n4,n.backgroundImage),this.backgroundOrigin=ic(t,n3,n.backgroundOrigin),this.backgroundPosition=ic(t,n5,n.backgroundPosition),this.backgroundRepeat=ic(t,n6,n.backgroundRepeat),this.backgroundSize=ic(t,n9,n.backgroundSize),this.borderTopColor=ic(t,rt,n.borderTopColor),this.borderRightColor=ic(t,rn,n.borderRightColor),this.borderBottomColor=ic(t,rr,n.borderBottomColor),this.borderLeftColor=ic(t,ri,n.borderLeftColor),this.borderTopLeftRadius=ic(t,ra,n.borderTopLeftRadius),this.borderTopRightRadius=ic(t,rs,n.borderTopRightRadius),this.borderBottomRightRadius=ic(t,ru,n.borderBottomRightRadius),this.borderBottomLeftRadius=ic(t,rc,n.borderBottomLeftRadius),this.borderTopStyle=ic(t,rA,n.borderTopStyle),this.borderRightStyle=ic(t,rd,n.borderRightStyle),this.borderBottomStyle=ic(t,rf,n.borderBottomStyle),this.borderLeftStyle=ic(t,rh,n.borderLeftStyle),this.borderTopWidth=ic(t,rg,n.borderTopWidth),this.borderRightWidth=ic(t,rv,n.borderRightWidth),this.borderBottomWidth=ic(t,rm,n.borderBottomWidth),this.borderLeftWidth=ic(t,ry,n.borderLeftWidth),this.boxShadow=ic(t,rb,n.boxShadow),this.color=ic(t,rw,n.color),this.direction=ic(t,r_,n.direction),this.display=ic(t,rE,n.display),this.float=ic(t,rx,n.cssFloat),this.fontFamily=ic(t,rT,n.fontFamily),this.fontSize=ic(t,rS,n.fontSize),this.fontStyle=ic(t,rk,n.fontStyle),this.fontVariant=ic(t,rD,n.fontVariant),this.fontWeight=ic(t,rN,n.fontWeight),this.letterSpacing=ic(t,rO,n.letterSpacing),this.lineBreak=ic(t,rF,n.lineBreak),this.lineHeight=ic(t,rR,n.lineHeight),this.listStyleImage=ic(t,rM,n.listStyleImage),this.listStylePosition=ic(t,rP,n.listStylePosition),this.listStyleType=ic(t,rU,n.listStyleType),this.marginTop=ic(t,rZ,n.marginTop),this.marginRight=ic(t,rQ,n.marginRight),this.marginBottom=ic(t,rH,n.marginBottom),this.marginLeft=ic(t,rV,n.marginLeft),this.opacity=ic(t,rK,n.opacity);var r,o,a=ic(t,rz,n.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=ic(t,rG,n.overflowWrap),this.paddingTop=ic(t,rq,n.paddingTop),this.paddingRight=ic(t,rY,n.paddingRight),this.paddingBottom=ic(t,r$,n.paddingBottom),this.paddingLeft=ic(t,rX,n.paddingLeft),this.paintOrder=ic(t,rJ,n.paintOrder),this.position=ic(t,r0,n.position),this.textAlign=ic(t,r1,n.textAlign),this.textDecorationColor=ic(t,r2,null!==(r=n.textDecorationColor)&&void 0!==r?r:n.color),this.textDecorationLine=ic(t,r4,null!==(o=n.textDecorationLine)&&void 0!==o?o:n.textDecoration),this.textShadow=ic(t,r3,n.textShadow),this.textTransform=ic(t,r5,n.textTransform),this.transform=ic(t,r8,n.transform),this.transformOrigin=ic(t,it,n.transformOrigin),this.visibility=ic(t,ir,n.visibility),this.webkitTextStrokeColor=ic(t,ii,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=ic(t,io,n.webkitTextStrokeWidth),this.wordBreak=ic(t,ia,n.wordBreak),this.zIndex=ic(t,is,n.zIndex)}var t=e.prototype;return t.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===eE.VISIBLE},t.isTransparent=function(){return nE(this.backgroundColor)},t.isTransformed=function(){return null!==this.transform},t.isPositioned=function(){return this.position!==ey.STATIC},t.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.isFloating=function(){return this.float!==eA.NONE},t.isInlineLevel=function(){return nR(this.display,el.INLINE)||nR(this.display,el.INLINE_BLOCK)||nR(this.display,el.INLINE_FLEX)||nR(this.display,el.INLINE_GRID)||nR(this.display,el.INLINE_LIST_ITEM)||nR(this.display,el.INLINE_TABLE)},e}(),ic=function(e,t,n){var r=new t7,o=null!=n?n.toString():t.initialValue;r.write(o);var a=new ne(r.read());switch(t.type){case ee.IDENT_VALUE:var s=a.parseComponentValue();return t.parse(e,nr(s)?s.value:t.initialValue);case ee.VALUE:return t.parse(e,a.parseComponentValue());case ee.LIST:return t.parse(e,a.parseComponentValues());case ee.TOKEN_VALUE:return a.parseComponentValue();case ee.TYPE_VALUE:switch(t.format){case"angle":return nm.parse(e,a.parseComponentValue());case"color":return n_.parse(e,a.parseComponentValue());case"image":return n1.parse(e,a.parseComponentValue());case"length":var u=a.parseComponentValue();return nu(u)?u:nA;case"length-percentage":var c=a.parseComponentValue();return nc(c)?c:nA;case"time":return rB.parse(e,a.parseComponentValue())}}};(P=eB||(eB={}))[P.CREATES_STACKING_CONTEXT=2]="CREATES_STACKING_CONTEXT",P[P.CREATES_REAL_STACKING_CONTEXT=4]="CREATES_REAL_STACKING_CONTEXT",P[P.IS_LIST_OWNER=8]="IS_LIST_OWNER",P[P.DEBUG_RENDER=16]="DEBUG_RENDER";for(var il=function e(t,n){(0,eO.Z)(this,e),this.context=t,this.textNodes=[],this.elements=[],this.flags=0,nF(n,J.PARSE),this.styles=new iu(t,window.getComputedStyle(n,null)),oe(n)&&(this.styles.animationDuration.some(function(e){return e>0})&&(n.style.animationDuration="0s"),null!==this.styles.transform&&(n.style.transform="none")),this.bounds=tD(t,n),nF(n,J.RENDER)&&(this.flags|=16)},iA=n(21218),id=n(39309),ih=/*#__PURE__*/function(e){(0,iA.Z)(n,e);var t=(0,id.Z)(n);function n(e,r){var o;return(0,eO.Z)(this,n),(o=t.call(this,e,r)).value=r.value,o}return n}(il),ip=/*#__PURE__*/function(e){(0,iA.Z)(n,e);var t=(0,id.Z)(n);function n(e,r){var o;return(0,eO.Z)(this,n),(o=t.call(this,e,r)).start=r.start,o.reversed="boolean"==typeof r.reversed&&!0===r.reversed,o}return n}(il),ig=/*#__PURE__*/function(e){(0,iA.Z)(n,e);var t=(0,id.Z)(n);function n(e,r){(0,eO.Z)(this,n),o=t.call(this,e,r);var o,a=r.options[r.selectedIndex||0];return o.value=a&&a.text||"",o}return n}(il),iv=/*#__PURE__*/function(e){(0,iA.Z)(n,e);var t=(0,id.Z)(n);function n(e,r){var o;return(0,eO.Z)(this,n),(o=t.call(this,e,r)).value=r.value,o}return n}(il),im=/*#__PURE__*/function(e){(0,iA.Z)(n,e);var t=(0,id.Z)(n);function n(e,r){var o;return(0,eO.Z)(this,n),(o=t.call(this,e,r)).canvas=r,o.intrinsicWidth=r.width,o.intrinsicHeight=r.height,o}return n}(il),iy=/*#__PURE__*/function(e){(0,iA.Z)(n,e);var t=(0,id.Z)(n);function n(e,r){(0,eO.Z)(this,n),(o=t.call(this,e,r)).src=r.src,o.width=parseInt(r.width,10)||0,o.height=parseInt(r.height,10)||0,o.backgroundColor=o.styles.backgroundColor;try{if(null===(a=r.contentWindow)||void 0===a?void 0:null===(s=a.document)||void 0===s?void 0:s.documentElement){o.tree=i5(e,r.contentWindow.document.documentElement);var o,a,s,u=r.contentWindow.document.documentElement?nD(e,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):nN.TRANSPARENT,c=r.contentWindow.document.body?nD(e,getComputedStyle(r.contentWindow.document.body).backgroundColor):nN.TRANSPARENT;o.backgroundColor=nE(u)?nE(c)?o.styles.backgroundColor:c:u}}catch(e){}return o}return n}(il),ib=/*#__PURE__*/function(e){(0,iA.Z)(n,e);var t=(0,id.Z)(n);function n(e,r){var o;return(0,eO.Z)(this,n),(o=t.call(this,e,r)).src=r.currentSrc||r.src,o.intrinsicWidth=r.naturalWidth,o.intrinsicHeight=r.naturalHeight,o.context.cache.addImage(o.src),o}return n}(il),iw=[{type:X.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],i_=[{type:X.PERCENTAGE_TOKEN,flags:0,number:50}],iE=function(e){var t=e.type===iI?Array(e.value.length+1).join("•"):e.value;return 0===t.length?e.placeholder||"":t},iC="checkbox",iB="radio",iI="password",ix=/*#__PURE__*/function(e){(0,iA.Z)(n,e);var t=(0,id.Z)(n);function n(e,r){var o,a;switch((0,eO.Z)(this,n),(o=t.call(this,e,r)).type=r.type.toLowerCase(),o.checked=r.checked,o.value=iE(r),(o.type===iC||o.type===iB)&&(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=eu.SOLID,o.styles.backgroundClip=[et.BORDER_BOX],o.styles.backgroundOrigin=[eo.BORDER_BOX],o.bounds=(a=o.bounds).width>a.height?new tk(a.left+(a.width-a.height)/2,a.top,a.height,a.height):a.width<a.height?new tk(a.left,a.top+(a.height-a.width)/2,a.width,a.width):a),o.type){case iC:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=iw;break;case iB:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=i_}return o}return n}(il),iT=/*#__PURE__*/function(e){(0,iA.Z)(n,e);var t=(0,id.Z)(n);function n(e,r){(0,eO.Z)(this,n),o=t.call(this,e,r);var o,a=new XMLSerializer,s=tD(e,r);return r.setAttribute("width","".concat(s.width,"px")),r.setAttribute("height","".concat(s.height,"px")),o.svg="data:image/svg+xml,".concat(encodeURIComponent(a.serializeToString(r))),o.intrinsicWidth=r.width.baseVal.value,o.intrinsicHeight=r.height.baseVal.value,o.context.cache.addImage(o.svg),o}return n}(il),iS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ik="undefined"==typeof Uint8Array?[]:new Uint8Array(256),iD=0;iD<iS.length;iD++)ik[iS.charCodeAt(iD)]=iD;for(var iN=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},iO=function(){function e(e,t,n,r,o,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=o,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t]+(e>>5&63),t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),iF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iR="undefined"==typeof Uint8Array?[]:new Uint8Array(256),iL=0;iL<iF.length;iL++)iR[iF.charCodeAt(iL)]=iL;var iM=function(e){for(var t=[],n=0,r=e.length;n<r;){var o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var a=e.charCodeAt(n++);(64512&a)==56320?t.push(((1023&o)<<10)+(1023&a)+65536):(t.push(o),n--)}else t.push(o)}return t},iP=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],o=-1,a="";++o<n;){var s=e[o];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(o+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},iU=(j=Array.isArray(U=function(e){var t,n,r,o,a,s=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):Array(s),A=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<u;t+=4)n=ik[e.charCodeAt(t)],r=ik[e.charCodeAt(t+1)],o=ik[e.charCodeAt(t+2)],a=ik[e.charCodeAt(t+3)],A[c++]=n<<2|r>>4,A[c++]=(15&r)<<4|o>>2,A[c++]=(3&o)<<6|63&a;return l}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="))?function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n}(U):new Uint32Array(U),Q=iN(Z=Array.isArray(U)?function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n}(U):new Uint16Array(U),12,j[4]/2),K=2===j[5]?iN(Z,(24+j[4])/2):(H=Math.ceil((24+j[4])/4),j.slice?j.slice(H,void 0):new Uint32Array(Array.prototype.slice.call(j,H,V))),new iO(j[0],j[1],j[2],j[3],Q,K)),ij=function(e){return iU.get(e)},iZ=function(e,t,n){var r=n-2,o=t[r],a=t[n-1],s=t[n];if(2===a&&3===s)return"\xd7";if(2===a||3===a||4===a||2===s||3===s||4===s)return"\xf7";if(8===a&&-1!==[8,9,11,12].indexOf(s)||(11===a||9===a)&&(9===s||10===s)||(12===a||10===a)&&10===s||13===s||5===s||7===s||1===a)return"\xd7";if(13===a&&14===s){for(;5===o;)o=t[--r];if(14===o)return"\xd7"}if(15===a&&15===s){for(var u=0;15===o;)u++,o=t[--r];if(u%2==0)return"\xd7"}return"\xf7"},iQ=function(e){var t=iM(e),n=t.length,r=0,o=0,a=t.map(ij);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e="\xd7";r<n&&"\xd7"===(e=iZ(t,a,++r)););if("\xd7"!==e||r===n){var s=iP.apply(null,t.slice(o,r));return o=r,{value:s,done:!1}}return{done:!0,value:null}}}},iH=function(e){for(var t,n=iQ(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},iV=function e(t,n){(0,eO.Z)(this,e),this.text=t,this.bounds=n},iK=function(e,t,n,r){var o=iq(t,n),a=[],s=0;return o.forEach(function(t){if(n.textDecorationLine.length||t.trim().length>0){if(ts.SUPPORT_RANGE_BOUNDS){var o=iG(r,s,t.length).getClientRects();if(o.length>1){var u=iW(t),c=0;u.forEach(function(t){a.push(new iV(t,tk.fromDOMRectList(e,iG(r,c+s,t.length).getClientRects()))),c+=t.length})}else a.push(new iV(t,tk.fromDOMRectList(e,o)))}else{var l=r.splitText(t.length);a.push(new iV(t,iz(e,r))),r=l}}else ts.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));s+=t.length}),a},iz=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var o=t.parentNode;if(o){o.replaceChild(r,t);var a=tD(e,r);return r.firstChild&&o.replaceChild(r.firstChild,r),a}}return tk.EMPTY},iG=function(e,t,n){var r=e.ownerDocument;if(!r)throw Error("Node has no owner document");var o=r.createRange();return o.setStart(e,t),o.setEnd(e,t+n),o},iW=function(e){return ts.SUPPORT_NATIVE_TEXT_SEGMENTATION?Array.from(new Intl.Segmenter(void 0,{granularity:"grapheme"}).segment(e)).map(function(e){return e.segment}):iH(e)},iq=function(e,t){return 0!==t.letterSpacing?iW(e):ts.SUPPORT_NATIVE_TEXT_SEGMENTATION?Array.from(new Intl.Segmenter(void 0,{granularity:"word"}).segment(e)).map(function(e){return e.segment}):i$(e,t)},iY=[32,160,4961,65792,65793,4153,4241],i$=function(e,t){for(var n=e7(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap===ev.BREAK_WORD?"break-word":t.wordBreak}),r=[],o=n.next();!o.done;)!function(){if(o.value){var e=eR(o.value.slice()),t="";e.forEach(function(e){-1===iY.indexOf(e)?t+=eL(e):(t.length&&r.push(t),r.push(eL(e)),t="")}),t.length&&r.push(t)}o=n.next()}();return r},iX=function e(t,n,r){(0,eO.Z)(this,e),this.text=iJ(n.data,r.textTransform),this.textBounds=iK(t,this.text,r,n)},iJ=function(e,t){switch(t){case e_.LOWERCASE:return e.toLowerCase();case e_.CAPITALIZE:return e.replace(i0,i1);case e_.UPPERCASE:return e.toUpperCase();default:return e}},i0=/(^|[\s:\-()])([a-z])/g,i1=function(e,t,n){return e.length>0?t+n.toUpperCase():e},i2=["OL","UL","MENU"],i4=function(e,t,n,r){for(var o,a=t.firstChild;a;a=o)if(o=a.nextSibling,i9(a)&&a.data.trim().length>0)n.textNodes.push(new iX(e,a,n.styles));else if(i7(a)){if(od(a)&&a.assignedNodes)a.assignedNodes().forEach(function(t){return i4(e,t,n,r)});else{var s=i3(e,a);!s.styles.isVisible()||(i6(a,s,r)?s.flags|=eB.CREATES_REAL_STACKING_CONTEXT:i8(s.styles)&&(s.flags|=eB.CREATES_STACKING_CONTEXT),-1!==i2.indexOf(a.tagName)&&(s.flags|=eB.IS_LIST_OWNER),n.elements.push(s),a.slot,a.shadowRoot?i4(e,a.shadowRoot,s,r):ol(a)||oo(a)||oA(a)||i4(e,a,s,r))}}},i3=function(e,t){return ou(t)?new ib(e,t):os(t)?new im(e,t):oo(t)?new iT(e,t):on(t)?new ih(e,t):or(t)?new ip(e,t):oi(t)?new ix(e,t):oA(t)?new ig(e,t):ol(t)?new iv(e,t):oc(t)?new iy(e,t):new il(e,t)},i5=function(e,t){var n=i3(e,t);return n.flags|=eB.CREATES_REAL_STACKING_CONTEXT,i4(e,t,n,n),n},i6=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||oa(e)&&n.styles.isTransparent()},i8=function(e){return e.isPositioned()||e.isFloating()},i9=function(e){return e.nodeType===Node.TEXT_NODE},i7=function(e){return e.nodeType===Node.ELEMENT_NODE},oe=function(e){return i7(e)&&void 0!==e.style&&!ot(e)},ot=function(e){return"object"==typeof e.className},on=function(e){return"LI"===e.tagName},or=function(e){return"OL"===e.tagName},oi=function(e){return"INPUT"===e.tagName},oo=function(e){return"svg"===e.tagName},oa=function(e){return"BODY"===e.tagName},os=function(e){return"CANVAS"===e.tagName},ou=function(e){return"IMG"===e.tagName},oc=function(e){return"IFRAME"===e.tagName},ol=function(e){return"TEXTAREA"===e.tagName},oA=function(e){return"SELECT"===e.tagName},od=function(e){return"SLOT"===e.tagName},of=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},oh=function(e){var t=e.styles,n=e.bounds,r=np(t.paddingLeft,n.width),o=np(t.paddingRight,n.width),a=np(t.paddingTop,n.width),s=np(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+o),-(t.borderTopWidth+t.borderBottomWidth+a+s))};(z=eI||(eI={}))[z.VECTOR=0]="VECTOR",z[z.BEZIER_CURVE=1]="BEZIER_CURVE";var op=function(e,t){return e.length===t.length&&e.some(function(e,n){return e===t[n]})},og=/*#__PURE__*/function(){function e(t,n){(0,eO.Z)(this,e),this.type=eI.VECTOR,this.x=t,this.y=n}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),ov=function(e,t,n){var r,o,a=(r=ow(e.styles.backgroundOrigin,t))===eo.BORDER_BOX?e.bounds:r===eo.CONTENT_BOX?oh(e):of(e),s=(o=ow(e.styles.backgroundClip,t))===et.BORDER_BOX?e.bounds:o===et.CONTENT_BOX?oh(e):of(e),u=ob(ow(e.styles.backgroundSize,t),n,a),c=(0,eD.Z)(u,2),l=c[0],A=c[1],d=nh(ow(e.styles.backgroundPosition,t),a.width-l,a.height-A);return[o_(ow(e.styles.backgroundRepeat,t),d,u,a,s),Math.round(a.left+d[0]),Math.round(a.top+d[1]),l,A]},om=function(e){return nr(e)&&e.value===es.AUTO},oy=function(e){return"number"==typeof e},ob=function(e,t,n){var r=(0,eD.Z)(t,3),o=r[0],a=r[1],s=r[2],u=(0,eD.Z)(e,2),c=u[0],l=u[1];if(!c)return[0,0];if(nc(c)&&l&&nc(l))return[np(c,n.width),np(l,n.height)];var A=oy(s);if(nr(c)&&(c.value===es.CONTAIN||c.value===es.COVER))return oy(s)?n.width/n.height<s!=(c.value===es.COVER)?[n.width,n.width/s]:[n.height*s,n.height]:[n.width,n.height];var d=oy(o),f=oy(a),h=d||f;if(om(c)&&(!l||om(l)))return d&&f?[o,a]:A||h?h&&A?[d?o:a*s,f?a:o/s]:[d?o:n.width,f?a:n.height]:[n.width,n.height];if(A){var p=0,g=0;return nc(c)?p=np(c,n.width):nc(l)&&(g=np(l,n.height)),om(c)?p=g*s:(!l||om(l))&&(g=p/s),[p,g]}var v=null,m=null;if(nc(c)?v=np(c,n.width):l&&nc(l)&&(m=np(l,n.height)),null!==v&&(!l||om(l))&&(m=d&&f?v/o*a:n.height),null!==m&&om(c)&&(v=d&&f?m/a*o:n.width),null!==v&&null!==m)return[v,m];throw Error("Unable to calculate background-size for element")},ow=function(e,t){var n=e[t];return void 0===n?e[0]:n},o_=function(e,t,n,r,o){var a=(0,eD.Z)(t,2),s=a[0],u=a[1],c=(0,eD.Z)(n,2),l=c[0],A=c[1];switch(e){case ea.REPEAT_X:return[new og(Math.round(r.left),Math.round(r.top+u)),new og(Math.round(r.left+r.width),Math.round(r.top+u)),new og(Math.round(r.left+r.width),Math.round(A+r.top+u)),new og(Math.round(r.left),Math.round(A+r.top+u))];case ea.REPEAT_Y:return[new og(Math.round(r.left+s),Math.round(r.top)),new og(Math.round(r.left+s+l),Math.round(r.top)),new og(Math.round(r.left+s+l),Math.round(r.height+r.top)),new og(Math.round(r.left+s),Math.round(r.height+r.top))];case ea.NO_REPEAT:return[new og(Math.round(r.left+s),Math.round(r.top+u)),new og(Math.round(r.left+s+l),Math.round(r.top+u)),new og(Math.round(r.left+s+l),Math.round(r.top+u+A)),new og(Math.round(r.left+s),Math.round(r.top+u+A))];default:return[new og(Math.round(o.left),Math.round(o.top)),new og(Math.round(o.left+o.width),Math.round(o.top)),new og(Math.round(o.left+o.width),Math.round(o.height+o.top)),new og(Math.round(o.left),Math.round(o.height+o.top))]}},oE=function(e,t,n){return new og(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},oC=/*#__PURE__*/function(){function e(t,n,r,o){(0,eO.Z)(this,e),this.type=eI.BEZIER_CURVE,this.start=t,this.startControl=n,this.endControl=r,this.end=o}var t=e.prototype;return t.subdivide=function(t,n){var r=oE(this.start,this.startControl,t),o=oE(this.startControl,this.endControl,t),a=oE(this.endControl,this.end,t),s=oE(r,o,t),u=oE(o,a,t),c=oE(s,u,t);return n?new e(this.start,r,s,c):new e(c,u,a,this.end)},t.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},t.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),oB=function(e){return e.type===eI.BEZIER_CURVE},oI=function(e,t){switch(t){case 0:return oD(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return oD(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return oD(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return oD(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},ox=function(e,t){switch(t){case 0:return oD(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return oD(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return oD(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return oD(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},oT=function(e,t){switch(t){case 0:return oD(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return oD(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return oD(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return oD(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},oS=function(e,t){switch(t){case 0:return ok(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return ok(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return ok(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return ok(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},ok=function(e,t){var n=[];return oB(e)?n.push(e.subdivide(.5,!1)):n.push(e),oB(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},oD=function(e,t,n,r){var o=[];return oB(e)?o.push(e.subdivide(.5,!1)):o.push(e),oB(n)?o.push(n.subdivide(.5,!0)):o.push(n),oB(r)?o.push(r.subdivide(.5,!0).reverse()):o.push(r),oB(t)?o.push(t.subdivide(.5,!1).reverse()):o.push(t),o},oN=function e(t){(0,eO.Z)(this,e);var n,r=t.styles,o=t.bounds,a=(0,eD.Z)(nh(r.borderTopLeftRadius,o.width,o.height),2),s=a[0],u=a[1],c=(0,eD.Z)(nh(r.borderTopRightRadius,o.width,o.height),2),l=c[0],A=c[1],d=(0,eD.Z)(nh(r.borderBottomRightRadius,o.width,o.height),2),f=d[0],h=d[1],p=(0,eD.Z)(nh(r.borderBottomLeftRadius,o.width,o.height),2),g=p[0],v=p[1],m=[];m.push((s+l)/o.width),m.push((g+f)/o.width),m.push((u+v)/o.height),m.push((A+h)/o.height);var y=(n=Math).max.apply(n,(0,tx.Z)(m));y>1&&(s/=y,u/=y,l/=y,A/=y,f/=y,h/=y,g/=y,v/=y);var b=o.width-l,w=o.height-h,_=o.width-f,E=o.height-v,C=r.borderTopWidth,B=r.borderRightWidth,I=r.borderBottomWidth,x=r.borderLeftWidth,T=np(r.paddingTop,t.bounds.width),S=np(r.paddingRight,t.bounds.width),k=np(r.paddingBottom,t.bounds.width),D=np(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||u>0?oO(o.left+x/3,o.top+C/3,s-x/3,u-C/3,ex.TOP_LEFT):new og(o.left+x/3,o.top+C/3),this.topRightBorderDoubleOuterBox=s>0||u>0?oO(o.left+b,o.top+C/3,l-B/3,A-C/3,ex.TOP_RIGHT):new og(o.left+o.width-B/3,o.top+C/3),this.bottomRightBorderDoubleOuterBox=f>0||h>0?oO(o.left+_,o.top+w,f-B/3,h-I/3,ex.BOTTOM_RIGHT):new og(o.left+o.width-B/3,o.top+o.height-I/3),this.bottomLeftBorderDoubleOuterBox=g>0||v>0?oO(o.left+x/3,o.top+E,g-x/3,v-I/3,ex.BOTTOM_LEFT):new og(o.left+x/3,o.top+o.height-I/3),this.topLeftBorderDoubleInnerBox=s>0||u>0?oO(o.left+2*x/3,o.top+2*C/3,s-2*x/3,u-2*C/3,ex.TOP_LEFT):new og(o.left+2*x/3,o.top+2*C/3),this.topRightBorderDoubleInnerBox=s>0||u>0?oO(o.left+b,o.top+2*C/3,l-2*B/3,A-2*C/3,ex.TOP_RIGHT):new og(o.left+o.width-2*B/3,o.top+2*C/3),this.bottomRightBorderDoubleInnerBox=f>0||h>0?oO(o.left+_,o.top+w,f-2*B/3,h-2*I/3,ex.BOTTOM_RIGHT):new og(o.left+o.width-2*B/3,o.top+o.height-2*I/3),this.bottomLeftBorderDoubleInnerBox=g>0||v>0?oO(o.left+2*x/3,o.top+E,g-2*x/3,v-2*I/3,ex.BOTTOM_LEFT):new og(o.left+2*x/3,o.top+o.height-2*I/3),this.topLeftBorderStroke=s>0||u>0?oO(o.left+x/2,o.top+C/2,s-x/2,u-C/2,ex.TOP_LEFT):new og(o.left+x/2,o.top+C/2),this.topRightBorderStroke=s>0||u>0?oO(o.left+b,o.top+C/2,l-B/2,A-C/2,ex.TOP_RIGHT):new og(o.left+o.width-B/2,o.top+C/2),this.bottomRightBorderStroke=f>0||h>0?oO(o.left+_,o.top+w,f-B/2,h-I/2,ex.BOTTOM_RIGHT):new og(o.left+o.width-B/2,o.top+o.height-I/2),this.bottomLeftBorderStroke=g>0||v>0?oO(o.left+x/2,o.top+E,g-x/2,v-I/2,ex.BOTTOM_LEFT):new og(o.left+x/2,o.top+o.height-I/2),this.topLeftBorderBox=s>0||u>0?oO(o.left,o.top,s,u,ex.TOP_LEFT):new og(o.left,o.top),this.topRightBorderBox=l>0||A>0?oO(o.left+b,o.top,l,A,ex.TOP_RIGHT):new og(o.left+o.width,o.top),this.bottomRightBorderBox=f>0||h>0?oO(o.left+_,o.top+w,f,h,ex.BOTTOM_RIGHT):new og(o.left+o.width,o.top+o.height),this.bottomLeftBorderBox=g>0||v>0?oO(o.left,o.top+E,g,v,ex.BOTTOM_LEFT):new og(o.left,o.top+o.height),this.topLeftPaddingBox=s>0||u>0?oO(o.left+x,o.top+C,Math.max(0,s-x),Math.max(0,u-C),ex.TOP_LEFT):new og(o.left+x,o.top+C),this.topRightPaddingBox=l>0||A>0?oO(o.left+Math.min(b,o.width-B),o.top+C,b>o.width+B?0:Math.max(0,l-B),Math.max(0,A-C),ex.TOP_RIGHT):new og(o.left+o.width-B,o.top+C),this.bottomRightPaddingBox=f>0||h>0?oO(o.left+Math.min(_,o.width-x),o.top+Math.min(w,o.height-I),Math.max(0,f-B),Math.max(0,h-I),ex.BOTTOM_RIGHT):new og(o.left+o.width-B,o.top+o.height-I),this.bottomLeftPaddingBox=g>0||v>0?oO(o.left+x,o.top+Math.min(E,o.height-I),Math.max(0,g-x),Math.max(0,v-I),ex.BOTTOM_LEFT):new og(o.left+x,o.top+o.height-I),this.topLeftContentBox=s>0||u>0?oO(o.left+x+D,o.top+C+T,Math.max(0,s-(x+D)),Math.max(0,u-(C+T)),ex.TOP_LEFT):new og(o.left+x+D,o.top+C+T),this.topRightContentBox=l>0||A>0?oO(o.left+Math.min(b,o.width+x+D),o.top+C+T,b>o.width+x+D?0:l-x+D,A-(C+T),ex.TOP_RIGHT):new og(o.left+o.width-(B+S),o.top+C+T),this.bottomRightContentBox=f>0||h>0?oO(o.left+Math.min(_,o.width-(x+D)),o.top+Math.min(w,o.height+C+T),Math.max(0,f-(B+S)),h-(I+k),ex.BOTTOM_RIGHT):new og(o.left+o.width-(B+S),o.top+o.height-(I+k)),this.bottomLeftContentBox=g>0||v>0?oO(o.left+x+D,o.top+E,Math.max(0,g-(x+D)),v-(I+k),ex.BOTTOM_LEFT):new og(o.left+x+D,o.top+o.height-(I+k))};(G=ex||(ex={}))[G.TOP_LEFT=0]="TOP_LEFT",G[G.TOP_RIGHT=1]="TOP_RIGHT",G[G.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",G[G.BOTTOM_LEFT=3]="BOTTOM_LEFT";var oO=function(e,t,n,r,o){var a=(Math.sqrt(2)-1)/3*4,s=n*a,u=r*a,c=e+n,l=t+r;switch(o){case ex.TOP_LEFT:return new oC(new og(e,l),new og(e,l-u),new og(c-s,t),new og(c,t));case ex.TOP_RIGHT:return new oC(new og(e,t),new og(e+s,t),new og(c,l-u),new og(c,l));case ex.BOTTOM_RIGHT:return new oC(new og(c,t),new og(c,t+u),new og(e+s,l),new og(e,l));case ex.BOTTOM_LEFT:default:return new oC(new og(c,l),new og(c-s,l),new og(e,t+u),new og(e,t))}},oF=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},oR=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]};(W=eT||(eT={}))[W.TRANSFORM=0]="TRANSFORM",W[W.CLIP=1]="CLIP",W[W.OPACITY=2]="OPACITY",(q=eS||(eS={}))[q.BACKGROUND_BORDERS=2]="BACKGROUND_BORDERS",q[q.CONTENT=4]="CONTENT";var oL=function e(t,n,r){(0,eO.Z)(this,e),this.type=0,this.target=6,this.offsetX=t,this.offsetY=n,this.matrix=r},oM=function e(t,n){(0,eO.Z)(this,e),this.path=t,this.target=n,this.type=1},oP=function e(t){(0,eO.Z)(this,e),this.opacity=t,this.type=2,this.target=6},oU=function(e){return 1===e.type},oj="Hidden Text",oZ=/*#__PURE__*/function(){function e(t){(0,eO.Z)(this,e),this._data={},this._document=t}var t=e.prototype;return t.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),o=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(oj)),n.appendChild(o),n.appendChild(r);var s=r.offsetTop-o.offsetTop+2;n.removeChild(o),n.appendChild(this._document.createTextNode(oj)),n.style.lineHeight="normal",r.style.verticalAlign="super";var u=r.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:s,middle:u}},t.getMetrics=function(e,t){var n="".concat(e," ").concat(t);return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),oQ={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},oH={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},oV={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},oK={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},oz=function(e,t,n,r,o,a){return e<t||e>n?o1(e,o,a.length>0):r.integers.reduce(function(t,n,o){for(;e>=n;)e-=n,t+=r.values[o];return t},"")+a},oG=function(e,t,n,r){var o="";do!n&&e--,o=r(e)+o,e/=t;while(e*t>=t);return o},oW=function(e,t,n,r,o){var a=n-t+1;return(e<0?"-":"")+(oG(Math.abs(e),a,r,function(e){return eL(Math.floor(e%a)+t)})+o)},oq=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:". ",r=t.length;return oG(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},oY=function(e,t,n,r,o,a){if(e<-9999||e>9999)return o1(e,ep.CJK_DECIMAL,o.length>0);var s=Math.abs(e),u=o;if(0===s)return t[0]+u;for(var c=0;s>0&&c<=4;c++){var l=s%10;0===l&&nR(a,1)&&""!==u?u=t[l]+u:l>1||1===l&&0===c||1===l&&1===c&&nR(a,2)||1===l&&1===c&&nR(a,4)&&e>100||1===l&&c>1&&nR(a,8)?u=t[l]+(c>0?n[c-1]:"")+u:1===l&&c>0&&(u=n[c-1]+u),s=Math.floor(s/10)}return(e<0?r:"")+u},o$="十百千萬",oX="拾佰仟萬",oJ="マイナス",o0="마이너스",o1=function(e,t,n){var r=n?". ":"",o=n?"、":"",a=n?", ":"",s=n?" ":"";switch(t){case ep.DISC:return"•"+s;case ep.CIRCLE:return"◦"+s;case ep.SQUARE:return"◾"+s;case ep.DECIMAL_LEADING_ZERO:var u=oW(e,48,57,!0,r);return u.length<4?"0".concat(u):u;case ep.CJK_DECIMAL:return oq(e,"〇一二三四五六七八九",o);case ep.LOWER_ROMAN:return oz(e,1,3999,oQ,ep.DECIMAL,r).toLowerCase();case ep.UPPER_ROMAN:return oz(e,1,3999,oQ,ep.DECIMAL,r);case ep.LOWER_GREEK:return oW(e,945,969,!1,r);case ep.LOWER_ALPHA:return oW(e,97,122,!1,r);case ep.UPPER_ALPHA:return oW(e,65,90,!1,r);case ep.ARABIC_INDIC:return oW(e,1632,1641,!0,r);case ep.ARMENIAN:case ep.UPPER_ARMENIAN:return oz(e,1,9999,oH,ep.DECIMAL,r);case ep.LOWER_ARMENIAN:return oz(e,1,9999,oH,ep.DECIMAL,r).toLowerCase();case ep.BENGALI:return oW(e,2534,2543,!0,r);case ep.CAMBODIAN:case ep.KHMER:return oW(e,6112,6121,!0,r);case ep.CJK_EARTHLY_BRANCH:return oq(e,"子丑寅卯辰巳午未申酉戌亥",o);case ep.CJK_HEAVENLY_STEM:return oq(e,"甲乙丙丁戊己庚辛壬癸",o);case ep.CJK_IDEOGRAPHIC:case ep.TRAD_CHINESE_INFORMAL:return oY(e,"零一二三四五六七八九",o$,"負",o,14);case ep.TRAD_CHINESE_FORMAL:return oY(e,"零壹貳參肆伍陸柒捌玖",oX,"負",o,15);case ep.SIMP_CHINESE_INFORMAL:return oY(e,"零一二三四五六七八九",o$,"负",o,14);case ep.SIMP_CHINESE_FORMAL:return oY(e,"零壹贰叁肆伍陆柒捌玖",oX,"负",o,15);case ep.JAPANESE_INFORMAL:return oY(e,"〇一二三四五六七八九","十百千万",oJ,o,0);case ep.JAPANESE_FORMAL:return oY(e,"零壱弐参四伍六七八九","拾百千万",oJ,o,7);case ep.KOREAN_HANGUL_FORMAL:return oY(e,"영일이삼사오육칠팔구","십백천만",o0,a,7);case ep.KOREAN_HANJA_INFORMAL:return oY(e,"零一二三四五六七八九","十百千萬",o0,a,0);case ep.KOREAN_HANJA_FORMAL:return oY(e,"零壹貳參四五六七八九","拾百千",o0,a,7);case ep.DEVANAGARI:return oW(e,2406,2415,!0,r);case ep.GEORGIAN:return oz(e,1,19999,oK,ep.DECIMAL,r);case ep.GUJARATI:return oW(e,2790,2799,!0,r);case ep.GURMUKHI:return oW(e,2662,2671,!0,r);case ep.HEBREW:return oz(e,1,10999,oV,ep.DECIMAL,r);case ep.HIRAGANA:return oq(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case ep.HIRAGANA_IROHA:return oq(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case ep.KANNADA:return oW(e,3302,3311,!0,r);case ep.KATAKANA:return oq(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",o);case ep.KATAKANA_IROHA:return oq(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",o);case ep.LAO:return oW(e,3792,3801,!0,r);case ep.MONGOLIAN:return oW(e,6160,6169,!0,r);case ep.MYANMAR:return oW(e,4160,4169,!0,r);case ep.ORIYA:return oW(e,2918,2927,!0,r);case ep.PERSIAN:return oW(e,1776,1785,!0,r);case ep.TAMIL:return oW(e,3046,3055,!0,r);case ep.TELUGU:return oW(e,3174,3183,!0,r);case ep.THAI:return oW(e,3664,3673,!0,r);case ep.TIBETAN:return oW(e,3872,3881,!0,r);case ep.DECIMAL:default:return oW(e,48,57,!0,r)}},o2=function e(t){(0,eO.Z)(this,e),this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},o4=/*#__PURE__*/function(){function e(t,n){if((0,eO.Z)(this,e),this.container=t,this.parent=n,this.effects=[],this.container=t,this.curves=new oN(this.container),this.container.styles.opacity<1&&this.effects.push(new oP(this.container.styles.opacity)),null!==this.container.styles.transform){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,o=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new oL(r,o,a))}if(this.container.styles.overflowX!==eg.VISIBLE){var s=oF(this.curves),u=oR(this.curves);op(s,u)?this.effects.push(new oM(s,eS.BACKGROUND_BORDERS|eS.CONTENT)):(this.effects.push(new oM(s,eS.BACKGROUND_BORDERS)),this.effects.push(new oM(u,eS.CONTENT)))}}return e.prototype.getEffects=function(e){for(var t=-1===[ey.ABSOLUTE,ey.FIXED].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var o=n.effects.filter(function(e){return!oU(e)});if(t||n.container.styles.position!==ey.STATIC||!n.parent){if(r.unshift.apply(r,(0,tx.Z)(o)),t=-1===[ey.ABSOLUTE,ey.FIXED].indexOf(n.container.styles.position),n.container.styles.overflowX!==eg.VISIBLE){var a=oF(n.curves),s=oR(n.curves);op(a,s)||r.unshift(new oM(s,eS.BACKGROUND_BORDERS|eS.CONTENT))}}else r.unshift.apply(r,(0,tx.Z)(o));n=n.parent}return r.filter(function(t){return nR(t.target,e)})},e}(),o3=function(e,t,n,r){e.container.elements.forEach(function(o){var a=nR(o.flags,eB.CREATES_REAL_STACKING_CONTEXT),s=nR(o.flags,eB.CREATES_STACKING_CONTEXT),u=new o4(o,e);nR(o.styles.display,el.LIST_ITEM)&&r.push(u);var c=nR(o.flags,eB.IS_LIST_OWNER)?[]:r;if(a||s){var l=a||o.styles.isPositioned()?n:t,A=new o2(u);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var d=o.styles.zIndex.order;if(d<0){var f=0;l.negativeZIndex.some(function(e,t){if(d>e.element.container.styles.zIndex.order)f=t;else if(f>0)return!0;return!1}),l.negativeZIndex.splice(f,0,A)}else if(d>0){var h=0;l.positiveZIndex.some(function(e,t){if(d>=e.element.container.styles.zIndex.order)h=t+1;else if(h>0)return!0;return!1}),l.positiveZIndex.splice(h,0,A)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(A)}else o.styles.isFloating()?l.nonPositionedFloats.push(A):l.nonPositionedInlineLevel.push(A);o3(u,A,a?A:n,c)}else o.styles.isInlineLevel()?t.inlineLevel.push(u):t.nonInlineLevel.push(u),o3(u,t,n,c);nR(o.flags,eB.IS_LIST_OWNER)&&o5(o,c)})},o5=function(e,t){for(var n=(0,eF.Z)(e,ip)?e.start:1,r=!!(0,eF.Z)(e,ip)&&e.reversed,o=0;o<t.length;o++){var a=t[o];(0,eF.Z)(a.container,ih)&&"number"==typeof a.container.value&&0!==a.container.value&&(n=a.container.value),a.listValue=o1(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},o6=function(e){var t=new o4(e,null),n=new o2(t),r=[];return o3(t,n,n,r),o5(t.container,r),n};n.g.SMOOTHING_SCALE=4;var o8=/*#__PURE__*/function(e){(0,iA.Z)(n,e);var t=(0,id.Z)(n);function n(e,r){var o;return(0,eO.Z)(this,n),(o=t.call(this,e,r))._activeEffects=[],o.canvas=r.canvas?r.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),r.canvas||(o.canvas.width=Math.floor(r.width*r.scale*window.SMOOTHING_SCALE),o.canvas.height=Math.floor(r.height*r.scale*window.SMOOTHING_SCALE),o.canvas.style.width="".concat(r.width,"px"),o.canvas.style.height="".concat(r.height,"px")),o.fontMetrics=new oZ(document),o.ctx.scale(r.scale*window.SMOOTHING_SCALE,r.scale*window.SMOOTHING_SCALE),o.ctx.translate(-r.x,-r.y),o.ctx.textBaseline="bottom",o._activeEffects=[],o}var r=n.prototype;return r.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},r.applyEffect=function(e){this.ctx.save(),2===e.type&&(this.ctx.globalAlpha=e.opacity),0===e.type&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),oU(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},r.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},r.renderStack=function(e){var t=this;return(0,ek.Z)(function(){return(0,eN.__generator)(this,function(n){switch(n.label){case 0:if(!e.element.container.styles.isVisible())return[3,2];return[4,t.renderStackContent(e)];case 1:n.sent(),n.label=2;case 2:return[2]}})})()},r.renderNode=function(e){var t=this;return(0,ek.Z)(function(){return(0,eN.__generator)(this,function(n){switch(n.label){case 0:if(nR(e.container.flags,eB.DEBUG_RENDER),!e.container.styles.isVisible())return[3,3];return[4,t.renderNodeBackgroundAndBorders(e)];case 1:return n.sent(),[4,t.renderNodeContent(e)];case 2:n.sent(),n.label=3;case 3:return[2]}})})()},r.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):iW(e.text).reduce(function(t,o){return r.ctx.fillText(o,t,e.bounds.top+n),t+r.ctx.measureText(o).width},e.bounds.left)},r.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),n=an(e.fontFamily).join(", "),r=nt(e.fontSize)?"".concat(e.fontSize.number).concat(e.fontSize.unit):"".concat(e.fontSize.number,"px");return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},r.renderTextNode=function(e,t){var n=this,r=(0,eD.Z)(this.createFontStyle(t),3),o=r[0],a=r[1],s=r[2];this.ctx.font=o,this.ctx.direction=t.direction===ec.RTL?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic";var u=this.fontMetrics.getMetrics(a,s),c=u.baseline,l=u.middle,A=t.paintOrder;e.textBounds.forEach(function(e){A.forEach(function(r){switch(r){case em.FILL:n.ctx.fillStyle=nC(t.color),n.renderTextWithLetterSpacing(e,t.letterSpacing,c);var o=t.textShadow;o.length&&e.text.trim().length&&(o.slice(0).reverse().forEach(function(r){n.ctx.shadowColor=nC(r.color),n.ctx.shadowOffsetX=r.offsetX.number*n.options.scale,n.ctx.shadowOffsetY=r.offsetY.number*n.options.scale,n.ctx.shadowBlur=r.blur.number,n.renderTextWithLetterSpacing(e,t.letterSpacing,c)}),n.ctx.shadowColor="",n.ctx.shadowOffsetX=0,n.ctx.shadowOffsetY=0,n.ctx.shadowBlur=0),t.textDecorationLine.length&&(n.ctx.fillStyle=nC(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case ew.UNDERLINE:n.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+1.25*c),e.bounds.width,1);break;case ew.OVERLINE:n.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case ew.LINE_THROUGH:n.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+l),e.bounds.width,1)}}));break;case em.STROKE:t.webkitTextStrokeWidth&&e.text.trim().length&&(n.ctx.strokeStyle=nC(t.webkitTextStrokeColor),n.ctx.lineWidth=t.webkitTextStrokeWidth,n.ctx.lineJoin=window.chrome?"miter":"round",n.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+c)),n.ctx.strokeStyle="",n.ctx.lineWidth=0,n.ctx.lineJoin="miter"}})})},r.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=oh(e),o=oR(t);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},r.renderNodeContent=function(e){var t=this;return(0,ek.Z)(function(){var r,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x,T;return(0,eN.__generator)(this,function(S){switch(S.label){case 0:t.applyEffects(e.getEffects(eS.CONTENT)),r=e.container,o=e.curves,a=r.styles,s=!0,u=!1,c=void 0;try{for(l=r.textNodes[Symbol.iterator]();!(s=(A=l.next()).done);s=!0)d=A.value,t.renderTextNode(d,a)}catch(e){u=!0,c=e}finally{try{s||null==l.return||l.return()}finally{if(u)throw c}}if(!(0,eF.Z)(r,ib))return[3,4];S.label=1;case 1:return S.trys.push([1,3,,4]),[4,t.context.cache.match(r.src)];case 2:return f=S.sent(),t.renderReplacedElement(r,o,f),[3,4];case 3:return S.sent(),t.context.logger.error("Error loading image ".concat(r.src)),[3,4];case 4:if((0,eF.Z)(r,im)&&t.renderReplacedElement(r,o,r.canvas),!(0,eF.Z)(r,iT))return[3,8];S.label=5;case 5:return S.trys.push([5,7,,8]),[4,t.context.cache.match(r.svg)];case 6:return h=S.sent(),t.renderReplacedElement(r,o,h),[3,8];case 7:return S.sent(),t.context.logger.error("Error loading svg ".concat(r.svg.substring(0,255))),[3,8];case 8:if(!((0,eF.Z)(r,iy)&&r.tree))return[3,10];return[4,new n(t.context,{scale:t.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}).render(r.tree)];case 9:p=S.sent(),r.width&&r.height&&t.ctx.drawImage(p,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),S.label=10;case 10:if((0,eF.Z)(r,ix)&&(g=Math.min(r.bounds.width,r.bounds.height),r.type===iC?r.checked&&(t.ctx.save(),t.path([new og(r.bounds.left+.39363*g,r.bounds.top+.79*g),new og(r.bounds.left+.16*g,r.bounds.top+.5549*g),new og(r.bounds.left+.27347*g,r.bounds.top+.44071*g),new og(r.bounds.left+.39694*g,r.bounds.top+.5649*g),new og(r.bounds.left+.72983*g,r.bounds.top+.23*g),new og(r.bounds.left+.84*g,r.bounds.top+.34085*g),new og(r.bounds.left+.39363*g,r.bounds.top+.79*g)]),t.ctx.fillStyle=nC(707406591),t.ctx.fill(),t.ctx.restore()):r.type===iB&&r.checked&&(t.ctx.save(),t.ctx.beginPath(),t.ctx.arc(r.bounds.left+g/2,r.bounds.top+g/2,g/4,0,2*Math.PI,!0),t.ctx.fillStyle=nC(707406591),t.ctx.fill(),t.ctx.restore())),o9(r)&&r.value.length){switch(m=(v=(0,eD.Z)(t.createFontStyle(a),2))[0],y=v[1],b=t.fontMetrics.getMetrics(m,y).baseline,t.ctx.font=m,t.ctx.fillStyle=nC(a.color),t.ctx.textBaseline="alphabetic",t.ctx.textAlign=ae(r.styles.textAlign),w=oh(r),_=0,r.styles.textAlign){case eb.CENTER:_+=w.width/2;break;case eb.RIGHT:_+=w.width}E=w.add(_,0,0,-w.height/2+1),t.ctx.save(),t.path([new og(w.left,w.top),new og(w.left+w.width,w.top),new og(w.left+w.width,w.top+w.height),new og(w.left,w.top+w.height)]),t.ctx.clip(),t.renderTextWithLetterSpacing(new iV(r.value,E),a.letterSpacing,b),t.ctx.restore(),t.ctx.textBaseline="alphabetic",t.ctx.textAlign="left"}if(!nR(r.styles.display,el.LIST_ITEM))return[3,16];if(!(null!==r.styles.listStyleImage))return[3,15];if((C=r.styles.listStyleImage).type!==en.URL)return[3,14];B=C.url,S.label=11;case 11:return S.trys.push([11,13,,14]),[4,t.context.cache.match(B)];case 12:return I=S.sent(),t.ctx.drawImage(I,r.bounds.left-(I.width+10),r.bounds.top),[3,14];case 13:return S.sent(),t.context.logger.error("Error loading list-style-image ".concat(B)),[3,14];case 14:return[3,16];case 15:e.listValue&&r.styles.listStyleType!==ep.NONE&&(x=(0,eD.Z)(t.createFontStyle(a),1)[0],t.ctx.font=x,t.ctx.fillStyle=nC(a.color),t.ctx.textBaseline="middle",t.ctx.textAlign="right",T=new tk(r.bounds.left,r.bounds.top+np(r.styles.paddingTop,r.bounds.width),r.bounds.width,rL(a.lineHeight,a.fontSize.number)/2+1),t.renderTextWithLetterSpacing(new iV(e.listValue,T),a.letterSpacing,rL(a.lineHeight,a.fontSize.number)/2+2),t.ctx.textBaseline="bottom",t.ctx.textAlign="left"),S.label=16;case 16:return[2]}})})()},r.renderStackContent=function(e){var t=this;return(0,ek.Z)(function(){var n,r,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x,T,S,k,D,N,O,F,R,L,M,P,U,j,Z,Q,H,V,K;return(0,eN.__generator)(this,function(z){switch(z.label){case 0:return nR(e.element.container.flags,eB.DEBUG_RENDER),[4,t.renderNodeBackgroundAndBorders(e.element)];case 1:z.sent(),n=!0,r=!1,o=void 0,z.label=2;case 2:z.trys.push([2,7,8,9]),a=e.negativeZIndex[Symbol.iterator](),z.label=3;case 3:if(n=(s=a.next()).done)return[3,6];return u=s.value,[4,t.renderStack(u)];case 4:z.sent(),z.label=5;case 5:return n=!0,[3,3];case 6:return[3,9];case 7:return c=z.sent(),r=!0,o=c,[3,9];case 8:try{n||null==a.return||a.return()}finally{if(r)throw o}return[7];case 9:return[4,t.renderNodeContent(e.element)];case 10:z.sent(),l=!0,A=!1,d=void 0,z.label=11;case 11:z.trys.push([11,16,17,18]),f=e.nonInlineLevel[Symbol.iterator](),z.label=12;case 12:if(l=(h=f.next()).done)return[3,15];return p=h.value,[4,t.renderNode(p)];case 13:z.sent(),z.label=14;case 14:return l=!0,[3,12];case 15:return[3,18];case 16:return c=z.sent(),A=!0,d=c,[3,18];case 17:try{l||null==f.return||f.return()}finally{if(A)throw d}return[7];case 18:g=!0,v=!1,m=void 0,z.label=19;case 19:z.trys.push([19,24,25,26]),y=e.nonPositionedFloats[Symbol.iterator](),z.label=20;case 20:if(g=(b=y.next()).done)return[3,23];return w=b.value,[4,t.renderStack(w)];case 21:z.sent(),z.label=22;case 22:return g=!0,[3,20];case 23:return[3,26];case 24:return c=z.sent(),v=!0,m=c,[3,26];case 25:try{g||null==y.return||y.return()}finally{if(v)throw m}return[7];case 26:_=!0,E=!1,C=void 0,z.label=27;case 27:z.trys.push([27,32,33,34]),B=e.nonPositionedInlineLevel[Symbol.iterator](),z.label=28;case 28:if(_=(I=B.next()).done)return[3,31];return x=I.value,[4,t.renderStack(x)];case 29:z.sent(),z.label=30;case 30:return _=!0,[3,28];case 31:return[3,34];case 32:return c=z.sent(),E=!0,C=c,[3,34];case 33:try{_||null==B.return||B.return()}finally{if(E)throw C}return[7];case 34:T=!0,S=!1,k=void 0,z.label=35;case 35:z.trys.push([35,40,41,42]),D=e.inlineLevel[Symbol.iterator](),z.label=36;case 36:if(T=(N=D.next()).done)return[3,39];return O=N.value,[4,t.renderNode(O)];case 37:z.sent(),z.label=38;case 38:return T=!0,[3,36];case 39:return[3,42];case 40:return c=z.sent(),S=!0,k=c,[3,42];case 41:try{T||null==D.return||D.return()}finally{if(S)throw k}return[7];case 42:F=!0,R=!1,L=void 0,z.label=43;case 43:z.trys.push([43,48,49,50]),M=e.zeroOrAutoZIndexOrTransformedOrOpacity[Symbol.iterator](),z.label=44;case 44:if(F=(P=M.next()).done)return[3,47];return U=P.value,[4,t.renderStack(U)];case 45:z.sent(),z.label=46;case 46:return F=!0,[3,44];case 47:return[3,50];case 48:return c=z.sent(),R=!0,L=c,[3,50];case 49:try{F||null==M.return||M.return()}finally{if(R)throw L}return[7];case 50:j=!0,Z=!1,Q=void 0,z.label=51;case 51:z.trys.push([51,56,57,58]),H=e.positiveZIndex[Symbol.iterator](),z.label=52;case 52:if(j=(V=H.next()).done)return[3,55];return K=V.value,[4,t.renderStack(K)];case 53:z.sent(),z.label=54;case 54:return j=!0,[3,52];case 55:return[3,58];case 56:return c=z.sent(),Z=!0,Q=c,[3,58];case 57:try{j||null==H.return||H.return()}finally{if(Z)throw Q}return[7];case 58:return[2]}})})()},r.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},r.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},r.formatPath=function(e){var t=this;e.forEach(function(e,n){var r=oB(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),oB(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},r.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},r.resizeImage=function(e,t,n){if(e.width===t&&e.height===n)return e;var r,o=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return o.width=Math.max(1,t),o.height=Math.max(1,n),o.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),o},r.renderBackgroundImage=function(e){var t=this;return(0,ek.Z)(function(){var n,r,o,a,s,u,c,l;return(0,eN.__generator)(this,function(A){switch(A.label){case 0:n=e.styles.backgroundImage.length-1,r=!0,o=!1,a=void 0,A.label=1;case 1:A.trys.push([1,6,7,8]),s=function(){var r,o,a,s,u,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x,T,S,k,D,N,O,F,R,L,M,P,U,j,Z,Q,H,V,K,z,G;return(0,eN.__generator)(this,function(W){switch(W.label){case 0:if((r=c.value).type!==en.URL)return[3,5];o=null,a=r.url,W.label=1;case 1:return W.trys.push([1,3,,4]),[4,t.context.cache.match(a)];case 2:return o=W.sent(),[3,4];case 3:return W.sent(),t.context.logger.error("Error loading background-image ".concat(a)),[3,4];case 4:return o&&(u=(s=(0,eD.Z)(ov(e,n,[o.width,o.height,o.width/o.height]),5))[0],l=s[1],A=s[2],d=s[3],f=s[4],h=t.ctx.createPattern(t.resizeImage(o,d,f),"repeat"),t.renderRepeat(u,h,l,A)),[3,6];case 5:1===r.type?(g=(p=(0,eD.Z)(ov(e,n,[null,null,null]),5))[0],v=p[1],m=p[2],y=p[3],b=p[4],_=(w=(0,eD.Z)(nZ(r.angle,y,b),5))[0],E=w[1],C=w[2],B=w[3],I=w[4],(x=document.createElement("canvas")).width=y,x.height=b,S=(T=x.getContext("2d")).createLinearGradient(E,B,C,I),nU(r.stops,_).forEach(function(e){return S.addColorStop(e.stop,nC(e.color))}),T.fillStyle=S,T.fillRect(0,0,y,b),y>0&&b>0&&(k=t.ctx.createPattern(x,"repeat"),t.renderRepeat(g,k,v,m))):2===r.type&&(N=(D=(0,eD.Z)(ov(e,n,[null,null,null]),5))[0],O=D[1],F=D[2],R=D[3],L=D[4],P=np((M=0===r.position.length?[nd]:r.position)[0],R),U=np(M[M.length-1],L),Z=(j=(0,eD.Z)(nV(r,P,U,R,L),2))[0],Q=j[1],Z>0&&Q>0&&(H=t.ctx.createRadialGradient(O+P,F+U,0,O+P,F+U,Z),nU(r.stops,2*Z).forEach(function(e){return H.addColorStop(e.stop,nC(e.color))}),t.path(N),t.ctx.fillStyle=H,Z!==Q?(V=e.bounds.left+.5*e.bounds.width,K=e.bounds.top+.5*e.bounds.height,G=1/(z=Q/Z),t.ctx.save(),t.ctx.translate(V,K),t.ctx.transform(1,0,0,z,0,0),t.ctx.translate(-V,-K),t.ctx.fillRect(O,G*(F-K)+K,R,L*G),t.ctx.restore()):t.ctx.fill())),W.label=6;case 6:return n--,[2]}})},u=e.styles.backgroundImage.slice(0).reverse()[Symbol.iterator](),A.label=2;case 2:if(r=(c=u.next()).done)return[3,5];return[5,(0,eN.__values)(s())];case 3:A.sent(),A.label=4;case 4:return r=!0,[3,2];case 5:return[3,8];case 6:return l=A.sent(),o=!0,a=l,[3,8];case 7:try{r||null==u.return||u.return()}finally{if(o)throw a}return[7];case 8:return[2]}})})()},r.renderSolidBorder=function(e,t,n){var r=this;return(0,ek.Z)(function(){return(0,eN.__generator)(this,function(o){return r.path(oI(n,t)),r.ctx.fillStyle=nC(e),r.ctx.fill(),[2]})})()},r.renderDoubleBorder=function(e,t,n,r){var o=this;return(0,ek.Z)(function(){var a,s;return(0,eN.__generator)(this,function(u){switch(u.label){case 0:if(!(t<3))return[3,2];return[4,o.renderSolidBorder(e,n,r)];case 1:return u.sent(),[2];case 2:return a=ox(r,n),o.path(a),o.ctx.fillStyle=nC(e),o.ctx.fill(),s=oT(r,n),o.path(s),o.ctx.fill(),[2]}})})()},r.renderNodeBackgroundAndBorders=function(e){var t=this;return(0,ek.Z)(function(){var n,r,o,a,s,u,c,l,A,d,f,h;return(0,eN.__generator)(this,function(p){switch(p.label){case 0:if(t.applyEffects(e.getEffects(eS.BACKGROUND_BORDERS)),r=!nE((n=e.container.styles).backgroundColor)||n.backgroundImage.length,o=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],a=o7(ow(n.backgroundClip,0),e.curves),!(r||n.boxShadow.length))return[3,2];return t.ctx.save(),t.path(a),t.ctx.clip(),nE(n.backgroundColor)||(t.ctx.fillStyle=nC(n.backgroundColor),t.ctx.fill()),[4,t.renderBackgroundImage(e.container)];case 1:p.sent(),t.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(n){t.ctx.save();var r,o,a,s,u=oF(e.curves),c=n.inset?0:1e4,l=(r=-c+(n.inset?1:-1)*n.spread.number,o=(n.inset?1:-1)*n.spread.number,a=n.spread.number*(n.inset?-2:2),s=n.spread.number*(n.inset?-2:2),u.map(function(e,t){switch(t){case 0:return e.add(r,o);case 1:return e.add(r+a,o);case 2:return e.add(r+a,o+s);case 3:return e.add(r,o+s)}return e}));n.inset?(t.path(u),t.ctx.clip(),t.mask(l)):(t.mask(u),t.ctx.clip(),t.path(l)),t.ctx.shadowOffsetX=n.offsetX.number+c,t.ctx.shadowOffsetY=n.offsetY.number,t.ctx.shadowColor=nC(n.color),t.ctx.shadowBlur=n.blur.number,t.ctx.fillStyle=n.inset?nC(n.color):"rgba(0,0,0,1)",t.ctx.fill(),t.ctx.restore()}),p.label=2;case 2:s=0,u=!0,c=!1,l=void 0,p.label=3;case 3:p.trys.push([3,15,16,17]),A=o[Symbol.iterator](),p.label=4;case 4:if(u=(d=A.next()).done)return[3,14];if(!((f=d.value).style!==eu.NONE&&!nE(f.color)&&f.width>0))return[3,12];if(f.style!==eu.DASHED)return[3,6];return[4,t.renderDashedDottedBorder(f.color,f.width,s,e.curves,eu.DASHED)];case 5:case 7:case 9:return p.sent(),[3,12];case 6:if(f.style!==eu.DOTTED)return[3,8];return[4,t.renderDashedDottedBorder(f.color,f.width,s,e.curves,eu.DOTTED)];case 8:if(f.style!==eu.DOUBLE)return[3,10];return[4,t.renderDoubleBorder(f.color,f.width,s,e.curves)];case 10:return[4,t.renderSolidBorder(f.color,s,e.curves)];case 11:p.sent(),p.label=12;case 12:s++,p.label=13;case 13:return u=!0,[3,4];case 14:return[3,17];case 15:return h=p.sent(),c=!0,l=h,[3,17];case 16:try{u||null==A.return||A.return()}finally{if(c)throw l}return[7];case 17:return[2]}})})()},r.renderDashedDottedBorder=function(e,t,n,r,o){var a=this;return(0,ek.Z)(function(){var s,u,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C;return(0,eN.__generator)(this,function(B){return a.ctx.save(),s=oS(r,n),u=oI(r,n),o===eu.DASHED&&(a.path(u),a.ctx.clip()),oB(u[0])?(c=u[0].start.x,l=u[0].start.y):(c=u[0].x,l=u[0].y),oB(u[1])?(A=u[1].end.x,d=u[1].end.y):(A=u[1].x,d=u[1].y),f=0===n||2===n?Math.abs(c-A):Math.abs(l-d),a.ctx.beginPath(),o===eu.DOTTED?a.formatPath(s):a.formatPath(u.slice(0,2)),h=t<3?3*t:2*t,p=t<3?2*t:t,o===eu.DOTTED&&(h=t,p=t),g=!0,f<=2*h?g=!1:f<=2*h+p?(v=f/(2*h+p),h*=v,p*=v):(m=Math.floor((f+p)/(h+p)),y=(f-m*h)/(m-1),p=(b=(f-(m+1)*h)/m)<=0||Math.abs(p-y)<Math.abs(p-b)?y:b),g&&(o===eu.DOTTED?a.ctx.setLineDash([0,h+p]):a.ctx.setLineDash([h,p])),o===eu.DOTTED?(a.ctx.lineCap="round",a.ctx.lineWidth=t):a.ctx.lineWidth=2*t+1.1,a.ctx.strokeStyle=nC(e),a.ctx.stroke(),a.ctx.setLineDash([]),o===eu.DASHED&&(oB(u[0])&&(w=u[3],_=u[0],a.ctx.beginPath(),a.formatPath([new og(w.end.x,w.end.y),new og(_.start.x,_.start.y)]),a.ctx.stroke()),oB(u[1])&&(E=u[1],C=u[2],a.ctx.beginPath(),a.formatPath([new og(E.end.x,E.end.y),new og(C.start.x,C.start.y)]),a.ctx.stroke())),a.ctx.restore(),[2]})})()},r.render=function(e){var t=this;return(0,ek.Z)(function(){var n;return(0,eN.__generator)(this,function(r){switch(r.label){case 0:return t.options.backgroundColor&&(t.ctx.fillStyle=nC(t.options.backgroundColor),t.ctx.fillRect(t.options.x,t.options.y,t.options.width,t.options.height)),n=o6(e),[4,t.renderStack(n)];case 1:return r.sent(),t.applyEffects([]),[2,t.canvas]}})})()},n}(function e(t,n){(0,eO.Z)(this,e),this.context=t,this.options=n,this.context=t,this.options=n}),o9=function(e){return!!((0,eF.Z)(e,iv)||(0,eF.Z)(e,ig)||(0,eF.Z)(e,ix)&&e.type!==iB&&e.type!==iC)},o7=function(e,t){switch(e){case et.BORDER_BOX:return oF(t);case et.CONTENT_BOX:return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox];case et.PADDING_BOX:default:return oR(t)}},ae=function(e){switch(e){case eb.CENTER:return"center";case eb.RIGHT:return"right";case eb.LEFT:default:return"left"}},at=["-apple-system","system-ui"],an=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return -1===at.indexOf(e)}):e};tg.setContext(window);var ar=(Y=(0,ek.Z)(function(e,t){var n,r,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x,T,S;return(0,eN.__generator)(this,function(k){switch(k.label){case 0:if(!e||"object"!=typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(n=e.ownerDocument))throw Error("Element is not attached to a Document");if(!(r=n.defaultView))throw Error("Document is not attached to a Window");return u={allowTaint:null!==(o=t.allowTaint)&&void 0!==o&&o,imageTimeout:null!==(a=t.imageTimeout)&&void 0!==a?a:15e3,proxy:t.proxy,useCORS:null!==(s=t.useCORS)&&void 0!==s&&s},p=new tS((0,tI.Z)({logging:null===(c=t.logging)||void 0===c||c,cache:t.cache},u),new tk((h={windowWidth:null!==(l=t.windowWidth)&&void 0!==l?l:r.innerWidth,windowHeight:null!==(A=t.windowHeight)&&void 0!==A?A:r.innerHeight,scrollX:null!==(d=t.scrollX)&&void 0!==d?d:r.pageXOffset,scrollY:null!==(f=t.scrollY)&&void 0!==f?f:r.pageYOffset}).scrollX,h.scrollY,h.windowWidth,h.windowHeight)),v=(g=oa(e)||"HTML"===e.tagName?tN(n):tD(p,e)).width,m=g.height,y=g.left,b=g.top,w="number"==typeof t.backgroundColor?t.backgroundColor:ai(p,e,t.backgroundColor||"transparent"),T={canvas:t.canvas,backgroundColor:w,scale:null!==(E=null!==(_=t.scale)&&void 0!==_?_:r.devicePixelRatio)&&void 0!==E?E:1,x:(null!==(C=t.x)&&void 0!==C?C:0)+y,y:(null!==(B=t.y)&&void 0!==B?B:0)+b,width:null!==(I=t.width)&&void 0!==I?I:Math.ceil(v),height:null!==(x=t.height)&&void 0!==x?x:Math.ceil(m)},w===(S=i5(p,e)).styles.backgroundColor&&(S.styles.backgroundColor=nN.TRANSPARENT),[4,new o8(p,T).render(S)];case 1:return[2,k.sent()]}})}),function(e,t){return Y.apply(this,arguments)}),ai=function(e,t,n){var r=t.ownerDocument,o=r.documentElement?nD(e,getComputedStyle(r.documentElement).backgroundColor):nN.TRANSPARENT,a=r.body?nD(e,getComputedStyle(r.body).backgroundColor):nN.TRANSPARENT,s="string"==typeof n?nD(e,n):null===n?nN.TRANSPARENT:4294967295;return t===r.documentElement?nE(o)?nE(a)?s:a:o:s},ao=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ar(e,t)};tg.setContext(window);var aa=n(10017),as=/*#__PURE__*/n.n(aa),au=n(56818),ac=n(74410);n(84912);var al=function(e){e.querySelectorAll(".html2canvas-link-expander-caret rect, .html2canvas-default-link-icon rect").forEach(function(e){var t=window.getComputedStyle(e);e.style.fill=t.fill,e.style.stroke=t.stroke}),e.querySelectorAll(".html2canvas-default-link-icon > path:first-of-type, .html2canvas-wikilink-icon > path:first-of-type").forEach(function(e){var t=window.getComputedStyle(e);e.style.fill=t.fill,e.style.stroke=t.stroke}),e.querySelectorAll(".html2canvas-figure-link-icon path").forEach(function(e){var t=window.getComputedStyle(e);e.style.fill=t.fill,e.style.stroke=t.stroke})},aA=function(e){al(e)},ad=new RegExp(/ql-indent-(\d)/),af="abcdefghijklmnopqrstuvwxyz",ah={m:1e3,cm:900,d:500,cd:400,c:100,xc:90,l:50,xl:40,x:10,ix:9,v:5,iv:4,i:1},ap=function(e){if(--e<0)return"a";for(var t=af.length,n=1,r=0;;n++){var o=(r+1)*t;if(e<o)break;r=o}e-=r;for(var a="",s=0;s<n;s++)a=af.charAt(e%t)+a,e=Math.floor(e/t);return a},ag=function(e){if(e<=0)return"i";var t="";for(var n in ah){var r=ah[n],o=Math.floor(e/r);e-=o*r;for(var a=0;a<o;a++)t+=n}return t},av=function(e,t){var n=document.createElement("span");return n.className="ql-bullet",n.innerHTML=(t%3==1?ap(e):t%3==2?ag(e):"".concat(e))+". ",n},am=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("LI"===e.tagName&&e.parentNode&&"UL"===e.parentNode.tagName){var o,a=document.createElement("span"),s=e.parentNode.getAttribute("data-checked");o=null!=s?"true"===s?"&#9745;":"&#9744;":"&#8226;",a.className="ql-bullet",a.innerHTML=o,e.insertBefore(a,e.firstChild)}if("LI"===e.tagName&&e.parentNode&&"OL"===e.parentNode.tagName){var u=e.previousSibling,c=(null==u?void 0:u.className)&&ad.test(u.className)?+ad.exec(u.className)[1]:0,l=e.className&&ad.test(e.className)?+ad.exec(e.className)[1]:0;u&&r[l]&&l<=c?r[l]+=1:r[l]=1,e.insertBefore(av(r[l],l),e.firstChild)}e.childNodes.length>0&&e.childNodes.forEach(function(e){am(e,t,!1,r)})},ay=n(46317),ab=n(80003),aw=function(e){var t=e.width,n=e.height;return t>5e3||n>5e3?.25:t>5e3||n>5e3?.5:t>2500||n>2500?.75:1},a_=function(e){var t=ac.S2.setHTML(e,e,{theme:(0,ab.l)()}),r=t.parentElement;if((0,ay.EG)(e)?aA(t):(t.className+=" has-replaced-pseudoelements",n(76498),am(t,e.textAlign,!0)),(0,au.bA)(e)){var o=n.g.devicePixelRatio;t.style.paddingTop="".concat(1===o?3:o,"px")}return t.style.transform="none",r.style.transform="scale(".concat(e.scale,")"),ao(r,{x:0,scale:aw(e),scrollX:0,scrollY:0,width:e.width,height:e.height,removeContainer:!1,foreignObjectRendering:!1}).then(function(e){return r.remove(),e})},aE=new Map,aC=function(e,t){var n,r=e.strokeColor,o=e.fontFamily,a=e.fontSize,s=e.hasFixedBounds,u=e.html,c=e.slate,l=[o,a,s,e.scale,e.text,r,e.textAlign,e.verticalAlign,e.width,e.height,e.mode];return t&&(null===(n=e.text)||void 0===n?void 0:n.length)>0?l.push(t):l.push(u,c),JSON.stringify(l)},aB=function(e){var t=as()(e.filter(au.Sf).map(function(e){return[aC(e),!0]})),n={},r=!0,o=!1,a=void 0;try{for(var s,u=aE[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=(0,eD.Z)(s.value,2),l=c[0];c[1],null==t[l]&&(n[l]=!0)}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}for(var A in n)aE.delete(A)},aI=($=(0,ek.Z)(function(e,t){var n,r;return(0,eN.__generator)(this,function(o){switch(o.label){case 0:if(n=aC(e,t),(r=aE.get(n))||(r={},aE.set(n,r)),r.promise||(r.promise=a_(e)),r.canvas)return[3,2];return[4,r.promise];case 1:r.canvas=o.sent(),o.label=2;case 2:return[2,r.canvas]}})}),function(e,t){return $.apply(this,arguments)})},45629:function(e,t,n){"use strict";n.d(t,{CN:function(){return h},N4:function(){return l},P1:function(){return m},S2:function(){return f},UB:function(){return c},Y7:function(){return g},je:function(){return d},l:function(){return p},lI:function(){return w},pW:function(){return A},uB:function(){return b}});var r,o=n(47842),a=n(98568),s=n(93939);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15;return"url(data:image/svg+xml;base64,".concat(btoa(e),") ").concat(t," ").concat(n,", auto")}var c=u('\n  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50451)">\n      <path d="M8 5L22 18H13.5L8 25V5Z" fill="black"/>\n      <path d="M8.5 23.5543V6.14661L20.7267 17.5H13.5H13.257L13.1068 17.6911L8.5 23.5543Z" stroke="white"/>\n    </g>\n    <defs>\n      <filter id="filter0_d_1168_50451" x="6" y="4" width="18" height="24" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50451"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50451" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n',8,5),l=u('\n  <svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50467)">\n      <path d="M28.3 8.9C28.4259 8.80557 28.5 8.65738 28.5 8.5C28.5 8.34262 28.4259 8.19443 28.3 8.1L26.3 6.6C26.1485 6.48637 25.9458 6.46809 25.7764 6.55279C25.607 6.63748 25.5 6.81061 25.5 7V7.5H24.5V6.5H25C25.1894 6.5 25.3625 6.393 25.4472 6.22361C25.5319 6.05421 25.5136 5.85151 25.4 5.7L23.9 3.7C23.8056 3.5741 23.6574 3.5 23.5 3.5C23.3426 3.5 23.1944 3.5741 23.1 3.7L21.6 5.7C21.4864 5.85151 21.4681 6.05421 21.5528 6.22361C21.6375 6.393 21.8106 6.5 22 6.5H22.5V7.5H21.5V7C21.5 6.81061 21.393 6.63748 21.2236 6.55279C21.0542 6.46809 20.8515 6.48637 20.7 6.6L18.7 8.1C18.5741 8.19443 18.5 8.34262 18.5 8.5C18.5 8.65738 18.5741 8.80557 18.7 8.9L20.7 10.4C20.8515 10.5136 21.0542 10.5319 21.2236 10.4472C21.393 10.3625 21.5 10.1894 21.5 10V9.5H22.5V10.5H22C21.8106 10.5 21.6375 10.607 21.5528 10.7764C21.4681 10.9458 21.4864 11.1485 21.6 11.3L23.1 13.3C23.1944 13.4259 23.3426 13.5 23.5 13.5C23.6574 13.5 23.8056 13.4259 23.9 13.3L25.4 11.3C25.5136 11.1485 25.5319 10.9458 25.4472 10.7764C25.3625 10.607 25.1894 10.5 25 10.5H24.5V9.5H25.5V10C25.5 10.1894 25.607 10.3625 25.7764 10.4472C25.9458 10.5319 26.1485 10.5136 26.3 10.4L28.3 8.9Z" fill="black" stroke="white" stroke-linejoin="round"/>\n      <path d="M10.5 24.5543V7.14661L22.7267 18.5H15.5H15.257L15.1068 18.6911L10.5 24.5543Z" fill="black" stroke="white"/>\n    </g>\n    <defs>\n      <filter id="filter0_d_1168_50467" x="0" y="0" width="34" height="34.2325" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50467"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50467" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n',10,5),A=u('\n  <svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50469)">\n      <path d="M28.3 8.9C28.4259 8.80557 28.5 8.65738 28.5 8.5C28.5 8.34262 28.4259 8.19443 28.3 8.1L26.3 6.6C26.1485 6.48637 25.9458 6.46809 25.7764 6.55279C25.607 6.63748 25.5 6.81061 25.5 7V7.5H24.5V6.5H25C25.1894 6.5 25.3625 6.393 25.4472 6.22361C25.5319 6.05421 25.5136 5.85151 25.4 5.7L23.9 3.7C23.8056 3.5741 23.6574 3.5 23.5 3.5C23.3426 3.5 23.1944 3.5741 23.1 3.7L21.6 5.7C21.4864 5.85151 21.4681 6.05421 21.5528 6.22361C21.6375 6.393 21.8106 6.5 22 6.5H22.5V7.5H21.5V7C21.5 6.81061 21.393 6.63748 21.2236 6.55279C21.0542 6.46809 20.8515 6.48637 20.7 6.6L18.7 8.1C18.5741 8.19443 18.5 8.34262 18.5 8.5C18.5 8.65738 18.5741 8.80557 18.7 8.9L20.7 10.4C20.8515 10.5136 21.0542 10.5319 21.2236 10.4472C21.393 10.3625 21.5 10.1894 21.5 10V9.5H22.5V10.5H22C21.8106 10.5 21.6375 10.607 21.5528 10.7764C21.4681 10.9458 21.4864 11.1485 21.6 11.3L23.1 13.3C23.1944 13.4259 23.3426 13.5 23.5 13.5C23.6574 13.5 23.8056 13.4259 23.9 13.3L25.4 11.3C25.5136 11.1485 25.5319 10.9458 25.4472 10.7764C25.3625 10.607 25.1894 10.5 25 10.5H24.5V9.5H25.5V10C25.5 10.1894 25.607 10.3625 25.7764 10.4472C25.9458 10.5319 26.1485 10.5136 26.3 10.4L28.3 8.9Z" fill="black" stroke="white" stroke-linejoin="round"/>\n      <path d="M10.5 24.5543V7.14661L22.7267 18.5H15.5H15.257L15.1068 18.6911L10.5 24.5543Z" fill="white" stroke="black"/>\n    </g>\n    <defs>\n      <filter id="filter0_d_1168_50469" x="0" y="0" width="34" height="34.2325" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50469"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50469" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n',10,5),d=u('\n  <svg width="37" height="34" viewBox="0 0 37 34" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50468)">\n      <path d="M13.5 24.5543V7.14661L25.7267 18.5H18.5H18.257L18.1068 18.6911L13.5 24.5543Z" fill="white" stroke="black"/>\n      <path d="M10.5 24.5543V7.14661L22.7267 18.5H15.5H15.257L15.1068 18.6911L10.5 24.5543Z" fill="black" stroke="white"/>\n    </g>\n    <defs>\n      <filter id="filter0_d_1168_50468" x="0" y="0" width="37" height="34.2325" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50468"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50468" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n',10,5),f=u('\n  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50454)">\n      <mask id="path-1-inside-1_1168_50454" fill="white">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M17 7H14V14H7V17H14V24H17V17H24V14H17V7Z"/>\n      </mask>\n      <path fill-rule="evenodd" clip-rule="evenodd" d="M17 7H14V14H7V17H14V24H17V17H24V14H17V7Z" fill="black"/>\n      <path d="M14 7V6H13V7H14ZM17 7H18V6H17V7ZM14 14V15H15V14H14ZM7 14V13H6V14H7ZM7 17H6V18H7V17ZM14 17H15V16H14V17ZM14 24H13V25H14V24ZM17 24V25H18V24H17ZM17 17V16H16V17H17ZM24 17V18H25V17H24ZM24 14H25V13H24V14ZM17 14H16V15H17V14ZM14 8H17V6H14V8ZM15 14V7H13V14H15ZM7 15H14V13H7V15ZM8 17V14H6V17H8ZM14 16H7V18H14V16ZM15 24V17H13V24H15ZM17 23H14V25H17V23ZM16 17V24H18V17H16ZM24 16H17V18H24V16ZM23 14V17H25V14H23ZM17 15H24V13H17V15ZM16 7V14H18V7H16Z" fill="white" mask="url(#path-1-inside-1_1168_50454)"/>\n      </g>\n    <defs>\n      <filter id="filter0_d_1168_50454" x="-2" y="-1" width="34" height="34" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50454"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50454" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n'),h=u('\n  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_399_42935)">\n      <path fill-rule="evenodd" clip-rule="evenodd" d="M11.3337 18.9459V21.8012L15.1432 18.9459H20.8575C21.3842 18.9459 21.8099 18.5205 21.8099 17.9942V9.4283C21.8099 8.90198 21.3842 8.47656 20.8575 8.47656H9.42894C8.90228 8.47656 8.47656 8.90198 8.47656 9.4283V17.9942C8.47656 18.5205 8.90228 18.9459 9.42894 18.9459H11.3337Z" fill="black"/>\n      <path d="M9.42894 19.4459H10.8337V21.8012V22.8008L11.6336 22.2013L15.3098 19.4459H20.8575C21.66 19.4459 22.3099 18.7969 22.3099 17.9942V9.4283C22.3099 8.62552 21.66 7.97656 20.8575 7.97656H9.42894C8.62645 7.97656 7.97656 8.62552 7.97656 9.4283V17.9942C7.97656 18.7969 8.62645 19.4459 9.42894 19.4459Z" stroke="white"/>\n    </g>\n    <defs>\n      <filter id="filter0_d_399_42935" x="5.47656" y="6.47656" width="19.3335" height="20.3242" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_399_42935"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_399_42935" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n'),p=u('\n  <svg xmlns="http://www.w3.org/2000/svg" role="img" width="14" height="14" focusable="false" aria-hidden="true" viewBox="0 0 14 14">\n    <path fill="#fff" d="M 1.181 1.261 L 12.842 1.192 L 12.853 10.285 L 6.845 10.4 L 3.818 12.406 L 3.566 10.124 L 1.009 9.987"/>\n    <path d="M3.58686 10.4074H4.33686V9.65738H3.58686V10.4074ZM3.58686 12.9657H2.83686C2.83686 13.2497 2.99731 13.5094 3.25134 13.6365C3.50537 13.7635 3.80939 13.7362 4.03667 13.5658L3.58686 12.9657ZM7.00019 10.4074V9.65738H6.75032L6.55038 9.80723L7.00019 10.4074ZM2.83686 10.4074V12.9657H4.33686V10.4074H2.83686ZM4.03667 13.5658L7.45 11.0075L6.55038 9.80723L3.13704 12.3656L4.03667 13.5658ZM7.00019 11.1574H12.1202V9.65738H7.00019V11.1574ZM12.1202 11.1574C13.0058 11.1574 13.7235 10.4409 13.7235 9.55462H12.2235C12.2235 9.61151 12.1783 9.65738 12.1202 9.65738V11.1574ZM13.7235 9.55462V1.87962H12.2235V9.55462H13.7235ZM13.7235 1.87962C13.7235 0.993337 13.0058 0.276855 12.1202 0.276855V1.77686C12.1783 1.77686 12.2235 1.82272 12.2235 1.87962H13.7235ZM12.1202 0.276855H1.88019V1.77686H12.1202V0.276855ZM1.88019 0.276855C0.994562 0.276855 0.276855 0.993336 0.276855 1.87962H1.77686C1.77686 1.82272 1.82203 1.77686 1.88019 1.77686V0.276855ZM0.276855 1.87962V9.55462H1.77686V1.87962H0.276855ZM0.276855 9.55462C0.276855 10.4409 0.994562 11.1574 1.88019 11.1574V9.65738C1.82203 9.65738 1.77686 9.61151 1.77686 9.55462H0.276855ZM1.88019 11.1574H3.58686V9.65738H1.88019V11.1574Z" fill="#fff"/>\n  </svg>\n'),g=u('\n  <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <g filter="url(#filter0_d_1168_50453)">\n      <path d="M18.9657 8.36812C18.4749 7.87729 17.6791 7.87729 17.1883 8.36812L8.65806 16.8984C8.45232 17.1041 8.32433 17.3749 8.29594 17.6645L8.00615 20.6204C7.92886 21.4087 8.59127 22.0711 9.37961 21.9939L12.3355 21.7041C12.6251 21.6757 12.8959 21.5477 13.1016 21.3419L21.6319 12.8117C22.1227 12.3209 22.1227 11.5251 21.6319 11.0343L18.9657 8.36812Z" fill="white"/>\n    </g>\n    <path d="M18.9657 8.36812C18.4749 7.87729 17.6791 7.87729 17.1883 8.36812L8.65806 16.8984C8.45232 17.1041 8.32433 17.3749 8.29594 17.6645L8.00615 20.6204C7.92886 21.4087 8.59127 22.0711 9.37961 21.9939L12.3355 21.7041C12.6251 21.6757 12.8959 21.5477 13.1016 21.3419L21.6319 12.8117C22.1227 12.3209 22.1227 11.5251 21.6319 11.0343L18.9657 8.36812Z" stroke="black"/>\n    <defs>\n      <filter id="filter0_d_1168_50453" x="6" y="7" width="18" height="18" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n        <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n        <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n        <feOffset dy="1"/>\n        <feGaussianBlur stdDeviation="1"/>\n        <feComposite in2="hardAlpha" operator="out"/>\n        <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n        <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50453"/>\n        <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50453" result="shape"/>\n      </filter>\n    </defs>\n  </svg>\n',8,22),v=(r={},(0,o.Z)(r,a.oc.NS_RESIZE,0),(0,o.Z)(r,a.oc.EW_RESIZE,90),(0,o.Z)(r,a.oc.NESW_RESIZE,45),(0,o.Z)(r,a.oc.NWSE_RESIZE,-45),r);function m(e,t){var n=v[e]+180/Math.PI*t;return u('\n    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <g filter="url(#filter0_d_1168_50481)" transform="rotate('.concat(n,' 15 15)">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M11.9791 22.381L14.3303 22.381L14.3303 8.8563L11.9795 8.8563L15.3607 4.34798L18.7419 8.8563L16.3303 8.8563L16.3303 22.381L18.7416 22.381L15.3604 26.8894L11.9791 22.381Z" fill="black"/>\n        <path d="M14.3303 22.381L14.3303 22.881L14.8303 22.881L14.8303 22.381L14.3303 22.381ZM11.9791 22.381L11.9791 21.881L10.9791 21.881L11.5791 22.681L11.9791 22.381ZM14.3303 8.8563L14.8303 8.8563L14.8303 8.3563L14.3303 8.3563L14.3303 8.8563ZM11.9795 8.8563L11.5795 8.5563L10.9795 9.3563L11.9795 9.3563L11.9795 8.8563ZM15.3607 4.34798L15.7607 4.04798L15.3607 3.51464L14.9607 4.04798L15.3607 4.34798ZM18.7419 8.8563L18.7419 9.3563L19.7419 9.3563L19.1419 8.5563L18.7419 8.8563ZM16.3303 8.8563L16.3303 8.3563L15.8303 8.3563L15.8303 8.8563L16.3303 8.8563ZM16.3303 22.381L15.8303 22.381L15.8303 22.881L16.3303 22.881L16.3303 22.381ZM18.7416 22.381L19.1416 22.681L19.7416 21.881L18.7416 21.881L18.7416 22.381ZM15.3604 26.8894L14.9604 27.1894L15.3604 27.7227L15.7604 27.1894L15.3604 26.8894ZM14.3303 21.881L11.9791 21.881L11.9791 22.881L14.3303 22.881L14.3303 21.881ZM13.8303 8.8563L13.8303 22.381L14.8303 22.381L14.8303 8.8563L13.8303 8.8563ZM14.3303 8.3563L11.9795 8.3563L11.9795 9.3563L14.3303 9.3563L14.3303 8.3563ZM12.3795 9.1563L15.7607 4.64798L14.9607 4.04798L11.5795 8.5563L12.3795 9.1563ZM14.9607 4.64798L18.3419 9.1563L19.1419 8.5563L15.7607 4.04798L14.9607 4.64798ZM18.7419 8.3563L16.3303 8.3563L16.3303 9.3563L18.7419 9.3563L18.7419 8.3563ZM16.8303 22.381L16.8303 8.8563L15.8303 8.8563L15.8303 22.381L16.8303 22.381ZM18.7416 21.881L16.3303 21.881L16.3303 22.881L18.7416 22.881L18.7416 21.881ZM15.7604 27.1894L19.1416 22.681L18.3416 22.081L14.9604 26.5894L15.7604 27.1894ZM11.5791 22.681L14.9604 27.1894L15.7604 26.5894L12.3791 22.081L11.5791 22.681Z" fill="white"/>\n      </g>\n      <defs>\n        <filter id="filter0_d_1168_50481" x="-2" y="-1" width="34" height="34" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n          <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n          <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n          <feOffset dy="1"/>\n          <feGaussianBlur stdDeviation="1"/>\n          <feComposite in2="hardAlpha" operator="out"/>\n          <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n          <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50481"/>\n          <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50481" result="shape"/>\n        </filter>\n      </defs>\n    </svg>\n  '))}var y={"rotation-nw":0,"rotation-ne":90,"rotation-se":180,"rotation-sw":270};function b(e,t){var n=y[e]+180/Math.PI*t;return u('\n    <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <g filter="url(#filter0_d_1168_50475)" transform="rotate('.concat(n,' 15 15)">\n        <path fill-rule="evenodd" clip-rule="evenodd" d="M6.94617 19.2539L10.6385 22.9462L14.3308 19.2539L11.8698 19.2539C11.9254 15.3273 15.0456 12.142 18.9462 11.9822L18.9462 14.0539L22.9462 10.5539L18.9462 7.05386L18.9462 9.51909C13.6859 9.68047 9.46422 13.9677 9.4081 19.2539L6.94617 19.2539Z" fill="black"/>\n        <path d="M10.6385 22.9462L10.2849 23.2997L10.6385 23.6533L10.992 23.2997L10.6385 22.9462ZM6.94617 19.2539L6.94617 18.7539L5.73906 18.7539L6.59261 19.6074L6.94617 19.2539ZM14.3308 19.2539L14.6843 19.6074L15.5379 18.7539L14.3308 18.7539L14.3308 19.2539ZM11.8698 19.2539L11.3699 19.2468L11.3627 19.7539L11.8698 19.7539L11.8698 19.2539ZM18.9462 11.9822L19.4462 11.9822L19.4462 11.4613L18.9257 11.4826L18.9462 11.9822ZM18.9462 14.0539L18.4462 14.0539L18.4462 15.1557L19.2754 14.4301L18.9462 14.0539ZM22.9462 10.5539L23.2754 10.9301L23.7055 10.5539L23.2754 10.1776L22.9462 10.5539ZM18.9462 7.05386L19.2754 6.67757L18.4462 5.95197L18.4462 7.05386L18.9462 7.05386ZM18.9462 9.51909L18.9615 10.0189L19.4462 10.004L19.4462 9.51909L18.9462 9.51909ZM9.4081 19.2539L9.4081 19.7539L9.90282 19.7539L9.90807 19.2592L9.4081 19.2539ZM10.992 22.5926L7.29972 18.9003L6.59261 19.6074L10.2849 23.2997L10.992 22.5926ZM13.9772 18.9003L10.2849 22.5926L10.992 23.2997L14.6843 19.6074L13.9772 18.9003ZM11.8698 19.7539L14.3308 19.7539L14.3308 18.7539L11.8698 18.7539L11.8698 19.7539ZM12.3698 19.2609C12.4216 15.6005 15.3306 12.6307 18.9666 12.4818L18.9257 11.4826C14.7607 11.6532 11.4292 15.0541 11.3699 19.2468L12.3698 19.2609ZM18.4462 11.9822L18.4462 14.0539L19.4462 14.0539L19.4462 11.9822L18.4462 11.9822ZM19.2754 14.4301L23.2754 10.9301L22.6169 10.1776L18.6169 13.6776L19.2754 14.4301ZM23.2754 10.1776L19.2754 6.67757L18.6169 7.43015L22.6169 10.9301L23.2754 10.1776ZM18.4462 7.05386L18.4462 9.51909L19.4462 9.51909L19.4462 7.05386L18.4462 7.05386ZM18.9308 9.01933C13.4031 9.18891 8.9671 13.6938 8.90813 19.2486L9.90807 19.2592C9.96134 14.2417 13.9687 10.172 18.9615 10.0189L18.9308 9.01933ZM6.94617 19.7539L9.4081 19.7539L9.4081 18.7539L6.94617 18.7539L6.94617 19.7539Z" fill="white"/>\n      </g>\n      <defs>\n        <filter id="filter0_d_1168_50475" x="-2" y="-1" width="34" height="34" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n          <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n          <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n          <feOffset dy="1"/>\n          <feGaussianBlur stdDeviation="1"/>\n          <feComposite in2="hardAlpha" operator="out"/>\n          <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n          <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50475"/>\n          <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50475" result="shape"/>\n        </filter>\n      </defs>\n    </svg>\n  '))}function w(e){var t=(0,s.IQ)(e,a.sc.XL,a.sc.S,.5,1);return u('\n    <svg width="'.concat(e,'" height="').concat(e,'" viewBox="0 0 26 26" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <g filter="url(#filter0_d_1168_50470)">\n        <circle cx="13" cy="12" r="11" fill="white"/>\n      </g>\n      <circle cx="13" cy="12" r="11" stroke="black" stroke-width="').concat(t,'"/>\n      <defs>\n        <filter id="filter0_d_1168_50470" x="0" y="0" width="26" height="26" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n          <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n          <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n          <feOffset dy="1"/>\n          <feGaussianBlur stdDeviation="1"/>\n          <feComposite in2="hardAlpha" operator="out"/>\n          <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.4 0"/>\n          <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1168_50470"/>\n          <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1168_50470" result="shape"/>\n        </filter>\n      </defs>\n    </svg>\n  '),13,13)}},24296:function(e,t,n){"use strict";n.d(t,{FR:function(){return A},Uh:function(){return s},_S:function(){return a},be:function(){return d},ed:function(){return l},g:function(){return c},gL:function(){return u}});var r=n(87394),o=n(19907);function a(e){return{clientX:e.x,clientY:e.y}}function s(e){return{x:e.clientX,y:e.clientY}}function u(e){return{sceneX:e.x,sceneY:e.y}}function c(e,t){var n=(0,r.Z)(t,2),a=n[0],s=n[1],u=(0,o.Pi)(e);return a>u[0]&&a<u[2]&&s>u[1]&&s<u[3]}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e[0]+n>=t[0]&&e[2]-n<=t[2]&&e[1]+n>=t[1]&&e[3]-n<=t[3]}function A(e,t,n){return l((0,o.Pi)(e),(0,o.Pi)(t),n)}function d(e,t,n){return!(e[0]+n>t[2])&&!(t[0]+n>e[2])&&!(e[1]+n>t[3])&&!(t[1]+n>e[3])}},93939:function(e,t,n){"use strict";n.d(t,{Ds:function(){return y},Fc:function(){return A},Fv:function(){return U},IH:function(){return D},IQ:function(){return P},Le:function(){return b},OF:function(){return _},Oo:function(){return d},P:function(){return g},PI:function(){return L},Uk:function(){return C},X1:function(){return m},YC:function(){return x},Zz:function(){return S},_Z:function(){return h},_i:function(){return T},cx:function(){return F},dE:function(){return I},dZ:function(){return O},eL:function(){return j},hR:function(){return l},mO:function(){return v},qr:function(){return R},s:function(){return p},tH:function(){return M},uY:function(){return B},wO:function(){return f},z8:function(){return w},zX:function(){return k}});var r,o=n(42838),a=n(50930),s=n(28316),u=n(45629);n(14935);var c=n(98568),l="http://www.w3.org/2000/svg",A=function(){var e=new Date,t=e.getFullYear(),n="".concat(e.getMonth()+1).padStart(2,"0"),r="".concat(e.getDate()).padStart(2,"0"),o="".concat(e.getHours()).padStart(2,"0"),a="".concat(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"-").concat(o).concat(a)},d=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},f=function(e){return(0,o.Z)(e,HTMLElement)&&e.className.includes("ToolIcon")},h=function(e){return(0,o.Z)(e,HTMLElement)&&"wysiwyg"===e.dataset.type||(0,o.Z)(e,HTMLBRElement)||(0,o.Z)(e,HTMLInputElement)||(0,o.Z)(e,HTMLTextAreaElement)||(0,o.Z)(e,HTMLSelectElement)},p=function(e){return(0,o.Z)(e,HTMLElement)&&"wysiwyg"===e.dataset.type||(0,o.Z)(e,HTMLBRElement)||(0,o.Z)(e,HTMLTextAreaElement)||(0,o.Z)(e,HTMLInputElement)&&("text"===e.type||"number"===e.type)},g=function(e){var t=e.fontSize,n=e.fontFamily,r=t*(c.Vh[n]||1);switch(n){case 1:return{fontSize:"".concat(r,"px"),fontFamily:'Virgil, "'.concat(c._D,'", FreeSans, "Free Sans", "WenQuanYi Zen Hei"')};case 5:return{fontSize:"".concat(r,"px"),fontFamily:'JetBrainsMono, "'.concat(c._D,'", FreeMono, "Free Mono"')};case 6:return{fontSize:"".concat(r,"px"),fontFamily:'"Inter var", "'.concat(c._D,'", FreeSans, "Free Sans", "WenQuanYi Zen Hei"')};default:return{fontSize:"".concat(r,"px"),fontFamily:'EraserNimbusSansFerrule, "'.concat(c._D,'", FreeSans, "Free Sans", "WenQuanYi Zen Hei"')}}},v=function(e){var t=g({fontSize:e.fontSize,fontFamily:e.fontFamily}),n=t.fontSize,r=t.fontFamily;return"".concat(n," ").concat(r)},m=function(e,t){if(!r){if(null===(r=document.createElement("canvas").getContext("2d")))throw Error("Context2D is not supported");r.textBaseline="bottom"}r.font=t;var n=0,o=0,a=0,s=e.split("\n"),u=!0,c=!1,l=void 0;try{for(var A,d=s[Symbol.iterator]();!(u=(A=d.next()).done);u=!0){var f=A.value,h=r.measureText(f);if(n+=h.actualBoundingBoxAscent-h.actualBoundingBoxDescent,o<h.width&&(o=h.width),0===a){r.textBaseline="alphabetic";var p=r.measureText(f);a=1.25*p.actualBoundingBoxAscent,r.textBaseline="bottom"}}}catch(e){c=!0,l=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw l}}return{width:o,height:n,baseline:a}},y=function(e,t){var n,r=0,o=function(){for(var o=arguments.length,s=Array(o),u=0;u<o;u++)s[u]=arguments[u];n=s,clearTimeout(r),r=window.setTimeout(function(){return e.apply(void 0,(0,a.Z)(s))},t)};return o.flush=function(){clearTimeout(r),n&&e.apply(void 0,(0,a.Z)(n))},o.cancel=function(){clearTimeout(r)},o},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=document.getElementById(c.dJ);if(n){if(!e){n.style.cursor=u.UB;return}switch(e){case c.oc.CROSSHAIR:n.style.cursor=u.S2;break;case c.oc.PEN:n.style.cursor=u.Y7;break;case c.oc.MOVE:n.style.cursor=u.N4;break;case c.oc.SPLINE_CONTROL_MOVE:n.style.cursor=u.pW;break;case c.oc.DUPLICATE:n.style.cursor=u.je;break;case c.oc.NESW_RESIZE:case c.oc.NWSE_RESIZE:case c.oc.NS_RESIZE:case c.oc.EW_RESIZE:n.style.cursor=(0,u.P1)(e,t);break;case c.oc.ROTATION_NW:case c.oc.ROTATION_NE:case c.oc.ROTATION_SW:case c.oc.ROTATION_SE:n.style.cursor=(0,u.uB)(e,t);break;default:n.style.cursor=e}}},w=function(){return b(null)},_=function(e){b((0,u.lI)(e))},E=function(e){"dark"===e?b(u.l):b(u.CN)},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"light";switch(e){case"selection":w();break;case"comment":E(n);break;case"freedraw":b(c.oc.PEN);break;case"eraser":_(t||20);break;default:b(c.oc.CROSSHAIR)}},B=function(e){return/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?e.replace(/\bCtrlOrCmd\b/i,"⌘").replace(/\bAlt\b/i,"Option").replace(/\bDel\b/i,"Delete").replace(/\b(?:Enter|Return)\b/i,"Enter").replace(/\bArrow\b/i,"→"):e.replace(/\bCtrlOrCmd\b/i,"Ctrl").replace(/\bArrow\b/i,"→")},I=function(e,t,n){var r=e.clientX,o=e.clientY,a=t.offsetLeft,s=t.offsetTop,u=n.zoom,c=n.scrollX,l=n.scrollY,A=1/u.value;return{x:(r-u.translation.x-a)*A-c,y:(o-u.translation.y-s)*A-l}},x=function(e){return[e.offsetLeft+e.width/2,e.height/2]},T=function(e,t){var n=e.sceneX,r=e.sceneY,o=t.zoom,a=t.scrollX,s=t.scrollY;return{x:(n+a)*o.value+o.translation.x,y:(r+s)*o.value+o.translation.y}},S=function(e){var t=e.element,n=e.offset,r=e.scrollState,o=t.x+n.offsetLeft,a=t.y+n.offsetTop;if("textbox"===t.type){var s=k(t),u=s.widthDiff,c=s.heightDiff;o+=u,a+=c}return T({sceneX:o,sceneY:a},r)},k=function(e){var t=e.width/e.scale,n=e.height/e.scale;return{naturalWidth:t,naturalHeight:n,widthDiff:(e.width-t)/2,heightDiff:(e.height-n)/2}},D=function(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))},N=new RegExp("^[^".concat("A-Za-z\xc0-\xd6\xd8-\xf6\xf8-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),O=function(e){return N.test(e)},F=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length,Math.max(n,0)))-1;++r<e.length;)if(t(e[r],r,e))return r;return -1},R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length-1,Math.max(n,0)))+1;--r>-1;)if(t(e[r],r,e))return r;return -1},L=function(){var e,t,n=new Promise(function(n,r){e=n,t=r});return n.resolve=e,n.reject=t,n},M=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(0,s.unstable_batchedUpdates)(function(){return e.apply(void 0,(0,a.Z)(n))})}},P=function(e,t,n,r,o){return r+(e-t)*(o-r)/(n-t)},U=function(e){return e?e.reduce(function(e,t){return e[t]=!0,e},{}):{}},j=function(e){return e?e.reduce(function(e,t){return e[t.id]=!0,e},{}):{}}},20189:function(e,t,n){"use strict";var r=n(42838),o=n(2784);t.Z=function(e,t){(0,o.useEffect)(function(){var n=function(n){!e.current||(0,r.Z)(n.target,Element)&&(e.current.contains(n.target)||!document.body.contains(n.target))||t(n)};return document.addEventListener("pointerdown",n,!1),function(){document.removeEventListener("pointerdown",n)}},[e,t])}},61542:function(e,t,n){"use strict";n.d(t,{$l:function(){return d},MN:function(){return h},Q8:function(){return A},YH:function(){return f}});var r=n(87622),o=/*#__PURE__*/n.n(r),a=n(19907),s=n(21986),u=n(56818),c=n(33489),l=n(24296);function A(e,t){if(!t||!(0,u.lR)(t))return[];var n=c.r9.getCache(t);if(!n)return console.warn("[getDiagramElementsArray] No cache entry, manually filtering scene"),e.getElements().filter(function(e){return e.diagramId===t.id});var r=[],o=!0,a=!1,s=void 0;try{for(var l,A=n.elements[Symbol.iterator]();!(o=(l=A.next()).done);o=!0){var d=l.value,f=e.getElement(d.id);f?r.push(f):console.warn("[getDiagramElementsArray] Could not find element in scene",d.id)}}catch(e){a=!0,s=e}finally{try{o||null==A.return||A.return()}finally{if(a)throw s}}return r}function d(e,t){var n=A(e,t);return o()(n,"id")}function f(e,t){var n,r=null===(n=t[0])||void 0===n?void 0:n.diagramId;return r?e.getElement(r):void 0}function h(e,t,n){var r=[],o=(0,a.Pi)(e),u=!0,c=!1,A=void 0;try{for(var d,f=Object.values(t)[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var h=d.value;if(!n(e,h)){var p=e.isLockedContainer?0-s.m:0;(0,l.be)(o,(0,a.Pi)(h),p)&&r.push(h)}}}catch(e){c=!0,A=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw A}}return r}},72490:function(e,t,n){"use strict";n.d(t,{$z:function(){return r},IT:function(){return a},pA:function(){return o}});var r=new Date().toISOString().substring(0,10).replaceAll("-",""),o="20231113",a="20231113"},46317:function(e,t,n){"use strict";n.d(t,{EG:function(){return l},I:function(){return A},TI:function(){return p},mX:function(){return d},tI:function(){return h}});var r=n(70865),o=n(12995),a=n(90332),s=n(96343),u=n(34957),c=n(37164),l=function(e){return e&&"slate"in e},A=function(e){return(null==e?void 0:e.querySelector("[data-slate-node]"))!==null},d=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.bold;return t="string"==typeof e?[{type:"paragraph",children:[(0,r.Z)({text:e},(void 0===o?void 0:o)?{bold:!0}:{})]}]:e,[{id:(0,c.x0)(),type:"section",children:t}]},f=function(e){var t=o.ML.above(e,{mode:"highest",at:o.ML.end(e,[]),match:function(t){return o.ML.isBlock(e,t)&&!(0,u.Wq)(t)}});t&&(0,s.RF)(t[0])&&""===o.ML.string(e,t[1])&&o.YR.removeNodes(e,{at:t[1]})},h=function(e){var t=e.editor,n=e.textboxElement,r=n.html,a=n.text,u=n.slate;if(u&&u.length>0)c=u;else if(r){var c,l,A,d=new DOMParser().parseFromString(r,"text/html").documentElement;c=null!==(A=null===(l=t.fromHtml)||void 0===l?void 0:l.call(t,d,void 0,{keepEmptyLines:!0}))&&void 0!==A?A:[]}else c=a?[{type:"paragraph",children:[{text:a}]}]:[];c.length>0&&((0,s.oe)(t),o.YR.insertNodes(t,c,{at:[0]}),f(t))},p=function(e){return{strokeStyle:"solid",scale:(0,a.M)(),fontSize:e.currentItemFontSize,textAlign:e.currentItemTextAlign,fillStyle:e.currentItemFillStyle,strokeColor:e.currentItemTextColor,fontFamily:e.currentItemFontFamily,strokeWidth:e.currentItemStrokeWidth,strokeSharpness:e.currentItemStrokeSharpness}}},14061:function(e,t,n){"use strict";n.d(t,{Oo:function(){return et},Vg:function(){return ee},ZP:function(){return ei}});var r=n(90581),o=n(27805),a=n(70865),s=n(96670),u=n(87394),c=n(50930);function l(e,t,n){if(null==e?void 0:e.length){var r=(0,u.Z)(t,2),o=r[0],a=r[1],s=Math.PI/180*n,c=Math.cos(s),l=Math.sin(s);e.forEach(function(e){var t=(0,u.Z)(e,2),n=t[0],r=t[1];e[0]=(n-o)*c-(r-a)*l+o,e[1]=(n-o)*l+(r-a)*c+a})}}function A(e){var t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}function d(e,t){var n="",r=!0,o=!1,a=void 0;try{for(var s,u=e.ops[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,l="number"==typeof t&&t>=0?c.data.map(function(e){return+e.toFixed(t)}):c.data;switch(c.op){case"move":n+="M".concat(l[0]," ").concat(l[1]," ");break;case"bcurveTo":n+="C".concat(l[0]," ").concat(l[1],", ").concat(l[2]," ").concat(l[3],", ").concat(l[4]," ").concat(l[5]," ");break;case"lineTo":n+="L".concat(l[0]," ").concat(l[1]," ")}}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n.trim()}function f(e,t){var n=t.hachureAngle+90,r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);var o=[0,0];if(n){var a=!0,s=!1,u=void 0;try{for(var A,d=e[Symbol.iterator]();!(a=(A=d.next()).done);a=!0){var f=A.value;l(f,o,n)}}catch(e){s=!0,u=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw u}}}var h=function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value,A=(0,c.Z)(l);A[0].join(",")!==A[A.length-1].join(",")&&A.push([A[0][0],A[0][1]]),A.length>2&&n.push(A)}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}var d=[];t=Math.max(t,.1);var f=[],h=!0,p=!1,g=void 0;try{for(var v,m=n[Symbol.iterator]();!(h=(v=m.next()).done);h=!0)for(var y=v.value,b=0;b<y.length-1;b++){var w=y[b],_=y[b+1];if(w[1]!==_[1]){var E=Math.min(w[1],_[1]);f.push({ymin:E,ymax:Math.max(w[1],_[1]),x:E===w[1]?w[0]:_[0],islope:(_[0]-w[0])/(_[1]-w[1])})}}}catch(e){p=!0,g=e}finally{try{h||null==m.return||m.return()}finally{if(p)throw g}}if(f.sort(function(e,t){return e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax)}),!f.length)return d;for(var C=[],B=f[0].ymin;C.length||f.length;)!function(){if(f.length){for(var e=-1,n=0;n<f.length&&!(f[n].ymin>B);n++)e=n;f.splice(0,e+1).forEach(function(e){C.push({s:B,edge:e})})}if((C=C.filter(function(e){return!(e.edge.ymax<=B)})).sort(function(e,t){return e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x)}),C.length>1)for(var r=0;r<C.length;r+=2){var o=r+1;if(o>=C.length)break;var a=C[r].edge,s=C[o].edge;d.push([[Math.round(a.x),B],[Math.round(s.x),B]])}B+=t,C.forEach(function(e){e.edge.x=e.edge.x+t*e.edge.islope})}();return d}(e,r);if(n){var p,g,v,m=!0,y=!1,b=void 0;try{for(var w,_=e[Symbol.iterator]();!(m=(w=_.next()).done);m=!0){var E=w.value;l(E,o,-n)}}catch(e){y=!0,b=e}finally{try{m||null==_.return||_.return()}finally{if(y)throw b}}p=-n,v=[],h.forEach(function(e){return(g=v).push.apply(g,(0,c.Z)(e))}),l(v,o,p)}return h}var h=/*#__PURE__*/function(){function e(t){(0,r.Z)(this,e),this._helper=t}var t=e.prototype;return t.fillPolygons=function(e,t){return this._fillPolygons(e,t)},t._fillPolygons=function(e,t){var n=f(e,t);return{type:"fillSketch",ops:this.renderLines(n,t)}},t.renderLines=function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var l=s.value;n.push.apply(n,(0,c.Z)(this._helper.doubleLineOps(l[0][0],l[0][1],l[1][0],l[1][1],t)))}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n},e}(),p=n(21218),g=n(39309),v=/*#__PURE__*/function(e){(0,p.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return n.prototype.fillPolygons=function(e,t){var n=t.hachureGap;n<0&&(n=4*t.strokeWidth);var r=f(e,Object.assign({},t,{hachureGap:n=Math.max(n,.1)})),o=Math.PI/180*t.hachureAngle,a=[],s=.5*n*Math.cos(o),l=.5*n*Math.sin(o),d=!0,h=!1,p=void 0;try{for(var g,v=r[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var m=(0,u.Z)(g.value,2),y=m[0],b=m[1];A([y,b])&&a.push([[y[0]-s,y[1]+l],(0,c.Z)(b)],[[y[0]+s,y[1]-l],(0,c.Z)(b)])}}catch(e){h=!0,p=e}finally{try{d||null==v.return||v.return()}finally{if(h)throw p}}return{type:"fillSketch",ops:this.renderLines(a,t)}},n}(h),m=/*#__PURE__*/function(e){(0,p.Z)(n,e);var t=(0,g.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return n.prototype.fillPolygons=function(e,t){var n=this._fillPolygons(e,t),r=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),o=this._fillPolygons(e,r);return n.ops=n.ops.concat(o.ops),n},n}(h),y=/*#__PURE__*/function(){function e(t){(0,r.Z)(this,e),this._helper=t}var t=e.prototype;return t.fillPolygons=function(e,t){var n=f(e,t=Object.assign({},t,{hachureAngle:0}));return this._dotsOnLines(n,t)},t._dotsOnLines=function(e,t){var n=[],r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);var o=t.fillWeight;o<0&&(o=t.strokeWidth/2);var a=r/4,s=!0,u=!1,l=void 0;try{for(var d,f=e[Symbol.iterator]();!(s=(d=f.next()).done);s=!0)for(var h=d.value,p=A(h),g=p/r,v=Math.ceil(g)-1,m=p-v*r,y=(h[0][0]+h[1][0])/2-r/4,b=Math.min(h[0][1],h[1][1]),w=0;w<v;w++){var _=b+m+w*r,E=y-a+2*Math.random()*a,C=_-a+2*Math.random()*a,B=this._helper.ellipse(E,C,o,o,t);n.push.apply(n,(0,c.Z)(B.ops))}}catch(e){u=!0,l=e}finally{try{s||null==f.return||f.return()}finally{if(u)throw l}}return{type:"fillSketch",ops:n}},e}(),b=/*#__PURE__*/function(){function e(t){(0,r.Z)(this,e),this._helper=t}var t=e.prototype;return t.fillPolygons=function(e,t){var n=f(e,t);return{type:"fillSketch",ops:this._dashedLine(n,t)}},t._dashedLine=function(e,t){var n=this,r=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,o=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,a=[];return e.forEach(function(e){var s=A(e),u=Math.floor(s/(r+o)),l=(s+o-u*(r+o))/2,d=e[0],f=e[1];d[0]>f[0]&&(d=e[1],f=e[0]);for(var h=Math.atan((f[1]-d[1])/(f[0]-d[0])),p=0;p<u;p++){var g=p*(r+o),v=g+r,m=[d[0]+g*Math.cos(h)+l*Math.cos(h),d[1]+g*Math.sin(h)+l*Math.sin(h)],y=[d[0]+v*Math.cos(h)+l*Math.cos(h),d[1]+v*Math.sin(h)+l*Math.sin(h)];a.push.apply(a,(0,c.Z)(n._helper.doubleLineOps(m[0],m[1],y[0],y[1],t)))}}),a},e}(),w=/*#__PURE__*/function(){function e(t){(0,r.Z)(this,e),this._helper=t}var t=e.prototype;return t.fillPolygons=function(e,t){var n=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,r=t.zigzagOffset<0?n:t.zigzagOffset,o=f(e,t=Object.assign({},t,{hachureGap:n+r}));return{type:"fillSketch",ops:this._zigzagLines(o,r,t)}},t._zigzagLines=function(e,t,n){var r=this,o=[];return e.forEach(function(e){var a=Math.round(A(e)/(2*t)),s=e[0],u=e[1];s[0]>u[0]&&(s=e[1],u=e[0]);for(var l=Math.atan((u[1]-s[1])/(u[0]-s[0])),d=0;d<a;d++){var f=2*d*t,h=(d+1)*2*t,p=Math.sqrt(2*Math.pow(t,2)),g=[s[0]+f*Math.cos(l),s[1]+f*Math.sin(l)],v=[s[0]+h*Math.cos(l),s[1]+h*Math.sin(l)],m=[g[0]+p*Math.cos(l+Math.PI/4),g[1]+p*Math.sin(l+Math.PI/4)];o.push.apply(o,(0,c.Z)(r._helper.doubleLineOps(g[0],g[1],m[0],m[1],n)).concat((0,c.Z)(r._helper.doubleLineOps(m[0],m[1],v[0],v[1],n))))}}),o},e}(),_={},E=n(54298),C={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function B(e){for(var t=[],n=function(e){for(var t=[];""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:0,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:1,text:"".concat(parseFloat(RegExp.$1))},e=e.substr(RegExp.$1.length)}return t[t.length]={type:2,text:""},t}(e),r="BOD",o=0,a=n[0];2!==a.type;){var s=0,u=[];if("BOD"===r){if("M"!==a.text&&"m"!==a.text)return B("M0,0"+e);o++,s=C[a.text],r=a.text}else 1===a.type?s=C[r]:(o++,s=C[a.text],r=a.text);if(o+s<n.length){for(var c=o;c<o+s;c++){var l=n[c];if(1===l.type)u[u.length]=+l.text;else throw Error("Param not a number: "+r+","+l.text)}if("number"==typeof C[r]){var A={key:r,data:u};t.push(A),o+=s,a=n[o],"M"===r&&(r="L"),"m"===r&&(r="l")}else throw Error("Bad segment: "+r)}else throw Error("Path data ended short")}return t}function I(e){var t=0,n=0,r=0,o=0,a=[],s=!0,l=!1,A=void 0;try{for(var d,f=e[Symbol.iterator]();!(s=(d=f.next()).done);s=!0){var h,p,g,v=d.value,m=v.key,y=v.data;switch(m){case"M":a.push({key:"M",data:(0,c.Z)(y)}),t=(h=(0,u.Z)(y,2))[0],n=h[1],r=(p=(0,u.Z)(y,2))[0],o=p[1];break;case"m":t+=y[0],n+=y[1],a.push({key:"M",data:[t,n]}),r=t,o=n;break;case"L":a.push({key:"L",data:(0,c.Z)(y)}),t=(g=(0,u.Z)(y,2))[0],n=g[1];break;case"l":t+=y[0],n+=y[1],a.push({key:"L",data:[t,n]});break;case"C":a.push({key:"C",data:(0,c.Z)(y)}),t=y[4],n=y[5];break;case"c":var b=y.map(function(e,r){return r%2?e+n:e+t});a.push({key:"C",data:b}),t=b[4],n=b[5];break;case"Q":a.push({key:"Q",data:(0,c.Z)(y)}),t=y[2],n=y[3];break;case"q":var w=y.map(function(e,r){return r%2?e+n:e+t});a.push({key:"Q",data:w}),t=w[2],n=w[3];break;case"A":a.push({key:"A",data:(0,c.Z)(y)}),t=y[5],n=y[6];break;case"a":t+=y[5],n+=y[6],a.push({key:"A",data:[y[0],y[1],y[2],y[3],y[4],t,n]});break;case"H":a.push({key:"H",data:(0,c.Z)(y)}),t=y[0];break;case"h":t+=y[0],a.push({key:"H",data:[t]});break;case"V":a.push({key:"V",data:(0,c.Z)(y)}),n=y[0];break;case"v":n+=y[0],a.push({key:"V",data:[n]});break;case"S":a.push({key:"S",data:(0,c.Z)(y)}),t=y[2],n=y[3];break;case"s":var _=y.map(function(e,r){return r%2?e+n:e+t});a.push({key:"S",data:_}),t=_[2],n=_[3];break;case"T":a.push({key:"T",data:(0,c.Z)(y)}),t=y[0],n=y[1];break;case"t":t+=y[0],n+=y[1],a.push({key:"T",data:[t,n]});break;case"Z":case"z":a.push({key:"Z",data:[]}),t=r,n=o}}}catch(e){l=!0,A=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw A}}return a}function x(e){var t=[],n="",r=0,o=0,a=0,s=0,l=0,A=0,d=!0,f=!1,h=void 0;try{for(var p,g=e[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){var v,m,y,b=p.value,w=b.key,_=b.data;switch(w){case"M":t.push({key:"M",data:(0,c.Z)(_)}),r=(v=(0,u.Z)(_,2))[0],o=v[1],a=(m=(0,u.Z)(_,2))[0],s=m[1];break;case"C":t.push({key:"C",data:(0,c.Z)(_)}),r=_[4],o=_[5],l=_[2],A=_[3];break;case"L":t.push({key:"L",data:(0,c.Z)(_)}),r=(y=(0,u.Z)(_,2))[0],o=y[1];break;case"H":r=_[0],t.push({key:"L",data:[r,o]});break;case"V":o=_[0],t.push({key:"L",data:[r,o]});break;case"S":var E=0,C=0;"C"===n||"S"===n?(E=r+(r-l),C=o+(o-A)):(E=r,C=o),t.push({key:"C",data:[E,C].concat((0,c.Z)(_))}),l=_[0],A=_[1],r=_[2],o=_[3];break;case"T":var B=(0,u.Z)(_,2),I=B[0],x=B[1],S=0,k=0;"Q"===n||"T"===n?(S=r+(r-l),k=o+(o-A)):(S=r,k=o);var D=r+2*(S-r)/3,N=o+2*(k-o)/3,O=I+2*(S-I)/3,F=x+2*(k-x)/3;t.push({key:"C",data:[D,N,O,F,I,x]}),l=S,A=k,r=I,o=x;break;case"Q":var R=(0,u.Z)(_,4),L=R[0],M=R[1],P=R[2],U=R[3],j=r+2*(L-r)/3,Z=o+2*(M-o)/3,Q=P+2*(L-P)/3,H=U+2*(M-U)/3;t.push({key:"C",data:[j,Z,Q,H,P,U]}),l=L,A=M,r=P,o=U;break;case"A":var V=Math.abs(_[0]),K=Math.abs(_[1]),z=_[2],G=_[3],W=_[4],q=_[5],Y=_[6];0===V||0===K?(t.push({key:"C",data:[r,o,q,Y,q,Y]}),r=q,o=Y):(r!==q||o!==Y)&&((function e(t,n,r,o,a,s,c,l,A,d){var f=Math.PI*c/180,h=[],p=0,g=0,v=0,m=0;if(d)p=(y=(0,u.Z)(d,4))[0],g=y[1],v=y[2],m=y[3];else{t=(b=(0,u.Z)(T(t,n,-f),2))[0],n=b[1],r=(w=(0,u.Z)(T(r,o,-f),2))[0],o=w[1];var y,b,w,_=(t-r)/2,E=(n-o)/2,C=_*_/(a*a)+E*E/(s*s);C>1&&(a*=C=Math.sqrt(C),s*=C);var B=l===A?-1:1,I=a*a,x=s*s,S=B*Math.sqrt(Math.abs((I*x-I*E*E-x*_*_)/(I*E*E+x*_*_)));v=S*a*E/s+(t+r)/2,m=-(S*s)*_/a+(n+o)/2,p=Math.asin(parseFloat(((n-m)/s).toFixed(9))),g=Math.asin(parseFloat(((o-m)/s).toFixed(9))),t<v&&(p=Math.PI-p),r<v&&(g=Math.PI-g),p<0&&(p=2*Math.PI+p),g<0&&(g=2*Math.PI+g),A&&p>g&&(p-=2*Math.PI),!A&&g>p&&(g-=2*Math.PI)}var k=g-p;if(Math.abs(k)>120*Math.PI/180){var D=g,N=r,O=o;r=v+a*Math.cos(g=A&&g>p?p+120*Math.PI/180*1:p+-(120*Math.PI/180*1)),h=e(r,o=m+s*Math.sin(g),N,O,a,s,c,0,A,[g,D,v,m])}k=g-p;var F=Math.cos(p),R=Math.cos(g),L=Math.tan(k/4),M=4/3*a*L,P=4/3*s*L,U=[t,n],j=[t+M*Math.sin(p),n-P*F],Z=[r+M*Math.sin(g),o-P*R],Q=[r,o];if(j[0]=2*U[0]-j[0],j[1]=2*U[1]-j[1],d)return[j,Z,Q].concat(h);h=[j,Z,Q].concat(h);for(var H=[],V=0;V<h.length;V+=3){var K=T(h[V][0],h[V][1],f),z=T(h[V+1][0],h[V+1][1],f),G=T(h[V+2][0],h[V+2][1],f);H.push([K[0],K[1],z[0],z[1],G[0],G[1]])}return H})(r,o,q,Y,V,K,z,G,W).forEach(function(e){t.push({key:"C",data:e})}),r=q,o=Y);break;case"Z":t.push({key:"Z",data:[]}),r=a,o=s}n=w}}catch(e){f=!0,h=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw h}}return t}function T(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}var S={randOffset:function(e,t){return j(e,t)},randOffsetWithRange:function(e,t,n){return U(e,t,n)},ellipse:function(e,t,n,r,o){var a=O(n,r,o);return F(e,t,o,a).opset},doubleLineOps:function(e,t,n,r,o){return Z(e,t,n,r,o,!0)}};function k(e,t,n,r,o){return{type:"path",ops:Z(e,t,n,r,o)}}function D(e,t,n){var r=(e||[]).length;if(r>2){for(var o=[],a=0;a<r-1;a++)o.push.apply(o,(0,c.Z)(Z(e[a][0],e[a][1],e[a+1][0],e[a+1][1],n)));return t&&o.push.apply(o,(0,c.Z)(Z(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n))),{type:"path",ops:o}}return 2===r?k(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function N(e,t){var n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=H(e,1*(1+.2*t.roughness),t,n);if(!t.disableMultiStroke){var o,s=H(e,1.5*(1+.22*t.roughness),((o=(0,a.Z)({},t)).randomizer=void 0,t.seed&&(o.seed=t.seed+1),o),n);r=r.concat(s)}return{type:"path",ops:r}}function O(e,t,n){var r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),o=2*Math.PI/Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),a=Math.abs(e/2),s=Math.abs(t/2),u=1-n.curveFitting;return a+=j(a*u,n),s+=j(s*u,n),{increment:o,rx:a,ry:s}}function F(e,t,n,r){var o=(0,u.Z)(K(r.increment,e,t,r.rx,r.ry,1,r.increment*U(.1,U(.4,1,n),n),n),2),a=o[0],s=o[1],c=V(a,null,n);if(!n.disableMultiStroke&&0!==n.roughness){var l=V((0,u.Z)(K(r.increment,e,t,r.rx,r.ry,1.5,0,n),1)[0],null,n);c=c.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:c}}}function R(e,t,n,r,o,a,s,u,l){var A=Math.abs(n/2),d=Math.abs(r/2);A+=j(.01*A,l),d+=j(.01*d,l);for(var f=o,h=a;f<0;)f+=2*Math.PI,h+=2*Math.PI;h-f>2*Math.PI&&(f=0,h=2*Math.PI);var p=Math.min(2*Math.PI/l.curveStepCount/2,(h-f)/2),g=z(p,e,t,A,d,f,h,1,l);if(!l.disableMultiStroke){var v=z(p,e,t,A,d,f,h,1.5,l);g.push.apply(g,(0,c.Z)(v))}return s&&(u?g.push.apply(g,(0,c.Z)(Z(e,t,e+A*Math.cos(f),t+d*Math.sin(f),l)).concat((0,c.Z)(Z(e,t,e+A*Math.cos(h),t+d*Math.sin(h),l)))):g.push({op:"lineTo",data:[e,t]},{op:"lineTo",data:[e+A*Math.cos(f),t+d*Math.sin(f)]})),{type:"path",ops:g}}function L(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if(c.length){var l=t.maxRandomnessOffset||0,A=c.length;if(A>2){n.push({op:"move",data:[c[0][0]+j(l,t),c[0][1]+j(l,t)]});for(var d=1;d<A;d++)n.push({op:"lineTo",data:[c[d][0]+j(l,t),c[d][1]+j(l,t)]})}}}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return{type:t.useStrokeForFill?"strokeAndFill":"fillPath",ops:n}}function M(e,t){return(function(e,t){var n=e.fillStyle||"hachure";if(!_[n])switch(n){case"zigzag":_[n]||(_[n]=new v(t));break;case"cross-hatch":_[n]||(_[n]=new m(t));break;case"dots":_[n]||(_[n]=new y(t));break;case"dashed":_[n]||(_[n]=new b(t));break;case"zigzag-line":_[n]||(_[n]=new w(t));break;default:_[n="hachure"]||(_[n]=new h(t))}return _[n]})(t,S).fillPolygons(e,t)}function P(e){return e.randomizer||(e.randomizer=new E.k(e.seed||0)),e.randomizer.next()}function U(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return n.roughness*r*(P(n)*(t-e)+e)}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return U(-e,e,t,n)}function Z(e,t,n,r,o){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=a?o.disableMultiStrokeFill:o.disableMultiStroke,u=Q(e,t,n,r,o,!0,!1);if(s)return u;var c=Q(e,t,n,r,o,!0,!0);return u.concat(c)}function Q(e,t,n,r,o,a,s){var u=Math.pow(e-n,2)+Math.pow(t-r,2),c=Math.sqrt(u),l=1;l=c<200?1:c>500?.4:-.0016668*c+1.233334;var A=o.maxRandomnessOffset||0;A*A*100>u&&(A=c/10);var d=A/2,f=.2+.2*P(o),h=o.bowing*o.maxRandomnessOffset*(r-t)/200,p=o.bowing*o.maxRandomnessOffset*(e-n)/200;h=j(h,o,l),p=j(p,o,l);var g=[],v=function(){return j(d,o,l)},m=function(){return j(A,o,l)},y=o.preserveVertices;return a&&(s?g.push({op:"move",data:[e+(y?0:v()),t+(y?0:v())]}):g.push({op:"move",data:[e+(y?0:j(A,o,l)),t+(y?0:j(A,o,l))]})),s?g.push({op:"bcurveTo",data:[h+e+(n-e)*f+v(),p+t+(r-t)*f+v(),h+e+2*(n-e)*f+v(),p+t+2*(r-t)*f+v(),n+(y?0:v()),r+(y?0:v())]}):g.push({op:"bcurveTo",data:[h+e+(n-e)*f+m(),p+t+(r-t)*f+m(),h+e+2*(n-e)*f+m(),p+t+2*(r-t)*f+m(),n+(y?0:m()),r+(y?0:m())]}),g}function H(e,t,n){var r=!(arguments.length>3)||void 0===arguments[3]||arguments[3],o=[];o.push([e[0][0]+j(t,n),e[0][1]+j(t,n)]),o.push([e[0][0]+j(t,n),e[0][1]+j(t,n)]);for(var a=1;a<e.length;a++)o.push([e[a][0]+j(t,n),e[a][1]+j(t,n)]),a===e.length-1&&r&&o.push([e[a][0]+j(t,n),e[a][1]+j(t,n)]);return V(o,null,n)}function V(e,t,n){var r=e.length;if(r<2)return[];var o=[];if(r>3){var a=[],s=1-n.curveTightness;o.push({op:"move",data:[e[1][0],e[1][1]]});for(var u=1;u+2<r;u++){var l=e[u],d=A([e[u],e[u-1]]),f=n.variableSharpness?1.5*n.sharpness+Math.sqrt(d)/40:n.sharpness;a[0]=[l[0],l[1]],a[1]=[l[0]+(s*e[u+1][0]-s*e[u-1][0])/f,l[1]+(s*e[u+1][1]-s*e[u-1][1])/f],a[2]=[e[u+1][0]+(s*e[u][0]-s*e[u+2][0])/f,e[u+1][1]+(s*e[u][1]-s*e[u+2][1])/f],a[3]=[e[u+1][0],e[u+1][1]],o.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(t&&2===t.length){var h=n.maxRandomnessOffset;o.push({op:"lineTo",data:[t[0]+j(h,n),t[1]+j(h,n)]})}}else 3===r?(o.push({op:"move",data:[e[1][0],e[1][1]]}),o.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===r&&o.push.apply(o,(0,c.Z)(Z(e[0][0],e[0][1],e[1][0],e[1][1],n)));return o}function K(e,t,n,r,o,a,s,u){var c=0===u.roughness,l=[],A=[];if(c){e/=4,A.push([t+r*Math.cos(-e),n+o*Math.sin(-e)]);for(var d=0;d<=2*Math.PI;d+=e){var f=[t+r*Math.cos(d),n+o*Math.sin(d)];l.push(f),A.push(f)}A.push([t+1*r,n+0*o]),A.push([t+r*Math.cos(e),n+o*Math.sin(e)])}else{var h=j(.5,u)-Math.PI/2;A.push([j(a,u)+t+.9*r*Math.cos(h-e),j(a,u)+n+.9*o*Math.sin(h-e)]);for(var p=2*Math.PI+h-.01,g=h;g<p;g+=e){var v=[j(a,u)+t+r*Math.cos(g),j(a,u)+n+o*Math.sin(g)];l.push(v),A.push(v)}A.push([j(a,u)+t+r*Math.cos(h+2*Math.PI+.5*s),j(a,u)+n+o*Math.sin(h+2*Math.PI+.5*s)]),A.push([j(a,u)+t+.98*r*Math.cos(h+s),j(a,u)+n+.98*o*Math.sin(h+s)]),A.push([j(a,u)+t+.9*r*Math.cos(h+.5*s),j(a,u)+n+.9*o*Math.sin(h+.5*s)])}return[A,l]}function z(e,t,n,r,o,a,s,u,c){var l=a+j(.1,c),A=[];A.push([j(u,c)+t+.9*r*Math.cos(l-e),j(u,c)+n+.9*o*Math.sin(l-e)]);for(var d=l;d<=s;d+=e)A.push([j(u,c)+t+r*Math.cos(d),j(u,c)+n+o*Math.sin(d)]);return A.push([t+r*Math.cos(s),n+o*Math.sin(s)]),A.push([t+r*Math.cos(s),n+o*Math.sin(s)]),V(A,null,c)}function G(e){return(0,c.Z)(e)}function W(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function q(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function Y(e,t,n,r,o){for(var a=o||[],s=e[t],u=e[n-1],c=0,l=1,A=t+1;A<n-1;++A){var d=function(e,t,n){var r=W(t,n);if(0===r)return W(e,t);var o=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return W(e,q(t,n,o=Math.max(0,Math.min(1,o))))}(e[A],s,u);d>c&&(c=d,l=A)}return Math.sqrt(c)>r?(Y(e,t,l+1,r,a),Y(e,l,n,r,a)):(a.length||a.push(s),a.push(u)),a}function $(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,n=arguments.length>2?arguments[2]:void 0,r=[],o=(e.length-1)/3,a=0;a<o;a++)!function e(t,n,r,o){var a=o||[];if(s=t[n+0],u=t[n+1],c=t[n+2],l=t[n+3],A=3*u[0]-2*s[0]-l[0],A*=A,d=3*u[1]-2*s[1]-l[1],d*=d,f=3*c[0]-2*l[0]-s[0],f*=f,h=3*c[1]-2*l[1]-s[1],h*=h,A<f&&(A=f),d<h&&(d=h),A+d<r){var s,u,c,l,A,d,f,h,p=t[n+0];a.length?Math.sqrt(W(a[a.length-1],p))>1&&a.push(p):a.push(p),a.push(t[n+3])}else{var g=t[n+0],v=t[n+1],m=t[n+2],y=t[n+3],b=q(g,v,.5),w=q(v,m,.5),_=q(m,y,.5),E=q(b,w,.5),C=q(w,_,.5),B=q(E,C,.5);e([g,b,E,B],0,r,a),e([B,C,_,y],0,r,a)}return a}(e,3*a,t,r);return n&&n>0?Y(r,0,r.length,n):r}function X(e,t,n){var r=x(I(B(e))),o=[],a=[],s=[0,0],u=[],l=function(){if(u.length>=4){var e;(e=a).push.apply(e,(0,c.Z)($(u,t)))}u=[]},A=function(){l(),a.length&&(o.push(a),a=[])},d=!0,f=!1,h=void 0;try{for(var p,g=r[Symbol.iterator]();!(d=(p=g.next()).done);d=!0){var v=p.value,m=v.key,y=v.data;switch(m){case"M":A(),s=[y[0],y[1]],a.push(s);break;case"L":l(),a.push([y[0],y[1]]);break;case"C":if(!u.length){var b=a.length?a[a.length-1]:s;u.push([b[0],b[1]])}u.push([y[0],y[1]]),u.push([y[2],y[3]]),u.push([y[4],y[5]]);break;case"Z":l(),a.push([s[0],s[1]])}}}catch(e){f=!0,h=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw h}}if(A(),!n)return o;var w=[],_=!0,E=!1,C=void 0;try{for(var T,S=o[Symbol.iterator]();!(_=(T=S.next()).done);_=!0){var k,D=(k=T.value,Y(k,0,k.length,n));D.length&&w.push(D)}}catch(e){E=!0,C=e}finally{try{_||null==S.return||S.return()}finally{if(E)throw C}}return w}var J="none",ee=/*#__PURE__*/function(){function e(t){(0,r.Z)(this,e),this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,sharpness:6,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this._config=t||{},this._config.options&&(this.defaultOptions=this._o(this._config.options))}var t=e.prototype;return t._o=function(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions},t._d=function(e,t,n){return n.shadowColor&&t.length&&(t=function(e,t){var n,r,o,u,l,A=e.at(-1);if(void 0===A)return e;var d=(n=A.ops,r=(null===(u=t.shadowOffset)||void 0===u?void 0:u[0])||4,o=(null===(l=t.shadowOffset)||void 0===l?void 0:l[1])||4,n.map(function(e){var t=e.data;switch(e.op){case"move":case"lineTo":return(0,s.Z)((0,a.Z)({},e),{data:[t[0]+r,t[1]+o]});case"bcurveTo":return(0,s.Z)((0,a.Z)({},e),{data:[t[0]+r,t[1]+o,t[2]+r,t[3]+o,t[4]+r,t[5]+o]})}})).filter(function(e,t){return 0===t||"move"!==e.op});return[{type:"fillPath",clip:(0,c.Z)(A.ops.filter(function(e,t){return 0===t||"move"!==e.op})).concat((0,c.Z)(d)),ops:d,fillColor:t.shadowColor}].concat((0,c.Z)(e))}(t,n)),n.watercolorColor&&t.length&&(t=function(e,t,n){if(!n.watercolorColor)return t;var r,o,u,l=t.find(function(e){return"fillPath"===e.type});if(void 0===l)return t;var A=0,f=0,h=!0,p=!1,g=void 0;try{for(var v,m=l.ops[Symbol.iterator]();!(h=(v=m.next()).done);h=!0){var y=v.value;"lineTo"===y.op?(A=Math.max(A,y.data[0]),f=Math.max(f,y.data[1])):"bcurveTo"===y.op&&(A=Math.max(A,y.data[0],y.data[2],y.data[4]),f=Math.max(f,y.data[1],y.data[3],y.data[5]))}}catch(e){p=!0,g=e}finally{try{h||null==m.return||m.return()}finally{if(p)throw g}}var b=150/A,w=150/f;if(n.watercolorUseBoundingBox)_=[[4/3,146],[4/3,4],[146,4],[146,146],[4/3,146],[4/3,4],[146,4]];else if("ellipse"===e)_=[[0,75],[0,0],[75,0],[150,0],[150,75],[150,150],[75,150],[0,150],[0,75],[0,0],[75,0]];else{var _,E,C=d({type:"fillPath",ops:l.ops.map(function(e){var t=e.data;return(0,s.Z)((0,a.Z)({},e),{data:t.map(function(e,t){return t%2?e*w:e*b})})})}),B=null!==(E=n.watercolorSmoothness)&&void 0!==E?E:4,I=(_=X(C,B,2*B)[0])[1],x=_.at(-2);_.unshift(x),_.push(I)}r=_,o=1/b,u=1/w;var T=N(_=r.map(function(e){return[e[0]*o,e[1]*u]}),"ellipse"===e?(0,s.Z)((0,a.Z)({},n),{roughness:3,sharpness:9}):(0,s.Z)((0,a.Z)({},n),{roughness:1+.5*n.roughness,sharpness:(n.watercolorSmoothness||n.sharpness)/Math.min(b,w),variableSharpness:!0}),!1).ops;if("ellipse"===e)T=T.filter(function(e,t){return 0===t||t%2!=1});else{T.pop(),T.shift();var S=T.at(-1);S.data[4]=_[0][0],S.data[5]=_[0][1],T.unshift({op:"move",data:[S.data[4],S.data[5]]})}return[{type:"fillPath",ops:T,fillColor:n.watercolorColor}].concat((0,c.Z)(t))}(e,t,n)),{shape:e,sets:t,options:n}},t.line=function(e,t,n,r,o){var a=this._o(o);return this._d("line",[k(e,t,n,r,a)],a)},t.rectangle=function(e,t,n,r,o){var a=this._o(o),s=[],u=D([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],!0,a);if(a.fill){var c=[[e,t],[e+n,t],[e+n,t+r],[e,t+r]];"solid"===a.fillStyle?s.push(L([c],a)):s.push(M([c],a))}return a.stroke!==J&&s.push(u),this._d("rectangle",s,a)},t.ellipse=function(e,t,n,r,o){var a=this._o(o),s=[],u=O(n,r,a),c=F(e,t,a,u);if(a.fill){if("solid"===a.fillStyle){var l=F(e,t,a,u).opset;l.type="fillPath",s.push(l)}else s.push(M([c.estimatedPoints],a))}return a.stroke!==J&&s.push(c.opset),this._d("ellipse",s,a)},t.circle=function(e,t,n,r){var o=this.ellipse(e,t,n,n,r);return o.shape="circle",o},t.linearPath=function(e,t){var n=this._o(t);return this._d("linearPath",[D(e,!1,n)],n)},t.arc=function(e,t,n,r,o,s){var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7?arguments[7]:void 0,l=this._o(c),A=[],d=R(e,t,n,r,o,s,u,!0,l);if(u&&l.fill){if("solid"===l.fillStyle){var f=(0,a.Z)({},l);f.disableMultiStroke=!0;var h=R(e,t,n,r,o,s,!0,!1,f);h.type="fillPath",A.push(h)}else A.push(function(e,t,n,r,o,a,s){var u=Math.abs(n/2),c=Math.abs(r/2);u+=j(.01*u,s),c+=j(.01*c,s);for(var l=o,A=a;l<0;)l+=2*Math.PI,A+=2*Math.PI;A-l>2*Math.PI&&(l=0,A=2*Math.PI);for(var d=(A-l)/s.curveStepCount,f=[],h=l;h<=A;h+=d)f.push([e+u*Math.cos(h),t+c*Math.sin(h)]);return f.push([e+u*Math.cos(A),t+c*Math.sin(A)]),f.push([e,t]),M([f],s)}(e,t,n,r,o,s,l))}return l.stroke!==J&&A.push(d),this._d("arc",A,l)},t.curve=function(e,t){var n=this._o(t),r=[],o=N(e,n);if(n.fill&&n.fill!==J&&e.length>=3){var a=$(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.length;if(n<3)throw Error("A curve must have at least three points.");var r=[];if(3===n)r.push(G(e[0]),G(e[1]),G(e[2]),G(e[2]));else{var o=[];o.push(e[0],e[0]);for(var a=1;a<e.length;a++)o.push(e[a]),a===e.length-1&&o.push(e[a]);var s=[],u=1-t;r.push(G(o[0]));for(var c=1;c+2<o.length;c++){var l=o[c];s[0]=[l[0],l[1]],s[1]=[l[0]+(u*o[c+1][0]-u*o[c-1][0])/6,l[1]+(u*o[c+1][1]-u*o[c-1][1])/6],s[2]=[o[c+1][0]+(u*o[c][0]-u*o[c+2][0])/6,o[c+1][1]+(u*o[c][1]-u*o[c+2][1])/6],s[3]=[o[c+1][0],o[c+1][1]],r.push(s[1],s[2],s[3])}}return r}(e),10,(1+n.roughness)/2);"solid"===n.fillStyle?r.push(L([a],n)):r.push(M([a],n))}return n.stroke!==J&&r.push(o),this._d("curve",r,n)},t.polygon=function(e,t){var n=this._o(t),r=[],o=D(e,!0,n);return n.fill&&("solid"===n.fillStyle?r.push(L([e],n)):r.push(M([e],n))),n.stroke!==J&&r.push(o),this._d("polygon",r,n)},t.path=function(e,t){var n=this._o(t),r=[];if(!e)return this._d("path",r,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");var o=n.fill&&"transparent"!==n.fill&&n.fill!==J,a=n.stroke!==J,s=!!(n.simplification&&n.simplification<1),l=X(e,1,s?4-4*n.simplification:(1+n.roughness)/2);return o&&("solid"===n.fillStyle?r.push(L(l,n)):r.push(M(l,n))),a&&!n.useStrokeForFill&&(s?l.forEach(function(e){r.push(D(e,!1,n))}):r.push(function(e,t){var n=x(I(B(e))),r=[],o=[0,0],a=[0,0],s=!0,l=!1,A=void 0;try{for(var d,f=n[Symbol.iterator]();!(s=(d=f.next()).done);s=!0)!function(){var e=d.value,n=e.key,s=e.data;switch(n){case"M":var l=1*(t.maxRandomnessOffset||0),A=t.preserveVertices;r.push({op:"move",data:s.map(function(e){return e+(A?0:j(l,t))})}),a=[s[0],s[1]],o=[s[0],s[1]];break;case"L":r.push.apply(r,(0,c.Z)(Z(a[0],a[1],s[0],s[1],t))),a=[s[0],s[1]];break;case"C":var f=(0,u.Z)(s,6),h=f[0],p=f[1],g=f[2],v=f[3],m=f[4],y=f[5];r.push.apply(r,(0,c.Z)(function(e,t,n,r,o,a,s,u){for(var c=[],l=[u.maxRandomnessOffset||1,(u.maxRandomnessOffset||1)+.3],A=[0,0],d=u.disableMultiStroke?1:2,f=u.preserveVertices,h=0;h<d;h++)0!==h&&c.push({op:"move",data:[s[0]+j(l[0],u),s[1]+j(l[0],u)]}),A=f?[o,a]:[o+j(l[h],u),a+j(l[h],u)],c.push({op:"bcurveTo",data:[e+j(l[h],u),t+j(l[h],u),n+j(l[h],u),r+j(l[h],u),A[0],A[1]]});return c}(h,p,g,v,m,y,a,t))),a=[m,y];break;case"Z":r.push.apply(r,(0,c.Z)(Z(a[0],a[1],o[0],o[1],t))),a=[o[0],o[1]]}}()}catch(e){l=!0,A=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw A}}return{type:"path",ops:r}}(e,n))),this._d("path",r,n)},t.toPaths=function(e){var t=e.sets||[],n=e.options||this.defaultOptions,r=[],o=!0,a=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value,A=null;switch(l.type){case"path":A={d:d(l),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:J};break;case"fillPath":A={d:d(l),stroke:J,strokeWidth:0,fill:n.fill||J};break;case"fillSketch":A=this._fillSketch(l,n)}A&&r.push(A)}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}return r},t._fillSketch=function(e,t){var n=t.fillWeight;return n<0&&(n=t.strokeWidth/2),{d:d(e),stroke:t.fill||J,strokeWidth:n,fill:J}},e.newSeed=function(){return(0,E.W)()},e}(),et=/*#__PURE__*/function(){function e(t,n){(0,r.Z)(this,e),this._canvas=t,this._ctx=this._canvas.getContext("2d"),this._gen=new ee(n)}var t=e.prototype;return t.draw=function(e){var t=e.sets||[],n=e.options||this.getDefaultOptions(),r=this._ctx,o=e.options.fixedDecimalPlaceDigits,a=!0,s=!1,u=void 0;try{for(var c,l=t[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var A=c.value;switch(A.type){case"path":r.save(),r.strokeStyle="none"===n.stroke?"transparent":n.stroke,r.lineWidth=n.strokeWidth,n.strokeLineDash&&r.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(r.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(r,A,o),r.restore();break;case"fillPath":r.save(),r.fillStyle=A.fillColor||e.options.fill||n.fill||"";var d="curve"===e.shape||"polygon"===e.shape||"path"===e.shape?"evenodd":"nonzero";this._drawToContext(r,A,o,d),r.restore();break;case"fillSketch":this._fillSketch(r,A,n)}}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}},t._fillSketch=function(e,t,n){var r=n.fillWeight;r<0&&(r=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=r,this._drawToContext(e,t,n.fixedDecimalPlaceDigits),e.restore()},t._applyOps=function(e,t,n){var r=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,l="number"==typeof n&&n>=0?c.data.map(function(e){return+e.toFixed(n)}):c.data;switch(c.op){case"move":e.moveTo(l[0],l[1]);break;case"bcurveTo":e.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"lineTo":e.lineTo(l[0],l[1])}}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}},t._drawToContext=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"nonzero";if(e.beginPath(),t.clip){var o=new Path2D;this._applyOps(o,t.clip),o.closePath(),e.clip(o,"evenodd")}this._applyOps(e,t.ops,n),("fillPath"===t.type||"strokeAndFill"===t.type)&&(e.closePath(),e.fill(r)),("strokeAndFill"===t.type||"path"===t.type)&&e.stroke(),"clip"===t.type&&(e.closePath(),e.clip("evenodd"))},t.getDefaultOptions=function(){return this._gen.defaultOptions},t.line=function(e,t,n,r,o){var a=this._gen.line(e,t,n,r,o);return this.draw(a),a},t.rectangle=function(e,t,n,r,o){var a=this._gen.rectangle(e,t,n,r,o);return this.draw(a),a},t.ellipse=function(e,t,n,r,o){var a=this._gen.ellipse(e,t,n,r,o);return this.draw(a),a},t.circle=function(e,t,n,r){var o=this._gen.circle(e,t,n,r);return this.draw(o),o},t.linearPath=function(e,t){var n=this._gen.linearPath(e,t);return this.draw(n),n},t.polygon=function(e,t){var n=this._gen.polygon(e,t);return this.draw(n),n},t.arc=function(e,t,n,r,o,a,s,u){var c=this._gen.arc(e,t,n,r,o,a,s,u);return this.draw(c),c},t.curve=function(e,t){var n=this._gen.curve(e,t);return this.draw(n),n},t.path=function(e,t){var n=this._gen.path(e,t);return this.draw(n),n},(0,o.Z)(e,[{key:"generator",get:function(){return this._gen}}]),e}(),en="http://www.w3.org/2000/svg",er=/*#__PURE__*/function(){function e(t,n){(0,r.Z)(this,e),this._svg=t,this._gen=new ee(n)}var t=e.prototype;return t.draw=function(e){var t=e.sets||[],n=e.options||this.getDefaultOptions(),r=this._svg.ownerDocument||window.document,o=r.createElementNS(en,"g"),a=e.options.fixedDecimalPlaceDigits,s=!0,u=!1,c=void 0;try{for(var l,A=t[Symbol.iterator]();!(s=(l=A.next()).done);s=!0){var f=l.value,h=null;switch(f.type){case"path":(h=r.createElementNS(en,"path")).setAttribute("d",d(f,a)),h.setAttribute("stroke",n.stroke),h.setAttribute("stroke-width",n.strokeWidth.toString()),h.setAttribute("fill","none"),n.strokeLineDash&&h.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&h.setAttribute("stroke-dashoffset","".concat(n.strokeLineDashOffset));break;case"fillPath":(h=r.createElementNS(en,"path")).setAttribute("d",d(f,a)),h.setAttribute("stroke","none"),h.setAttribute("stroke-width","0"),h.setAttribute("fill",f.fillColor||n.fill||""),("curve"===e.shape||"polygon"===e.shape)&&h.setAttribute("fill-rule","evenodd");break;case"fillSketch":h=this._fillSketch(r,f,n)}h&&o.appendChild(h)}}catch(e){u=!0,c=e}finally{try{s||null==A.return||A.return()}finally{if(u)throw c}}return o},t._fillSketch=function(e,t,n){var r=n.fillWeight;r<0&&(r=n.strokeWidth/2);var o=e.createElementNS(en,"path");return o.setAttribute("d",d(t,n.fixedDecimalPlaceDigits)),o.setAttribute("stroke",n.fill||""),o.setAttribute("stroke-width",r.toString()),o.setAttribute("fill","none"),n.fillLineDash&&o.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&o.setAttribute("stroke-dashoffset","".concat(n.fillLineDashOffset)),o},t.getDefaultOptions=function(){return this._gen.defaultOptions},t.line=function(e,t,n,r,o){var a=this._gen.line(e,t,n,r,o);return this.draw(a)},t.rectangle=function(e,t,n,r,o){var a=this._gen.rectangle(e,t,n,r,o);return this.draw(a)},t.ellipse=function(e,t,n,r,o){var a=this._gen.ellipse(e,t,n,r,o);return this.draw(a)},t.circle=function(e,t,n,r){var o=this._gen.circle(e,t,n,r);return this.draw(o)},t.linearPath=function(e,t){var n=this._gen.linearPath(e,t);return this.draw(n)},t.polygon=function(e,t){var n=this._gen.polygon(e,t);return this.draw(n)},t.arc=function(e,t,n,r,o,a,s,u){var c=this._gen.arc(e,t,n,r,o,a,s,u);return this.draw(c)},t.curve=function(e,t){var n=this._gen.curve(e,t);return this.draw(n)},t.path=function(e,t){var n=this._gen.path(e,t);return this.draw(n)},(0,o.Z)(e,[{key:"generator",get:function(){return this._gen}}]),e}(),ei={canvas:function(e,t){return new et(e,t)},svg:function(e,t){return new er(e,t)},generator:function(e){return new ee(e)},newSeed:function(){return ee.newSeed()}}},54298:function(e,t,n){"use strict";n.d(t,{W:function(){return o},k:function(){return a}});var r=n(90581);function o(){return Math.floor(2147483648*Math.random())}var a=/*#__PURE__*/function(){function e(t){(0,r.Z)(this,e),this._seed=t}return e.prototype.next=function(){return this._seed?(2147483647&(this._seed=Math.imul(48271,this._seed)))/2147483648:Math.random()},e}()},66140:function(e,t,n){"use strict";n.d(t,{CF:function(){return f},HE:function(){return c},O9:function(){return p},OB:function(){return d},Wc:function(){return u},Wr:function(){return o},bO:function(){return l},l2:function(){return A},wC:function(){return s},y2:function(){return h}});var r,o,a=n(34406),s={apiKey:"AIzaSyCX5UYWp-3ZAVEuQ3Ospj9Xg9e6ji16roI",authDomain:"app.eraser.io",databaseURL:"https://second-petal-295822-default-rtdb.firebaseio.com",projectId:"second-petal-295822",storageBucket:"second-petal-295822.appspot.com",appId:"1:941057276634:web:f12eed496a39ecb38283e3",measurementId:"G-1MXHYK3MDX",logLevel:"error",performanceEnabled:!0,emulatorEnabled:"true"===a.env.FIREBASE_EMULATOR_ENABLED,region:"us-central1"},u={version:1,name:"eraser",storeName:"database"},c={appId:"fqp3uy63"},l={apiKey:"f168e1e5bad215237a52eb94f5eb4a84"},A={url:"https://app.eraser.io"},d={isDev:!1,isProd:!0},f={url:a.env.WEBSITE_URL||"https://www.eraser.io",homepageURL:a.env.WEBSITE_HOMEPAGE_URL||"https://www.eraser.io/?r=0",docsURL:a.env.WEBSITE_DOCS_URL||"https://docs.eraser.io",helpURL:a.env.WEBSITE_HELP_URL||"https://help.eraser.io",pricingURL:a.env.WEBSITE_PRICING_URL||"https://www.eraser.io/pricing",slackURL:a.env.SLACK_URL||"https://join.slack.com/t/eraser-community/shared_invite/zt-2id0agcg5-WXiO6ha9C9AiJ6A47Gc4pQ",featureRequestURL:a.env.WEBSITE_FEATURE_REQUEST_URL||"https://feedback.eraser.io/feature-requests"},h={baseUrl:"https://eraser.imgix.net"};(r=o||(o={})).Workspaces="workspaces",r.KnownPeople="known-people";var p={appId:"LZ6W44X7AN",workspacesIndex:"workspaces",knownPeopleIndex:"known-people"}},32472:function(e,t,n){"use strict";n.d(t,{IF:function(){return l},Ji:function(){return o},SF:function(){return s},Wi:function(){return r},bo:function(){return a},iL:function(){return c},k1:function(){return u}});var r="live",o="3.0.30",a="Unsorted",s="Untitled File",u="Untitled Template",c="isUserAuthenticated",l="analyticsId"},66842:function(e,t,n){"use strict";n.d(t,{DO:function(){return s},Gd:function(){return o},KU:function(){return a},kz:function(){return u},qo:function(){return r}});var r="ctid",o="cid",a="search",s="data-skip-discard-comment",u=function(e){var t;return!!(null===(t=document.querySelector("[".concat(s,"]")))||void 0===t?void 0:t.contains(e))}},33484:function(e,t,n){"use strict";n.d(t,{f:function(){return o}});var r=n(2784);function o(){var e=(0,r.useState)(!1),t=e[0],n=e[1];return(0,r.useEffect)(function(){var e;if("maxTouchPoints"in navigator)e=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)e=navigator.msMaxTouchPoints>0;else{var t="matchMedia"in window&&matchMedia("(pointer:coarse)");if(t&&"(pointer:coarse)"===t.media)e=!!t.matches;else if("orientation"in window)e=!0;else{var r=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(r)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(r)}}n(e)},[]),t}},54848:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(70865),o=n(52322),a=n(2784),s=n(51992),u=n(43446),c=n(71059),l=new Set,A=function(e){var t=(0,u.Z)(),n=(0,a.useState)(!e||!l.has(e)),r=n[0],o=n[1],s=(0,a.useState)(r?void 0:e),A=s[0],d=s[1],f=(0,a.useRef)(),h=(0,a.useCallback)(function(){if(!e){o(!1);return}if(!A){var n=(o(!0),f.current=new Image,f.current);n.src=e,n.onload=function(){l.add(e),t()&&(o(!1),d(e))},n.onerror=function(){o(!1)}}},[e,A,t]);return(0,c.Z)(function(){return h()},[h]),{isLoading:r,result:A}},d=n(86588),f=n(3635),h=n(68870),p=/*#__PURE__*/n.n(h),g=function(e){var t=e.size,n=void 0===t?28:t;return/*#__PURE__*/(0,o.jsx)(s.yB,{color:"var(--grey-500)",highlightColor:"var(--grey-400)",children:/*#__PURE__*/(0,o.jsx)(s.ZP,{className:p().skeleton,count:1,width:n,height:n,style:{lineHeight:"".concat(n,"px")},circle:!0})})},v=/*#__PURE__*/(0,a.memo)(/*#__PURE__*/(0,a.forwardRef)(function(e,t){var n=e.size,a=e.style,s=e.color,u=e.photoURL,c=e.fallback,l=e.isLoading,h=e.className,v=e.displayName,m=e.isNoTooltip,y=e.isTransparent,b=e.tooltipSubText,w=A(u),_=w.isLoading,E=w.result;return l||_?/*#__PURE__*/(0,o.jsx)(g,{size:n}):v||c?/*#__PURE__*/(0,o.jsx)(d.Z,{disabled:m,subText:b,text:v||"No Eraser account found",contentClassName:(0,f.Z)(h,p().avatar,!!E&&p().hasImage,y&&p().isTransparent),contentStyle:(0,r.Z)({width:n,height:n,backgroundColor:s,backgroundImage:E?"url(".concat(E,")"):""},a),children:/*#__PURE__*/(0,o.jsx)("span",{className:p().fallback,ref:t,children:v?v.split(" ").slice(0,2).map(function(e){return e.charAt(0)}).join("").toUpperCase():c})}):null}))},2121:function(e,t,n){"use strict";var r=n(52322),o=n(3635),a=n(11163),s=/*#__PURE__*/n.n(a);t.Z=function(e){var t=e.variant,n=e.className,a=e.onClick,u=e.children,c=e.inverted,l=e.applyOpacity;return/*#__PURE__*/(0,r.jsx)("span",{onClick:a,role:a?"button":void 0,className:(0,o.Z)(s().badge,n,s()[void 0===t?"primary":t],c&&s().inverted,l&&s().opacity),style:{cursor:a?"pointer":"default"},children:u})}},79183:function(e,t,n){"use strict";var r=n(70865),o=n(96670),a=n(52322),s=n(2121);t.Z=function(e){return/*#__PURE__*/(0,a.jsx)(s.Z,(0,o.Z)((0,r.Z)({},e),{children:"beta"}))}},75280:function(e,t,n){"use strict";var r=n(70865),o=n(96670),a=n(52322),s=n(2121);t.Z=function(e){return/*#__PURE__*/(0,a.jsx)(s.Z,(0,o.Z)((0,r.Z)({variant:"secondary",applyOpacity:!0},e),{children:"upgrade"}))}},93995:function(e,t,n){"use strict";n.d(t,{Ct:function(){return r.Z},vw:function(){return o.Z},y6:function(){return a.Z}});var r=n(2121),o=n(79183),a=n(75280)},12171:function(e,t,n){"use strict";n.d(t,{c:function(){return d}});var r=n(70865),o=n(26297),a=n(52322),s=n(2784),u=n(3635),c=n(36544),l=/*#__PURE__*/n.n(c),A=/*#__PURE__*/(0,s.forwardRef)(function(e,t){var n=e.value,c=e.onBlur,A=e.onEnter,d=e.classNames,f=e.placeholder,h=e.onLinkClick,p=e.mode,g=e.autoFocus,v=void 0!==g&&g,m=e.isReadOnly,y=e.isDisabled,b=void 0!==y&&y,w=e.href,_=(0,o.Z)(e,["value","onBlur","onEnter","classNames","placeholder","onLinkClick","mode","autoFocus","isReadOnly","isDisabled","href"]),E=(0,s.useRef)(!0),C=(0,s.useRef)(null);return(0,s.useImperativeHandle)(t,function(){return C.current}),(0,s.useEffect)(function(){C.current&&(C.current.textContent=n||"")},[n]),(0,s.useEffect)(function(){if(E.current&&v&&C.current){C.current.focus();var e=C.current.childNodes[0],t=window.getSelection(),r=document.createRange();n&&e&&(r.setStart(e,(null==n?void 0:n.length)||0),r.collapse(!0),null==t||t.removeAllRanges(),null==t||t.addRange(r)),E.current=!1}},[v,n]),/*#__PURE__*/(0,a.jsx)("div",{className:(0,u.Z)(l().breadCrumbRoot,null==d?void 0:d.root),"data-testid":"breadcrumb-".concat(n),children:"link"===(void 0===p?"edit":p)?/*#__PURE__*/(0,a.jsx)("a",{href:void 0===w?"/dashboard/all":w,onClick:function(e){e.preventDefault(),null==h||h(e)},className:(0,u.Z)(l().clickable,null==d?void 0:d.link,b&&l().disabled),children:n}):/*#__PURE__*/(0,a.jsx)("div",(0,r.Z)({ref:C,onBlur:function(e){null==c||c(e),e.currentTarget.scrollLeft=0},onPaste:function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain"),n=document.getSelection().getRangeAt(0);n.deleteContents();var r=document.createTextNode(t);n.insertNode(r),n.selectNodeContents(r),n.collapse(!1);var o=window.getSelection();o.removeAllRanges(),o.addRange(n)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),null==A||A(e))},"data-placeholder":f,contentEditable:!(void 0===m||m)&&!b,className:(0,u.Z)(l().breadCrumb,b&&l().disabled)},_))})}),d=function(e){var t=e.children,n=e.className;return/*#__PURE__*/(0,a.jsx)("div",{className:(0,u.Z)(l().breadCrumbsRoot,n),children:t})};d.Item=A,A.displayName="BreadCrumb.Item"},95162:function(e,t,n){"use strict";n.d(t,{tr:function(){return a},u8:function(){return s},zx:function(){return y}});var r,o,a,s,u=n(70865),c=n(96670),l=n(26297),A=n(52322),d=n(2784),f=n(75426),h=n(86588),p=n(9107),g=n(3635),v=n(77322),m=/*#__PURE__*/n.n(v);(r=a||(a={})).REGULAR="regular",r.TRANSPARENT="transparent",r.TRANSPARENT_SUCCESS="transparent-success",r.TRANSPARENT_REGULAR="transparent-regular",r.SUBTLE="subtle",r.RELIEF_GREY="relief-grey",r.REVERSED="reversed",r.DANGER="danger",r.REVERSED_DANGER="reversed-danger",r.DARK="dark",r.LIGHT="light",r.OUTLINE="outline",r.OUTLINE_REGULAR="outline-regular",(o=s||(s={})).TINY="tiny",o.X_SMALL="x-small",o.SMALL="small",o.MEDIUM="medium",o.LARGE="large",o.X_LARGE="x-large";var y=function(e,t){var n=e.className,r=e.variant,o=void 0===r?a.REGULAR:r,f=e.size,v=void 0===f?s.MEDIUM:f,y=e.children,b=e.leftIcon,_=e.title,E=e.titlePlacement,C=e.titleShortcutKeys,B=e.isLoading,I=e.disabled,x=e.tooltipDisabled,T=e.tooltipClassName,S=e.isSelected,k=e.onMouseEnter,D=e.onMouseLeave,N=e.LoadingSpinner,O=e.skipDelay,F=(0,l.Z)(e,["className","variant","size","children","leftIcon","title","titlePlacement","titleShortcutKeys","isLoading","disabled","tooltipDisabled","tooltipClassName","isSelected","onMouseEnter","onMouseLeave","LoadingSpinner","skipDelay"]),R=(0,d.useRef)(null),L=(0,p.Z)(t,R),M=/*#__PURE__*/(0,A.jsx)("button",(0,c.Z)((0,u.Z)({},F),{onMouseEnter:k,onMouseLeave:D,ref:L,className:(0,g.Z)(m().button,m()[o],m()[v],B&&m().isLoading,S&&m().selected,n),disabled:I||B,children:/*#__PURE__*/(0,A.jsx)(w,{leftIcon:b,isLoading:B,variant:o,LoadingSpinner:N,children:y})}));return _?/*#__PURE__*/(0,A.jsx)(h.Z,{contentClassName:(0,g.Z)(m().tooltipWrapper,T),text:_,shortcutKeys:C,tooltipPopperProps:{placement:E||"bottom"},disabled:x,skipDelay:O,children:M}):M},b=function(){return/*#__PURE__*/(0,A.jsx)(f.Z,{})},w=function(e){var t=e.leftIcon,n=e.variant,r=e.isLoading,o=e.children,a=e.LoadingSpinner,s=t&&/*#__PURE__*/(0,d.cloneElement)(t,{className:(0,g.Z)(t.props.className,!o&&m().iconOnly,m().leftIcon)});return/*#__PURE__*/(0,A.jsxs)(A.Fragment,{children:[s,o,r&&/*#__PURE__*/(0,A.jsx)("span",{className:(0,g.Z)(m().spinnerWrapper,n&&m()["variant--".concat(n)]),children:/*#__PURE__*/(0,A.jsx)(void 0===a?b:a,{})})]})},_=/*#__PURE__*/(0,d.memo)(/*#__PURE__*/(0,d.forwardRef)(y));Object.assign(_,{Variants:a,Sizes:s}),t.ZP=_},11747:function(e,t,n){"use strict";var r=n(70865),o=n(96670),a=n(26297),s=n(52322),u=n(2784),c=n(3635),l=n(74025),A=/*#__PURE__*/n.n(l);t.Z=/*#__PURE__*/(0,u.memo)(function(e){var t=e.className,n=e.children,u=e.autoWidth,l=(0,a.Z)(e,["className","children","autoWidth"]);return/*#__PURE__*/(0,s.jsx)("div",(0,o.Z)((0,r.Z)({className:(0,c.Z)(A().buttonGroup,t,u&&A().autoWidth)},l),{children:n}))})},2122:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(70865),o=n(96670),a=n(26297),s=n(52322),u=n(2784),c=n(95162),l=n(2643),A=n(3635),d=n(65421),f=/*#__PURE__*/n.n(d),h=/*#__PURE__*/(0,u.memo)(/*#__PURE__*/(0,u.forwardRef)(function(e,t)/*#__PURE__*/{var n=e.title,u=e.isOpen,d=e.onCancel,h=e.onConfirm,p=e.description,g=e.onMouseDown,v=e.rootClassName,m=e.isDeletion,y=void 0!==m&&m,b=e.isLoading,w=e.confirmBtnText,_=(0,a.Z)(e,["title","isOpen","onCancel","onConfirm","description","onMouseDown","rootClassName","isDeletion","isLoading","confirmBtnText"]);return(0,s.jsxs)(l.Z,(0,o.Z)((0,r.Z)({},_),{ref:t,title:n,isOpen:!!u,onClose:d,onMouseDown:g,rootClassName:v,className:(0,A.Z)(f().confirmationModal),children:[/*#__PURE__*/(0,s.jsx)("div",{className:f().description,children:p}),/*#__PURE__*/(0,s.jsxs)("div",{className:f().actions,children:[/*#__PURE__*/(0,s.jsx)(c.ZP,{onClick:d,autoFocus:y,size:c.ZP.Sizes.LARGE,className:f().actionBtn,variant:c.ZP.Variants.OUTLINE,"data-testid":"confirmation-modal-cancel",children:"Cancel"}),/*#__PURE__*/(0,s.jsx)(c.ZP,{onClick:h,autoFocus:!y,size:c.ZP.Sizes.LARGE,className:f().actionBtn,"data-testid":"confirmation-modal-confirm",variant:y?c.ZP.Variants.DANGER:void 0,isLoading:b,children:void 0===w?"Confirm":w})]})]}))}))},89262:function(e,t,n){"use strict";n.d(t,{K:function(){return u}});var r=n(52322),o=n(3635),a=n(35266),s=/*#__PURE__*/n.n(a),u=function(e){var t=e.space,n=e.isInvisible;return/*#__PURE__*/(0,r.jsx)("hr",{className:(0,o.Z)(s().divider,s()["size--".concat(void 0===t?"medium":t)],n&&s().transparent)})}},87705:function(e,t,n){"use strict";n.d(t,{Lt:function(){return R},Ng:function(){return L},ZP:function(){return M}});var r,o,a,s=n(70865),u=n(96670),c=n(26297),l=n(52322),A=n(2784),d=n(48570),f=n(99283),h=n(32538),p=n(88404),g=n(62866),v=n(28563),m=n(89563),y=n(3635),b=n(19179),w=n(80498),_=n(55499),E=n(86588);function C(){return(C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var B=function(e){return /*#__PURE__*/A.createElement("svg",C({width:14,height:4,viewBox:"0 0 14 4",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=/*#__PURE__*/A.createElement("path",{d:"M2 .333C1.083.333.333 1.083.333 2S1.083 3.667 2 3.667 3.667 2.917 3.667 2 2.917.333 2 .333zm10 0c-.917 0-1.667.75-1.667 1.667s.75 1.667 1.667 1.667 1.667-.75 1.667-1.667S12.917.333 12 .333zm-5 0c-.917 0-1.667.75-1.667 1.667S6.083 3.667 7 3.667 8.667 2.917 8.667 2 7.917.333 7 .333z",fill:"currentColor"})))},I=n(36689),x=/*#__PURE__*/n.n(I),T=function(e){var t=e.isVisible,n=e.onClick,r=e.className,o=(0,c.Z)(e,["isVisible","onClick","className"]),a=(0,A.useContext)(_.c).controller;return(null==a?void 0:a.isOpen)||t?/*#__PURE__*/(0,l.jsx)("span",(0,u.Z)((0,s.Z)({},o),{className:(0,y.Z)(x().dots,r),onClick:n,children:/*#__PURE__*/(0,l.jsx)(p.J,{icon:B})})):null},S=n(35266),k=/*#__PURE__*/n.n(S),D=n(63630),N=n(51571);(r=a||(a={})).Grey="grey",r.LightGrey="lightGrey",r.LightGreyContrast="lightGreyContrast",r.Transparent="transparent",r.Input="input";var O={modifiers:[{name:"offset",options:{offset:function(e){switch(e.placement){case"right-end":return[8,18];case"bottom-end":case"bottom-start":return[0,18];default:return[-8,18]}}}}]},F=function(e){var t=e.hint,n=e.icon,r=e.title,o=e.isOpen,a=e.testId,s=e.variant,u=e.showCaret,c=e.isFocused,d=e.isDisabled,g=e.popupToggleRef,v=e.toggleClassNames,b=e.toggleStyle,w=(0,A.useContext)(_.c).isTopLevel;(0,N.Y)(c,null==g?void 0:g.current);var C=(0,A.useCallback)(function(){if(!w){var e;null==g||null===(e=g.current)||void 0===e||e.focus()}},[w,g]),B=(0,A.useCallback)(function(){var e;null==g||null===(e=g.current)||void 0===e||e.blur()},[g]),I=/*#__PURE__*/(0,l.jsxs)("span",{className:(0,y.Z)(k().toggle,null==v?void 0:v.root,c&&k().isFocused,d&&k().isDisabled,!w&&k().isSubMenu,o&&(null==v?void 0:v.open),s&&k()["variant--".concat(s)]),onMouseEnter:C,onMouseLeave:B,"data-is-dropdown-active":o,"data-testid":a,children:[!!n&&/*#__PURE__*/(0,l.jsx)("span",{className:(0,y.Z)(k().icon,null==v?void 0:v.icon),children:n}),/*#__PURE__*/(0,l.jsx)("span",{className:(0,y.Z)(k().content,null==v?void 0:v.content,u&&k().hasCaret,!w&&!u&&k().noMargin),style:b,children:r}),w?u&&/*#__PURE__*/(0,l.jsx)(f.Z,{className:(0,y.Z)(k().caretIcon,null==v?void 0:v.caret,o&&k().isOpen)}):/*#__PURE__*/(0,l.jsx)("span",{className:k().rightElement,children:/*#__PURE__*/(0,l.jsx)(p.J,{icon:h.Z})})]});return t?/*#__PURE__*/(0,l.jsx)(E.Z,{text:/*#__PURE__*/(0,l.jsxs)("span",{className:k().hint,children:[/*#__PURE__*/(0,l.jsx)("span",{children:t.label}),!!t.shortcutKeys&&/*#__PURE__*/(0,l.jsx)(m.P,{className:k().shortcut,keys:t.shortcutKeys})]}),popperProps:t.popperProps,tooltipPopperProps:{placement:t.placement||"top"},disabled:o,children:I}):I},R=function(e){var t,n,r,o,a,c,f,h,p,m,_,E=e.icon,C=e.hint,B=e.width,I=e.search,x=e.testId,T=e.spacing,S=e.minWidth,N=e.applyMinWidthToToggle,R=e.isHidden,L=e.asNested,M=e.maxHeight,P=e.isDisabled,U=e.classNames,j=e.onOpenChange,Z=e.toggleClassNames,Q=e.showCaret,H=e.keyboardShortcut,V=e.isMountedInPopper,K=e.takeWidthOfToggle,z=e.renderPopupInPortal,G=e.variant,W=e.toggleRef,q=e.stayOpenOnOutsideClick,Y=(0,w.Z)({defaultIsOpen:!1}),$=Y.isOpen,X=Y.onClose,J=Y.onOpen,ee=(0,A.useRef)(null),et=null!=W?W:ee,en=(0,g.QR)(),er=(r=e.title,o=e.noSelectionTitle,a=e.selected,c=e.children,f=e.selectionVariant,h=e.onSelect,p=null!=r?r:null,m=A.Children.map(c,function(e,t){if((0,d.isElement)(e)){if(e.type===v.Z){var n,r,o=e.props,s=(n=e.key,!!o.isSelected||null!=n&&n===a||!!o.label&&o.label===a),u={key:null!==(r=e.key)&&void 0!==r?r:t,isSelected:s,selectionVariant:f};return!p&&s&&(p=o.label),s&&(u.isSelected=!0),h&&(u.onClick=function(t){var n,r,a,s="".concat(null!==(a=null!==(r=e.key)&&void 0!==r?r:o.label)&&void 0!==a?a:"");s||console.warn("Passed onSelect but no key or label found!"),h(s),null===(n=o.onClick)||void 0===n||n.call(o,t)}),/*#__PURE__*/(0,A.cloneElement)(e,u)}return e}}),null!=p||(p=o),{title:/*#__PURE__*/(0,l.jsx)("span",{className:k().title,children:p}),children:m}),ei=er.title,eo=er.children;(0,A.useEffect)(function(){var e=function(e){(0,b.cK)(document.activeElement)||P||R||!H||e.metaKey||e.shiftKey||e.ctrlKey||e.altKey||e.key!==H||(e.preventDefault(),e.stopPropagation(),en.openPopup())};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}},[H,R,P,en]);var ea=K?null===(_=et.current)||void 0===_?void 0:_.clientWidth:B,es=(0,A.useCallback)(function(){P||null==j||j(!0)},[P,j]);return/*#__PURE__*/(0,l.jsxs)(g.GI,{asNested:L,controller:en,onShow:es,onHide:function(){return null==j?void 0:j(!1)},children:[/*#__PURE__*/(0,l.jsx)(g.GI.Toggle,{ref:et,onBlur:X,onFocus:J,isDisabled:P,className:(0,y.Z)(null==Z?void 0:Z.button,k().popupToggle),children:/*#__PURE__*/(0,l.jsx)(F,{hint:C,icon:E,title:ei,testId:x,variant:G,showCaret:void 0===Q||Q,isFocused:$,isDisabled:P,isOpen:en.isOpen,popupToggleRef:et,toggleClassNames:Z,toggleStyle:N?{minWidth:S}:void 0})}),/*#__PURE__*/(0,l.jsx)(g.GI.Menu,(0,u.Z)((0,s.Z)({disableArrow:!0,ignoreClicksOnTargetNode:!0,className:(0,y.Z)(k().popper,null==U?void 0:U.popupMenu),renderInPortal:z,style:{minWidth:S,width:ea}},V?{closeOnOtherPopperClick:!0}:{}),{popperProps:(t=e.popperModifiers,n=e.popperPlacement,t||n?{modifiers:t,placement:n}:O),stayOpenOnOutsideClick:q,children:/*#__PURE__*/(0,l.jsx)(D.Z,{search:I,spacing:T,maxHeight:M,className:null==U?void 0:U.menu,children:eo})}))]})};R.Variants=a;var L=function(e){var t=e.isOpen,n=e.isHidden,r=e.toggleClassNames,o=e.testId,a=(0,c.Z)(e,["isOpen","isHidden","toggleClassNames","testId"]);return/*#__PURE__*/(0,l.jsx)(R,(0,u.Z)((0,s.Z)({},a),{isOpen:t,isHidden:n,applyMinWidthToToggle:!1,showCaret:!1,toggleClassNames:(0,u.Z)((0,s.Z)({},r),{button:(0,y.Z)(k().threeDotsDropdown,null==r?void 0:r.button),root:(0,y.Z)(k().threeDotsDropdownToggle,null==r?void 0:r.root)}),title:/*#__PURE__*/(0,l.jsx)(T,{isVisible:t||!n,onClick:function(e){return e.preventDefault()},"data-testid":o})}))},M=R},63630:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(70865),o=n(96670),a=n(26297),s=n(52322),u=n(2784),c=n(3635),l=n(89262),A=n(35266),d=/*#__PURE__*/n.n(A),f=n(55929),h=/*#__PURE__*/(0,u.memo)(function(e){var t=e.value,n=e.placeholder,r=e.notFoundText,o=void 0===r?"No matches":r,a=e.isEnabled,c=e.isSearchEmpty,A=e.onChange,h=(0,u.useCallback)(function(e){A(e.currentTarget.value.trim())},[A]);return a?/*#__PURE__*/(0,s.jsxs)(s.Fragment,{children:[/*#__PURE__*/(0,s.jsx)("div",{className:d().search,children:/*#__PURE__*/(0,s.jsx)(f.Z,{autoFocus:!0,value:t,className:d().searchField,placeholder:void 0===n?"Search":n,onChange:h})}),/*#__PURE__*/(0,s.jsx)(l.K,{}),!!t&&c&&o&&/*#__PURE__*/(0,s.jsx)("span",{className:d().searchNotFound,children:o})]}):null}),p=n(51571),g=function(e){var t=e.spacing,n=e.maxHeight,A=e.children,f=e.className,g=e.search,v=e.disableKeyboardNavigation,m=(0,a.Z)(e,["spacing","maxHeight","children","className","search","disableKeyboardNavigation"]),y=(0,u.useRef)(null),b=(0,u.useState)(""),w=b[0],_=b[1];(0,p.a)(y,void 0!==v&&v);var E=w?u.Children.toArray(A).filter(function(e){if(!/*#__PURE__*/(0,u.isValidElement)(e)||e.type===l.K)return!1;var t=e.props,n=t.label,r=t.children;return!n&&!r||!!n&&n.toLowerCase().includes(w.toLowerCase())}):A;return/*#__PURE__*/(0,s.jsxs)("div",(0,o.Z)((0,r.Z)({ref:y,className:(0,c.Z)(d().wrapper,f),style:{maxHeight:(void 0===n?400:n)||"initial"}},m),{children:[(null==g?void 0:g.isEnabled)&&/*#__PURE__*/(0,s.jsx)(h,(0,o.Z)((0,r.Z)({},g),{value:w,isSearchEmpty:!A,onChange:_})),/*#__PURE__*/(0,s.jsx)("div",{className:(0,c.Z)(d().list,d()["spacing--".concat(void 0===t?"small":t)]),children:E})]}))}},66804:function(e,t,n){"use strict";n.d(t,{KE:function(){return a.K},Lt:function(){return r.ZP},Ng:function(){return r.Ng},sV:function(){return o.Z}});var r=n(87705),o=n(63630),a=n(89262)},51571:function(e,t,n){"use strict";n.d(t,{Y:function(){return A},a:function(){return l}});var r=n(42838),o=n(2784),a=n(55499),s=function(e){return null==e.getAttribute("disabled")&&e.matches("a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  [tabindex],\n  [contentEditable=true]")},u=function(e){var t=null;if(!e)return t;var n=!0,o=!1,a=void 0;try{for(var c,l=Array.from(e.children)[Symbol.iterator]();!(n=(c=l.next()).done);n=!0){var A=c.value;if(null==t){if(s(A)&&(0,r.Z)(A,HTMLElement)){t=A;continue}A.children.length>0&&(t=u(A))}}}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return t},c=function(e,t,n){var r="prev"===n?null==e?void 0:e.previousElementSibling:null==e?void 0:e.nextElementSibling;return r?s(r)?r:c(r,t,n):u(t)},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,o.useContext)(a.c),r=n.isTopLevel,s=n.target,l=n.parentMenu,A=(0,o.useContext)(a.c).getDescendantPopups;(0,o.useEffect)(function(){var n;if(!t&&!r&&!(null===(n=e.current)||void 0===n?void 0:n.contains(document.activeElement))){var o=u(e.current);null==o||o.focus()}},[e,t,r]),(0,o.useEffect)(function(){if(!t){var n=function(t){if(!(A().length>0))switch(t.key){case"ArrowUp":var n=c(document.activeElement,e.current,"prev");n&&(t.preventDefault(),n.focus());break;case"ArrowDown":var o=c(document.activeElement,e.current,"next");o&&(t.preventDefault(),o.focus());break;case"ArrowLeft":if(r)return;null==s||s.focus(),null==l||l.closeDescendentPopups()}};return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}},[r,l,s,A,t,e])},A=function(e,t){var n=(0,o.useContext)(a.c),r=n.isTopLevel,s=n.target,u=n.parentMenu,c=n.controller,l=n.setTarget;(0,o.useEffect)(function(){if(!r&&e&&t){var n=function(e){("ArrowRight"===e.key||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),!s&&t&&(l(t),null==u||u.closeDescendentPopups(c)))};return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}},[c,e,r,u,t,l,s])}},88404:function(e,t,n){"use strict";n.d(t,{J:function(){return u}});var r=n(70865),o=n(96670),a=n(26297),s=n(3635),u=function(e){var t=e.icon,n=e.color,u=e.className,c=(0,a.Z)(e,["icon","color","className"]);return"function"!=typeof t?null:t((0,r.Z)((0,o.Z)((0,r.Z)({},c),{className:(0,s.Z)(u)}),n?{color:"var(--".concat(n,")")}:{}))}},47829:function(e,t,n){"use strict";n.d(t,{u:function(){return m}});var r,o=n(52322),a=n(3635),s=n(2784),u=n(60131),c=n(95162);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A=function(e){return /*#__PURE__*/s.createElement("svg",l({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=/*#__PURE__*/s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 6a6 6 0 1112 0A6 6 0 010 6zm5-1.946a.4.4 0 01.398-.001l2.8 1.6a.4.4 0 010 .694l-2.8 1.6A.4.4 0 014.8 7.6V4.4a.4.4 0 01.2-.346z",fill:"currentColor"})))},d=n(81625),f=/*#__PURE__*/n.n(d),h=function(e){var t=e.videoId,n=e.className,r=e.height,l=e.width,d=e.buttonText,h=e.thumbnail,g=void 0===h?"https://img.youtube.com/vi/".concat(t,"/0.jpg"):h,v=e.openExternal,m=void 0!==v&&v,y=(0,u.j)(),b=(0,s.useState)(null),w=b[0],_=b[1],E=(0,s.useState)(!1),C=E[0],B=E[1],I=(0,s.useRef)(null);(0,s.useEffect)(function(){y&&t&&(p||(p=new Promise(function(e){var t=document.createElement("script"),n=document.getElementsByTagName("script")[0];t.onload=e,t.src="https://www.youtube.com/iframe_api",n.parentNode.insertBefore(t,n)}))).then(function(){var e,n;return e=function(e){return _(e)},void(n=window.YT).ready(function(){var r=new n.Player(y,{videoId:t,playerVars:{modestbranding:1,playsinline:1,controls:1,showinfo:0,rel:0},events:{onReady:function(){return null==e?void 0:e(r)},onError:void 0}})})})},[t,y]);var x=(0,s.useCallback)(function(){if(m){window.open("https://www.youtube.com/watch?v=".concat(t),"_blank");return}null==w||w.playVideo(),B(!0)},[w,m,t]);return/*#__PURE__*/(0,o.jsxs)("div",{className:(0,a.Z)(f().videoContainer,n),style:{width:void 0===l?"100%":l,height:r},ref:I,children:[/*#__PURE__*/(0,o.jsx)("div",{id:y,className:f().player}),!C&&/*#__PURE__*/(0,o.jsx)("div",{className:f().overlay,style:{backgroundImage:"url(".concat(g,")")},children:/*#__PURE__*/(0,o.jsx)("div",{className:f().buttonContainer,children:/*#__PURE__*/(0,o.jsx)(c.ZP,{onClick:x,leftIcon:/*#__PURE__*/(0,o.jsx)(A,{height:14,width:14}),className:f().button,children:void 0===d?"Play video":d})})})]})},p=null,g=n(85950),v=/*#__PURE__*/n.n(g),m=Object.assign(function(e){var t=e.children,n=e.className,r=e.style;return/*#__PURE__*/(0,o.jsx)("div",{className:(0,a.Z)(v().emptyStateRoot,n),style:r,children:/*#__PURE__*/(0,o.jsx)("div",{className:v().emptyStateContent,children:t})})},{PrimaryIcon:function(e){var t=e.children,n=e.className;return/*#__PURE__*/(0,o.jsx)("div",{className:(0,a.Z)(v().primaryIcon,n),children:t})},IconTray:function(e){var t=e.children,n=e.className;return/*#__PURE__*/(0,o.jsx)("div",{className:(0,a.Z)(v().iconTray,n),children:t})},TextSection:function(e){var t=e.children,n=e.className;return/*#__PURE__*/(0,o.jsx)("div",{className:(0,a.Z)(v().textSection,n),children:t})},Bottom:function(e){var t=e.children,n=e.className;return/*#__PURE__*/(0,o.jsx)("div",{className:(0,a.Z)(v().bottom,n),children:t})},Media:function(e){var t=e.videoId,n=e.ctaText,r=e.thumbnail,s=e.children,u=e.className;return/*#__PURE__*/(0,o.jsx)("div",{className:(0,a.Z)(v().media,u),children:t&&/*#__PURE__*/(0,o.jsx)(h,{videoId:t,buttonText:n,thumbnail:r,children:s})})}})},58869:function(e,t,n){"use strict";var r,o,a=n(52322),s=n(3635),u=n(28695),c=/*#__PURE__*/n.n(u);(r=o||(o={})).LightGrey="lightGrey",r.Primary="primary",r.Error="error",r.Warning="warning";var l=Object.assign(function(e){var t=e.variant,n=void 0===t?o.LightGrey:t,r=e.className,u=e.width,l=e.children;return/*#__PURE__*/(0,a.jsx)("span",{style:u?{width:u}:{},className:(0,s.Z)(c().infoBlock,c()["variant--".concat(n)],r),children:l})},{Variants:o});t.Z=l},47519:function(e,t,n){"use strict";n.d(t,{U:function(){return r.Z}});var r=n(58869)},97420:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r=n(70865),o=n(96670),a=n(26297),s=n(52322),u=n(2784),c=n(86588),l=n(71946),A=/*#__PURE__*/n.n(l),d=n(3635),f=/*#__PURE__*/(0,u.forwardRef)(function(e,t){var n=e.className,u=e.labelClassNames,l=void 0===u?{}:u,f=e.label,h=e.required,p=e.children,g=e.optional,v=e.tooltip,m=e.errorMessage,y=e.explanation,b=(0,a.Z)(e,["className","labelClassNames","label","required","children","optional","tooltip","errorMessage","explanation"]),w=l.labelText,_=l.root,E=!!(m||y),C=!!m;return/*#__PURE__*/(0,s.jsxs)("label",(0,o.Z)((0,r.Z)({className:(0,d.Z)(A().inputLabel,n,_)},b),{ref:t,children:[f&&/*#__PURE__*/(0,s.jsxs)("div",{className:(0,d.Z)(A().label,w),children:[f,h?/*#__PURE__*/(0,s.jsx)("span",{className:A().required,children:"Required"}):g?/*#__PURE__*/(0,s.jsx)("span",{className:A().required,children:"Optional"}):null]}),/*#__PURE__*/(0,s.jsx)("div",{className:A().field,children:v?/*#__PURE__*/(0,s.jsx)(c.Z,{text:v,children:p}):p}),E&&/*#__PURE__*/(0,s.jsx)("div",{className:(0,d.Z)(A().explanation,C&&A().error),children:C?m:y})]}))});f.displayName="InputLabel"},68457:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(52322),o=n(2784),a=n(11269),s=n(96933),u=n(98788),c=n(22970),l=n(43931),A=/*#__PURE__*/n.n(l),d=n(66140),f=n(18698),h=n(47842),p=n(83433),g=n(5919),v=n(66842),m=n(70865),y=n(96670),b=n(26297),w=n(52826),_=n(54848),E=n(3635),C=n(75391),B=/*#__PURE__*/n.n(C),I=function(e){var t=e.profile,n=e.data,o=e.shouldIncludeEmails,a=e.isActive,s=e.onMouseUp,u=e.onClick,c=e.onActivate;return/*#__PURE__*/(0,r.jsx)("div",{className:(0,E.Z)(B().knownPersonInfo,a&&B().isActive,o?B().knownPersonInfoMedium:B().knownPersonInfoSmall),onMouseUp:s,onClick:u,onMouseEnter:c,children:t?/*#__PURE__*/(0,r.jsxs)("div",{className:(0,E.Z)(B().member,o?B().memberMedium:B().memberSmall),children:[/*#__PURE__*/(0,r.jsx)(_.Z,(0,y.Z)((0,m.Z)({},t),{className:(0,E.Z)(o?B().avatarMedium:B().avatarSmall)})),/*#__PURE__*/(0,r.jsxs)("div",{className:(0,E.Z)(B().label,o?B().labelMedium:B().labelSmall),children:[t.displayName,o?/*#__PURE__*/(0,r.jsx)("div",{className:B().email,children:n.email}):null]})]}):/*#__PURE__*/(0,r.jsx)("div",{className:B().guest,children:n.email})})},x=/*#__PURE__*/(0,o.memo)(function(e){var t=e.data,n=(0,b.Z)(e,["data"]),a=(0,w.ZP)(t.userId),s=(0,o.useCallback)(function(e){e.stopPropagation()},[]);return t.userId&&!a?null:/*#__PURE__*/(0,r.jsx)(I,(0,y.Z)((0,m.Z)({data:t,profile:a},n),{onMouseUp:s}))}),T=function(e){var t,n=e.className,a=e.matchingPeople,s=e.onSelect,u=e.onCancel,c=e.shouldIncludeEmails,l=e.width,A=(0,o.useRef)(null),d=(0,p.c)({containerRef:A,items:a,onSelect:s,onCancel:u}),f=d.activeIndex,m=d.setActiveIndex,y=d.handleContainerMouseDown;return a.length?/*#__PURE__*/(0,r.jsx)(g.Z,(t={ref:A,style:l?{width:l}:{},className:n,onMouseDown:y,onClick:y},(0,h.Z)(t,v.DO,!0),(0,h.Z)(t,"children",a.map(function(e,t){return/*#__PURE__*/(0,r.jsx)(x,{data:e,isActive:f===t,onActivate:m.bind(null,t),onClick:s.bind(null,e),shouldIncludeEmails:c},e.email)})),t)):null},S=n(47330),k=n(28121),D=/*#__PURE__*/n.n(k),N=function(e){var t=e.targetNode,n=e.className,a=e.matchingPeople,s=e.onSelect,u=e.onCancel,c=e.shouldIncludeEmails,l=e.isPopperVisible,A=(0,o.useMemo)(function(){return null==t?void 0:t.getBoundingClientRect().width},[t]);return a.length?/*#__PURE__*/(0,r.jsx)(S.Z,{className:D().dropdownPopper,arrowClassName:D().hidden,targetNode:t,placement:"bottom-start",popperProps:{modifiers:[{name:"flip"}]},visible:l,shouldUseDomObserver:!0,children:/*#__PURE__*/(0,r.jsx)(T,{width:A,className:(0,E.Z)(n,D().popperListBox),onSelect:s,matchingPeople:a,onCancel:u,shouldIncludeEmails:c})}):null},O=/*#__PURE__*/(0,o.memo)(function(e){var t,n,l,h,p,g,v,m,y,b,w,_,E,C,B,I,x,T,S,k,D=e.targetNode,O=e.className,F=e.search,R=e.withProfileOnly,L=e.includeSelf,M=e.onSelect,P=e.searchOnEmptyString,U=e.onCancel,j=e.onSearchFinished,Z=e.shouldIncludeEmails,Q=e.isPopperVisible,H=e.filterPredicate,V=(0,s.fC)(),K=(0,a.Rs)(),z=(t={teamId:K?K.id:void 0,hasProfile:!!R||void 0},n={memberId:L?void 0:null==V?void 0:V.id},l=[],t&&Object.keys(t).forEach(function(e){var n=t[e];void 0!==n&&l.push("".concat(e,":").concat(n))}),n&&Object.keys(n).forEach(function(e){var t=n[e];void 0!==t&&l.push("NOT ".concat(e,":").concat(t))}),l.join(" AND ")),G=(p=(h={index:d.Wr.KnownPeople,searchOnEmptyString:P,search:F,filterString:z,disabled:!K,onSearchFinished:j}).index,g=h.search,v=h.searchOnEmptyString,m=h.filterString,b=void 0===(y=h.resultCount)?5:y,w=h.disabled,_=h.onSearchFinished,(E=(0,o.useRef)(g)).current=g,B=(C=(0,o.useState)({items:[],loading:!1,error:null}))[0],I=C[1],x=(0,f.ZP)(),T=(0,o.useMemo)(function(){if(x)return A()(d.O9.appId,x).initIndex(p)},[x,p]),k=(0,o.useCallback)((S=(0,u.Z)(function(e,t,n){var r,o,a;return(0,c.__generator)(this,function(s){switch(s.label){case 0:if(null==e||""===e&&!v||!T||n)return I({items:[],loading:!1,error:null}),null==_||_(0),[2];I(function(e){return{items:e.items,loading:!0,error:null}}),r={hitsPerPage:b},t&&(r.filters=t),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,T.search(null!=e?e:"",r)];case 2:if(a=s.sent(),E.current!==e)return[2];return I({items:(null==a?void 0:a.hits)||[],loading:!1,error:null}),null==_||_((null==a?void 0:null===(o=a.hits)||void 0===o?void 0:o.length)||0),[3,4];case 3:return I({items:[],loading:!1,error:s.sent()}),[3,4];case 4:return[2]}})}),function(e,t,n){return S.apply(this,arguments)}),[T,b,v,_]),(0,o.useEffect)(function(){k(g,m,w)},[k,g,m,w]),B).items;return H&&(G=G.filter(H)),/*#__PURE__*/(0,r.jsx)(N,{isPopperVisible:void 0===Q||Q,targetNode:D,className:O,onSelect:M,matchingPeople:G,onCancel:U,shouldIncludeEmails:Z})})},63842:function(e,t,n){"use strict";n.d(t,{d:function(){return A}});var r=n(70865),o=n(96670),a=n(26297),s=n(52322),u=n(3635),c=n(47837),l=/*#__PURE__*/n.n(c),A=function(e){var t=e.className,n=e.children,c=(0,a.Z)(e,["className","children"]);return/*#__PURE__*/(0,s.jsx)("a",(0,o.Z)((0,r.Z)({target:"_blank",spellCheck:!1,rel:"noreferrer"},c),{className:(0,u.Z)(l().link,t),children:n}))}},26942:function(e,t,n){"use strict";n.d(t,{d:function(){return r.d},c:function(){return d}});var r=n(63842),o=n(70865),a=n(96670),s=n(26297),u=n(52322),c=n(3635),l=n(36421),A=/*#__PURE__*/n.n(l),d=function(e){var t=e.className,n=e.children,r=(0,s.Z)(e,["className","children"]);return/*#__PURE__*/(0,u.jsx)("a",(0,a.Z)((0,o.Z)({role:r.onClick?"button":void 0},r),{className:(0,c.Z)(A().link,t),children:n}))}},5919:function(e,t,n){"use strict";var r=n(70865),o=n(96670),a=n(26297),s=n(52322),u=n(2784),c=n(3635),l=n(5021),A=/*#__PURE__*/n.n(l);t.Z=/*#__PURE__*/(0,u.memo)(/*#__PURE__*/(0,u.forwardRef)(function(e,t){var n=e.className,l=e.children,d=(0,a.Z)(e,["className","children"]),f=(0,u.useState)(!0),h=f[0],p=f[1];(0,u.useEffect)(function(){var e=function(e){("ArrowDown"===e.code||"ArrowUp"===e.code)&&p(!1)},t=function(){p(!0)};return window.addEventListener("keydown",e),window.addEventListener("mousemove",t),function(){window.removeEventListener("keydown",e),window.removeEventListener("mousemove",t)}},[]);var g=Array.isArray(l)?u.Children.map(l,function(e){return/*#__PURE__*/(0,u.isValidElement)(e)&&e.props.onActivate?/*#__PURE__*/(0,u.cloneElement)(e,(0,o.Z)((0,r.Z)({},e.props),{onActivate:h?e.props.onActivate:function(){return null}})):e}):l;return/*#__PURE__*/(0,s.jsx)("div",(0,o.Z)((0,r.Z)({ref:t,className:(0,c.Z)(A().listBox,n)},d),{children:g}))}))},83433:function(e,t,n){"use strict";n.d(t,{c:function(){return c}}),n(5919);var r=n(70865),o=n(2784),a=n(20189),s=n(22805),u=n(19179);function c(e){var t=e.containerRef,n=e.items,c=e.customScrollIntoView,l=e.scrollOptions,A=void 0===l?{block:"center"}:l,d=e.allowJumpToFirstOnLast,f=void 0===d||d,h=e.onSelect,p=e.onCancel,g=e.isListOpen,v=void 0===g||g,m=e.options,y=void 0===m?{shouldTabKeySelect:!0,additionalOnSelectShortcuts:[],whenShouldHookBeActive:"always"}:m,b=y.shouldTabKeySelect,w=y.whenShouldHookBeActive,_=y.additionalOnSelectShortcuts,E=(0,o.useState)(0),C=E[0],B=E[1],I=(0,o.useCallback)(function(e){e.stopPropagation(),e.preventDefault()},[]),x=(0,o.useMemo)(function(){return!1===v?function(){return!0}:"always"===w?function(){return!1}:"whenNoInputIsFocused"===w?function(e,t){return(null==t?void 0:t.tagName)==="INPUT"||(null==t||t.tagName,!1)}:null},[w,v]),T=(0,o.useCallback)(function(e){B(function(r){var o=r+e;if(o<0?o=f?n.length-1:0:o>=n.length&&(o=f?0:n.length-1),c)c(o,n);else{var a,s=null==t?void 0:null===(a=t.current)||void 0===a?void 0:a.children[o];s&&(0,u.zT)(s,A)}return o})},[f,t,c,n,A]),S=(0,o.useCallback)(function(e){return(null==x?void 0:x(e,document.activeElement))||!!document.querySelector('[data-is-dropdown-active="true"]')},[x]),k=(0,o.useCallback)(function(e){!S(e)&&n.length&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),T(-1))},[n.length,T,S]),D=(0,o.useCallback)(function(e){!S(e)&&n.length&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),T(1))},[n.length,T,S]),N=(0,o.useCallback)(function(e){!S(e)&&n.length&&-1!==C&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),h(n[C],e))},[C,n,h,S]),O=null==_?void 0:_.reduce(function(e,t){return e[t]=function(e){return N(e)},e},{});(0,s.Z)((0,r.Z)({up:k,down:D,enter:N,esc:p||function(){},"ctrl+enter":N,"command+enter":N,"shift+tab":b?void 0:k},O),{stopCallback:x}),(0,a.Z)(t||{current:null},function(){return null==p?void 0:p()});var F=(0,o.useCallback)(function(e){"Tab"!==e.key||e.shiftKey||(b?N(e):D(e))},[D,N,b]);return(0,o.useEffect)(function(){return window.addEventListener("keydown",F,!0),function(){window.removeEventListener("keydown",F,!0)}},[F]),(0,o.useEffect)(function(){B(0)},[n.length]),{activeIndex:C,setActiveIndex:B,handleContainerMouseDown:I}}},12567:function(e,t,n){"use strict";n.d(t,{v:function(){return f}});var r=n(70865),o=n(96670),a=n(26297),s=n(52322);n(2784);var u=n(3635),c=n(88404),l=n(32538),A=n(22298),d=/*#__PURE__*/n.n(A),f=function(e){var t=e.icon,n=e.isActive,A=e.subTitle,f=e.className,h=e.mainTitle,p=e.isBackable,g=e.endContent,v=e.mainContent,m=e.isExpandable,y=e.disableHover,b=e.secondaryTitle,w=e.classNames,_=void 0===w?{}:w,E=(0,a.Z)(e,["icon","isActive","subTitle","className","mainTitle","isBackable","endContent","mainContent","isExpandable","disableHover","secondaryTitle","classNames"]);return/*#__PURE__*/(0,s.jsxs)("div",(0,o.Z)((0,r.Z)({},E),{className:(0,u.Z)(f,d().root,_.root,n&&d().isActive,n&&_.rootActive,y&&d().disableHover),children:[t&&/*#__PURE__*/(0,s.jsx)("div",{className:(0,u.Z)(d().icon,_.icon),children:t}),p&&/*#__PURE__*/(0,s.jsx)("div",{className:d().backIcon,children:/*#__PURE__*/(0,s.jsx)(c.J,{icon:l.Z,width:12,height:12})}),/*#__PURE__*/(0,s.jsx)("div",{className:d().content,children:v||/*#__PURE__*/(0,s.jsxs)(s.Fragment,{children:[/*#__PURE__*/(0,s.jsxs)("div",{className:d().title,children:[/*#__PURE__*/(0,s.jsx)("span",{className:(0,u.Z)(d().mainTitle,!!b&&d().fitWidth),children:h}),b&&/*#__PURE__*/(0,s.jsx)("span",{className:d().secondaryTitle,children:b})]}),A&&/*#__PURE__*/(0,s.jsx)("div",{className:(0,u.Z)(_.subTitle,d().subTitle),children:A})]})}),m&&/*#__PURE__*/(0,s.jsx)("div",{className:d().forwardIcon,children:/*#__PURE__*/(0,s.jsx)(c.J,{icon:l.Z,width:12,height:12})}),g&&/*#__PURE__*/(0,s.jsx)("div",{className:_.endContent,children:g})]}))}},30678:function(e,t,n){"use strict";n.d(t,{s:function(){return h}});var r=n(70865),o=n(96670),a=n(26297),s=n(52322),u=n(2784),c=n(52826),l=n(54848),A=n(3635),d=n(7971),f=/*#__PURE__*/n.n(d),h=function(e){var t=e.userId,n=e.onClick,d=e.className,h=(0,a.Z)(e,["userId","onClick","className"]),p=(0,c.ZP)(t),g=(0,u.useCallback)(function(){return null==n?void 0:n(t)},[t,n]);return/*#__PURE__*/(0,s.jsx)(l.Z,(0,o.Z)((0,r.Z)({},h,p),{isLoading:!p,onClick:g,className:(0,A.Z)(f().avatar,d)}))};t.Z=/*#__PURE__*/(0,u.memo)(h)},2643:function(e,t,n){"use strict";n.d(t,{Z:function(){return T},B:function(){return C}});var r,o,a=n(70865),s=n(96670),u=n(26297),c=n(50930),l=n(52322),A=n(2784),d=n(5632),f=n(20417),h=n(95162),p=n(88404),g=n(28316),v=/*#__PURE__*/(0,A.memo)(function(e){var t=e.children;return/*#__PURE__*/(0,g.createPortal)(t,document.body)}),m=n(89563),y=n(3635),b=n(52305),w=/*#__PURE__*/n.n(b);(r=o||(o={})).Large="large",r.XL="xl";var _="eraser-modal-dialog",E="eraser-modal-container",C=function(){return null!=document.getElementById(_)},B=function(e){if(!e)return!1;var t=document.querySelectorAll("#".concat(E));return t[t.length-1]===e},I=function(e,t){var n=e.size,r=e.title,o=e.isOpen,g=e.onClose,b=e.children,C=e.className,I=e.rootClassName,x=e.headerClassName,T=e.bottomGradient,S=e.theme,k=void 0===S?"light":S,D=e.hideCloseButton,N=e.fireCloseOnKeys,O=void 0===N?[]:N,F=e.contentWrapperClassName,R=e.showTitleSeparator,L=e.closeButtonVariant,M=e.width,P=e.height,U=(0,u.Z)(e,["size","title","isOpen","onClose","children","className","rootClassName","headerClassName","bottomGradient","theme","hideCloseButton","fireCloseOnKeys","contentWrapperClassName","showTitleSeparator","closeButtonVariant","width","height"]),j=(0,d.useRouter)(),Z=(0,A.useRef)(null),Q=(0,A.useRef)(null),H=t||Z,V=(0,A.useCallback)(function(e){e.stopPropagation()},[]),K=(0,A.useRef)(o);K.current=o,(0,A.useEffect)(function(){if(g){var e=function(){K.current&&g()};return null==j||j.events.on("routeChangeStart",e),function(){null==j||j.events.off("routeChangeStart",e)}}},[g,j]);var z=(0,A.useCallback)(function(e){var t=["Escape"].concat((0,c.Z)(O)),n=null==H?void 0:H.current;g&&t.includes(e.key)&&o&&B(n)&&(e.preventDefault(),e.stopPropagation(),g())},[o,g,O,H]);(0,A.useEffect)(function(){return window.addEventListener("keydown",z),function(){window.removeEventListener("keydown",z)}},[z]);var G=(0,A.useCallback)(function(e){e.stopPropagation(),Q.current=e.target.id||null},[]),W=(0,A.useCallback)(function(e){e.stopPropagation(),Q.current===E&&g&&g(),Q.current=null},[g]);return o?/*#__PURE__*/(0,l.jsx)(v,{children:/*#__PURE__*/(0,l.jsx)("div",{ref:H,id:E,onMouseUp:W,onMouseDown:G,className:(0,y.Z)(w().modal,I,"dark"===k&&w().isDarkMode,"modal"),children:/*#__PURE__*/(0,l.jsxs)("div",(0,s.Z)((0,a.Z)({},U),{id:_,onClick:V,className:(0,y.Z)(w().dialog,C,!!n&&w()[n],T&&w().hasBottomGradient,!r&&w().addTopPadding),style:{width:M,height:P},children:[!g||D?null:"cross"===(void 0===L?"cross":L)?/*#__PURE__*/(0,l.jsx)("button",{type:"button",onClick:g,className:(0,y.Z)(w().closeBtn,w().closeBtnCross),children:/*#__PURE__*/(0,l.jsx)(p.J,{icon:f.Z})}):/*#__PURE__*/(0,l.jsxs)(h.ZP,{onClick:g,size:h.ZP.Sizes.SMALL,variant:h.ZP.Variants.SUBTLE,className:(0,y.Z)(w().closeBtn,w().closeBtnText),children:["Close",/*#__PURE__*/(0,l.jsx)(m.P,{keys:["Esc"]})]}),!!r&&/*#__PURE__*/(0,l.jsx)("header",{className:(0,y.Z)(w().header,x),children:r}),void 0!==R&&R&&/*#__PURE__*/(0,l.jsx)("hr",{className:w().titleSeparator}),/*#__PURE__*/(0,l.jsx)("div",{className:(0,y.Z)(w().content,F),children:b}),!!T&&/*#__PURE__*/(0,l.jsx)("div",{className:(0,y.Z)(w().bottomGradient,"dark"===k&&w().isDarkMode)})]}))})}):null};I.Sizes=o,I.displayName="Modal";var x=/*#__PURE__*/(0,A.memo)(/*#__PURE__*/(0,A.forwardRef)(I));Object.assign(x,{Sizes:o});var T=x},47814:function(e,t,n){"use strict";n.d(t,{ZP:function(){return aS},KL:function(){return aC},uw:function(){return aT}});var r,o,a,s,u,c,l,A,d,f,h,p,g,v=n(70865),m=n(96670),y=n(52322),b=n(2784),w="bottom",_="right",E="left",C="auto",B=["top",w,_,E],I="start",x="viewport",T="popper",S=/*#__PURE__*/B.reduce(function(e,t){return e.concat([t+"-"+I,t+"-end"])},[]),k=/*#__PURE__*/[].concat(B,[C]).reduce(function(e,t){return e.concat([t,t+"-"+I,t+"-end"])},[]),D=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function N(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function O(e){var t=N(e).Element;return e instanceof t||e instanceof Element}function F(e){var t=N(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function R(e){if("undefined"==typeof ShadowRoot)return!1;var t=N(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function L(e){return((O(e)?e.ownerDocument:e.document)||window.document).documentElement}function M(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect();return{width:n.width/1,height:n.height/1,top:n.top/1,right:n.right/1,bottom:n.bottom/1,left:n.left/1,x:n.left/1,y:n.top/1}}function P(e){var t=N(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function U(e){return M(L(e)).left+P(e).scrollLeft}function j(e){return N(e).getComputedStyle(e)}var Z=Math.max,Q=Math.min,H=Math.round;function V(e){return e?(e.nodeName||"").toLowerCase():null}function K(e){return"html"===V(e)?e:e.assignedSlot||e.parentNode||(R(e)?e.host:null)||L(e)}function z(e){var t=j(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function G(e,t){void 0===t&&(t=[]);var n,r=function e(t){return["html","body","#document"].indexOf(V(t))>=0?t.ownerDocument.body:F(t)&&z(t)?t:e(K(t))}(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),a=N(r),s=o?[a].concat(a.visualViewport||[],z(r)?r:[]):r,u=t.concat(s);return o?u:u.concat(G(K(s)))}function W(e){return F(e)&&"fixed"!==j(e).position?e.offsetParent:null}function q(e){for(var t=N(e),n=W(e);n&&["table","td","th"].indexOf(V(n))>=0&&"static"===j(n).position;)n=W(n);return n&&("html"===V(n)||"body"===V(n)&&"static"===j(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&F(e)&&"fixed"===j(e).position)return null;for(var n=K(e);F(n)&&0>["html","body"].indexOf(V(n));){var r=j(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Y(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&R(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function $(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function X(e,t){var n,r,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y;return t===x?$((n=N(e),r=L(e),o=n.visualViewport,a=r.clientWidth,s=r.clientHeight,u=0,c=0,o&&(a=o.width,s=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(u=o.offsetLeft,c=o.offsetTop)),{width:a,height:s,x:u+U(e),y:c})):F(t)?((l=M(t)).top=l.top+t.clientTop,l.left=l.left+t.clientLeft,l.bottom=l.top+t.clientHeight,l.right=l.left+t.clientWidth,l.width=t.clientWidth,l.height=t.clientHeight,l.x=l.left,l.y=l.top,l):$((A=L(e),f=L(A),h=P(A),p=null==(d=A.ownerDocument)?void 0:d.body,g=Z(f.scrollWidth,f.clientWidth,p?p.scrollWidth:0,p?p.clientWidth:0),v=Z(f.scrollHeight,f.clientHeight,p?p.scrollHeight:0,p?p.clientHeight:0),m=-h.scrollLeft+U(A),y=-h.scrollTop,"rtl"===j(p||f).direction&&(m+=Z(f.clientWidth,p?p.clientWidth:0)-g),{width:g,height:v,x:m,y:y}))}function J(e){return e.split("-")[0]}function ee(e){return e.split("-")[1]}function et(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function en(e){var t,n=e.reference,r=e.element,o=e.placement,a=o?J(o):null,s=o?ee(o):null,u=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(a){case"top":t={x:u,y:n.y-r.height};break;case w:t={x:u,y:n.y+n.height};break;case _:t={x:n.x+n.width,y:c};break;case E:t={x:n.x-r.width,y:c};break;default:t={x:n.x,y:n.y}}var l=a?et(a):null;if(null!=l){var A="y"===l?"height":"width";switch(s){case I:t[l]=t[l]-(n[A]/2-r[A]/2);break;case"end":t[l]=t[l]+(n[A]/2-r[A]/2)}}return t}function er(){return{top:0,right:0,bottom:0,left:0}}function ei(e){return Object.assign({},er(),e)}function eo(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function ea(e,t){void 0===t&&(t={});var n,r,o,a,s,u,c,l,A=t,d=A.placement,f=void 0===d?e.placement:d,h=A.boundary,p=A.rootBoundary,g=A.elementContext,v=void 0===g?T:g,m=A.altBoundary,y=A.padding,b=void 0===y?0:y,E=ei("number"!=typeof b?b:eo(b,B)),C=e.rects.popper,I=e.elements[void 0!==m&&m?v===T?"reference":T:v],S=(n=O(I)?I:I.contextElement||L(e.elements.popper),r=void 0===h?"clippingParents":h,o=void 0===p?x:p,c=(u=[].concat("clippingParents"===r?(a=G(K(n)),O(s=["absolute","fixed"].indexOf(j(n).position)>=0&&F(n)?q(n):n)?a.filter(function(e){return O(e)&&Y(e,s)&&"body"!==V(e)}):[]):[].concat(r),[o]))[0],(l=u.reduce(function(e,t){var r=X(n,t);return e.top=Z(r.top,e.top),e.right=Q(r.right,e.right),e.bottom=Q(r.bottom,e.bottom),e.left=Z(r.left,e.left),e},X(n,c))).width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l),k=M(e.elements.reference),D=en({reference:k,element:C,strategy:"absolute",placement:f}),N=$(Object.assign({},C,D)),R=v===T?N:k,P={top:S.top-R.top+E.top,bottom:R.bottom-S.bottom+E.bottom,left:S.left-R.left+E.left,right:R.right-S.right+E.right},U=e.modifiersData.offset;if(v===T&&U){var H=U[f];Object.keys(P).forEach(function(e){var t=[_,w].indexOf(e)>=0?1:-1,n=["top",w].indexOf(e)>=0?"y":"x";P[e]+=H[n]*t})}return P}function es(e){var t=M(e),n=e.offsetWidth,r=e.offsetHeight;return 1>=Math.abs(t.width-n)&&(n=t.width),1>=Math.abs(t.height-r)&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}var eu={placement:"bottom",modifiers:[],strategy:"absolute"};function ec(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}var el={passive:!0},eA={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ed(e){var t,n,r,o,a,s=e.popper,u=e.popperRect,c=e.placement,l=e.variation,A=e.offsets,d=e.position,f=e.gpuAcceleration,h=e.adaptive,p=e.roundOffsets,g=!0===p?(t=A.x,n=A.y,{x:H(H(t*(r=window.devicePixelRatio||1))/r)||0,y:H(H(n*r)/r)||0}):"function"==typeof p?p(A):A,v=g.x,m=void 0===v?0:v,y=g.y,b=void 0===y?0:y,C=A.hasOwnProperty("x"),B=A.hasOwnProperty("y"),I=E,x="top",T=window;if(h){var S=q(s),k="clientHeight",D="clientWidth";S===N(s)&&"static"!==j(S=L(s)).position&&"absolute"===d&&(k="scrollHeight",D="scrollWidth"),("top"===c||(c===E||c===_)&&"end"===l)&&(x=w,b-=S[k]-u.height,b*=f?1:-1),(c===E||("top"===c||c===w)&&"end"===l)&&(I=_,m-=S[D]-u.width,m*=f?1:-1)}var O=Object.assign({position:d},h&&eA);return f?Object.assign({},O,((a={})[x]=B?"0":"",a[I]=C?"0":"",a.transform=1>=(T.devicePixelRatio||1)?"translate("+m+"px, "+b+"px)":"translate3d("+m+"px, "+b+"px, 0)",a)):Object.assign({},O,((o={})[x]=B?b+"px":"",o[I]=C?m+"px":"",o.transform="",o))}var ef={left:"right",right:"left",bottom:"top",top:"bottom"};function eh(e){return e.replace(/left|right|bottom|top/g,function(e){return ef[e]})}var ep={start:"end",end:"start"};function eg(e){return e.replace(/start|end/g,function(e){return ep[e]})}function ev(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function em(e){return["top",_,w,E].some(function(t){return e[t]>=0})}var ey=(a=void 0===(o=(r={defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,a=void 0===o||o,s=r.resize,u=void 0===s||s,c=N(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&l.forEach(function(e){e.addEventListener("scroll",n.update,el)}),u&&c.addEventListener("resize",n.update,el),function(){a&&l.forEach(function(e){e.removeEventListener("scroll",n.update,el)}),u&&c.removeEventListener("resize",n.update,el)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=en({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=n.adaptive,a=n.roundOffsets,s=void 0===a||a,u={placement:J(t.placement),variation:ee(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===r||r};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ed(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===o||o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ed(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];F(o)&&V(o)&&(Object.assign(o.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],o=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});F(r)&&V(r)&&(Object.assign(r.style,a),Object.keys(o).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]},{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,a=void 0===o?[0,0]:o,s=k.reduce(function(e,n){var r,o,s,u,c,l;return e[n]=(r=t.rects,s=[E,"top"].indexOf(o=J(n))>=0?-1:1,c=(u="function"==typeof a?a(Object.assign({},r,{placement:n})):a)[0],l=u[1],c=c||0,l=(l||0)*s,[E,_].indexOf(o)>=0?{x:l,y:c}:{x:c,y:l}),e},{}),u=s[t.placement],c=u.x,l=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=s}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,a=void 0===o||o,s=n.altAxis,u=void 0===s||s,c=n.fallbackPlacements,l=n.padding,A=n.boundary,d=n.rootBoundary,f=n.altBoundary,h=n.flipVariations,p=void 0===h||h,g=n.allowedAutoPlacements,v=t.options.placement,m=J(v)===v,y=c||(m||!p?[eh(v)]:function(e){if(J(e)===C)return[];var t=eh(e);return[eg(e),t,eg(t)]}(v)),b=[v].concat(y).reduce(function(e,n){var r,o,a,s,u,c,f,h,v,m,y,b;return e.concat(J(n)===C?(o=(r={placement:n,boundary:A,rootBoundary:d,padding:l,flipVariations:p,allowedAutoPlacements:g}).placement,a=r.boundary,s=r.rootBoundary,u=r.padding,c=r.flipVariations,h=void 0===(f=r.allowedAutoPlacements)?k:f,0===(y=(m=(v=ee(o))?c?S:S.filter(function(e){return ee(e)===v}):B).filter(function(e){return h.indexOf(e)>=0})).length&&(y=m),Object.keys(b=y.reduce(function(e,n){return e[n]=ea(t,{placement:n,boundary:a,rootBoundary:s,padding:u})[J(n)],e},{})).sort(function(e,t){return b[e]-b[t]})):n)},[]),x=t.rects.reference,T=t.rects.popper,D=new Map,N=!0,O=b[0],F=0;F<b.length;F++){var R=b[F],L=J(R),M=ee(R)===I,P=["top",w].indexOf(L)>=0,U=P?"width":"height",j=ea(t,{placement:R,boundary:A,rootBoundary:d,altBoundary:f,padding:l}),Z=P?M?_:E:M?w:"top";x[U]>T[U]&&(Z=eh(Z));var Q=eh(Z),H=[];if(a&&H.push(j[L]<=0),u&&H.push(j[Z]<=0,j[Q]<=0),H.every(function(e){return e})){O=R,N=!1;break}D.set(R,H)}if(N)for(var V=p?3:1,K=function(e){var t=b.find(function(t){var n=D.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return O=t,"break"},z=V;z>0&&"break"!==K(z);z--);t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,a=void 0===o||o,s=n.altAxis,u=void 0!==s&&s,c=n.boundary,l=n.rootBoundary,A=n.altBoundary,d=n.padding,f=n.tether,h=void 0===f||f,p=n.tetherOffset,g=void 0===p?0:p,v=ea(t,{boundary:c,rootBoundary:l,padding:d,altBoundary:A}),m=J(t.placement),y=ee(t.placement),b=!y,C=et(m),B="x"===C?"y":"x",x=t.modifiersData.popperOffsets,T=t.rects.reference,S=t.rects.popper,k="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,D={x:0,y:0};if(x){if(a||u){var N="y"===C?"top":E,O="y"===C?w:_,F="y"===C?"height":"width",R=x[C],L=x[C]+v[N],M=x[C]-v[O],P=h?-S[F]/2:0,U=y===I?T[F]:S[F],j=y===I?-S[F]:-T[F],H=t.elements.arrow,V=h&&H?es(H):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:er(),z=K[N],G=K[O],W=Z(0,Q(T[F],V[F])),Y=b?T[F]/2-P-W-z-k:U-W-z-k,$=b?-T[F]/2+P+W+G+k:j+W+G+k,X=t.elements.arrow&&q(t.elements.arrow),en=X?"y"===C?X.clientTop||0:X.clientLeft||0:0,ei=t.modifiersData.offset?t.modifiersData.offset[t.placement][C]:0,eo=x[C]+Y-ei-en,eu=x[C]+$-ei;if(a){var ec,el,eA=(ec=h?Q(L,eo):L,el=h?Z(M,eu):M,Z(ec,Q(R,el)));x[C]=eA,D[C]=eA-R}if(u){var ed,ef,eh="x"===C?"top":E,ep="x"===C?w:_,eg=x[B],ev=eg+v[eh],em=eg-v[ep],ey=(ed=h?Q(ev,eo):ev,ef=h?Z(em,eu):em,Z(ed,Q(eg,ef)));x[B]=ey,D[B]=ey-eg}}t.modifiersData[r]=D}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n,r=e.state,o=e.name,a=e.options,s=r.elements.arrow,u=r.modifiersData.popperOffsets,c=J(r.placement),l=et(c),A=[E,_].indexOf(c)>=0?"height":"width";if(s&&u){var d=ei("number"!=typeof(t="function"==typeof(t=a.padding)?t(Object.assign({},r.rects,{placement:r.placement})):t)?t:eo(t,B)),f=es(s),h="y"===l?"top":E,p="y"===l?w:_,g=r.rects.reference[A]+r.rects.reference[l]-u[l]-r.rects.popper[A],v=u[l]-r.rects.reference[l],m=q(s),y=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,b=d[h],C=y-f[A]-d[p],I=y/2-f[A]/2+(g/2-v/2),x=Z(b,Q(I,C));r.modifiersData[o]=((n={})[l]=x,n.centerOffset=x-I,n)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&Y(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,s=ea(t,{elementContext:"reference"}),u=ea(t,{altBoundary:!0}),c=ev(s,r),l=ev(u,o,a),A=em(c),d=em(l);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:l,isReferenceHidden:A,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":A,"data-popper-escaped":d})}}]}).defaultModifiers)?[]:o,u=void 0===(s=r.defaultOptions)?eu:s,function(e,t,n){void 0===n&&(n=u);var r,o,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},eu,u),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},c=[],l=!1,A={state:s,setOptions:function(n){var r,o,l,f,h,p="function"==typeof n?n(s.options):n;d(),s.options=Object.assign({},u,s.options,p),s.scrollParents={reference:O(e)?G(e):e.contextElement?G(e.contextElement):[],popper:G(t)};var g=(o=Object.keys(r=[].concat(a,s.options.modifiers).reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{})).map(function(e){return r[e]}),l=new Map,f=new Set,h=[],o.forEach(function(e){l.set(e.name,e)}),o.forEach(function(e){f.has(e.name)||function e(t){f.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!f.has(t)){var n=l.get(t);n&&e(n)}}),h.push(t)}(e)}),D.reduce(function(e,t){return e.concat(h.filter(function(e){return e.phase===t}))},[]));return s.orderedModifiers=g.filter(function(e){return e.enabled}),s.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=e.effect;if("function"==typeof r){var o=r({state:s,name:t,instance:A,options:void 0===n?{}:n});c.push(o||function(){})}}),A.update()},forceUpdate:function(){if(!l){var e,t,n,r,o,a,u,c,d,f,h,p,g=s.elements,v=g.reference,m=g.popper;if(ec(v,m)){s.rects={reference:(t=q(m),n="fixed"===s.options.strategy,r=F(t),c=F(t)&&(a=(o=t.getBoundingClientRect()).width/t.offsetWidth||1,u=o.height/t.offsetHeight||1,1!==a||1!==u),d=L(t),f=M(v,c),h={scrollLeft:0,scrollTop:0},p={x:0,y:0},(r||!r&&!n)&&(("body"!==V(t)||z(d))&&(h=(e=t)!==N(e)&&F(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:P(e)),F(t)?(p=M(t,!0),p.x+=t.clientLeft,p.y+=t.clientTop):d&&(p.x=U(d))),{x:f.left+h.scrollLeft-p.x,y:f.top+h.scrollTop-p.y,width:f.width,height:f.height}),popper:es(m)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(e){return s.modifiersData[e.name]=Object.assign({},e.data)});for(var y=0;y<s.orderedModifiers.length;y++){if(!0===s.reset){s.reset=!1,y=-1;continue}var b=s.orderedModifiers[y],w=b.fn,_=b.options,E=void 0===_?{}:_,C=b.name;"function"==typeof w&&(s=w({state:s,options:E,name:C,instance:A})||s)}}}},update:(r=function(){return new Promise(function(e){A.forceUpdate(),e(s)})},function(){return o||(o=new Promise(function(e){Promise.resolve().then(function(){o=void 0,e(r())})})),o}),destroy:function(){d(),l=!0}};if(!ec(e,t))return A;function d(){c.forEach(function(e){return e()}),c=[]}return A.setOptions(n).then(function(e){!l&&n.onFirstUpdate&&n.onFirstUpdate(e)}),A}),eb=n(78435),ew=/*#__PURE__*/n.n(eb),e_=function(e){return e.reduce(function(e,t){var n=t[0],r=t[1];return e[n]=r,e},{})},eE="undefined"!=typeof window&&window.document&&window.document.createElement?b.useLayoutEffect:b.useEffect,eC=[],eB=function(e,t,n){void 0===n&&(n={});var r=b.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||eC},a=b.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=a[0],u=a[1],c=b.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);u({styles:e_(n.map(function(e){return[e,t.styles[e]||{}]})),attributes:e_(n.map(function(e){return[e,t.attributes[e]]}))})},requires:["computeStyles"]}},[]),l=b.useMemo(function(){var e={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[c,{name:"applyStyles",enabled:!1}])};return ew()(r.current,e)?r.current||e:(r.current=e,e)},[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,c]),A=b.useRef();return eE(function(){A.current&&A.current.setOptions(l)},[l]),eE(function(){if(null!=e&&null!=t){var r=(n.createPopper||ey)(e,t,l);return A.current=r,function(){r.destroy(),A.current=null}}},[e,t,n.createPopper]),{state:A.current?A.current.state:null,styles:s.styles,attributes:s.attributes,update:A.current?A.current.update:null,forceUpdate:A.current?A.current.forceUpdate:null}},eI=n(26297),ex=n(22970),eT=n(34406),eS=(void 0===eT||eT.env,"production");let ek=1/60*1e3,eD="undefined"!=typeof performance?()=>performance.now():()=>Date.now(),eN="undefined"!=typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(eD()),ek),eO=!0,eF=!1,eR=!1,eL={delta:0,timestamp:0},eM=["read","update","preRender","render","postRender"],eP=eM.reduce((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,o=!1,a=!1,s=new WeakSet,u={schedule:(e,a=!1,u=!1)=>{let c=u&&o,l=c?t:n;return a&&s.add(e),-1===l.indexOf(e)&&(l.push(e),c&&o&&(r=t.length)),e},cancel:e=>{let t=n.indexOf(e);-1!==t&&n.splice(t,1),s.delete(e)},process:c=>{if(o){a=!0;return}if(o=!0,[t,n]=[n,t],n.length=0,r=t.length)for(let n=0;n<r;n++){let r=t[n];r(c),s.has(r)&&(u.schedule(r),e())}o=!1,a&&(a=!1,u.process(c))}};return u}(()=>eF=!0),e),{}),eU=eM.reduce((e,t)=>{let n=eP[t];return e[t]=(e,t=!1,r=!1)=>(eF||eV(),n.schedule(e,t,r)),e},{}),ej=eM.reduce((e,t)=>(e[t]=eP[t].cancel,e),{}),eZ=eM.reduce((e,t)=>(e[t]=()=>eP[t].process(eL),e),{}),eQ=e=>eP[e].process(eL),eH=e=>{eF=!1,eL.delta=eO?ek:Math.max(Math.min(e-eL.timestamp,40),1),eL.timestamp=e,eR=!0,eM.forEach(eQ),eR=!1,eF&&(eO=!1,eN(eH))},eV=()=>{eF=!0,eO=!0,eR||eN(eH)},eK=()=>eL;var ez="undefined"!=typeof document,eG=ez?b.useLayoutEffect:b.useEffect;function eW(){var e=(0,b.useRef)(!1);return eG(function(){return e.current=!0,function(){e.current=!1}},[]),e}var eq=(0,b.createContext)(null);function eY(e){var t=(0,b.useRef)(null);return null===t.current&&(t.current=e()),t.current}var e$=0,eX=function(){return e$++},eJ=function(){return eY(eX)},e0=function(e){var t=e.children,n=e.initial,r=e.isPresent,o=e.onExitComplete,a=e.custom,s=e.presenceAffectsLayout,u=eY(e1),c=eJ(),l=(0,b.useMemo)(function(){return{id:c,initial:n,isPresent:r,custom:a,onExitComplete:function(e){var t,n;u.set(e,!0);try{for(var r=(0,ex.__values)(u.values()),a=r.next();!a.done;a=r.next())if(!a.value)return}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}null==o||o()},register:function(e){return u.set(e,!1),function(){return u.delete(e)}}}},s?void 0:[r]);return(0,b.useMemo)(function(){u.forEach(function(e,t){return u.set(t,!1)})},[r]),b.useEffect(function(){r||u.size||null==o||o()},[r]),b.createElement(eq.Provider,{value:l},t)};function e1(){return new Map}var e2=(0,b.createContext)({});function e4(e){return(0,b.useEffect)(function(){return function(){return e()}},[])}var e3=function(e){return e.key||""},e5=function(e){var t,n,r,o,a,s,u=e.children,c=e.custom,l=e.initial,A=void 0===l||l,d=e.onExitComplete,f=e.exitBeforeEnter,h=e.presenceAffectsLayout,p=void 0===h||h,g=(0,ex.__read)((t=eW(),r=(n=(0,ex.__read)((0,b.useState)(0),2))[0],o=n[1],a=(0,b.useCallback)(function(){t.current&&o(r+1)},[r]),[(0,b.useCallback)(function(){return eU.postRender(a)},[a]),r]),1)[0],v=(0,b.useContext)(e2).forceRender;v&&(g=v);var m=eW(),y=(s=[],b.Children.forEach(u,function(e){(0,b.isValidElement)(e)&&s.push(e)}),s),w=y,_=new Set,E=(0,b.useRef)(w),C=(0,b.useRef)(new Map).current,B=(0,b.useRef)(!0);if(eG(function(){B.current=!1,function(e,t){e.forEach(function(e){var n=e3(e);t.set(n,e)})}(y,C),E.current=w}),e4(function(){B.current=!0,C.clear(),_.clear()}),B.current)return b.createElement(b.Fragment,null,w.map(function(e){return b.createElement(e0,{key:e3(e),isPresent:!0,initial:!!A&&void 0,presenceAffectsLayout:p},e)}));w=(0,ex.__spreadArray)([],(0,ex.__read)(w),!1);for(var I=E.current.map(e3),x=y.map(e3),T=I.length,S=0;S<T;S++){var k=I[S];-1===x.indexOf(k)&&_.add(k)}return f&&_.size&&(w=[]),_.forEach(function(e){if(-1===x.indexOf(e)){var t=C.get(e);if(t){var n=I.indexOf(e);w.splice(n,0,b.createElement(e0,{key:e3(t),isPresent:!1,onExitComplete:function(){C.delete(e),_.delete(e);var t=E.current.findIndex(function(t){return t.key===e});if(E.current.splice(t,1),!_.size){if(E.current=y,!1===m.current)return;g(),d&&d()}},custom:c,presenceAffectsLayout:p},t))}}}),w=w.map(function(e){var t=e.key;return _.has(t)?e:b.createElement(e0,{key:e3(e),isPresent:!0,presenceAffectsLayout:p},e)}),"production"!==eS&&f&&w.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),b.createElement(b.Fragment,null,_.size?w:w.map(function(e){return(0,b.cloneElement)(e)}))},e6=function(e){return{isEnabled:function(t){return e.some(function(e){return!!t[e]})}}},e8={measureLayout:e6(["layout","layoutId","drag"]),animation:e6(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:e6(["exit"]),drag:e6(["drag","dragControls"]),focus:e6(["whileFocus"]),hover:e6(["whileHover","onHoverStart","onHoverEnd"]),tap:e6(["whileTap","onTap","onTapStart","onTapCancel"]),pan:e6(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:e6(["whileInView","onViewportEnter","onViewportLeave"])},e9=function(){},e7=function(){},te=(0,b.createContext)({strict:!1}),tt=Object.keys(e8),tn=tt.length,tr=(0,b.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),ti=(0,b.createContext)({}),to={current:null},ta=!1;function ts(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function tu(e){return Array.isArray(e)}function tc(e){return"string"==typeof e||tu(e)}function tl(e,t,n,r,o){var a;return void 0===r&&(r={}),void 0===o&&(o={}),"function"==typeof t&&(t=t(null!=n?n:e.custom,r,o)),"string"==typeof t&&(t=null===(a=e.variants)||void 0===a?void 0:a[t]),"function"==typeof t&&(t=t(null!=n?n:e.custom,r,o)),t}function tA(e,t,n){var r,o,a=e.getProps();return tl(a,t,null!=n?n:a.custom,(r={},e.forEachValue(function(e,t){return r[t]=e.get()}),r),(o={},e.forEachValue(function(e,t){return o[t]=e.getVelocity()}),o))}function td(e){var t;return"function"==typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||tc(e.initial)||tc(e.animate)||tc(e.whileHover)||tc(e.whileDrag)||tc(e.whileTap)||tc(e.whileFocus)||tc(e.exit)}function tf(e){return!!(td(e)||e.variants)}function th(e){return Array.isArray(e)?e.join(" "):e}var tp={hasAnimatedSinceResize:!0,hasEverUpdated:!1},tg=1,tv=(0,b.createContext)({}),tm=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ex.__extends)(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,n=e.props;t&&t.setProps(n)},t.prototype.render=function(){return this.props.children},t}(b.Component),ty=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function tb(e){if("string"!=typeof e||e.includes("-"));else if(ty.indexOf(e)>-1||/[A-Z]/.test(e))return!0;return!1}var tw={},t_=["","X","Y","Z"],tE=["transformPerspective","x","y","z"];function tC(e,t){return tE.indexOf(e)-tE.indexOf(t)}["translate","scale","rotate","skew"].forEach(function(e){return t_.forEach(function(t){return tE.push(e+t)})});var tB=new Set(tE);function tI(e){return tB.has(e)}var tx=new Set(["originX","originY","originZ"]);function tT(e,t){var n=t.layout,r=t.layoutId;return tI(e)||tx.has(e)||(n||void 0!==r)&&(!!tw[e]||"opacity"===e)}var tS=function(e){return!!(null!==e&&"object"==typeof e&&e.getVelocity)},tk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function tD(e){return e.startsWith("--")}let tN=(e,t)=>n=>Math.max(Math.min(n,t),e),tO=e=>e%1?Number(e.toFixed(5)):e,tF=/(-)?([\d]*\.?[\d])+/g,tR=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,tL=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function tM(e){return"string"==typeof e}let tP=e=>({test:t=>tM(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),tU=tP("deg"),tj=tP("%"),tZ=tP("px"),tQ=tP("vh"),tH=tP("vw"),tV=Object.assign(Object.assign({},tj),{parse:e=>tj.parse(e)/100,transform:e=>tj.transform(100*e)}),tK={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},tz=Object.assign(Object.assign({},tK),{transform:tN(0,1)}),tG=Object.assign(Object.assign({},tK),{default:1});var tW=(0,ex.__assign)((0,ex.__assign)({},tK),{transform:Math.round}),tq={borderWidth:tZ,borderTopWidth:tZ,borderRightWidth:tZ,borderBottomWidth:tZ,borderLeftWidth:tZ,borderRadius:tZ,radius:tZ,borderTopLeftRadius:tZ,borderTopRightRadius:tZ,borderBottomRightRadius:tZ,borderBottomLeftRadius:tZ,width:tZ,maxWidth:tZ,height:tZ,maxHeight:tZ,size:tZ,top:tZ,right:tZ,bottom:tZ,left:tZ,padding:tZ,paddingTop:tZ,paddingRight:tZ,paddingBottom:tZ,paddingLeft:tZ,margin:tZ,marginTop:tZ,marginRight:tZ,marginBottom:tZ,marginLeft:tZ,rotate:tU,rotateX:tU,rotateY:tU,rotateZ:tU,scale:tG,scaleX:tG,scaleY:tG,scaleZ:tG,skew:tU,skewX:tU,skewY:tU,distance:tZ,translateX:tZ,translateY:tZ,translateZ:tZ,x:tZ,y:tZ,z:tZ,perspective:tZ,transformPerspective:tZ,opacity:tz,originX:tV,originY:tV,originZ:tZ,zIndex:tW,fillOpacity:tz,strokeOpacity:tz,numOctaves:tW};function tY(e,t,n,r){var o,a,s,u,c=e.style,l=e.vars,A=e.transform,d=e.transformKeys,f=e.transformOrigin;d.length=0;var h=!1,p=!1,g=!0;for(var v in t){var m=t[v];if(tD(v)){l[v]=m;continue}var y=tq[v],b=y&&"number"==typeof m?y.transform(m):m;if(tI(v)){if(h=!0,A[v]=b,d.push(v),!g)continue;m!==(null!==(u=y.default)&&void 0!==u?u:0)&&(g=!1)}else tx.has(v)?(f[v]=b,p=!0):c[v]=b}h?c.transform=function(e,t,n,r){var o=e.transform,a=e.transformKeys,s=t.enableHardwareAcceleration,u=t.allowTransformNone,c="";a.sort(tC);for(var l=!1,A=a.length,d=0;d<A;d++){var f=a[d];c+="".concat(tk[f]||f,"(").concat(o[f],") "),"z"===f&&(l=!0)}return!l&&(void 0===s||s)?c+="translateZ(0)":c=c.trim(),r?c=r(o,n?"":c):(void 0===u||u)&&n&&(c="none"),c}(e,n,g,r):r?c.transform=r({},""):!t.transform&&c.transform&&(c.transform="none"),p&&(c.transformOrigin=(o=f.originX,a=f.originY,s=f.originZ,"".concat(void 0===o?"50%":o," ").concat(void 0===a?"50%":a," ").concat(void 0===s?0:s)))}var t$=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function tX(e,t,n){for(var r in t)tS(t[r])||tT(r,n)||(e[r]=t[r])}var tJ=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function t0(e){return tJ.has(e)}var t1=function(e){return!t0(e)};try{(c=require("@emotion/is-prop-valid").default)&&(t1=function(e){return e.startsWith("on")?!t0(e):c(e)})}catch(e){}function t2(e,t,n){return"string"==typeof e?e:tZ.transform(t+n*e)}var t4={offset:"stroke-dashoffset",array:"stroke-dasharray"},t3={offset:"strokeDashoffset",array:"strokeDasharray"};function t5(e,t,n,r){var o,a,s,u,c,l,A,d,f,h,p=t.attrX,g=t.attrY,v=t.originX,m=t.originY,y=t.pathLength,b=t.pathSpacing,w=t.pathOffset;tY(e,(0,ex.__rest)(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r),e.attrs=e.style,e.style={};var _=e.attrs,E=e.style,C=e.dimensions;_.transform&&(C&&(E.transform=_.transform),delete _.transform),C&&(void 0!==v||void 0!==m||E.transform)&&(E.transformOrigin=(o=void 0!==v?v:.5,a=void 0!==m?m:.5,s=t2(o,C.x,C.width),u=t2(a,C.y,C.height),"".concat(s," ").concat(u))),void 0!==p&&(_.x=p),void 0!==g&&(_.y=g),void 0!==y&&(A=!1,void 0===(c=void 0===b?1:b)&&(c=1),void 0===(l=void 0===w?0:w)&&(l=0),void 0===A&&(A=!0),_.pathLength=1,_[(d=A?t4:t3).offset]=tZ.transform(-l),f=tZ.transform(y),h=tZ.transform(c),_[d.array]="".concat(f," ").concat(h))}var t6=function(){return(0,ex.__assign)((0,ex.__assign)({},t$()),{attrs:{}})},t8=/([a-z])([A-Z])/g,t9=function(e){return e.replace(t8,"$1-$2").toLowerCase()};function t7(e,t,n,r){var o=t.style,a=t.vars;for(var s in Object.assign(e.style,o,r&&r.getProjectionStyles(n)),a)e.style.setProperty(s,a[s])}var ne=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function nt(e,t,n,r){for(var o in t7(e,t,void 0,r),t.attrs)e.setAttribute(ne.has(o)?o:t9(o),t.attrs[o])}function nn(e){var t=e.style,n={};for(var r in t)(tS(t[r])||tT(r,e))&&(n[r]=t[r]);return n}function nr(e){var t=nn(e);for(var n in e)tS(e[n])&&(t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]);return t}function ni(e){return"object"==typeof e&&"function"==typeof e.start}var no=function(e){return Array.isArray(e)},na=function(e){return no(e)?e[e.length-1]||0:e};function ns(e){var t=tS(e)?e.get():e;return t&&"object"==typeof t&&t.mix&&t.toValue?t.toValue():t}function nu(e,t,n,r){var o=e.scrapeMotionValuesFromProps,a=e.createRenderState,s=e.onMount,u={latestValues:function(e,t,n,r){var o={},a=(null==n?void 0:n.initial)===!1,s=r(e);for(var u in s)o[u]=ns(s[u]);var c=e.initial,l=e.animate,A=td(e),d=tf(e);t&&d&&!A&&!1!==e.inherit&&(null!=c||(c=t.initial),null!=l||(l=t.animate));var f=a||!1===c,h=f?l:c;return h&&"boolean"!=typeof h&&!ni(h)&&(Array.isArray(h)?h:[h]).forEach(function(t){var n=tl(e,t);if(n){var r=n.transitionEnd;n.transition;var a=(0,ex.__rest)(n,["transitionEnd","transition"]);for(var s in a){var u=a[s];if(Array.isArray(u)){var c=f?u.length-1:0;u=u[c]}null!==u&&(o[s]=u)}for(var s in r)o[s]=r[s]}}),o}(t,n,r,o),renderState:a()};return s&&(u.mount=function(e){return s(t,e,u)}),u}var nc=function(e){return function(t,n){var r=(0,b.useContext)(ti),o=(0,b.useContext)(eq);return n?nu(e,t,r,o):eY(function(){return nu(e,t,r,o)})}},nl={useVisualState:nc({scrapeMotionValuesFromProps:nr,createRenderState:t6,onMount:function(e,t,n){var r=n.renderState,o=n.latestValues;try{r.dimensions="function"==typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(e){r.dimensions={x:0,y:0,width:0,height:0}}t5(r,o,{enableHardwareAcceleration:!1},e.transformTemplate),nt(t,r)}})},nA={useVisualState:nc({scrapeMotionValuesFromProps:nn,createRenderState:t$})};function nd(e,t,n,r){return void 0===r&&(r={passive:!0}),e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}function nf(e,t,n,r){(0,b.useEffect)(function(){var o=e.current;if(n&&o)return nd(o,t,n,r)},[e,t,n,r])}function nh(e){return"undefined"!=typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}(l=d||(d={})).Animate="animate",l.Hover="whileHover",l.Tap="whileTap",l.Drag="whileDrag",l.Focus="whileFocus",l.InView="whileInView",l.Exit="exit";var np={pageX:0,pageY:0};function ng(e,t){var n,r,o;return void 0===t&&(t="page"),{point:e.touches?(void 0===(n=t)&&(n="page"),{x:(r=e.touches[0]||e.changedTouches[0]||np)[n+"X"],y:r[n+"Y"]}):(void 0===(o=t)&&(o="page"),{x:e[o+"X"],y:e[o+"Y"]})}}var nv=function(e,t){void 0===t&&(t=!1);var n=function(t){return e(t,ng(t))};return t?function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}:n},nm={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},ny={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function nb(e){if(ez&&null===window.onpointerdown);else if(ez&&null===window.ontouchstart)return ny[e];else if(ez&&null===window.onmousedown)return nm[e];return e}function nw(e,t,n,r){return nd(e,nb(t),nv(n,"pointerdown"===t),r)}function n_(e,t,n,r){return nf(e,nb(t),n&&nv(n,"pointerdown"===t),r)}function nE(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var nC=nE("dragHorizontal"),nB=nE("dragVertical");function nI(e){var t=!1;if("y"===e)t=nB();else if("x"===e)t=nC();else{var n=nC(),r=nB();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function nx(){var e=nI(!0);return!e||(e(),!1)}function nT(e,t,n){return function(r,o){var a;!nh(r)||nx()||(null===(a=e.animationState)||void 0===a||a.setActive(d.Hover,t),null==n||n(r,o))}}var nS=function(e,t){return!!t&&(e===t||nS(e,t.parentElement))};let nk=(e,t)=>n=>t(e(n)),nD=(...e)=>e.reduce(nk);var nN=new Set,nO=new WeakMap,nF=new WeakMap,nR=function(e){var t;null===(t=nO.get(e.target))||void 0===t||t(e)},nL=function(e){e.forEach(nR)},nM={some:0,all:1},nP=function(e){return function(t){return e(t),null}},nU={inView:nP(function(e){var t=e.visualElement,n=e.whileInView,r=e.onViewportEnter,o=e.onViewportLeave,a=e.viewport,s=void 0===a?{}:a,u=(0,b.useRef)({hasEnteredView:!1,isInView:!1}),c=!!(n||r||o);s.once&&u.current.hasEnteredView&&(c=!1),("undefined"==typeof IntersectionObserver?function(e,t,n,r){var o=r.fallback,a=void 0===o||o;(0,b.useEffect)(function(){if(e&&a){if("production"!==eS){var r;r="IntersectionObserver not available on this device. whileInView animations will trigger on mount.",nN.has(r)||(console.warn(r),nN.add(r))}requestAnimationFrame(function(){t.hasEnteredView=!0;var e,r=n.getProps().onViewportEnter;null==r||r(null),null===(e=n.animationState)||void 0===e||e.setActive(d.InView,!0)})}},[e])}:function(e,t,n,r){var o=r.root,a=r.margin,s=r.amount,u=void 0===s?"some":s,c=r.once;(0,b.useEffect)(function(){if(e){var r,s,l,A,f,h,p,g,v={root:null==o?void 0:o.current,rootMargin:a,threshold:"number"==typeof u?u:nM[u]};return r=n.getInstance(),s=function(e){var r,o=e.isIntersecting;if(t.isInView!==o){if(t.isInView=o,c&&!o&&t.hasEnteredView)return;o&&(t.hasEnteredView=!0),null===(r=n.animationState)||void 0===r||r.setActive(d.InView,o);var a=n.getProps(),s=o?a.onViewportEnter:a.onViewportLeave;null==s||s(e)}},l=v.root,A=(0,ex.__rest)(v,["root"]),f=l||document,nF.has(f)||nF.set(f,{}),(h=nF.get(f))[p=JSON.stringify(A)]||(h[p]=new IntersectionObserver(nL,(0,ex.__assign)({root:l},A))),g=h[p],nO.set(r,s),g.observe(r),function(){nO.delete(r),g.unobserve(r)}}},[e,o,a,u])})(c,u.current,t,s)}),tap:nP(function(e){var t=e.onTap,n=e.onTapStart,r=e.onTapCancel,o=e.whileTap,a=e.visualElement,s=t||n||r||o,u=(0,b.useRef)(!1),c=(0,b.useRef)(null),l={passive:!(n||t||r||g)};function A(){var e;null===(e=c.current)||void 0===e||e.call(c),c.current=null}function f(){var e;return A(),u.current=!1,null===(e=a.animationState)||void 0===e||e.setActive(d.Tap,!1),!nx()}function h(e,n){f()&&(nS(a.getInstance(),e.target)?null==t||t(e,n):null==r||r(e,n))}function p(e,t){f()&&(null==r||r(e,t))}function g(e,t){var r;A(),u.current||(u.current=!0,c.current=nD(nw(window,"pointerup",h,l),nw(window,"pointercancel",p,l)),null===(r=a.animationState)||void 0===r||r.setActive(d.Tap,!0),null==n||n(e,t))}n_(a,"pointerdown",s?g:void 0,l),e4(A)}),focus:nP(function(e){var t=e.whileFocus,n=e.visualElement;nf(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(d.Focus,!0)}:void 0),nf(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(d.Focus,!1)}:void 0)}),hover:nP(function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,o=e.visualElement;n_(o,"pointerenter",t||r?nT(o,!0,t):void 0,{passive:!t}),n_(o,"pointerleave",n||r?nT(o,!1,n):void 0,{passive:!n})})};function nj(){var e=(0,b.useContext)(eq);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,r=e.register,o=eJ();return(0,b.useEffect)(function(){return r(o)},[]),!t&&n?[!1,function(){return null==n?void 0:n(o)}]:[!0]}function nZ(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}let nQ=(e,t,n)=>Math.min(Math.max(n,e),t);function nH(e,t){return e*Math.sqrt(1-t*t)}let nV=["duration","bounce"],nK=["stiffness","damping","mass"];function nz(e,t){return t.some(t=>void 0!==e[t])}function nG(e){var{from:t=0,to:n=1,restSpeed:r=2,restDelta:o}=e,a=(0,ex.__rest)(e,["from","to","restSpeed","restDelta"]);let s={done:!1,value:t},{stiffness:u,damping:c,mass:l,velocity:A,duration:d,isResolvedFromDuration:f}=function(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!nz(e,nK)&&nz(e,nV)){let n=function({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,a;e9(e<=1e4,"Spring duration must be 10 seconds or less");let s=1-t;s=nQ(.05,1,s),e=nQ(.01,10,e/1e3),s<1?(o=t=>{let r=t*s,o=r*e;return .001-(r-n)/nH(t,s)*Math.exp(-o)},a=t=>{let r=t*s*e,a=Math.pow(s,2)*Math.pow(t,2)*e,u=Math.exp(-r),c=nH(Math.pow(t,2),s);return(r*n+n-a)*u*(-o(t)+.001>0?-1:1)/c}):(o=t=>-.001+Math.exp(-t*e)*((t-n)*e+1),a=t=>e*e*(n-t)*Math.exp(-t*e));let u=function(e,t,n){let r=n;for(let n=1;n<12;n++)r-=e(r)/t(r);return r}(o,a,5/e);if(e*=1e3,isNaN(u))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(u,2)*r;return{stiffness:t,damping:2*s*Math.sqrt(r*t),duration:e}}}(e);(t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(a),h=nW,p=nW;function g(){let e=A?-(A/1e3):0,r=n-t,a=c/(2*Math.sqrt(u*l)),s=Math.sqrt(u/l)/1e3;if(void 0===o&&(o=Math.min(Math.abs(n-t)/100,.4)),a<1){let t=nH(s,a);h=o=>n-Math.exp(-a*s*o)*((e+a*s*r)/t*Math.sin(t*o)+r*Math.cos(t*o)),p=n=>{let o=Math.exp(-a*s*n);return a*s*o*(Math.sin(t*n)*(e+a*s*r)/t+r*Math.cos(t*n))-o*(Math.cos(t*n)*(e+a*s*r)-t*r*Math.sin(t*n))}}else if(1===a)h=t=>n-Math.exp(-s*t)*(r+(e+s*r)*t);else{let t=s*Math.sqrt(a*a-1);h=o=>{let u=Math.exp(-a*s*o),c=Math.min(t*o,300);return n-u*((e+a*s*r)*Math.sinh(c)+t*r*Math.cosh(c))/t}}}return g(),{next:e=>{let t=h(e);if(f)s.done=e>=d;else{let a=Math.abs(1e3*p(e))<=r,u=Math.abs(n-t)<=o;s.done=a&&u}return s.value=s.done?n:t,s},flipTarget:()=>{A=-A,[t,n]=[n,t],g()}}}nG.needsInterpolation=(e,t)=>"string"==typeof e||"string"==typeof t;let nW=e=>0,nq=(e,t,n)=>{let r=t-e;return 0===r?1:(n-e)/r},nY=(e,t,n)=>-n*e+n*t+e,n$=(e,t)=>n=>!!(tM(n)&&tL.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),nX=(e,t,n)=>r=>{if(!tM(r))return r;let[o,a,s,u]=r.match(tF);return{[e]:parseFloat(o),[t]:parseFloat(a),[n]:parseFloat(s),alpha:void 0!==u?parseFloat(u):1}},nJ=tN(0,255),n0=Object.assign(Object.assign({},tK),{transform:e=>Math.round(nJ(e))}),n1={test:n$("rgb","red"),parse:nX("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+n0.transform(e)+", "+n0.transform(t)+", "+n0.transform(n)+", "+tO(tz.transform(r))+")"},n2={test:n$("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),o=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),o=e.substr(4,1),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:n1.transform},n4={test:n$("hsl","hue"),parse:nX("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+tj.transform(tO(t))+", "+tj.transform(tO(n))+", "+tO(tz.transform(r))+")"};function n3(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function n5({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let o=0,a=0,s=0;if(t/=100){let r=n<.5?n*(1+t):n+t-n*t,u=2*n-r;o=n3(u,r,e+1/3),a=n3(u,r,e),s=n3(u,r,e-1/3)}else o=a=s=n;return{red:Math.round(255*o),green:Math.round(255*a),blue:Math.round(255*s),alpha:r}}let n6=(e,t,n)=>{let r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},n8=[n2,n1,n4],n9=e=>n8.find(t=>t.test(e)),n7=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,re=(e,t)=>{let n=n9(e),r=n9(t);e7(!!n,n7(e)),e7(!!r,n7(t));let o=n.parse(e),a=r.parse(t);n===n4&&(o=n5(o),n=n1),r===n4&&(a=n5(a),r=n1);let s=Object.assign({},o);return e=>{for(let t in s)"alpha"!==t&&(s[t]=n6(o[t],a[t],e));return s.alpha=nY(o.alpha,a.alpha,e),n.transform(s)}},rt={test:e=>n1.test(e)||n2.test(e)||n4.test(e),parse:e=>n1.test(e)?n1.parse(e):n4.test(e)?n4.parse(e):n2.parse(e),transform:e=>tM(e)?e:e.hasOwnProperty("red")?n1.transform(e):n4.transform(e)},rn="${c}",rr="${n}";function ri(e){"number"==typeof e&&(e=`${e}`);let t=[],n=0,r=e.match(tR);r&&(n=r.length,e=e.replace(tR,rn),t.push(...r.map(rt.parse)));let o=e.match(tF);return o&&(e=e.replace(tF,rr),t.push(...o.map(tK.parse))),{values:t,numColors:n,tokenised:e}}function ro(e){return ri(e).values}function ra(e){let{values:t,numColors:n,tokenised:r}=ri(e),o=t.length;return e=>{let t=r;for(let r=0;r<o;r++)t=t.replace(r<n?rn:rr,r<n?rt.transform(e[r]):tO(e[r]));return t}}let rs=e=>"number"==typeof e?0:e,ru={test:function(e){var t,n,r,o;return isNaN(e)&&tM(e)&&(null!==(n=null===(t=e.match(tF))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(o=null===(r=e.match(tR))||void 0===r?void 0:r.length)&&void 0!==o?o:0)>0},parse:ro,createTransformer:ra,getAnimatableNone:function(e){let t=ro(e);return ra(e)(t.map(rs))}},rc=e=>"number"==typeof e;function rl(e,t){return rc(e)?n=>nY(e,t,n):rt.test(e)?re(e,t):rh(e,t)}let rA=(e,t)=>{let n=[...e],r=n.length,o=e.map((e,n)=>rl(e,t[n]));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}},rd=(e,t)=>{let n=Object.assign(Object.assign({},e),t),r={};for(let o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=rl(e[o],t[o]));return e=>{for(let t in r)n[t]=r[t](e);return n}};function rf(e){let t=ru.parse(e),n=t.length,r=0,o=0,a=0;for(let e=0;e<n;e++)r||"number"==typeof t[e]?r++:void 0!==t[e].hue?a++:o++;return{parsed:t,numNumbers:r,numRGB:o,numHSL:a}}let rh=(e,t)=>{let n=ru.createTransformer(t),r=rf(e),o=rf(t);return r.numHSL===o.numHSL&&r.numRGB===o.numRGB&&r.numNumbers>=o.numNumbers?nD(rA(r.parsed,o.parsed),n):(e9(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),n=>`${n>0?t:e}`)},rp=(e,t)=>n=>nY(e,t,n);function rg(e,t,{clamp:n=!0,ease:r,mixer:o}={}){let a=e.length;e7(a===t.length,"Both input and output ranges must be the same length"),e7(!r||!Array.isArray(r)||r.length===a-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[a-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());let s=function(e,t,n){var r;let o=[],a=n||("number"==typeof(r=e[0])?rp:"string"==typeof r?rt.test(r)?re:rh:Array.isArray(r)?rA:"object"==typeof r?rd:void 0),s=e.length-1;for(let n=0;n<s;n++){let r=a(e[n],e[n+1]);t&&(r=nD(Array.isArray(t)?t[n]:t,r)),o.push(r)}return o}(t,r,o),u=2===a?function([e,t],[n]){return r=>n(nq(e,t,r))}(e,s):function(e,t){let n=e.length,r=n-1;return o=>{let a=0,s=!1;if(o<=e[0]?s=!0:o>=e[r]&&(a=r-1,s=!0),!s){let t=1;for(;t<n&&!(e[t]>o)&&t!==r;t++);a=t-1}let u=nq(e[a],e[a+1],o);return t[a](u)}}(e,s);return n?t=>u(nQ(e[0],e[a-1],t)):u}let rv=e=>t=>1-e(1-t),rm=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ry=e=>t=>t*t*((e+1)*t-e),rb=4/11,rw=8/11,r_=e=>e,rE=e=>Math.pow(e,2),rC=rv(rE),rB=rm(rE),rI=e=>1-Math.sin(Math.acos(e)),rx=rv(rI),rT=rm(rx),rS=ry(1.525),rk=rv(rS),rD=rm(rS),rN=(e=>{let t=ry(e);return e=>(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))})(1.525),rO=4356/361,rF=35442/1805,rR=16061/1805,rL=e=>{if(1===e||0===e)return e;let t=e*e;return e<rb?7.5625*t:e<rw?9.075*t-9.9*e+3.4:e<.9?rO*t-rF*e+rR:10.8*e*e-20.52*e+10.72},rM=rv(rL);function rP({from:e=0,to:t=1,ease:n,offset:r,duration:o=300}){let a={done:!1,value:e},s=Array.isArray(t)?t:[e,t],u=(r&&r.length===s.length?r:function(e){let t=e.length;return e.map((e,n)=>0!==n?n/(t-1):0)}(s)).map(e=>e*o);function c(){return rg(u,s,{ease:Array.isArray(n)?n:s.map(()=>n||rB).splice(0,s.length-1)})}let l=c();return{next:e=>(a.value=l(e),a.done=e>=o,a),flipTarget:()=>{s.reverse(),l=c()}}}let rU={keyframes:rP,spring:nG,decay:function({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:o=.5,modifyTarget:a}){let s={done:!1,value:t},u=n*e,c=t+u,l=void 0===a?c:a(c);return l!==c&&(u=l-t),{next:e=>{let t=-u*Math.exp(-e/r);return s.done=!(t>o||t<-o),s.value=s.done?l:l+t,s},flipTarget:()=>{}}}};function rj(e,t,n=0){return e-t-n}let rZ=e=>{let t=({delta:t})=>e(t);return{start:()=>eU.update(t,!0),stop:()=>ej.update(t)}};function rQ(e){let t,n,r;var o,{from:a,autoplay:s=!0,driver:u=rZ,elapsed:c=0,repeat:l=0,repeatType:A="loop",repeatDelay:d=0,onPlay:f,onStop:h,onComplete:p,onRepeat:g,onUpdate:v}=e,m=(0,ex.__rest)(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:y}=m,b=0,w=m.duration,_=!1,E=!0,C=function(e){if(Array.isArray(e.to))return rP;if(rU[e.type])return rU[e.type];let t=new Set(Object.keys(e));if(t.has("ease")||t.has("duration")&&!t.has("dampingRatio"));else if(t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta"))return nG;return rP}(m);(null===(o=C.needsInterpolation)||void 0===o?void 0:o.call(C,a,y))&&(r=rg([0,100],[a,y],{clamp:!1}),a=0,y=100);let B=C(Object.assign(Object.assign({},m),{from:a,to:y}));return s&&(null==f||f(),(t=u(function(e){if(E||(e=-e),c+=e,!_){let e=B.next(Math.max(0,c));n=e.value,r&&(n=r(n)),_=E?e.done:c<=0}if(null==v||v(n),_){if(0===b&&(null!=w||(w=c)),b<l){var o,a;o=c,a=w,(E?o>=a+d:o<=-d)&&(b++,"reverse"===A?c=function(e,t,n=0,r=!0){return r?rj(t+-e,t,n):t-(e-t)+n}(c,w,d,E=b%2==0):(c=rj(c,w,d),"mirror"===A&&B.flipTarget()),_=!1,g&&g())}else t.stop(),p&&p()}})).start()),{stop:()=>{null==h||h(),t.stop()}}}var rH=function(e){return 1e3*e};let rV=(e,t)=>1-3*t+3*e,rK=(e,t)=>3*t-6*e,rz=e=>3*e,rG=(e,t,n)=>((rV(t,n)*e+rK(t,n))*e+rz(t))*e,rW=(e,t,n)=>3*rV(t,n)*e*e+2*rK(t,n)*e+rz(t);var rq={linear:r_,easeIn:rE,easeInOut:rB,easeOut:rC,circIn:rI,circInOut:rT,circOut:rx,backIn:rS,backInOut:rD,backOut:rk,anticipate:rN,bounceIn:rM,bounceInOut:e=>e<.5?.5*(1-rL(1-2*e)):.5*rL(2*e-1)+.5,bounceOut:rL},rY=function(e){if(Array.isArray(e)){e7(4===e.length,"Cubic bezier arrays must contain four numerical values.");var t=(0,ex.__read)(e,4);return function(e,t,n,r){if(e===t&&n===r)return r_;let o=new Float32Array(11);for(let t=0;t<11;++t)o[t]=rG(.1*t,e,n);return a=>0===a||1===a?a:rG(function(t){let r=0,a=1;for(;10!==a&&o[a]<=t;++a)r+=.1;let s=r+(t-o[--a])/(o[a+1]-o[a])*.1,u=rW(s,e,n);return u>=.001?function(e,t,n,r){for(let o=0;o<8;++o){let o=rW(t,n,r);if(0===o)break;let a=rG(t,n,r)-e;t-=a/o}return t}(t,s,e,n):0===u?s:function(e,t,n,r,o){let a,s;let u=0;do(a=rG(s=t+(n-t)/2,r,o)-e)>0?n=s:t=s;while(Math.abs(a)>1e-7&&++u<10);return s}(t,r,r+.1,e,n)}(a),t,r)}(t[0],t[1],t[2],t[3])}return"string"==typeof e?(e7(void 0!==rq[e],"Invalid easing type '".concat(e,"'")),rq[e]):e},r$=function(e,t){return"zIndex"!==e&&!!("number"==typeof t||Array.isArray(t)||"string"==typeof t&&ru.test(t)&&!t.startsWith("url("))},rX=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},rJ=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},r0=function(){return{type:"keyframes",ease:"linear",duration:.3}},r1=function(e){return{type:"keyframes",duration:.8,values:e}},r2={x:rX,y:rX,z:rX,rotate:rX,rotateX:rX,rotateY:rX,rotateZ:rX,scaleX:rJ,scaleY:rJ,scale:rJ,opacity:r0,backgroundColor:r0,color:r0,default:rJ},r4=function(e,t){var n;return n=no(t)?r1:r2[e]||r2.default,(0,ex.__assign)({to:t},n(t))};let r3=new Set(["brightness","contrast","saturate","opacity"]);function r5(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[r]=n.match(tF)||[];if(!r)return e;let o=n.replace(r,""),a=r3.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+o+")"}let r6=/([a-z-]*)\(.*?\)/g,r8=Object.assign(Object.assign({},ru),{getAnimatableNone:e=>{let t=e.match(r6);return t?t.map(r5).join(" "):e}});var r9=(0,ex.__assign)((0,ex.__assign)({},tq),{color:rt,backgroundColor:rt,outlineColor:rt,fill:rt,stroke:rt,borderColor:rt,borderTopColor:rt,borderRightColor:rt,borderBottomColor:rt,borderLeftColor:rt,filter:r8,WebkitFilter:r8}),r7=function(e){return r9[e]};function ie(e,t){var n,r=r7(e);return r!==r8&&(r=ru),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var it=!1;function ir(e){return 0===e||"string"==typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function ii(e){return"number"==typeof e?0:ie("",e)}function io(e,t){return e[t]||e.default||e}function ia(e,t,n,r){return void 0===r&&(r={}),t.start(function(o){var a,s,u,c,l,A,d,f,h,p,g,v=(c=n,d=null!==(l=(A=io(r,e)).from)&&void 0!==l?l:t.get(),f=r$(e,c),"none"===d&&f&&"string"==typeof c?d=ie(e,c):ir(d)&&"string"==typeof c?d=ii(c):!Array.isArray(c)&&ir(c)&&"string"==typeof d&&(c=ii(d)),e9((h=r$(e,d))===f,"You are trying to animate ".concat(e,' from "').concat(d,'" to "').concat(c,'". ').concat(d," is not an animatable value - to enable this animation set ").concat(d," to a value animatable to ").concat(c," via the `style` property.")),h&&f&&!1!==A.type?function(){var n,r,a,s,u,l,f,h,p,g,v,m,y,b={from:d,to:c,velocity:t.getVelocity(),onComplete:o,onUpdate:function(e){return t.set(e)}};return"inertia"===A.type||"decay"===A.type?function({from:e=0,velocity:t=0,min:n,max:r,power:o=.8,timeConstant:a=750,bounceStiffness:s=500,bounceDamping:u=10,restDelta:c=1,modifyTarget:l,driver:A,onUpdate:d,onComplete:f,onStop:h}){let p;function g(e){return void 0!==n&&e<n||void 0!==r&&e>r}function v(e){return void 0===n?r:void 0===r?n:Math.abs(n-e)<Math.abs(r-e)?n:r}function m(e){null==p||p.stop(),p=rQ(Object.assign(Object.assign({},e),{driver:A,onUpdate:t=>{var n;null==d||d(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:f,onStop:h}))}function y(e){m(Object.assign({type:"spring",stiffness:s,damping:u,restDelta:c},e))}if(g(e))y({from:e,velocity:t,to:v(e)});else{let r,s,u=o*t+e;void 0!==l&&(u=l(u));let A=v(u),d=A===n?-1:1;m({type:"decay",from:e,velocity:t,timeConstant:a,power:o,restDelta:c,modifyTarget:l,onUpdate:g(u)?e=>{var n,o;r=s,s=e,n=e-r,t=(o=eK().delta)?1e3/o*n:0,(1===d&&e>A||-1===d&&e<A)&&y({from:e,to:A,velocity:t})}:void 0})}return{stop:()=>null==p?void 0:p.stop()}}((0,ex.__assign)((0,ex.__assign)({},b),A)):rQ((0,ex.__assign)((0,ex.__assign)({},(n=A,r=b,a=e,Array.isArray(r.to)&&(null!==(s=n.duration)&&void 0!==s||(n.duration=.8)),Array.isArray(r.to)&&null===r.to[0]&&(r.to=(0,ex.__spreadArray)([],(0,ex.__read)(r.to),!1),r.to[0]=r.from),(u=n).when,u.delay,u.delayChildren,u.staggerChildren,u.staggerDirection,u.repeat,u.repeatType,u.repeatDelay,u.from,Object.keys((0,ex.__rest)(u,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"])).length||(n=(0,ex.__assign)((0,ex.__assign)({},n),r4(a,r.to))),(0,ex.__assign)((0,ex.__assign)({},r),(f=(l=n).ease,h=l.times,p=l.yoyo,g=l.flip,v=l.loop,m=(0,ex.__rest)(l,["ease","times","yoyo","flip","loop"]),y=(0,ex.__assign)({},m),h&&(y.offset=h),m.duration&&(y.duration=rH(m.duration)),m.repeatDelay&&(y.repeatDelay=rH(m.repeatDelay)),f&&(y.ease=Array.isArray(f)&&"number"!=typeof f[0]?f.map(rY):rY(f)),"tween"===m.type&&(y.type="keyframes"),(p||v||g)&&(e9(!it,"yoyo, loop and flip have been removed from the API. Replace with repeat and repeatType options."),it=!0,p?y.repeatType="reverse":v?y.repeatType="loop":g&&(y.repeatType="mirror"),y.repeat=v||p||g||m.repeat),"spring"!==m.type&&(y.type="keyframes"),y)))),{onUpdate:function(e){var t;b.onUpdate(e),null===(t=A.onUpdate)||void 0===t||t.call(A,e)},onComplete:function(){var e;b.onComplete(),null===(e=A.onComplete)||void 0===e||e.call(A)}}))}:function(){var e,n,r=na(c);return t.set(r),o(),null===(e=null==A?void 0:A.onUpdate)||void 0===e||e.call(A,r),null===(n=null==A?void 0:A.onComplete)||void 0===n||n.call(A),{stop:function(){}}}),m=null!==(u=null!==(s=(io(a=r,e)||{}).delay)&&void 0!==s?s:a.delay)&&void 0!==u?u:0,y=function(){return g=v()};return m?p=window.setTimeout(y,rH(m)):y(),function(){clearTimeout(p),null==g||g.stop()}})}function is(e,t){-1===e.indexOf(t)&&e.push(t)}function iu(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var ic=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return is(this.subscriptions,e),function(){return iu(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r){if(1===r)this.subscriptions[0](e,t,n);else for(var o=0;o<r;o++){var a=this.subscriptions[o];a&&a(e,t,n)}}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),il=function(){function e(e){var t=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new ic,this.velocityUpdateSubscribers=new ic,this.renderSubscribers=new ic,this.canTrackVelocity=!1,this.updateAndNotify=function(e,n){void 0===n&&(n=!0),t.prev=t.current,t.current=e;var r=eK(),o=r.delta,a=r.timestamp;t.lastUpdated!==a&&(t.timeDelta=o,t.lastUpdated=a,eU.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.updateSubscribers.notify(t.current),t.velocityUpdateSubscribers.getSize()&&t.velocityUpdateSubscribers.notify(t.getVelocity()),n&&t.renderSubscribers.notify(t.current)},this.scheduleVelocityCheck=function(){return eU.postRender(t.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==t.lastUpdated&&(t.prev=t.current,t.velocityUpdateSubscribers.notify(t.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=!isNaN(parseFloat(this.current))}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){var e,t;return this.canTrackVelocity?(e=parseFloat(this.current)-parseFloat(this.prev),(t=this.timeDelta)?1e3/t*e:0):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise(function(n){t.hasAnimated=!0,t.stopAnimation=e(n)}).then(function(){return t.clearAnimation()})},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function iA(e){return new il(e)}var id=function(e){return function(t){return t.test(e)}},ih=[tK,tZ,tj,tU,tH,tQ,{test:function(e){return"auto"===e},parse:function(e){return e}}],ip=function(e){return ih.find(id(e))},ig=(0,ex.__spreadArray)((0,ex.__spreadArray)([],(0,ex.__read)(ih),!1),[rt,ru],!1);function iv(e,t,n){void 0===n&&(n={});var r,o=tA(e,t,n.custom),a=(o||{}).transition,s=void 0===a?e.getDefaultTransition()||{}:a;n.transitionOverride&&(s=n.transitionOverride);var u=o?function(){return im(e,o,n)}:function(){return Promise.resolve()},c=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var o,a,u,c,l,A,d,f=s.delayChildren;return o=(void 0===f?0:f)+r,a=s.staggerChildren,u=s.staggerDirection,c=n,void 0===o&&(o=0),void 0===a&&(a=0),void 0===u&&(u=1),l=[],A=(e.variantChildren.size-1)*a,d=1===u?function(e){return void 0===e&&(e=0),e*a}:function(e){return void 0===e&&(e=0),A-e*a},Array.from(e.variantChildren).sort(iy).forEach(function(e,n){l.push(iv(e,t,(0,ex.__assign)((0,ex.__assign)({},c),{delay:o+d(n)})).then(function(){return e.notifyAnimationComplete(t)}))}),Promise.all(l)}:function(){return Promise.resolve()},l=s.when;if(!l)return Promise.all([u(),c(n.delay)]);var A=(0,ex.__read)("beforeChildren"===l?[u,c]:[c,u],2),d=A[0],f=A[1];return d().then(f)}function im(e,t,n){var r,o=void 0===n?{}:n,a=o.delay,s=void 0===a?0:a,u=o.transitionOverride,c=o.type,l=e.makeTargetAnimatable(t),A=l.transition,d=void 0===A?e.getDefaultTransition():A,f=l.transitionEnd,h=(0,ex.__rest)(l,["transition","transitionEnd"]);u&&(d=u);var p=[],g=c&&(null===(r=e.animationState)||void 0===r?void 0:r.getState()[c]);for(var v in h){var m=e.getValue(v),y=h[v];if(!(!m||void 0===y||g&&function(e,t){var n=e.protectedKeys,r=e.needsAnimating,o=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,o}(g,v))){var b=(0,ex.__assign)({delay:s},d);e.shouldReduceMotion&&tI(v)&&(b=(0,ex.__assign)((0,ex.__assign)({},b),{type:!1,delay:0}));var w=ia(v,m,y,b);p.push(w)}}return Promise.all(p).then(function(){f&&function(e,t){var n=tA(e,t),r=n?e.makeTargetAnimatable(n,!1):{},o=r.transitionEnd;r.transition;var a=(0,ex.__rest)(r,["transitionEnd","transition"]);for(var s in a=(0,ex.__assign)((0,ex.__assign)({},a),void 0===o?{}:o)){var u=na(a[s]);e.hasValue(s)?e.getValue(s).set(u):e.addValue(s,iA(u))}}(e,f)})}function iy(e,t){return e.sortNodePosition(t)}var ib=[d.Animate,d.InView,d.Focus,d.Hover,d.Tap,d.Drag,d.Exit],iw=(0,ex.__spreadArray)([],(0,ex.__read)(ib),!1).reverse(),i_=ib.length;function iE(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var iC={animation:nP(function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=function(e){var t,n=function(t){return Promise.all(t.map(function(t){return function(e,t,n){if(void 0===n&&(n={}),e.notifyAnimationStart(t),Array.isArray(t)){var r;r=Promise.all(t.map(function(t){return iv(e,t,n)}))}else if("string"==typeof t)r=iv(e,t,n);else{var o="function"==typeof t?tA(e,t,n.custom):t;r=im(e,o,n)}return r.then(function(){return e.notifyAnimationComplete(t)})}(e,t.animation,t.options)}))},r=((t={})[d.Animate]=iE(!0),t[d.InView]=iE(),t[d.Hover]=iE(),t[d.Tap]=iE(),t[d.Drag]=iE(),t[d.Focus]=iE(),t[d.Exit]=iE(),t),o={},a=!0,s=function(t,n){var r=tA(e,n);if(r){r.transition;var o=r.transitionEnd,a=(0,ex.__rest)(r,["transition","transitionEnd"]);t=(0,ex.__assign)((0,ex.__assign)((0,ex.__assign)({},t),a),o)}return t};function u(t,u){for(var c,l=e.getProps(),A=e.getVariantContext(!0)||{},d=[],f=new Set,h={},p=1/0,g=0;g<i_;g++)!function(n){var o,g=iw[n],v=r[g],m=null!==(c=l[g])&&void 0!==c?c:A[g],y=tc(m),b=g===u?v.isActive:null;!1===b&&(p=n);var w=m===A[g]&&m!==l[g]&&y;if(w&&a&&e.manuallyAnimateOnMount&&(w=!1),v.protectedKeys=(0,ex.__assign)({},h),!(!v.isActive&&null===b||!m&&!v.prevProp||ni(m))&&"boolean"!=typeof m){var _=(o=v.prevProp,"string"==typeof m?m!==o:!!tu(m)&&!nZ(m,o)),E=_||g===u&&v.isActive&&!w&&y||n>p&&y,C=Array.isArray(m)?m:[m],B=C.reduce(s,{});!1===b&&(B={});var I=v.prevResolvedValues,x=void 0===I?{}:I,T=(0,ex.__assign)((0,ex.__assign)({},x),B),S=function(e){E=!0,f.delete(e),v.needsAnimating[e]=!0};for(var k in T){var D=B[k],N=x[k];h.hasOwnProperty(k)||(D!==N?no(D)&&no(N)?!nZ(D,N)||_?S(k):v.protectedKeys[k]=!0:void 0!==D?S(k):f.add(k):void 0!==D&&f.has(k)?S(k):v.protectedKeys[k]=!0)}v.prevProp=m,v.prevResolvedValues=B,v.isActive&&(h=(0,ex.__assign)((0,ex.__assign)({},h),B)),a&&e.blockInitialAnimation&&(E=!1),E&&!w&&d.push.apply(d,(0,ex.__spreadArray)([],(0,ex.__read)(C.map(function(e){return{animation:e,options:(0,ex.__assign)({type:g},t)}})),!1))}}(g);if(o=(0,ex.__assign)({},h),f.size){var v={};f.forEach(function(t){var n=e.getBaseTarget(t);void 0!==n&&(v[t]=n)}),d.push({animation:v})}var m=!!d.length;return a&&!1===l.initial&&!e.manuallyAnimateOnMount&&(m=!1),a=!1,m?n(d):Promise.resolve()}return{isAnimated:function(e){return void 0!==o[e]},animateChanges:u,setActive:function(t,n,o){if(r[t].isActive===n)return Promise.resolve();null===(a=e.variantChildren)||void 0===a||a.forEach(function(e){var r;return null===(r=e.animationState)||void 0===r?void 0:r.setActive(t,n)}),r[t].isActive=n;var a,s=u(o,t);for(var c in r)r[c].protectedKeys={};return s},setAnimateFunction:function(t){n=t(e)},getState:function(){return r}}}(t)),ni(n)&&(0,b.useEffect)(function(){return n.subscribe(t)},[n])}),exit:nP(function(e){var t=e.custom,n=e.visualElement,r=(0,ex.__read)(nj(),2),o=r[0],a=r[1],s=(0,b.useContext)(eq);(0,b.useEffect)(function(){n.isPresent=o;var e,r,u=null===(e=n.animationState)||void 0===e?void 0:e.setActive(d.Exit,!o,{custom:null!==(r=null==s?void 0:s.custom)&&void 0!==r?r:t});o||null==u||u.then(a)},[o])})};let iB=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),iI=e=>iB(e)&&e.hasOwnProperty("z"),ix=(e,t)=>Math.abs(e-t);function iT(e,t){return rc(e)&&rc(t)?ix(e,t):iB(e)&&iB(t)?Math.sqrt(Math.pow(ix(e.x,t.x),2)+Math.pow(ix(e.y,t.y),2)+Math.pow(iI(e)&&iI(t)?ix(e.z,t.z):0,2)):void 0}var iS=function(){function e(e,t,n){var r=this,o=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=iN(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=iT(e.offset,{x:0,y:0})>=3;if(t||n){var o=e.point,a=eK().timestamp;r.history.push((0,ex.__assign)((0,ex.__assign)({},o),{timestamp:a}));var s=r.handlers,u=s.onStart,c=s.onMove;t||(u&&u(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),c&&c(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){if(r.lastMoveEvent=e,r.lastMoveEventInfo=ik(t,r.transformPagePoint),nh(e)&&0===e.buttons){r.handlePointerUp(e,t);return}eU.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,o=n.onEnd,a=n.onSessionEnd,s=iN(ik(t,r.transformPagePoint),r.history);r.startEvent&&o&&o(e,s),a&&a(e,s)},!e.touches||!(e.touches.length>1)){this.handlers=t,this.transformPagePoint=o;var a=ik(ng(e),this.transformPagePoint),s=a.point,u=eK().timestamp;this.history=[(0,ex.__assign)((0,ex.__assign)({},s),{timestamp:u})];var c=t.onSessionStart;c&&c(e,iN(a,this.history)),this.removeListeners=nD(nw(window,"pointermove",this.handlePointerMove),nw(window,"pointerup",this.handlePointerUp),nw(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),ej.update(this.updatePoint)},e}();function ik(e,t){return t?{point:t(e.point)}:e}function iD(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iN(e,t){var n=e.point;return{point:n,delta:iD(n,iO(t)),offset:iD(n,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,o=iO(e);n>=0&&(r=e[n],!(o.timestamp-r.timestamp>rH(.1)));)n--;if(!r)return{x:0,y:0};var a=(o.timestamp-r.timestamp)/1e3;if(0===a)return{x:0,y:0};var s={x:(o.x-r.x)/a,y:(o.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}(t,0)}}function iO(e){return e[e.length-1]}function iF(e){return e.max-e.min}function iR(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),iT(e,t)<n}function iL(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=nY(t.min,t.max,e.origin),e.scale=iF(n)/iF(t),(iR(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=nY(n.min,n.max,e.origin)-e.originPoint,(iR(e.translate)||isNaN(e.translate))&&(e.translate=0)}function iM(e,t,n,r){iL(e.x,t.x,n.x,null==r?void 0:r.originX),iL(e.y,t.y,n.y,null==r?void 0:r.originY)}function iP(e,t,n){e.min=n.min+t.min,e.max=e.min+iF(t)}function iU(e,t,n){e.min=t.min-n.min,e.max=e.min+iF(t)}function ij(e,t,n){iU(e.x,t.x,n.x),iU(e.y,t.y,n.y)}function iZ(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function iQ(e,t){var n,r=t.min-e.min,o=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=(0,ex.__read)([o,r],2))[0],o=n[1]),{min:r,max:o}}function iH(e,t,n){return{min:iV(e,t),max:iV(e,n)}}function iV(e,t){var n;return"number"==typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}var iK=function(){return{translate:0,scale:1,origin:0,originPoint:0}},iz=function(){return{x:iK(),y:iK()}},iG=function(){return{min:0,max:0}},iW=function(){return{x:iG(),y:iG()}};function iq(e){return[e("x"),e("y")]}function iY(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function i$(e){return void 0===e||1===e}function iX(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!i$(t)||!i$(n)||!i$(r)}function iJ(e){var t,n;return iX(e)||(t=e.x)&&"0%"!==t||(n=e.y)&&"0%"!==n||e.z||e.rotate||e.rotateX||e.rotateY}function i0(e,t,n,r,o){return void 0!==o&&(e=r+o*(e-r)),r+n*(e-r)+t}function i1(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=1),e.min=i0(e.min,t,n,r,o),e.max=i0(e.max,t,n,r,o)}function i2(e,t){var n=t.x,r=t.y;i1(e.x,n.translate,n.scale,n.originPoint),i1(e.y,r.translate,r.scale,r.originPoint)}function i4(e,t){e.min=e.min+t,e.max=e.max+t}function i3(e,t,n){var r=(0,ex.__read)(n,3),o=r[0],a=r[1],s=r[2],u=void 0!==t[s]?t[s]:.5,c=nY(e.min,e.max,u);i1(e,t[o],t[a],c,t.scale)}var i5=["x","scaleX","originX"],i6=["y","scaleY","originY"];function i8(e,t){i3(e.x,t,i5),i3(e.y,t,i6)}function i9(e,t){return iY(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var i7=new WeakMap,oe=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=iW(),this.visualElement=e}return e.prototype.start=function(e,t){var n=this,r=(void 0===t?{}:t).snapToCursor,o=void 0!==r&&r;!1!==this.visualElement.isPresent&&(this.panSession=new iS(e,{onSessionStart:function(e){n.stopAnimation(),o&&n.snapToCursor(ng(e,"page").point)},onStart:function(e,t){var r,o=n.getProps(),a=o.drag,s=o.dragPropagation,u=o.onDragStart;(!a||s||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=nI(a),n.openGlobalLock))&&(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),iq(function(e){var t,r,o=n.getAxisMotionValue(e).get()||0;if(tj.test(o)){var a=null===(r=null===(t=n.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===r?void 0:r.actual[e];a&&(o=iF(a)*(parseFloat(o)/100))}n.originPoint[e]=o}),null==u||u(e,t),null===(r=n.visualElement.animationState)||void 0===r||r.setActive(d.Drag,!0))},onMove:function(e,t){var r=n.getProps(),o=r.dragPropagation,a=r.dragDirectionLock,s=r.onDirectionLock,u=r.onDrag;if(o||n.openGlobalLock){var c,l,A=t.offset;if(a&&null===n.currentDirection){n.currentDirection=(void 0===c&&(c=10),l=null,Math.abs(A.y)>c?l="y":Math.abs(A.x)>c&&(l="x"),l),null!==n.currentDirection&&(null==s||s(n.currentDirection));return}n.updateAxis("x",t.point,A),n.updateAxis("y",t.point,A),n.visualElement.syncRender(),null==u||u(e,t)}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()}))},e.prototype.stop=function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var o=this.getProps().onDragEnd;null==o||o(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(d.Drag,!1)},e.prototype.updateAxis=function(e,t,n){var r=this.getProps().drag;if(n&&ot(e,r,this.currentDirection)){var o,a,s,u,c,l=this.getAxisMotionValue(e),A=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=A,a=this.constraints[e],s=this.elastic[e],u=a.min,c=a.max,void 0!==u&&o<u?o=s?nY(u,o,s.min):Math.max(o,u):void 0!==c&&o>c&&(o=s?nY(c,o,s.max):Math.min(o,c)),A=o),l.set(A)}},e.prototype.resolveConstraints=function(){var e,t,n,r,o,a,s=this,u=this.getProps(),c=u.dragConstraints,l=u.dragElastic,A=(this.visualElement.projection||{}).layout,d=this.constraints;c&&ts(c)?this.constraints||(this.constraints=this.resolveRefConstraints()):c&&A?this.constraints=(e=A.actual,t=c.top,n=c.left,r=c.bottom,o=c.right,{x:iZ(e.x,n,o),y:iZ(e.y,t,r)}):this.constraints=!1,this.elastic=(void 0===(a=l)&&(a=.35),!1===a?a=0:!0===a&&(a=.35),{x:iH(a,"left","right"),y:iH(a,"top","bottom")}),d!==this.constraints&&A&&this.constraints&&!this.hasMutatedConstraints&&iq(function(e){if(s.getAxisMotionValue(e)){var t,n,r;s.constraints[e]=(t=A.actual[e],n=s.constraints[e],r={},void 0!==n.min&&(r.min=n.min-t.min),void 0!==n.max&&(r.max=n.max-t.min),r)}})},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!ts(t))return!1;var r=t.current;e7(null!==r,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var o=this.visualElement.projection;if(!o||!o.layout)return!1;var a=(u=o.root,c=i9(r,this.visualElement.getTransformPagePoint()),(l=u.scroll)&&(i4(c.x,l.x),i4(c.y,l.y)),c),s={x:iQ((A=o.layout.actual).x,a.x),y:iQ(A.y,a.y)};if(n){var u,c,l,A,d,f,h,p=n((f=(d=s).x,{top:(h=d.y).min,right:f.max,bottom:h.max,left:f.min}));this.hasMutatedConstraints=!!p,p&&(s=iY(p))}return s},e.prototype.startAnimation=function(e){var t=this,n=this.getProps(),r=n.drag,o=n.dragMomentum,a=n.dragElastic,s=n.dragTransition,u=n.dragSnapToOrigin,c=n.onDragTransitionEnd,l=this.constraints||{};return Promise.all(iq(function(n){if(ot(n,r,t.currentDirection)){var c,A=null!==(c=null==l?void 0:l[n])&&void 0!==c?c:{};u&&(A={min:0,max:0});var d=(0,ex.__assign)((0,ex.__assign)({type:"inertia",velocity:o?e[n]:0,bounceStiffness:a?200:1e6,bounceDamping:a?40:1e7,timeConstant:750,restDelta:1,restSpeed:10},s),A);return t.startAxisValueAnimation(n,d)}})).then(c)},e.prototype.startAxisValueAnimation=function(e,t){var n=this.getAxisMotionValue(e);return ia(e,n,0,t)},e.prototype.stopAnimation=function(){var e=this;iq(function(t){return e.getAxisMotionValue(t).stop()})},e.prototype.getAxisMotionValue=function(e){var t,n,r="_drag"+e.toUpperCase();return this.visualElement.getProps()[r]||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)},e.prototype.snapToCursor=function(e){var t=this;iq(function(n){if(ot(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,o=t.getAxisMotionValue(n);if(r&&r.layout){var a=r.layout.actual[n],s=a.min,u=a.max;o.set(e[n]-nY(s,u,.5))}}})},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,n=this.getProps(),r=n.drag,o=n.dragConstraints,a=this.visualElement.projection;if(ts(o)&&a&&this.constraints){this.stopAnimation();var s={x:0,y:0};iq(function(e){var n=t.getAxisMotionValue(e);if(n){var r,o,a,u,c,l=n.get();s[e]=(r={min:l,max:l},o=t.constraints[e],a=.5,u=iF(r),(c=iF(o))>u?a=nq(o.min,o.max-u,r.min):u>c&&(a=nq(r.min,r.max-c,o.min)),nQ(0,1,a))}});var u=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=u?u({},""):"none",null===(e=a.root)||void 0===e||e.updateScroll(),a.updateLayout(),this.resolveConstraints(),iq(function(e){if(ot(e,r,null)){var n=t.getAxisMotionValue(e),o=t.constraints[e],a=o.min,u=o.max;n.set(nY(a,u,s[e]))}})}},e.prototype.addListeners=function(){var e,t=this;i7.set(this.visualElement,this);var n=nw(this.visualElement.getInstance(),"pointerdown",function(e){var n=t.getProps(),r=n.drag,o=n.dragListener;r&&(void 0===o||o)&&t.start(e)}),r=function(){ts(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},o=this.visualElement.projection,a=o.addEventListener("measure",r);o&&!o.layout&&(null===(e=o.root)||void 0===e||e.updateScroll(),o.updateLayout()),r();var s=nd(window,"resize",function(){return t.scalePositionWithinConstraints()});return o.addEventListener("didUpdate",function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(iq(function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))}),t.visualElement.syncRender())}),function(){s(),n(),a()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,n=e.dragDirectionLock,r=e.dragPropagation,o=e.dragConstraints,a=e.dragElastic,s=e.dragMomentum;return(0,ex.__assign)((0,ex.__assign)({},e),{drag:void 0!==t&&t,dragDirectionLock:void 0!==n&&n,dragPropagation:void 0!==r&&r,dragConstraints:void 0!==o&&o,dragElastic:void 0===a?.35:a,dragMomentum:void 0===s||s})},e}();function ot(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var on={pan:nP(function(e){var t=e.onPan,n=e.onPanStart,r=e.onPanEnd,o=e.onPanSessionStart,a=e.visualElement,s=(0,b.useRef)(null),u=(0,b.useContext)(tr).transformPagePoint,c={onSessionStart:o,onStart:n,onMove:t,onEnd:function(e,t){s.current=null,r&&r(e,t)}};(0,b.useEffect)(function(){null!==s.current&&s.current.updateHandlers(c)}),n_(a,"pointerdown",(t||n||r||o)&&function(e){s.current=new iS(e,c,{transformPagePoint:u})}),e4(function(){return s.current&&s.current.end()})}),drag:nP(function(e){var t=e.dragControls,n=e.visualElement,r=eY(function(){return new oe(n)});(0,b.useEffect)(function(){return t&&t.subscribe(r)},[r,t]),(0,b.useEffect)(function(){return r.addListeners()},[r])})},or=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"],oi=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,o=e.getBaseTarget,a=e.makeTargetAnimatable,s=e.measureViewportBox,u=e.render,c=e.readValueFromInstance,l=e.removeValueFromRenderState,A=e.sortNodePosition,d=e.scrapeMotionValuesFromProps;return function(e,t){var f,h,p,g,v,m=e.parent,y=e.props,b=e.presenceId,w=e.blockInitialAnimation,_=e.visualState,E=e.shouldReduceMotion;void 0===t&&(t={});var C=!1,B=_.latestValues,I=_.renderState,x=(f=or.map(function(){return new ic}),h={},p={clearAllListeners:function(){return f.forEach(function(e){return e.clear()})},updatePropListeners:function(e){or.forEach(function(t){var n,r="on"+t,o=e[r];null===(n=h[t])||void 0===n||n.call(h),o&&(h[t]=p[r](o))})}},f.forEach(function(e,t){p["on"+or[t]]=function(t){return e.add(t)},p["notify"+or[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.notify.apply(e,(0,ex.__spreadArray)([],(0,ex.__read)(t),!1))}}),p),T=new Map,S=new Map,k={},D=(0,ex.__assign)({},B);function N(){g&&C&&(O(),u(g,I,y.style,Z.projection))}function O(){r(Z,I,B,t,y)}function F(){x.notifyUpdate(B)}function R(e,t){var n=t.onChange(function(t){B[e]=t,y.onUpdate&&eU.update(F,!1,!0)}),r=t.onRenderRequest(Z.scheduleRender);S.set(e,function(){n(),r()})}var L=d(y);for(var M in L){var P=L[M];void 0!==B[M]&&tS(P)&&P.set(B[M],!1)}var U=td(y),j=tf(y),Z=(0,ex.__assign)((0,ex.__assign)({treeType:n,current:null,depth:m?m.depth+1:0,parent:m,children:new Set,presenceId:b,shouldReduceMotion:E,variantChildren:j?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:!!(null==m?void 0:m.isMounted()),blockInitialAnimation:w,isMounted:function(){return!!g},mount:function(e){C=!0,g=Z.current=e,Z.projection&&Z.projection.mount(e),j&&m&&!U&&(v=null==m?void 0:m.addVariantChild(Z)),T.forEach(function(e,t){return R(t,e)}),null==m||m.children.add(Z),Z.setProps(y)},unmount:function(){var e;null===(e=Z.projection)||void 0===e||e.unmount(),ej.update(F),ej.render(N),S.forEach(function(e){return e()}),null==v||v(),null==m||m.children.delete(Z),x.clearAllListeners(),g=void 0,C=!1},addVariantChild:function(e){var t,n=Z.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return A&&n===e.treeType?A(Z.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return j?Z:null==m?void 0:m.getClosestVariantNode()},getLayoutId:function(){return y.layoutId},getInstance:function(){return g},getStaticValue:function(e){return B[e]},setStaticValue:function(e,t){return B[e]=t},getLatestValues:function(){return B},setVisibility:function(e){Z.isVisible!==e&&(Z.isVisible=e,Z.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),a(Z,e,y,t)},measureViewportBox:function(){return s(g,y)},addValue:function(e,t){Z.hasValue(e)&&Z.removeValue(e),T.set(e,t),B[e]=t.get(),R(e,t)},removeValue:function(e){var t;T.delete(e),null===(t=S.get(e))||void 0===t||t(),S.delete(e),delete B[e],l(e,I)},hasValue:function(e){return T.has(e)},getValue:function(e,t){var n=T.get(e);return void 0===n&&void 0!==t&&(n=iA(t),Z.addValue(e,n)),n},forEachValue:function(e){return T.forEach(e)},readValue:function(e){var n;return null!==(n=B[e])&&void 0!==n?n:c(g,e,t)},setBaseTarget:function(e,t){D[e]=t},getBaseTarget:function(e){if(o){var t=o(y,e);if(void 0!==t&&!tS(t))return t}return D[e]}},x),{build:function(){return O(),I},scheduleRender:function(){eU.render(N,!1,!0)},syncRender:N,setProps:function(e){(e.transformTemplate||y.transformTemplate)&&Z.scheduleRender(),y=e,x.updatePropListeners(e),k=function(e,t,n){var r;for(var o in t){var a=t[o],s=n[o];if(tS(a))e.addValue(o,a);else if(tS(s))e.addValue(o,iA(a));else if(s!==a){if(e.hasValue(o)){var u=e.getValue(o);u.hasAnimated||u.set(a)}else e.addValue(o,iA(null!==(r=e.getStaticValue(o))&&void 0!==r?r:a))}}for(var o in n)void 0===t[o]&&e.removeValue(o);return t}(Z,d(y),k)},getProps:function(){return y},getVariant:function(e){var t;return null===(t=y.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return y.transition},getTransformPagePoint:function(){return y.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null==m?void 0:m.getVariantContext();if(!U){var t=(null==m?void 0:m.getVariantContext())||{};return void 0!==y.initial&&(t.initial=y.initial),t}for(var n={},r=0;r<oa;r++){var o=oo[r],a=y[o];(tc(a)||!1===a)&&(n[o]=a)}return n}});return Z}},oo=(0,ex.__spreadArray)(["initial"],(0,ex.__read)(ib),!1),oa=oo.length;function os(e){return"string"==typeof e&&e.startsWith("var(--")}var ou=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function oc(e,t,n){void 0===n&&(n=1),e7(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'));var r=(0,ex.__read)(function(e){var t=ou.exec(e);if(!t)return[,];var n=(0,ex.__read)(t,3);return[n[1],n[2]]}(e),2),o=r[0],a=r[1];if(o){var s=window.getComputedStyle(t).getPropertyValue(o);return s?s.trim():os(a)?oc(a,t,n+1):a}}var ol=new Set(["width","height","top","left","right","bottom","x","y"]),oA=function(e){return ol.has(e)},od=function(e,t){e.set(t,!1),e.set(t)},of=function(e){return e===tK||e===tZ};(A=f||(f={})).width="width",A.height="height",A.left="left",A.right="right",A.top="top",A.bottom="bottom";var oh=function(e,t){return parseFloat(e.split(", ")[t])},op=function(e,t){return function(n,r){var o=r.transform;if("none"===o||!o)return 0;var a=o.match(/^matrix3d\((.+)\)$/);if(a)return oh(a[1],t);var s=o.match(/^matrix\((.+)\)$/);return s?oh(s[1],e):0}},og=new Set(["x","y","z"]),ov=tE.filter(function(e){return!og.has(e)}),om={width:function(e,t){var n=e.x,r=t.paddingLeft,o=t.paddingRight;return n.max-n.min-parseFloat(void 0===r?"0":r)-parseFloat(void 0===o?"0":o)},height:function(e,t){var n=e.y,r=t.paddingTop,o=t.paddingBottom;return n.max-n.min-parseFloat(void 0===r?"0":r)-parseFloat(void 0===o?"0":o)},top:function(e,t){return parseFloat(t.top)},left:function(e,t){return parseFloat(t.left)},bottom:function(e,t){var n=e.y;return parseFloat(t.top)+(n.max-n.min)},right:function(e,t){var n=e.x;return parseFloat(t.left)+(n.max-n.min)},x:op(4,13),y:op(5,14)},oy=function(e,t,n){var r=t.measureViewportBox(),o=getComputedStyle(t.getInstance()),a=o.display,s={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach(function(e){s[e]=om[e](r,o)}),t.syncRender();var u=t.measureViewportBox();return n.forEach(function(n){od(t.getValue(n),s[n]),e[n]=om[n](u,o)}),e},ob=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=(0,ex.__assign)({},t),r=(0,ex.__assign)({},r);var o=Object.keys(t).filter(oA),a=[],s=!1,u=[];if(o.forEach(function(o){var c,l=e.getValue(o);if(e.hasValue(o)){var A=n[o],d=ip(A),f=t[o];if(no(f)){var h=f.length,p=null===f[0]?1:0;d=ip(A=f[p]);for(var g=p;g<h;g++)c?e7(ip(f[g])===c,"All keyframes must be of the same type"):e7((c=ip(f[g]))===d||of(d)&&of(c),"Keyframes must be of the same dimension as the current value")}else c=ip(f);if(d!==c){if(of(d)&&of(c)){var v,m=l.get();"string"==typeof m&&l.set(parseFloat(m)),"string"==typeof f?t[o]=parseFloat(f):Array.isArray(f)&&c===tZ&&(t[o]=f.map(parseFloat))}else(null==d?void 0:d.transform)&&(null==c?void 0:c.transform)&&(0===A||0===f)?0===A?l.set(c.transform(A)):t[o]=d.transform(f):(s||(v=[],ov.forEach(function(t){var n=e.getValue(t);void 0!==n&&(v.push([t,n.get()]),n.set(t.startsWith("scale")?1:0))}),v.length&&e.syncRender(),a=v,s=!0),u.push(o),r[o]=void 0!==r[o]?r[o]:t[o],od(l,f))}}}),!u.length)return{target:t,transitionEnd:r};var c=u.indexOf("height")>=0?window.pageYOffset:null,l=oy(t,e,u);return a.length&&a.forEach(function(t){var n=(0,ex.__read)(t,2),r=n[0],o=n[1];e.getValue(r).set(o)}),e.syncRender(),null!==c&&window.scrollTo({top:c}),{target:l,transitionEnd:r}},ow=function(e,t,n,r){var o,a,s=function(e,t,n){var r,o=(0,ex.__rest)(t,[]),a=e.getInstance();if(!(a instanceof Element))return{target:o,transitionEnd:n};for(var s in n&&(n=(0,ex.__assign)({},n)),e.forEachValue(function(e){var t=e.get();if(os(t)){var n=oc(t,a);n&&e.set(n)}}),o){var u=o[s];if(os(u)){var c=oc(u,a);c&&(o[s]=c,n&&(null!==(r=n[s])&&void 0!==r||(n[s]=u)))}}return{target:o,transitionEnd:n}}(e,t,r);return o=t=s.target,a=r=s.transitionEnd,Object.keys(o).some(oA)?ob(e,o,n,a):{target:o,transitionEnd:a}},o_={treeType:"dom",readValueFromInstance:function(e,t){if(tI(t)){var n=r7(t);return n&&n.default||0}var r=window.getComputedStyle(e);return(tD(t)?r.getPropertyValue(t):r[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return i9(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var o=n.transformValues;void 0===r&&(r=!0);var a=t.transition,s=t.transitionEnd,u=(0,ex.__rest)(t,["transition","transitionEnd"]),c=function(e,t,n){var r,o,a={};for(var s in e)a[s]=null!==(r=function(e,t){if(t)return(t[e]||t.default||t).from}(s,t))&&void 0!==r?r:null===(o=n.getValue(s))||void 0===o?void 0:o.get();return a}(u,a||{},e);if(o&&(s&&(s=o(s)),u&&(u=o(u)),c&&(c=o(c))),r){!function(e,t,n){var r,o,a,s=Object.keys(t).filter(function(t){return!e.hasValue(t)}),u=s.length;if(u)for(var c=0;c<u;c++){var l,A,d,f=s[c],h=t[f],p=null;Array.isArray(h)&&(p=h[0]),null===p&&(p=null!==(o=null!==(r=n[f])&&void 0!==r?r:e.readValue(f))&&void 0!==o?o:t[f]),null!=p&&("string"==typeof p&&(l=p,/^\-?\d*\.?\d+$/.test(l)||(A=p,/^0[^.\s]+$/.test(A)))?p=parseFloat(p):(d=p,!ig.find(id(d))&&ru.test(h)&&(p=ie(f,h))),e.addValue(f,iA(p)),null!==(a=n[f])&&void 0!==a||(n[f]=p),e.setBaseTarget(f,p))}}(e,u,c);var l=ow(e,u,c,s);s=l.transitionEnd,u=l.target}return(0,ex.__assign)({transition:a,transitionEnd:s},u)},scrapeMotionValuesFromProps:nn,build:function(e,t,n,r,o){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),tY(t,n,r,o.transformTemplate)},render:t7},oE=oi(o_),oC=oi((0,ex.__assign)((0,ex.__assign)({},o_),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return tI(t)?(null===(n=r7(t))||void 0===n?void 0:n.default)||0:(t=ne.has(t)?t:t9(t),e.getAttribute(t))},scrapeMotionValuesFromProps:nr,build:function(e,t,n,r,o){t5(t,n,r,o.transformTemplate)},render:nt})),oB=function(e,t){return tb(e)?oC(t,{enableHardwareAcceleration:!1}):oE(t,{enableHardwareAcceleration:!0})};function oI(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var ox={correct:function(e,t){if(!t.target)return e;if("string"==typeof e){if(!tZ.test(e))return e;e=parseFloat(e)}var n=oI(e,t.target.x),r=oI(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},oT="_$css",oS=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,ex.__extends)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.visualElement,r=t.layoutGroup,o=t.switchLayoutGroup,a=t.layoutId,s=n.projection;Object.assign(tw,ok),s&&((null==r?void 0:r.group)&&r.group.add(s),(null==o?void 0:o.register)&&a&&o.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",function(){e.safeToRemove()}),s.setOptions((0,ex.__assign)((0,ex.__assign)({},s.options),{onExitComplete:function(){return e.safeToRemove()}}))),tp.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,n=this.props,r=n.layoutDependency,o=n.visualElement,a=n.drag,s=n.isPresent,u=o.projection;return u&&(u.isPresent=s,a||e.layoutDependency!==r||void 0===r?u.willUpdate():this.safeToRemove(),e.isPresent===s||(s?u.promote():u.relegate()||eU.postRender(function(){var e;(null===(e=u.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,o=t.projection;o&&(o.scheduleCheckAfterUnmount(),(null==n?void 0:n.group)&&n.group.remove(o),(null==r?void 0:r.deregister)&&r.deregister(o))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null==e||e()},t.prototype.render=function(){return null},t}(b.Component),ok={borderRadius:(0,ex.__assign)((0,ex.__assign)({},ox),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:ox,borderTopRightRadius:ox,borderBottomLeftRadius:ox,borderBottomRightRadius:ox,boxShadow:{correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,o=e,a=e.includes("var("),s=[];a&&(e=e.replace(ou,function(e){return s.push(e),oT}));var u=ru.parse(e);if(u.length>5)return o;var c=ru.createTransformer(e),l="number"!=typeof u[0]?1:0,A=r.x.scale*n.x,d=r.y.scale*n.y;u[0+l]/=A,u[1+l]/=d;var f=nY(A,d,.5);"number"==typeof u[2+l]&&(u[2+l]/=f),"number"==typeof u[3+l]&&(u[3+l]/=f);var h=c(u);if(a){var p=0;h=h.replace(oT,function(){var e=s[p];return p++,e})}return h}}},oD=["TopLeft","TopRight","BottomLeft","BottomRight"],oN=oD.length,oO=function(e){return"string"==typeof e?parseFloat(e):e},oF=function(e){return"number"==typeof e||tZ.test(e)};function oR(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var oL=oP(0,.5,rx),oM=oP(.5,.95,r_);function oP(e,t,n){return function(r){return r<e?0:r>t?1:n(nq(e,t,r))}}function oU(e,t){e.min=t.min,e.max=t.max}function oj(e,t){oU(e.x,t.x),oU(e.y,t.y)}function oZ(e,t,n,r,o){return e-=t,e=r+1/n*(e-r),void 0!==o&&(e=r+1/o*(e-r)),e}function oQ(e,t,n,r,o){var a=(0,ex.__read)(n,3),s=a[0],u=a[1],c=a[2];!function(e,t,n,r,o,a,s){if(void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===a&&(a=e),void 0===s&&(s=e),tj.test(t)&&(t=parseFloat(t),t=nY(s.min,s.max,t/100)-s.min),"number"==typeof t){var u=nY(a.min,a.max,r);e===a&&(u-=t),e.min=oZ(e.min,t,n,u,o),e.max=oZ(e.max,t,n,u,o)}}(e,t[s],t[u],t[c],t.scale,r,o)}var oH=["x","scaleX","originX"],oV=["y","scaleY","originY"];function oK(e,t,n,r){oQ(e.x,t,oH,null==n?void 0:n.x,null==r?void 0:r.x),oQ(e.y,t,oV,null==n?void 0:n.y,null==r?void 0:r.y)}function oz(e){return 0===e.translate&&1===e.scale}function oG(e){return oz(e.x)&&oz(e.y)}function oW(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var oq=function(){function e(){this.members=[]}return e.prototype.add=function(e){is(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if(iu(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,n=this.members.findIndex(function(t){return e===t});if(0===n)return!1;for(var r=n;r>=0;r--){var o=this.members[r];if(!1!==o.isPresent){t=o;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach(function(e){var t,n,r,o,a;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(a=null===(r=e.resumingFrom)||void 0===r?void 0:(o=r.options).onExitComplete)||void 0===a||a.call(o)})},e.prototype.scheduleRender=function(){this.members.forEach(function(e){e.instance&&e.scheduleRender(!1)})},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}();function oY(e,t,n){var r=e.x.translate/t.x,o=e.y.translate/t.y,a="translate3d(".concat(r,"px, ").concat(o,"px, 0) ");if(a+="scale(".concat(1/t.x,", ").concat(1/t.y,") "),n){var s=n.rotate,u=n.rotateX,c=n.rotateY;s&&(a+="rotate(".concat(s,"deg) ")),u&&(a+="rotateX(".concat(u,"deg) ")),c&&(a+="rotateY(".concat(c,"deg) "))}var l=e.x.scale*t.x,A=e.y.scale*t.y;return"translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)"===(a+="scale(".concat(l,", ").concat(A,")"))?"none":a}var o$=function(e,t){return e.depth-t.depth},oX=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){is(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){iu(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(o$),this.isDirty=!1,this.children.forEach(e)},e}();function oJ(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,o=e.checkIsScrollRoot,a=e.resetTransform;return function(){function e(e,t,r){var o=this;void 0===t&&(t={}),void 0===r&&(r=null==n?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){o.isUpdating&&(o.isUpdating=!1,o.clearAllSnapshots())},this.updateProjection=function(){o.nodes.forEach(o6),o.nodes.forEach(o8)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?(0,ex.__spreadArray)((0,ex.__spreadArray)([],(0,ex.__read)(r.path),!1),[r],!1):[],this.parent=r,this.depth=r?r.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new oX)}return e.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new ic),this.eventHandlers.get(e).add(t)},e.prototype.notifyListeners=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.eventHandlers.get(e);null==r||r.notify.apply(r,(0,ex.__spreadArray)([],(0,ex.__read)(t),!1))},e.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},e.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},e.prototype.mount=function(e,n){var r=this;if(void 0===n&&(n=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var o=this.options,a=o.layoutId,s=o.layout,u=o.visualElement;if(u&&!u.getInstance()&&u.mount(e),this.root.nodes.add(this),null===(c=this.parent)||void 0===c||c.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(s||a)&&(this.isLayoutDirty=!0),t){var c,l,A=function(){return r.root.updateBlockedByResize=!1};t(e,function(){r.root.updateBlockedByResize=!0,clearTimeout(l),l=window.setTimeout(A,250),tp.hasAnimatedSinceResize&&(tp.hasAnimatedSinceResize=!1,r.nodes.forEach(o5))})}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&u&&(a||s)&&this.addEventListener("didUpdate",function(e){var t,n,o,a,s,c=e.delta,l=e.hasLayoutChanged,A=e.hasRelativeTargetChanged,d=e.layout;if(r.isTreeAnimationBlocked()){r.target=void 0,r.relativeTarget=void 0;return}var f=null!==(n=null!==(t=r.options.transition)&&void 0!==t?t:u.getDefaultTransition())&&void 0!==n?n:ar,h=u.getProps(),p=h.onLayoutAnimationStart,g=h.onLayoutAnimationComplete,v=!r.targetLayout||!oW(r.targetLayout,d)||A,m=!l&&A;if((null===(o=r.resumeFrom)||void 0===o?void 0:o.instance)||m||l&&(v||!r.currentAnimation)){r.resumeFrom&&(r.resumingFrom=r.resumeFrom,r.resumingFrom.resumingFrom=void 0),r.setAnimationOrigin(c,m);var y=(0,ex.__assign)((0,ex.__assign)({},io(f,"layout")),{onPlay:p,onComplete:g});u.shouldReduceMotion&&(y.delay=0,y.type=!1),r.startAnimation(y)}else l||0!==r.animationProgress||r.finishAnimation(),r.isLead()&&(null===(s=(a=r.options).onExitComplete)||void 0===s||s.call(a));r.targetLayout=d})}},e.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,ej.preRender(this.updateProjection)},e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},e.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},e.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(o9))},e.prototype.willUpdate=function(e){if(void 0===e&&(e=!0),this.root.isUpdateBlocked()){null===(n=(t=this.options).onExitComplete)||void 0===n||n.call(t);return}if(this.root.isUpdating||this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var t,n,r,o=0;o<this.path.length;o++){var a=this.path[o];a.shouldResetTransform=!0,a.updateScroll()}var s=this.options,u=s.layoutId,c=s.layout;if(void 0!==u||c){var l=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null==l?void 0:l(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},e.prototype.didUpdate=function(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(o4);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(ai),this.potentialNodes.clear()),this.nodes.forEach(o3),this.nodes.forEach(o0),this.nodes.forEach(o1),this.clearAllSnapshots(),eZ.update(),eZ.preRender(),eZ.render())},e.prototype.clearAllSnapshots=function(){this.nodes.forEach(o2),this.sharedNodes.forEach(o7)},e.prototype.scheduleUpdateProjection=function(){eU.preRender(this.updateProjection,!1,!0)},e.prototype.scheduleCheckAfterUnmount=function(){var e=this;eU.postRender(function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()})},e.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));aa(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},e.prototype.updateLayout=function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var e,t=0;t<this.path.length;t++)this.path[t].updateScroll();var n=this.measure();aa(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected=iW(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null==r?void 0:r.actual)}},e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=o(this.instance),this.scroll=r(this.instance))},e.prototype.resetTransform=function(){if(a){var e,t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!oG(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,o=null==r?void 0:r(this.latestValues,""),s=o!==this.prevTransformTemplateValue;t&&(n||iJ(this.latestValues)||s)&&(a(this.instance,o),this.shouldResetTransform=!1,this.scheduleRender())}},e.prototype.measure=function(){var e=this.options.visualElement;if(!e)return iW();var t=e.measureViewportBox(),n=this.root.scroll;return n&&(i4(t.x,n.x),i4(t.y,n.y)),t},e.prototype.removeElementScroll=function(e){var t=iW();oj(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],o=r.scroll,a=r.options,s=r.isScrollRoot;if(r!==this.root&&o&&a.layoutScroll){if(s){oj(t,e);var u=this.root.scroll;u&&(i4(t.x,-u.x),i4(t.y,-u.y))}i4(t.x,o.x),i4(t.y,o.y)}}return t},e.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var n=iW();oj(n,e);for(var r=0;r<this.path.length;r++){var o=this.path[r];!t&&o.options.layoutScroll&&o.scroll&&o!==o.root&&i8(n,{x:-o.scroll.x,y:-o.scroll.y}),iJ(o.latestValues)&&i8(n,o.latestValues)}return iJ(this.latestValues)&&i8(n,this.latestValues),n},e.prototype.removeTransform=function(e){var t,n=iW();oj(n,e);for(var r=0;r<this.path.length;r++){var o=this.path[r];if(o.instance&&iJ(o.latestValues)){iX(o.latestValues)&&o.updateSnapshot();var a=iW();oj(a,o.measure()),oK(n,o.latestValues,null===(t=o.snapshot)||void 0===t?void 0:t.layout,a)}}return iJ(this.latestValues)&&oK(n,this.latestValues),n},e.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},e.prototype.setOptions=function(e){var t;this.options=(0,ex.__assign)((0,ex.__assign)((0,ex.__assign)({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})},e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},e.prototype.resolveTargetDelta=function(){var e,t,n,r,o=this.options,a=o.layout,s=o.layoutId;this.layout&&(a||s)&&(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=iW(),this.relativeTargetOrigin=iW(),ij(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),oj(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&((this.target||(this.target=iW(),this.targetWithTransforms=iW()),this.relativeTarget&&this.relativeTargetOrigin&&(null===(r=this.relativeParent)||void 0===r?void 0:r.target))?(e=this.target,t=this.relativeTarget,n=this.relativeParent.target,iP(e.x,t.x,n.x),iP(e.y,t.y,n.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.actual):oj(this.target,this.layout.actual),i2(this.target,this.targetDelta)):oj(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&!!this.relativeParent.resumingFrom==!!this.resumingFrom&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=iW(),this.relativeTargetOrigin=iW(),ij(this.relativeTargetOrigin,this.target,this.relativeParent.target),oj(this.relativeTarget,this.relativeTargetOrigin)))))},e.prototype.getClosestProjectingParent=function(){if(!(!this.parent||iJ(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},e.prototype.calcProjection=function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=!!((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var o=this.getLead();oj(this.layoutCorrected,this.layout.actual),function(e,t,n,r){void 0===r&&(r=!1);var o,a,s,u,c=n.length;if(c){t.x=t.y=1;for(var l=0;l<c;l++)u=(s=n[l]).projectionDelta,(null===(a=null===(o=s.instance)||void 0===o?void 0:o.style)||void 0===a?void 0:a.display)!=="contents"&&(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&i8(e,{x:-s.scroll.x,y:-s.scroll.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,i2(e,u)),r&&iJ(s.latestValues)&&i8(e,s.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,!!this.resumingFrom||this!==o);var a=o.target;if(a){this.projectionDelta||(this.projectionDelta=iz(),this.projectionDeltaWithTransform=iz());var s=this.treeScale.x,u=this.treeScale.y,c=this.projectionTransform;iM(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.projectionTransform=oY(this.projectionDelta,this.treeScale),(this.projectionTransform!==c||this.treeScale.x!==s||this.treeScale.y!==u)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))}}},e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e.prototype.scheduleRender=function(e){var t,n,r;void 0===e&&(e=!0),null===(n=(t=this.options).scheduleRender)||void 0===n||n.call(t),e&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},e.prototype.setAnimationOrigin=function(e,t){var n,r=this;void 0===t&&(t=!1);var o=this.snapshot,a=(null==o?void 0:o.latestValues)||{},s=(0,ex.__assign)({},this.latestValues),u=iz();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var c=iW(),l=null==o?void 0:o.isShared,A=1>=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0),d=!!(l&&!A&&!0===this.options.crossfade&&!this.path.some(an));this.animationProgress=0,this.mixTargetDelta=function(t){var n,o,f,h=t/1e3;ae(u.x,e.x,h),ae(u.y,e.y,h),r.setTargetDelta(u),r.relativeTarget&&r.relativeTargetOrigin&&r.layout&&(null===(f=r.relativeParent)||void 0===f?void 0:f.layout)&&(ij(c,r.layout.actual,r.relativeParent.layout.actual),n=r.relativeTarget,o=r.relativeTargetOrigin,at(n.x,o.x,c.x,h),at(n.y,o.y,c.y,h)),l&&(r.animationValues=s,function(e,t,n,r,o,a){var s,u,c,l;o?(e.opacity=nY(0,null!==(s=n.opacity)&&void 0!==s?s:1,oL(r)),e.opacityExit=nY(null!==(u=t.opacity)&&void 0!==u?u:1,0,oM(r))):a&&(e.opacity=nY(null!==(c=t.opacity)&&void 0!==c?c:1,null!==(l=n.opacity)&&void 0!==l?l:1,r));for(var A=0;A<oN;A++){var d="border".concat(oD[A],"Radius"),f=oR(t,d),h=oR(n,d);(void 0!==f||void 0!==h)&&(f||(f=0),h||(h=0),0===f||0===h||oF(f)===oF(h)?(e[d]=Math.max(nY(oO(f),oO(h),r),0),(tj.test(h)||tj.test(f))&&(e[d]+="%")):e[d]=h)}(t.rotate||n.rotate)&&(e.rotate=nY(t.rotate||0,n.rotate||0,r))}(s,a,r.latestValues,h,d,A)),r.root.scheduleUpdateProjection(),r.scheduleRender(),r.animationProgress=h},this.mixTargetDelta(0)},e.prototype.startAnimation=function(e){var t,n,r=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(ej.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=eU.update(function(){var t,n;tp.hasAnimatedSinceResize=!0,r.currentAnimation=(void 0===(t=(0,ex.__assign)((0,ex.__assign)({},e),{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}}))&&(t={}),ia("",n=tS(0)?0:iA(0),1e3,t),{stop:function(){return n.stop()},isAnimating:function(){return n.isAnimating()}}),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0})},e.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},e.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},e.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,o=e.latestValues;t&&n&&r&&(oj(t,n),i8(t,o),iM(this.projectionDeltaWithTransform,this.layoutCorrected,t,o))},e.prototype.registerSharedNode=function(e,t){var n,r,o;this.sharedNodes.has(e)||this.sharedNodes.set(e,new oq),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(o=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===o?void 0:o.call(r,t)})},e.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},e.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},e.prototype.getPrevLead=function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0},e.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},e.prototype.promote=function(e){var t=void 0===e?{}:e,n=t.needsReset,r=t.transition,o=t.preserveFollowOpacity,a=this.getStack();a&&a.promote(this,o),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})},e.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},e.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<t_.length;r++){var o="rotate"+t_[r];e.getStaticValue(o)&&(t=!0,n[o]=e.getStaticValue(o),e.setStaticValue(o,0))}if(t){for(var o in null==e||e.syncRender(),n)e.setStaticValue(o,n[o]);e.scheduleRender()}}},e.prototype.getProjectionStyles=function(e){void 0===e&&(e={});var t,n,r,o,a,s,u={};if(!this.instance||this.isSVG)return u;if(!this.isVisible)return{visibility:"hidden"};u.visibility="";var c=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ns(e.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;var l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){var A={};return this.options.layoutId&&(A.opacity=null!==(n=this.latestValues.opacity)&&void 0!==n?n:1,A.pointerEvents=ns(e.pointerEvents)||""),this.hasProjected&&!iJ(this.latestValues)&&(A.transform=c?c({},""):"none",this.hasProjected=!1),A}var d=l.animationValues||l.latestValues;this.applyTransformsToTarget(),u.transform=oY(this.projectionDeltaWithTransform,this.treeScale,d),c&&(u.transform=c(d,u.transform));var f=this.projectionDelta,h=f.x,p=f.y;for(var g in u.transformOrigin="".concat(100*h.origin,"% ").concat(100*p.origin,"% 0"),l.animationValues?u.opacity=l===this?null!==(o=null!==(r=d.opacity)&&void 0!==r?r:this.latestValues.opacity)&&void 0!==o?o:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:u.opacity=l===this?null!==(a=d.opacity)&&void 0!==a?a:"":null!==(s=d.opacityExit)&&void 0!==s?s:0,tw)if(void 0!==d[g]){var v=tw[g],m=v.correct,y=v.applyTo,b=m(d[g],l);if(y)for(var w=y.length,_=0;_<w;_++)u[y[_]]=b;else u[g]=b}return this.options.layoutId&&(u.pointerEvents=l===this?ns(e.pointerEvents)||"":"none"),u},e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},e.prototype.resetTree=function(){this.root.nodes.forEach(function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()}),this.root.nodes.forEach(o4),this.root.sharedNodes.clear()},e}()}function o0(e){e.updateLayout()}function o1(e){var t,n,r,o,a=null!==(n=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==n?n:e.snapshot;if(e.isLead()&&e.layout&&a&&e.hasListeners("didUpdate")){var s=e.layout,u=s.actual,c=s.measured;"size"===e.options.animationType?iq(function(e){var t=a.isShared?a.measured[e]:a.layout[e],n=iF(t);t.min=u[e].min,t.max=t.min+n}):"position"===e.options.animationType&&iq(function(e){var t=a.isShared?a.measured[e]:a.layout[e],n=iF(u[e]);t.max=t.min+n});var l=iz();iM(l,u,a.layout);var A=iz();a.isShared?iM(A,e.applyTransform(c,!0),a.measured):iM(A,u,a.layout);var d=!oG(l),f=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var h=e.relativeParent,p=h.snapshot,g=h.layout;if(p&&g){var v=iW();ij(v,a.layout,p.layout);var m=iW();ij(m,u,g.actual),oW(v,m)||(f=!0)}}e.notifyListeners("didUpdate",{layout:u,snapshot:a,delta:A,layoutDelta:l,hasLayoutChanged:d,hasRelativeTargetChanged:f})}else e.isLead()&&(null===(o=(r=e.options).onExitComplete)||void 0===o||o.call(r));e.options.transition=void 0}function o2(e){e.clearSnapshot()}function o4(e){e.clearMeasurements()}function o3(e){var t=e.options.visualElement;(null==t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function o5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function o6(e){e.resolveTargetDelta()}function o8(e){e.calcProjection()}function o9(e){e.resetRotation()}function o7(e){e.removeLeadSnapshot()}function ae(e,t,n){e.translate=nY(t.translate,0,n),e.scale=nY(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function at(e,t,n,r){e.min=nY(t.min,n.min,r),e.max=nY(t.max,n.max,r)}function an(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var ar={duration:.45,ease:[.4,0,.1,1]};function ai(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(e.path[r].instance){n=e.path[r];break}var o=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));o&&e.mount(o,!0)}function ao(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function aa(e){ao(e.x),ao(e.y)}var as=oJ({attachResizeListener:function(e,t){return nd(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),au={current:void 0},ac=oJ({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!au.current){var e=new as(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),au.current=e}return au.current},resetTransform:function(e,t){e.style.transform=null!=t?t:"none"},checkIsScrollRoot:function(e){return"fixed"===window.getComputedStyle(e).position}}),al=(0,ex.__assign)((0,ex.__assign)((0,ex.__assign)((0,ex.__assign)({},iC),nU),on),{measureLayout:function(e){var t=(0,ex.__read)(nj(),2),n=t[0],r=t[1],o=(0,b.useContext)(e2);return b.createElement(oS,(0,ex.__assign)({},e,{layoutGroup:o,switchLayoutGroup:(0,b.useContext)(tv),isPresent:n,safeToRemove:r}))}}),aA=/*@__PURE__*/function(e){function t(t,n){var r,o,a,s,u,c,l;return void 0===n&&(n={}),o=(r=e(t,n)).preloadedFeatures,a=r.createVisualElement,s=r.projectionNodeConstructor,u=r.useRender,c=r.useVisualState,l=r.Component,o&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?e8.projectionNodeConstructor=e[t]:e8[t].Component=e[t])}(o),(0,b.forwardRef)(function(e,t){var n,r,A,d,f,h,p,g,v,m,y,w,_,E,C,B,I,x,T,S,k,D,N,O,F,R,L,M=(w=e.layoutId,(_=null===(y=(0,b.useContext)(e2))||void 0===y?void 0:y.id)&&void 0!==w?_+"-"+w:w);e=(0,ex.__assign)((0,ex.__assign)({},e),{layoutId:M});var P=(0,b.useContext)(tr),U=null,j=(C=(E=function(e,t){if(td(e)){var n=e.initial,r=e.animate;return{initial:!1===n||tc(n)?n:void 0,animate:tc(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,b.useContext)(ti))).initial,B=E.animate,(0,b.useMemo)(function(){return{initial:C,animate:B}},[th(C),th(B)])),Z=P.isStatic?void 0:eY(function(){if(tp.hasEverUpdated)return tg++}),Q=c(e,P.isStatic);return!P.isStatic&&ez&&(j.visualElement=(I=(0,ex.__assign)((0,ex.__assign)({},P),e),x=a,T=(0,b.useContext)(te),S=(0,b.useContext)(ti).visualElement,k=(0,b.useContext)(eq),ta||function(){if(ta=!0,ez){if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return to.current=e.matches};e.addListener(t),t()}else to.current=!1}}(),D=(0,ex.__read)((0,b.useState)(to.current),1)[0],O="never"!==(N=(0,b.useContext)(tr).reducedMotion)&&("always"===N||D),F=(0,b.useRef)(void 0),x||(x=T.renderer),!F.current&&x&&(F.current=x(l,{visualState:Q,parent:S,props:I,presenceId:null==k?void 0:k.id,blockInitialAnimation:(null==k?void 0:k.initial)===!1,shouldReduceMotion:O})),R=F.current,eG(function(){null==R||R.syncRender()}),(0,b.useEffect)(function(){var e;null===(e=null==R?void 0:R.animationState)||void 0===e||e.animateChanges()}),eG(function(){return function(){return null==R?void 0:R.notifyUnmount()}},[]),R),n=e,r=j.visualElement,A=s||e8.projectionNodeConstructor,f=n.layoutId,h=n.layout,p=n.drag,g=n.dragConstraints,v=n.layoutScroll,m=(0,b.useContext)(tv),!A||!r||(null==r?void 0:r.projection)||(r.projection=new A(Z,r.getLatestValues(),null===(d=r.parent)||void 0===d?void 0:d.projection),r.projection.setOptions({layoutId:f,layout:h,alwaysMeasureLayout:!!p||g&&ts(g),visualElement:r,scheduleRender:function(){return r.scheduleRender()},animationType:"string"==typeof h?h:"both",initialPromotionConfig:m,layoutScroll:v})),U=function(e,t,n){var r=[],o=(0,b.useContext)(te);if(!t)return null;"production"!==eS&&n&&o.strict&&e7(!1,"You have rendered a `motion` component within a `LazyMotion` component. This will break tree shaking. Import and render a `m` component instead.");for(var a=0;a<tn;a++){var s=tt[a],u=e8[s],c=u.isEnabled,l=u.Component;c(e)&&l&&r.push(b.createElement(l,(0,ex.__assign)({key:s},e,{visualElement:t})))}return r}(e,j.visualElement,o)),b.createElement(tm,{visualElement:j.visualElement,props:(0,ex.__assign)((0,ex.__assign)({},P),e)},U,b.createElement(ti.Provider,{value:j},u(l,e,Z,(L=j.visualElement,(0,b.useCallback)(function(e){var n;e&&(null===(n=Q.mount)||void 0===n||n.call(Q,e)),L&&(e?L.mount(e):L.unmount()),t&&("function"==typeof t?t(e):ts(t)&&(t.current=e))},[L])),Q,P.isStatic,j.visualElement)))})}if("undefined"==typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}(function(e,t){var n,r,o;return n=t.forwardMotionProps,r=tb(e)?nl:nA,(0,ex.__assign)((0,ex.__assign)({},r),{preloadedFeatures:al,useRender:(void 0===(o=void 0!==n&&n)&&(o=!1),function(e,t,n,r,a,s){var u=a.latestValues,c=(tb(e)?function(e,t){var n=(0,b.useMemo)(function(){var n=t6();return t5(n,t,{enableHardwareAcceleration:!1},e.transformTemplate),(0,ex.__assign)((0,ex.__assign)({},n.attrs),{style:(0,ex.__assign)({},n.style)})},[t]);if(e.style){var r={};tX(r,e.style,e),n.style=(0,ex.__assign)((0,ex.__assign)({},r),n.style)}return n}:function(e,t,n){var r,o,a={},s=(tX(r={},e.style||{},e),Object.assign(r,(o=e.transformTemplate,(0,b.useMemo)(function(){var e=t$();tY(e,t,{enableHardwareAcceleration:!n},o);var r=e.vars,a=e.style;return(0,ex.__assign)((0,ex.__assign)({},r),a)},[t]))),e.transformValues&&(r=e.transformValues(r)),r);return e.drag&&!1!==e.dragListener&&(a.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),a.style=s,a})(t,u,s),l=function(e,t,n){var r={};for(var o in e)(t1(o)||!0===n&&t0(o)||!t&&!t0(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}(t,"string"==typeof e,o),A=(0,ex.__assign)((0,ex.__assign)((0,ex.__assign)({},l),c),{ref:r});return n&&(A["data-projection-id"]=n),(0,b.createElement)(e,A)}),createVisualElement:oB,projectionNodeConstructor:ac,Component:e})}),ad=n(98537),af=/*#__PURE__*/n.n(ad),ah=[.4,0,1,1],ap=[0,0,.2,1],ag={initial:"exit",animate:"enter",exit:"exit",variants:{exit:function(e){return{opacity:0,transition:{duration:null!==(h=null==e?void 0:e.exitDuration)&&void 0!==h?h:.1,ease:ap}}},enter:function(e){return{opacity:1,transition:{delay:null!==(p=null==e?void 0:e.enterDelay)&&void 0!==p?p:0,duration:null!==(g=null==e?void 0:e.enterDuration)&&void 0!==g?g:.1,ease:ah}}}}},av=/*#__PURE__*/(0,b.forwardRef)(function(e,t){var n=e.unmountOnExit,r=e.in,o=e.className,a=e.enterDelay,s=e.enterDuration,u=e.exitDuration,c=e.variants,l=e.onExitComplete,A=(0,eI.Z)(e,["unmountOnExit","in","className","enterDelay","enterDuration","exitDuration","variants","onExitComplete"]),d={enterDuration:s,exitDuration:u,enterDelay:void 0===a?0:a},f=(0,m.Z)((0,v.Z)({},ag),{custom:af()(ag.custom,d)});return/*#__PURE__*/(0,y.jsx)(e5,{custom:d,onExitComplete:l,children:(!n||r&&n)&&/*#__PURE__*/(0,y.jsx)(aA.div,(0,v.Z)((0,m.Z)((0,v.Z)({ref:t,className:"".concat(o||""," po1"),variants:c},f),{animate:r||n?"enter":"exit"}),A))})});av.displayName="Fade";var am=n(27196),ay=function(e){var t=e.ref,n=e.handler,r=e.isEnabled,o=(0,am.W6)(n),a=(0,b.useRef)({isEnabled:void 0===r||r}),s=a.current;return(0,b.useEffect)(function(){var r=function(r){n&&t.current&&s.isEnabled&&function(e,t){var n=!(arguments.length>2)||void 0===arguments[2]||arguments[2];if(!t.current)return!1;var r=e.target;if(n&&e.button>0)return!1;if(r){var o=r.ownerDocument;if(!o||!o.body.contains(r))return!1}return!t.current.contains(r)}(r,t,e.ignoreContextMenu)&&o(r)};return document.addEventListener("mousedown",r,!0),document.addEventListener("touchstart",r,!0),function(){document.removeEventListener("mousedown",r,!0),document.removeEventListener("touchstart",r,!0)}},[n,e.ignoreContextMenu,t,s]),a},ab=n(3635),aw=n(16593),a_=/*#__PURE__*/n.n(aw),aE=n(46453),aC={strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,10]}}]},aB=[],aI=function(e){aB.push(e)},ax=function(e){var t=aB.indexOf(e);-1!==t&&aB.splice(t,1)},aT=function(){return aB},aS=function(e){var t,n=e.zIndex,r=e.onHide,o=e.onClick,a=e.children,s=e.className,u=e.targetNode,c=e.onOverflow,l=e.enterDelay,A=e.disableArrow,d=e.enterDuration,f=e.arrowClassName,h=e.onExitComplete,p=e.visible,g=e.animationClassName,w=e.shouldUseDomObserver,_=e.renderInPortal,E=e.stayOpenOnOutsideClick,C=e.closeOnOtherPopperClick,B=e.style,I=e.ignoreClicksOnTargetNode,x=e.popperDataAttributes,T=e.placement,S=void 0===T?"bottom-start":T,k=e.shouldUseDomObserverOnTarget,D=e.popperProps,N=void 0===D?aC:D,O=(0,b.useState)(null),F=O[0],R=O[1],L=eB(u,F,(0,v.Z)({placement:S},N)),M=L.styles,P=L.attributes,U=L.state,j=L.forceUpdate;if((0,b.useEffect)(function(){if(j&&(w&&F||k&&u)){var e=new MutationObserver(j);return w&&e.observe(F,{childList:!0,subtree:!0}),k&&e.observe(u,{attributes:!0}),function(){return e.disconnect()}}},[F,u,j,w,k]),(0,b.useEffect)(function(){if(u&&null!==U&&c){var e=ea(U,(0,v.Z)({placement:S},N));(e.bottom>0||e.top>0||e.left>0||e.right>0)&&c(e)}},[u,U]),(0,b.useEffect)(function(){if(F)return aI(F),function(){ax(F)}},[F]),ay({ref:{current:F},handler:(0,b.useCallback)(function(e){if(p){var t=null==u?void 0:u.contains(e.target);(!I||!t)&&(!E||t)&&(C||aB.every(function(t){return!t.contains(e.target)}))&&(null==r||r(e))}},[p,I,u,C,r,E]),isEnabled:!0,ignoreContextMenu:!1}),(0,b.useEffect)(function(){F&&(null==j||j())},[F,j]),!u)return null;var Z=!A&&!!(null===(t=N.modifiers)||void 0===t?void 0:t.length),Q=/*#__PURE__*/(0,y.jsx)(av,{in:p,unmountOnExit:!0,style:{zIndex:n},enterDelay:l,enterDuration:d,onExitComplete:h,className:(0,ab.Z)(a_().fade,g),children:/*#__PURE__*/(0,y.jsxs)("div",(0,m.Z)((0,v.Z)((0,m.Z)((0,v.Z)({onClick:o,ref:R},void 0===x?{}:x),{className:(0,ab.Z)(a_().popper,s),style:(0,v.Z)({},M.popper,void 0===B?{}:B)}),P.popper),{children:[Z&&/*#__PURE__*/(0,y.jsx)("div",{"data-popper-arrow":!0,style:M.arrow,className:(0,ab.Z)(a_().arrow,f)}),a]}))});return void 0===_||_?/*#__PURE__*/(0,y.jsx)(aE.k,{children:Q}):Q}},46453:function(e,t,n){"use strict";n.d(t,{k:function(){return u}}),n(52322);var r,o=n(2784),a=n(28316),s=n(71059),u=(r="popper-root",function(e){var t=e.children,n=(0,o.useRef)(null),u=(0,o.useState)(!1),c=u[0],l=u[1];return(0,s.Z)(function(){n.current=document.getElementById(r),n.current&&l(!0)},[]),c?/*#__PURE__*/(0,a.createPortal)(t,n.current):null})},47330:function(e,t,n){"use strict";n.d(t,{K:function(){return r.KL}});var r=n(47814);t.Z=r.ZP},28563:function(e,t,n){"use strict";n.d(t,{_:function(){return a},Z:function(){return I}});var r,o,a,s=n(70865),u=n(96670),c=n(26297),l=n(52322),A=n(2784);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e){return /*#__PURE__*/A.createElement("svg",d({width:12,height:9,viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg"},e),o||(o=/*#__PURE__*/A.createElement("path",{d:"M.8 4.6l3.6 3.6 6.8-6.8",fill:"none",stroke:"currentColor",strokeLinecap:"square"})))},h=n(88404),p=n(75426),g=n(3635),v=n(59211),m=/*#__PURE__*/n.n(v),y=n(4742),b=/*#__PURE__*/n.n(y),w=n(51992),_=n(95114),E=function(){var e=(0,_.Z)(function(){return b()([100,125,150])});return/*#__PURE__*/(0,l.jsx)(w.yB,{color:"var(--grey-500) !important",highlightColor:"var(--grey-400) !important",children:/*#__PURE__*/(0,l.jsx)(w.ZP,{count:1,width:e,height:14})})},C=n(55499);(r=a||(a={})).Primary="primary",r.Grey="grey";var B=/*#__PURE__*/(0,A.forwardRef)(function(e,t){var n=e.href,r=e.icon,o=e.label,d=e.onClick,v=e.asyncOnClick,y=e.children,b=e.className,w=e.explanation,_=e.asCheckbox,B=e.isSelected,I=e.selectionVariant,x=void 0===I?a.Primary:I,T=e.rightElement,S=e.activeClassName,k=e.isLoading,D=void 0!==k&&k,N=e.isDisabled,O=void 0!==N&&N,F=e.preventDefault,R=void 0===F||F,L=e.focusOnMouseEnter,M=void 0===L||L,P=e.focusSelectedOnMount,U=void 0===P||P,j=e.stayOpenOnClick,Z=void 0!==j&&j,Q=(0,c.Z)(e,["href","icon","label","onClick","asyncOnClick","children","className","explanation","asCheckbox","isSelected","selectionVariant","rightElement","activeClassName","isLoading","isDisabled","preventDefault","focusOnMouseEnter","focusSelectedOnMount","stayOpenOnClick"]),H=(0,A.useRef)(null);(0,A.useImperativeHandle)(t,function(){return H.current});var V=(0,A.useContext)(C.c),K=V.setTarget,z=V.parentMenu,G=V.closeThisMenu,W=V.isTopLevel,q=(0,A.useState)(!1),Y=q[0],$=q[1];(0,A.useEffect)(function(){U&&H.current&&B&&H.current.focus()},[U,B]);var X=(0,A.useCallback)(function(e){if((R||_||Z)&&(e.preventDefault(),e.stopPropagation()),!O){n&&window.open(n,"_blank","noreferrer noopener");var t=function(){_||Z||(null==K||K(void 0),null==G||G(),z&&!W&&z.closeThisMenu())};null==d||d(e),"function"==typeof v?($(!0),v(e).finally(function(){$(!1),t()})):t()}},[R,O,n,d,_,K,z,v,G,W,Z]),J=(0,A.useCallback)(function(){var e;M&&(null===(e=H.current)||void 0===e||e.focus())},[M]);if(D)return/*#__PURE__*/(0,l.jsx)("span",{className:(0,g.Z)(m().option,D&&m().isLoading,b),children:/*#__PURE__*/(0,l.jsx)(E,{})});var ee=(0,A.useCallback)(function(){var e;M&&(null===(e=H.current)||void 0===e||e.blur())},[M]),et=!!(r||_);return/*#__PURE__*/(0,l.jsxs)("button",(0,u.Z)((0,s.Z)({type:"button",ref:H,className:(0,g.Z)(m().option,_&&m().checkbox,O&&m().disabled,B&&m().selected,B&&(null!=S?S:m()["selected-".concat(x)]),!!w&&m().paddingLarge,b),onMouseEnter:J,onMouseLeave:ee,onClick:X,tabIndex:-1,disabled:O||Y},Q),{children:[/*#__PURE__*/(0,l.jsxs)("span",{className:m().row,children:[et&&/*#__PURE__*/(0,l.jsx)("span",{className:m().icon,children:_?/*#__PURE__*/(0,l.jsx)(h.J,{icon:f}):r}),/*#__PURE__*/(0,l.jsx)("span",{className:m().content,children:y||o}),T&&!Y&&/*#__PURE__*/(0,l.jsx)("span",{className:(0,g.Z)(m().right,"rowCentered"),children:T}),Y&&/*#__PURE__*/(0,l.jsx)(p.Z,{className:m().right})]}),!!w&&/*#__PURE__*/(0,l.jsx)("span",{className:(0,g.Z)(m().explanation,et&&m().marginLeft),children:w})]}))});B.displayName="Option";var I=Object.assign(B,{SelectionVariants:a})},55499:function(e,t,n){"use strict";n.d(t,{c:function(){return r}});var r=(0,n(2784).createContext)({setTarget:function(){return!1},closeThisMenu:function(){},closeWithTimeout:function(){},closeDescendentPopups:function(){},getDescendantPopups:function(){return[]},showModal:function(){}})},62866:function(e,t,n){"use strict";n.d(t,{Wx:function(){return b.Z},GI:function(){return T},QR:function(){return x}});var r=n(52322),o=n(2784),a=n(80498),s=n(70865),u=n(96670),c=n(26297),l=n(50930),A=n(47330),d=n(3635),f=n(87042),h=/*#__PURE__*/n.n(f),p=n(55499),g={modifiers:[{name:"offset",options:{offset:function(e){var t=e.placement;return t.endsWith("end")?[10,10]:t.endsWith("start")?[-10,10]:[0,10]}}},{name:"arrow",options:{padding:0}}]},v={modifiers:[{name:"offset",options:{offset:function(e){var t=e.placement;return t.endsWith("end")||t.endsWith("start"),[0,10]}}},{name:"arrow",options:{padding:0}}]},m={modifiers:[{name:"offset",options:{offset:[-5,10]}},{name:"arrow",options:{padding:0}}]},y=function(e){var t=e.children,n=e.disableArrow,a=e.className,f=e.popperProps,y=(0,c.Z)(e,["children","disableArrow","className","popperProps"]),b=(0,o.useContext)(p.c),w=b.target,_=b.closeWithTimeout,E=b.isTopLevel,C=b.onOverflow,B=(0,o.useMemo)(function(){var e,t=E?n?v:g:m,r=E?"bottom-start":"right-start";return(0,u.Z)((0,s.Z)({},t),{strategy:null==f?void 0:f.strategy,placement:null!==(e=null==f?void 0:f.placement)&&void 0!==e?e:r,modifiers:(0,l.Z)((null==t?void 0:t.modifiers)||[]).concat((0,l.Z)((null==f?void 0:f.modifiers)||[]))})},[E,n,null==f?void 0:f.strategy,null==f?void 0:f.modifiers,null==f?void 0:f.placement]);return/*#__PURE__*/(0,r.jsx)(A.Z,(0,u.Z)((0,s.Z)({className:(0,d.Z)(h().menu,a,E&&h().isSubmenu),popperProps:B,onOverflow:C,closeOnOtherPopperClick:!E},y),{targetNode:w||null,visible:!!w,onHide:_,disableArrow:n,children:t}))};y.displayName="Popup.Menu";var b=n(28563),w=n(42838),_=n(33484),E=n(47814),C=n(9107),B=/*#__PURE__*/(0,o.forwardRef)(function(e,t){var n=e.className,a=e.onClick,l=e.isDisabled,A=e.openOnClick,f=(0,c.Z)(e,["className","onClick","isDisabled","openOnClick"]),g=(0,o.useRef)(!0),v=(0,o.useRef)(null),m=(0,C.Z)(v,t),y=(0,o.useContext)(p.c),b=y.setTarget,B=y.target,I=y.isTopLevel,x=y.closeThisMenu,T=y.parentMenu,S=y.controller,k=(0,_.f)();(0,o.useEffect)(function(){if(!I){var e,t=(0,E.uw)(),n=v.current&&t.find(function(e){return e.contains(v.current)}),r=0,o=function(o){clearTimeout(e);var a,s,u,c=o.target;if((0,w.Z)(c,HTMLElement)&&n===t.find(function(e){return e.contains(c)})){var l=Math.abs(null!==(a=o.movementX)&&void 0!==a?a:0),A=0===l?0:l>1?1:-1,d=l<Math.abs(null!==(s=o.movementY)&&void 0!==s?s:10),f=r&&A!==r;if(r=A,!(null==T?void 0:T.getDescendantPopups().length)||f||d){(null===(u=v.current)||void 0===u?void 0:u.contains(c))&&D();return}B===v.current&&(e=setTimeout(function(){D()},500),d&&!1===B.contains(c)&&(x(),null==T||T.closeDescendentPopups()))}};return window.addEventListener("mousemove",o),function(){window.removeEventListener("mousemove",o)}}},[x,I,T,B,v]),(0,o.useEffect)(function(){if(g.current){g.current=!1;return}(null==S?void 0:S.openPopup)&&v.current&&b(v.current)},[null==S?void 0:S.openPopup]);var D=(0,o.useCallback)(function(){v.current!==B&&(null==T||T.closeDescendentPopups(S),setTimeout(function(){b(v.current)},0))},[S,T,b,B,v]),N=(0,o.useCallback)(function(e){e.preventDefault(),!l&&(I||A||k)&&(a?a(e):(B?x():D(),e.stopPropagation()))},[I,k,l,a,B,x,A,D]),O=(0,o.useCallback)(function(){var e;null==v||null===(e=v.current)||void 0===e||e.blur()},[]),F=(0,o.useCallback)(function(e){l||"Enter"!==e.key&&" "!==e.key||N(e)},[l,N]);return/*#__PURE__*/(0,r.jsx)("span",(0,u.Z)((0,s.Z)({},f),{ref:m,role:"button",tabIndex:0,onClick:N,onMouseLeave:O,onKeyPress:F,className:(0,d.Z)(h().toggler,B&&"popupOpen",l&&h().disabled,n)}))});function I(e){var t=(0,o.useState)(1),n=t[0],r=t[1];return(0,o.useCallback)(function(t){!0!==t&&r(function(e){return e+1}),e()},[n])}B.displayName="Popup.Toggle";var x=function(){var e=(0,a.Z)(),t=e.onOpen,n=e.isOpen,r=I(e.onClose),s=I(t);return(0,o.useMemo)(function(){return{isOpen:n,closePopup:r,openPopup:s}},[n,r,s])},T=function(e){var t=e.children,n=e.displayRefOverride,a=e.onShow,s=e.onHide,u=e.controller,c=e.onOverflow,l=e.asNested,A=(0,o.useState)(),d=A[0],f=A[1],h=(0,o.useContext)(p.c),g=(0,o.useState)(),v=g[0],m=g[1],y=(0,o.useRef)([]),b=(0,o.useRef)(!0),w=(0,o.useRef)(),_=(0,o.useCallback)(function(e){w.current||f(e)},[]),E=(0,o.useCallback)(function(){_(void 0),clearTimeout(w.current),w.current=setTimeout(function(){w.current=void 0},250)},[_]);(0,o.useEffect)(function(){!b.current&&(null==u?void 0:u.closePopup)&&_(void 0)},[null==u?void 0:u.closePopup,_]),(0,o.useEffect)(function(){if(b.current){b.current=!1;return}void 0===d?(y.current=[],s&&s(),u&&u.closePopup(!0)):(a&&a(),u&&u.openPopup(!0))},[d]);var C=(0,o.useCallback)(function(){return y.current},[]);(0,o.useLayoutEffect)(function(){(null==n?void 0:n.current)&&_(n.current)},[n,_]),(0,o.useEffect)(function(){if(d){var e=function(e){"Escape"!==e.key||C().length>0||(e.stopPropagation(),_(void 0))};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}},[d,_,C]);var B=null!=l?!l:void 0===h.isTopLevel;return/*#__PURE__*/(0,r.jsxs)(p.c.Provider,{value:{target:d,setTarget:_,closeThisMenu:function(){return _(void 0)},closeWithTimeout:E,getDescendantPopups:C,closeDescendentPopups:function(e){var t=[];y.current.forEach(function(e){e.closePopup()}),e&&t.push(e),y.current=t},parentMenu:h,isTopLevel:B,controller:u,onOverflow:c,showModal:B?h.showModal:m},children:[t,v||null]})};T.Toggle=B,T.Menu=y,T.Option=b.Z,T.context=p.c},44498:function(e,t,n){"use strict";n.d(t,{k:function(){return l}});var r=n(70865),o=n(52322),a=n(3635),s=n(88859),u=n(6956),c=/*#__PURE__*/n.n(u),l=function(e){var t=e.limit,n=e.current,u=e.useColor,l=e.className,A=e.fullColor;if(t===s.fY)return null;var d=n>=t?100:Math.round(n/t*100);return/*#__PURE__*/(0,o.jsx)("div",{className:(0,a.Z)(c().progressBar,l),children:/*#__PURE__*/(0,o.jsx)("div",{className:(0,a.Z)(c().progress,u&&c().withColor),style:(0,r.Z)({width:"".concat(d,"%")},n>=t?{backgroundColor:null!=A?A:"var(--red-primary)"}:{})})})}},35637:function(e,t,n){"use strict";var r=n(52322),o=n(2784),a=n(97848),s=n(88404),u=n(3635),c=n(96296),l=/*#__PURE__*/n.n(c),A=n(89563),d=n(22805);t.Z=function(e){var t=e.className,n=e.setSearchTerm,c=e.role,f=e.searchTerm,h=void 0===f?"":f,p=e.autoFocus,g=void 0!==p&&p,v=e.showShortcut,m=void 0!==v&&v,y=e.placeholder,b=(0,o.useRef)(null),w=(0,o.useCallback)(function(e){if("Escape"===e.key){var t,n;null===(t=b.current)||void 0===t||t.blur(),((null===(n=b.current)||void 0===n?void 0:n.value)||!g)&&e.stopPropagation()}},[g]);return(0,d.Z)({"/":m?function(e){var t;e.preventDefault(),e.stopPropagation(),null===(t=b.current)||void 0===t||t.focus()}:void 0}),/*#__PURE__*/(0,r.jsxs)("div",{className:(0,u.Z)(l().searchContainer,t),children:[/*#__PURE__*/(0,r.jsx)(s.J,{icon:a.Z}),/*#__PURE__*/(0,r.jsx)("input",{type:"text",role:void 0===c?"Search":c,ref:b,value:h,autoFocus:g,placeholder:void 0===y?"Search":y,onKeyDown:w,onChange:function(e){return n(e.target.value)}}),m&&!h&&/*#__PURE__*/(0,r.jsx)("div",{className:l().shortcut,children:/*#__PURE__*/(0,r.jsx)(A.P,{keys:["/"]})})]})}},62451:function(e,t,n){"use strict";var r=n(70865),o=n(96670),a=n(26297),s=n(52322),u=n(2784),c=n(3635),l=n(43664),A=/*#__PURE__*/n.n(l),d=/*#__PURE__*/(0,u.forwardRef)(function(e,t){var n=e.thickness,u=e.speed,l=e.emptyColor,d=e.color,f=e.className,h=e.inline,p=e.fancy,g=(0,a.Z)(e,["thickness","speed","emptyColor","color","className","inline","fancy"]);return/*#__PURE__*/(0,s.jsx)("div",(0,o.Z)((0,r.Z)({},g),{ref:t,style:{borderWidth:n,borderBottomColor:l,borderLeftColor:l,animationDuration:u,color:d},className:(0,c.Z)(A().spinner,f,h&&A().inline,p&&A().fancySpinner)}))});d.displayName="Spinner",t.Z=d},75426:function(e,t,n){"use strict";var r=n(62451);t.Z=r.Z},79170:function(e,t,n){"use strict";var r=n(70865),o=n(96670),a=n(26297),s=n(52322),u=n(2784),c=n(86588),l=n(3635),A=n(56706),d=/*#__PURE__*/n.n(A);t.Z=/*#__PURE__*/(0,u.memo)(/*#__PURE__*/(0,u.forwardRef)(function(e,t){var n=e.className,u=e.disabled,A=e.disabledTooltip,f=void 0===A?"":A,h=e.enabledTooltip,p=e.label,g=e.labelSide,v=(0,a.Z)(e,["className","disabled","disabledTooltip","enabledTooltip","label","labelSide"]),m=/*#__PURE__*/(0,s.jsxs)("label",{className:(0,l.Z)(d().switch,n,u&&d().disabled),children:[p&&"left"===g&&/*#__PURE__*/(0,s.jsx)("span",{className:(0,l.Z)(d().label,d().labelLeft),children:p}),/*#__PURE__*/(0,s.jsx)("input",(0,o.Z)((0,r.Z)({},v),{className:d().input,type:"checkbox",ref:t,disabled:u})),/*#__PURE__*/(0,s.jsx)("div",{className:d().presentation,children:/*#__PURE__*/(0,s.jsx)("span",{className:(0,l.Z)(d().slider,u&&d().disabled),children:/*#__PURE__*/(0,s.jsx)("span",{className:(0,l.Z)(d().sliderDot,u&&d().disabled)})})}),"left"!==g&&/*#__PURE__*/(0,s.jsx)("span",{className:d().label,children:p})]});return f||h?/*#__PURE__*/(0,s.jsx)(c.Z,{disabled:!u&&!h,text:u?f:null!=h?h:f,children:m}):m}))},50952:function(e,t,n){"use strict";var r=n(70865),o=n(96670),a=n(26297),s=n(52322),u=n(2784),c=n(3635),l=n(44784),A=n(97420),d=n(71059),f=n(9717),h=/*#__PURE__*/n.n(f);t.Z=/*#__PURE__*/(0,u.memo)(/*#__PURE__*/(0,u.forwardRef)(function(e,t){var n=e.name,f=e.label,p=e.explanation,g=e.error,v=e.width,m=e.touched,y=e.tooltip,b=e.required,w=e.disabled,_=e.className,E=e.fadeRightSide,C=e.labelClassNames,B=e.optional,I=e.height,x=e.onChangeValue,T=e.onCmdEnter,S=e.onKeyDown,k=(0,a.Z)(e,["name","label","explanation","error","width","touched","tooltip","required","disabled","className","fadeRightSide","labelClassNames","optional","height","onChangeValue","onCmdEnter","onKeyDown"]),D=(0,u.useRef)(null),N=(0,u.useRef)(null),O=!!g&&!1!==m,F=O?(0,l.lv)(g,n||"Field"):"",R=(0,u.useState)(!1),L=R[0],M=R[1],P=D.current;return(0,d.Z)(function(){if(null!=k.onDrop&&P){var e=function(e){M(!0)},t=function(e){M(!1)};return P.addEventListener("dragover",e),P.addEventListener("dragleave",t),function(){P.removeEventListener("dragover",e),P.removeEventListener("dragleave",t)}}},[k.onDrop,P]),/*#__PURE__*/(0,s.jsx)(A.A,{label:f,style:{width:v},tooltip:y,ref:D,required:b,optional:B,labelClassNames:(0,o.Z)((0,r.Z)({},C),{root:(0,c.Z)(h().label,null==C?void 0:C.root,w&&h().disabled,E&&h().fadeRightSideOfInput)}),errorMessage:F,explanation:p,children:/*#__PURE__*/(0,s.jsx)("textarea",(0,o.Z)((0,r.Z)({required:b,tabIndex:0,name:n},k),{onChange:function(e){var t;null==x||x(e.target.value),null===(t=k.onChange)||void 0===t||t.call(k,e)},className:(0,c.Z)(h().textarea,_,!1!==O&&"hasError",L&&"dragOver"),ref:function(e){N.current=e,"function"==typeof t?t(e):t&&(t.current=e)},disabled:w,style:{height:I},onKeyDown:function(e){if(T&&"Enter"===e.key&&(e.metaKey||e.ctrlKey)){var t;e.preventDefault(),e.stopPropagation(),T(e),null===(t=N.current)||void 0===t||t.blur()}else S&&S(e)}}))})}))},7956:function(e,t,n){"use strict";var r=n(50952);t.Z=r.Z},89038:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r,o,a=n(70865),s=n(96670),u=n(26297),c=n(52322),l=n(2784),A=n(97420),d=n(3635),f=n(75203),h=n(29340),p=n(73149),g=/*#__PURE__*/n.n(p),v=n(44784);(r=o||(o={})).SMALL="small",r.MEDIUM="medium",r.LARGE="large";var m=/*#__PURE__*/(0,l.memo)(/*#__PURE__*/(0,l.forwardRef)(function(e,t){var n=e.label,r=e.error,p=e.explanation,m=e.width,y=e.button,b=e.onFocus,w=e.touched,_=e.tooltip,E=e.required,C=e.optional,B=e.disabled,I=e.autoFocus,x=e.className,T=e.fadeRightSide,S=e.labelClassNames,k=e.selectAllOnFocus,D=e.size,N=void 0===D?o.MEDIUM:D,O=e.onChangeValue,F=(0,u.Z)(e,["label","error","explanation","width","button","onFocus","touched","tooltip","required","optional","disabled","autoFocus","className","fadeRightSide","labelClassNames","selectAllOnFocus","size","onChangeValue"]),R=(0,l.useRef)(null);(0,l.useEffect)(function(){I&&setTimeout(function(){var e,t;null===(t=null===(e=R.current)||void 0===e?void 0:e.querySelector("input"))||void 0===t||t.focus()},50)},[I]);var L=(0,l.useCallback)(function(e){k&&e.currentTarget.select(),null==b||b(e)},[k,b]),M=!!r&&!1!==w,P=M?(0,v.lv)(r,F.name||"Field"):"";return/*#__PURE__*/(0,c.jsx)(A.A,{label:n,style:{width:m},tooltip:_,ref:R,required:E,optional:C,labelClassNames:(0,s.Z)((0,a.Z)({},S),{root:(0,d.Z)(null==S?void 0:S.root,B&&g().disabled,T&&g().fadeRightSideOfInput,F.readOnly&&g().readOnly)}),errorMessage:P,explanation:p,children:/*#__PURE__*/(0,c.jsxs)("div",{style:{position:"relative"},children:[/*#__PURE__*/(0,c.jsx)("input",(0,s.Z)((0,a.Z)({type:"text",required:E,tabIndex:0},F),{onChange:function(e){var t;null==O||O(e.target.value),null===(t=F.onChange)||void 0===t||t.call(F,e)},className:(0,d.Z)(g().textInput,N&&g()[N],x,M&&"hasError",!!y&&g().hasButton),onFocus:L,ref:t,disabled:B})),F.readOnly&&/*#__PURE__*/(0,c.jsx)(h.Z,{className:g().lockIcon,width:16,height:16}),!!y&&/*#__PURE__*/(0,l.cloneElement)(y,{className:(0,d.Z)(g().button,y.props.className),disabled:y.props.disabled}),M&&/*#__PURE__*/(0,c.jsx)(f.Z,{className:g().errorIcon})]})})}));Object.assign(m,{Sizes:o}),t.Z=m},55929:function(e,t,n){"use strict";var r=n(89038);t.Z=r.Z},59125:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(52322),o=n(2784);function a(e,t,n){return e+" "+(1!==e?t+"s":t)+" "+n}function s(e){let t=new Date(e);if(!Number.isNaN(t.valueOf()))return t;let n=String(e).match(/\d+/g);if(null==n||n.length<=2)return t;{let[e,t,...r]=n.map(e=>parseInt(e));return new Date(Date.UTC(e,t-1,...r))}}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c({date:e,formatter:t=a,component:n="time",live:r=!0,minPeriod:c=0,maxPeriod:l=604800,title:A,now:d=()=>Date.now(),...f}){let h=function(){let[e,t]=(0,o.useState)(0);return(0,o.useCallback)(()=>{t(e=>e+1)},[])}();(0,o.useEffect)(()=>{let t;if(!r)return;let n=r=>{let o=s(e).valueOf();if(!o){console.warn("[react-timeago] Invalid Date provided");return}let a=Math.round(Math.abs(d()-o)/1e3),u=Math.min(Math.max(a<60?1e3:a<3600?6e4:a<86400?36e5:6048e5,1e3*c),1e3*l);u&&(t&&clearTimeout(t),t=setTimeout(n,u)),r||h()};return n(!0),()=>{clearTimeout(t)}},[e,h,r,l,c,d]);let p=s(e).valueOf();if(!p)return null;let g=d(),v=Math.round(Math.abs(g-p)/1e3),m=p<g?"ago":"from now",[y,b]=v<60?[Math.round(v),"second"]:v<3600?[Math.round(v/60),"minute"]:v<86400?[Math.round(v/3600),"hour"]:v<604800?[Math.round(v/86400),"day"]:v<2592e3?[Math.round(v/604800),"week"]:v<31536e3?[Math.round(v/2592e3),"month"]:[Math.round(v/31536e3),"year"],w=void 0===A?"string"==typeof e?e:s(e).toISOString().substr(0,16).replace("T"," "):A,_="time"===n?{...f,dateTime:s(e).toISOString()}:f,E=a.bind(null,y,b,m);return /*#__PURE__*/o.createElement(n,u({},_,{title:w}),t(y,b,m,p,E,d))}var l=function(e,t,n,r,o){if("second"===t)return"Recently";var a={minute:"min",hour:"hrs"};return a[t]?"".concat(e," ").concat(a[t]," ago"):(null==o?void 0:o(e,t,n,r))||"".concat(e," ").concat(t," ago")},A=function(e,t){return"second"===t?"1m":"".concat(e).concat(t.slice(0,1))},d=/*#__PURE__*/(0,o.memo)(function(e){var t=e.type,n=e.time,o=new Date(n).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"});return/*#__PURE__*/(0,r.jsx)(c,{date:n,minPeriod:60,formatter:"duration"===(void 0===t?"past":t)?A:l,title:o})})},71921:function(e,t,n){"use strict";var r=n(59125);t.Z=r.Z},88232:function(e,t,n){"use strict";var r=n(90581),o=n(70865),a=n(96670),s=n(52322),u=n(2784),c=n(12436),l=/*#__PURE__*/n.n(c),A=n(47330),d=n(89563),f=n(3635),h=n(26772),p=/*#__PURE__*/n.n(h),g=function e(){(0,r.Z)(this,e)};g.DELAY=650,g.isVisible=!1,g.hide=l()(function(){g.isVisible=!1},g.DELAY,{leading:!1,trailing:!0}),g.show=l()(function(e){g.hide.cancel(),g.isVisible=!0,e()},g.DELAY,{leading:!1,trailing:!0}),t.Z=/*#__PURE__*/(0,u.memo)(function(e){var t=e.text,n=e.subText,r=e.disabled,c=e.children,l=e.popperProps,h=e.shortcutKeys,v=e.contentStyle,m=e.textClassName,y=e.contentClassName,b=e.placement,w=e.tooltipPopperProps,_=e.ignoreTooltipVisibilityController,E=void 0!==_&&_,C=e.skipDelay,B=void 0!==C&&C,I=(0,u.useRef)(null),x=(0,u.useState)(!1),T=x[0],S=x[1];return/*#__PURE__*/(0,s.jsxs)(s.Fragment,{children:[/*#__PURE__*/(0,s.jsxs)(A.Z,(0,a.Z)((0,o.Z)({disableArrow:!0,enterDuration:.05,placement:void 0===b?"bottom":b,popperProps:l,visible:!r&&T&&!!t,targetNode:I.current,className:(0,f.Z)(p().tooltip,m)},void 0===w?{}:w),{enterDelay:0,onExitComplete:function(){return S(!1)},children:[/*#__PURE__*/(0,s.jsxs)("span",{className:p().mainText,children:[t,!!h&&/*#__PURE__*/(0,s.jsx)(d.P,{className:p().shortcut,keys:h})]}),!!n&&/*#__PURE__*/(0,s.jsx)("span",{className:p().subText,children:n})]})),/*#__PURE__*/(0,s.jsx)("span",{ref:I,onMouseEnter:function(){E&&S(!0),g.show(function(){return S(!0)}),B&&requestAnimationFrame(function(){g.show.flush()}),g.isVisible&&g.show.flush()},onMouseLeave:function(){S(!1),g.show.cancel(),g.hide()},style:v,className:y,children:c})]})})},86588:function(e,t,n){"use strict";var r=n(88232);t.Z=r.Z},27198:function(e,t,n){"use strict";n.d(t,{a:function(){return l},Z:function(){return A}});var r=n(52322),o=n(54848),a=n(146),s=/*#__PURE__*/n.n(a),u=function(e){var t=e.user,n=e.style,a=e.displayNameSuffix,u=e.avatarSize;return t?/*#__PURE__*/(0,r.jsxs)("div",{className:s().user,style:n,onClick:function(e){return e.stopPropagation()},children:[/*#__PURE__*/(0,r.jsx)(o.Z,{size:void 0===u?30:u,fallback:"\xa0",color:t.color,photoURL:t.photoURL,className:s().avatar,displayName:t.displayName}),/*#__PURE__*/(0,r.jsxs)("div",{className:s().content,children:[/*#__PURE__*/(0,r.jsx)("h4",{children:t.displayName+(void 0===a?"":a)}),/*#__PURE__*/(0,r.jsx)("h5",{children:t.email})]})]}):null};n(2784);var c=n(52826),l=function(e){var t,n,o,a=e.userId,s=e.displayName,l=e.email,A=e.profile,d=e.avatarSize,f=e.displayNameSuffix,h=(0,c.ZP)(a),p=null!=A?A:h,g={email:l,id:null!=a?a:"",photoURL:null==p?void 0:p.photoURL,color:null!==(t=null==p?void 0:p.color)&&void 0!==t?t:"var(--grey-900)",displayName:null!==(o=null!==(n=null==p?void 0:p.displayName)&&void 0!==n?n:s)&&void 0!==o?o:""};return/*#__PURE__*/(0,r.jsx)(u,{user:g,avatarSize:d,displayNameSuffix:void 0===f?"":f})},A=u},68608:function(e,t,n){"use strict";n.d(t,{dq:function(){return f},h7:function(){return o}});var r,o,a=n(52322),s=n(2784),u=n(21746),c=n(71059);(r=o||(o={})).Server="server",r.Mobile="mobile",r.Tablet="tablet",r.Desktop="desktop";var l={device:o.Server},A=(0,u.kr)(l),d=function(){var e=(0,s.useState)(o.Server),t=e[0],n=e[1];return(0,c.Z)(function(){var e=function(){window.innerWidth<500?n(o.Mobile):window.innerWidth>=500&&window.innerWidth<=1024?n(o.Tablet):n(o.Desktop)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[1024,500]),t},f=function(e){var t=e.children,n=d(),r=(0,s.useMemo)(function(){return{device:n}},[n]);return/*#__PURE__*/(0,a.jsx)(A.Provider,{value:r,children:t})};t.ZP=A},85591:function(e,t,n){"use strict";var r=(0,n(21746).kr)({isKeyboardShortcutsOpen:!1,openKeyboardShortcuts:function(){return null},closeKeyboardShortcuts:function(){return null}});t.Z=r},97001:function(e,t,n){"use strict";n.d(t,{t:function(){return l}});var r=n(90581),o=n(21218),a=n(42838),s=n(70865),u=n(20624),c=n(39309),l=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,c.Z)(n);function n(e){var o,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,n);var c=u.cause,l=u.data,A=void 0===l?{}:l,d=u.statusCode;return(0,a.Z)(c,n)&&(A=(0,s.Z)({},c.data,A),d=null!=d?d:c.statusCode),(o=t.call(this,e,{cause:c})).isCaptured=!1,o.data={},o.statusCode=500,o.isEraserError=!0,o.name="EraserError",o.data=A,o.hint=u.hint,o.statusCode=null!=d?d:500,o.cause=c,o}return n.prototype.toJSON=function(){return{name:this.name,message:this.message,data:this.data,statusCode:this.statusCode,hint:this.hint,stack:this.stack,isEraserError:!0}},n}((0,u.Z)(Error));l.Name="EraserError"},24066:function(e,t,n){"use strict";n.d(t,{W:function(){return s}});var r=n(90581),o=n(21218),a=n(39309),s=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(e){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.Z)(this,n),(o=t.call(this,e,a)).name="PaywallError",o.statusCode=402,o}return n}(n(97001).t);s.Name="PaywallError"},70621:function(e,t,n){"use strict";n.d(t,{MS:function(){return A},tk:function(){return d.t},dR:function(){return h},WH:function(){return f.W},vm:function(){return m},T0:function(){return I},J5:function(){return E},Lr:function(){return C}});var r=n(42838),o=n(70865),a=n(96670),s=n(90581),u=n(21218),c=n(20624),l=n(39309),A=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(e,r,o,a){var u;return(0,s.Z)(this,n),(u=t.call(this,e)).status=r,u.statusCode=r,u.code=o,u.cause&&(u.cause=a),u.name="ApiError",u}return n}((0,c.Z)(Error)),d=n(97001),f=n(24066),h=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Not Found",u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.Z)(this,n),(e=t.call(this,r,(0,a.Z)((0,o.Z)({},u),{statusCode:404}))).name="NotFoundError",e}return n}(d.t),p=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Internal error",u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.Z)(this,n),(e=t.call(this,r,(0,a.Z)((0,o.Z)({},u),{statusCode:500}))).name="InternalError",e}return n}(d.t),g=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Already exists",u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.Z)(this,n),(e=t.call(this,r,(0,a.Z)((0,o.Z)({},u),{statusCode:409}))).name="AlreadyExistsError",e}return n}(d.t),v=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Invalid request",u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.Z)(this,n),(e=t.call(this,r,(0,a.Z)((0,o.Z)({},u),{statusCode:400}))).name="InvalidRequestError",e}return n}(d.t),m=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Log in required",u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.Z)(this,n),(e=t.call(this,r,(0,a.Z)((0,o.Z)({},u),{statusCode:401}))).name="UnauthenticatedError",e}return n}(d.t),y=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Permission denied",u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.Z)(this,n),(e=t.call(this,r,(0,a.Z)((0,o.Z)({},u),{statusCode:403}))).name="PermissionDeniedError",e}return n}(d.t),b=/*#__PURE__*/function(e){(0,u.Z)(n,e);var t=(0,l.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Method not allowed",u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.Z)(this,n),(e=t.call(this,r,(0,a.Z)((0,o.Z)({},u),{statusCode:405}))).name="MethodNotAllowedError",e}return n}(d.t),w={"invalid-argument":400,"failed-precondition":400,unauthenticated:401,"permission-denied":403,"not-found":404,aborted:409,"resource-exhausted":429,cancelled:499,unimplemented:501,"already-exists":409,internal:500,unavailable:503,"deadline-exceeded":504},_={"auth/user-not-found":"Invalid Credentials","auth/wrong-password":"Invalid Credentials","auth/email-already-in-use":"Email already in use","auth/credential-already-in-use":"Email already in use"},E=function(e){var t,n,r,o=500,a=e.message;return"code"in e&&null!=e.code&&(o=null!==(t=w[e.code])&&void 0!==t?t:500,a=null!==(n=_[e.code])&&void 0!==n?n:a),{title:a,message:a,statusCode:o,explanation:"",code:null!==(r=e.code)&&void 0!==r?r:""}},C=function(e){if("string"==typeof e)return new A(e,500);var t=B(e);if(t)return t;var n=null!=e?e:{},r=n.message,o=void 0===r?"Unknown error":r,a=n.statusCode;return new A(null!=o?o:"Unknown error",null!=a?a:500,n.code)},B=function(e){if(e&&"object"==typeof e){var t=null!=e?e:{},n=t.name,r=void 0===n?"":n,s=t.data,u=t.message,c=void 0===u?"Unknown error":u,l=t.statusCode,A=t.hint,w=t.isEraserError;if(r===d.t.Name)return new d.t(c,{data:s,hint:A,statusCode:l});if(r===f.W.Name)return new f.W(c,(0,a.Z)((0,o.Z)({},s),{hint:A,statusCode:l}));if(w)switch(r){case"NotFoundError":return new h(c,{data:s,hint:A});case"InternalError":return new p(c,{data:s,hint:A});case"AlreadyExistsError":return new g(c,{data:s,hint:A});case"InvalidRequestError":return new v(c,{data:s,hint:A});case"UnauthenticatedError":return new m(c,{data:s,hint:A});case"PermissionDeniedError":return new y(c,{data:s,hint:A});case"MethodNotAllowedError":return new b(c,{data:s,hint:A})}}},I=function(e){if(e){if((0,r.Z)(e,d.t))return{statusCode:e.statusCode,message:e.message,cause:e.cause};if((0,r.Z)(e,Error))return{statusCode:500,message:e.message,cause:e.cause};if("object"==typeof e&&e){var t,n,o;return{statusCode:null!==(t=e.statusCode)&&void 0!==t?t:500,message:null!==(n=e.message)&&void 0!==n?n:"Unknown error",cause:null!==(o=e.cause)&&void 0!==o?o:void 0}}if("string"==typeof e)return{statusCode:500,message:e,cause:void 0}}}},44784:function(e,t,n){"use strict";n.d(t,{Le:function(){return c.Le},lv:function(){return u},ym:function(){return c.ym}});var r=n(42838),o=n(82108),a=/*#__PURE__*/n.n(o),s=n(2784);function u(e,t){if(!e)return"";if("string"==typeof e||(0,s.isValidElement)(e))return e;if(e.message&&"string"==typeof e.message)return e.message;if("required"===e.type)return"".concat(a()(t)," is required.");if("minLength"===e.type){var n=function(e,t){if((0,r.Z)(null==e?void 0:e.ref,HTMLElement))return e.ref.getAttribute(t)}(e,"minLength");if(n)return"".concat(a()(t)," must be at least ").concat(n," characters.")}return"".concat(a()(t)," is invalid.")}var c=n(18858)},18858:function(e,t,n){"use strict";n.d(t,{Le:function(){return o},po:function(){return a},ym:function(){return s}});var r=n(98559),o=function(e){if(!(0,r.J)(e))return"Enter a valid e-mail"};function a(e){if(!e)return"Required";try{var t=new URL(e);if("https:"!==t.protocol&&"http:"!==t.protocol)return"Protocol must be https or http"}catch(e){return"Invalid URL"}}var s=function(e){if(e.length<12||!e.match(/[a-z]/)||!e.match(/[A-Z]/)||!e.match(/\d/)||!e.match(/[~`!@#$%^&*(){}\[\]\-_=\+|,<.>\/\?\\;:'"]/))return"Password must contain at least 12 characters, including at least one uppercase letter, one lowercase letter, one number, and one special character"}},27196:function(e,t,n){"use strict";n.d(t,{D9:function(){return c},W6:function(){return u},ZS:function(){return s}});var r=n(50930),o=n(2784),a=n(71059);function s(e){var t=(0,o.useRef)(e);return t.current=e,t}function u(e){var t=(0,o.useRef)(e);return(0,a.Z)(function(){t.current=e},[e]),(0,o.useCallback)(function(){for(var e,n=arguments.length,o=Array(n),a=0;a<n;a++)o[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat((0,r.Z)(o)))},[])}function c(e){var t=(0,o.useRef)();return(0,o.useEffect)(function(){t.current=e},[e]),t.current}},75194:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var r=n(21746),o=n(68608),a=function(){return(0,r.Sz)(o.ZP,function(e){return(null==e?void 0:e.device)===o.h7.Mobile})}},80498:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(87394),o=n(2784);n(27196),n(61490);var a=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.onClose,a=t.onOpen,s=t.isOpen,u=(0,o.useState)(t.defaultIsOpen||!1),c=u[0],l=u[1],A=(0,r.Z)([e=void 0!==s,e&&void 0!==s?s:c],2),d=A[0],f=A[1],h=(0,o.useCallback)(function(){d||l(!1),null==n||n()},[d,n]),p=(0,o.useCallback)(function(){d||l(!0),null==a||a()},[d,a]),g=(0,o.useCallback)(function(){(f?h:p)()},[f,p,h]);return{isOpen:f,onOpen:p,onClose:h,onToggle:g,isControlled:d}}},51716:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2784);function o(){var e=(0,r.useState)(0),t=(e[0],e[1]);return(0,r.useCallback)(function(){return t(function(e){return 1^e})},[])}},43446:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2784);function o(){var e=(0,r.useRef)(!1);return(0,r.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),(0,r.useCallback)(function(){return e.current},[])}},24089:function(e,t,n){"use strict";n.d(t,{I:function(){return a}});var r=n(21746),o=n(85591),a=function(){return(0,r.Sz)(o.Z,function(e){return{isOpen:e.isKeyboardShortcutsOpen,onOpen:e.openKeyboardShortcuts,onClose:e.closeKeyboardShortcuts}})}},71059:function(e,t,n){"use strict";var r=n(2784),o=n(19179).jU?r.useLayoutEffect:r.useEffect;t.Z=o},62557:function(e,t,n){"use strict";n.d(t,{v:function(){return u}});var r=n(90581),o=n(50930),a=n(97030),s=/*#__PURE__*/n.n(a),u=/*#__PURE__*/function(){function e(t){(0,r.Z)(this,e),this._config=t}var t=e.prototype;return t.getBoolean=function(e){var t=this._config[e];if(null!=t&&"boolean"==typeof t)return t},t.getNumber=function(e){var t=this._config[e];if(null!=t&&"number"==typeof t)return t},t.getString=function(e){var t=this._config[e];if(null!=t&&"string"==typeof t)return t},t.getArray=function(e){var t=this._config[e];if(null!=t&&Array.isArray(t))return(0,o.Z)(t)},t.getMap=function(e){var t=this._config[e];if(null!=t&&s()(t))return Object.assign({},t)},t.getTimestamp=function(e){var t=this._config[e];if(null!=t)return t},e}()},69474:function(e,t,n){"use strict";function r(){return window.self!==window.top}n.d(t,{$:function(){return r}})},75215:function(e,t,n){"use strict";n.d(t,{Ak:function(){return u},Vg:function(){return a},f4:function(){return s}});var r=n(37164),o={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","image/webp":"webp"},a=function(e){var t,n=e.blobType,a=e.fileName,s=e.uploadBasePath,u=null!=a?a:(0,r.x0)(),c=null!==(t=o[n])&&void 0!==t?t:"png";return"".concat(s).concat(u,".").concat(c)},s=function(e,t){return"images/".concat(u(e,t))},u=function(e,t){return"workspaces/".concat(e,"/").concat(t,"/")}},35937:function(e,t,n){"use strict";let r;n.d(t,{V:function(){return eo}});var o=n(48834).lW;let a="function"==typeof atob,s="function"==typeof btoa,u="function"==typeof o,c="function"==typeof TextDecoder?new TextDecoder:void 0,l="function"==typeof TextEncoder?new TextEncoder:void 0,A=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),d=(r={},A.forEach((e,t)=>r[e]=t),r),f=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,h=String.fromCharCode.bind(String),p="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(e,t=e=>e)=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),g=e=>e.replace(/=/g,"").replace(/[+\/]/g,e=>"+"==e?"-":"_"),v=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),m=s?e=>btoa(e):u?e=>o.from(e,"binary").toString("base64"):e=>{let t,n,r,o,a="",s=e.length%3;for(let s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255||(o=e.charCodeAt(s++))>255)throw TypeError("invalid character found");a+=A[(t=n<<16|r<<8|o)>>18&63]+A[t>>12&63]+A[t>>6&63]+A[63&t]}return s?a.slice(0,s-3)+"===".substring(s):a},y=u?e=>o.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(h.apply(null,e.subarray(n,n+4096)));return m(t.join(""))},b=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?h(192|t>>>6)+h(128|63&t):h(224|t>>>12&15)+h(128|t>>>6&63)+h(128|63&t)}var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return h(240|t>>>18&7)+h(128|t>>>12&63)+h(128|t>>>6&63)+h(128|63&t)},w=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,_=e=>e.replace(w,b),E=u?e=>o.from(e,"utf8").toString("base64"):l?e=>y(l.encode(e)):e=>m(_(e)),C=(e,t=!1)=>t?g(E(e)):E(e),B=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,I=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return h((t>>>10)+55296)+h((1023&t)+56320);case 3:return h((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return h((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},x=e=>e.replace(B,I),T=a?e=>atob(v(e)):u?e=>o.from(e,"base64").toString("binary"):e=>{if(e=e.replace(/\s+/g,""),!f.test(e))throw TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n="",r,o;for(let a=0;a<e.length;)t=d[e.charAt(a++)]<<18|d[e.charAt(a++)]<<12|(r=d[e.charAt(a++)])<<6|(o=d[e.charAt(a++)]),n+=64===r?h(t>>16&255):64===o?h(t>>16&255,t>>8&255):h(t>>16&255,t>>8&255,255&t);return n},S=u?e=>p(o.from(e,"base64")):e=>p(T(e),e=>e.charCodeAt(0)),k=u?e=>o.from(e,"base64").toString("utf8"):c?e=>c.decode(S(e)):e=>x(T(e)),D=e=>v(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),N={encodeURI:e=>C(e,!0)};var O=n(68762),F=/*#__PURE__*/n.n(O);let R=/\+/g;function L(e=""){try{return decodeURIComponent(""+e)}catch(t){return""+e}}let M=/^\w+:(\/\/)?/,P=/^\/\/[^/]+/;function U(e,t=!1){return M.test(e)||t&&P.test(e)}function j(e){return function(e=""){let t={};for(let n of("?"===e[0]&&(e=e.substr(1)),e.split("&"))){let e=n.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;let r=L(e[1]);if("__proto__"===r||"constructor"===r)continue;let o=L((e[2]||"").replace(R," "));t[r]?Array.isArray(t[r])?t[r].push(o):t[r]=[t[r],o]:t[r]=o}return t}(Z(e).search)}function Z(e="",t){if(!U(e,!0))return t?Z(t+e):Q(e);let[n="",r,o=""]=(e.replace(/\\/g,"/").match(/([^:/]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[a="",s=""]=(o.match(/([^/?#]*)(.*)?/)||[]).splice(1),{pathname:u,search:c,hash:l}=Q(s);return{protocol:n,auth:r?r.substr(0,r.length-1):"",host:a,pathname:u,search:c,hash:l}}function Q(e=""){let[t="",n="",r=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:r}}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],s=!0,u=!1;try{for(o=o.call(e);!(s=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);s=!0);}catch(e){u=!0,r=e}finally{try{s||null==o.return||o.return()}finally{if(u)throw r}}return a}}(e,t)||q(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var $=/^(?:[a-z\d\-_]{1,62}\.){0,125}(?:[a-z\d](?:\-(?=\-*[a-z\d])|[a-z]|\d){0,62}\.)[a-z\d]{1,63}$/i,X={1:75,2:50,3:35,4:23,5:20},J=[1,2,3,4,5],ee={domain:null,useHTTPS:!0,includeLibraryParam:!0,urlPrefix:"https://",secureURLToken:null};function et(e){var t=e.url,n=void 0===t?"":t,r=e.useHttps;return U(n,!0)?Z(n):et({url:(void 0!==r&&r?"https://":"http://")+n})}function en(e,t){if(!(Number.isInteger(e)&&Number.isInteger(t))||e<=0||t<=0||e>t)throw Error("The min and max srcset widths can only be passed positive Number values, and min must be less than max. Found min: ".concat(e," and max: ").concat(t,"."))}function er(e){if("number"!=typeof e||e<.01)throw Error("The srcset widthTolerance must be a number greater than or equal to 0.01")}var ei=new/*#__PURE__*/(function(){var e,t;function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.settings=V(V({},ee),e),this.targetWidthsCache={},"string"!=typeof this.settings.domain)throw Error("ImgixClient must be passed a valid string domain");if(null==$.exec(this.settings.domain))throw Error('Domain must be passed in as fully-qualified domain name and should not include a protocol or any path element, i.e. "example.imgix.net".');this.settings.includeLibraryParam&&(this.settings.libraryParam="js-"+n.version()),this.settings.urlPrefix=this.settings.useHTTPS?"https://":"http://"}return e=[{key:"buildURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._sanitizePath(e,n),o=this._buildParams(t,n);return this.settings.secureURLToken&&(o=this._signParams(r,o)),this.settings.urlPrefix+this.settings.domain+r+o}},{key:"_buildParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.encoder||encodeURIComponent,r=[].concat(W(this.settings.libraryParam?["ixlib=".concat(this.settings.libraryParam)]:[]),W(Object.entries(e).reduce(function(e,t){var r=G(t,2),o=r[0],a=r[1];if(null==a)return e;var s=n(o),u="64"===o.substr(-2)?N.encodeURI(a):n(a);return e.push("".concat(s,"=").concat(u)),e},[])));return"".concat(r.length>0?"?":"").concat(r.join("&"))}},{key:"_signParams",value:function(e,t){var n=this.settings.secureURLToken+e+t,r=F()(n);return t.length>0?t+"&s="+r:"?s="+r}},{key:"_sanitizePath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.replace(/^\//,"");return t.disablePathEncoding?"/"+n:"/"+(n=t.encoder?t.encoder(n):/^https?:\/\//.test(n)?encodeURIComponent(n):encodeURI(n).replace(/[#?:+]/g,encodeURIComponent))}},{key:"buildSrcSet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.w,o=t.h;return r||o?this._buildDPRSrcSet(e,t,n):this._buildSrcSetPairs(e,t,n)}},{key:"_buildSrcSetPairs",value:function(e){var t,r,o,a,s=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=G((void 0!==c.widthTolerance?(er(c.widthTolerance),t=c.widthTolerance):t=.08,r=void 0===c.minWidth?100:c.minWidth,o=void 0===c.maxWidth?8192:c.maxWidth,(100!=r||8192!=o)&&en(r,o),[t,r,o]),3),A=l[0],d=l[1],f=l[2];return c.widths?(function(e){if(Array.isArray(e)&&e.length){if(!e.every(function(e){return Number.isInteger(e)&&e>0}))throw Error("A custom widths argument can only contain positive integer values")}else throw Error("The widths argument can only be passed a valid non-empty array of integers")}(c.widths),a=W(c.widths)):a=n.targetWidths(d,f,A,this.targetWidthsCache),a.map(function(t){return"".concat(s.buildURL(e,V(V({},u),{},{w:t}),c)," ").concat(t,"w")}).join(",\n")}},{key:"_buildDPRSrcSet",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.devicePixelRatios&&function(e){if(Array.isArray(e)&&e.length){if(!e.every(function(e){return"number"==typeof e&&e>=1&&e<=5}))throw Error("The devicePixelRatios argument can only contain positive integer values between 1 and 5")}else throw Error("The devicePixelRatios argument can only be passed a valid non-empty array of integers")}(r.devicePixelRatios);var o=r.devicePixelRatios||J,a=r.disableVariableQuality||!1;a||function(e){if("boolean"!=typeof e)throw Error("The disableVariableQuality argument can only be passed a Boolean value")}(a),r.variableQualities&&function(e){if("object"!==K(e))throw Error("The variableQualities argument can only be an object")}(r.variableQualities);var s=V(V({},X),r.variableQualities);return(a?o.map(function(o){return"".concat(t.buildURL(e,V(V({},n),{},{dpr:o}),r)," ").concat(o,"x")}):o.map(function(o){return"".concat(t.buildURL(e,V(V({},n),{},{dpr:o,q:n.q||s[o]||s[Math.floor(o)]}),r)," ").concat(o,"x")})).join(",\n")}}],t=[{key:"version",value:function(){return"3.7.0"}},{key:"_buildURL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==e)return"";var o=et({url:e,useHTTPS:r.useHTTPS}),a=o.host,s=o.pathname,u=V(V({},j(o.search)),t);if(!a.length||!s.length)throw Error("_buildURL: URL must match {host}/{pathname}?{query}");return new n(V({domain:a},r)).buildURL(s,u)}},{key:"_buildSrcSet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(null==e)return"";var a=et({url:e,useHTTPS:o.useHTTPS}),s=a.host,u=a.pathname,c=V(V({},j(a.search)),t);if(!s.length||!u.length)throw Error("_buildOneStepURL: URL must match {host}/{pathname}?{query}");return new n(V({domain:s},o)).buildSrcSet(u,c,r)}},{key:"targetWidths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8192,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.08,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=Math.floor(e),a=Math.floor(t);en(e,t),er(n);var s=n+"/"+o+"/"+a;if(s in r)return r[s];if(o===a)return[o];for(var u=[],c=o;c<a;)u.push(Math.round(c)),c*=1+2*n;return u[u.length-1]<a&&u.push(a),r[s]=u,u}}],e&&z(n.prototype,e),t&&z(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}())({domain:n(66140).y2.baseUrl.replace(/^https?:\/\//,"")}),eo=function(e,t){return e.startsWith("blob:")||e.startsWith("http:")||e.startsWith("https:")?e:ei.buildURL(e,t)}},98559:function(e,t,n){"use strict";n.d(t,{J:function(){return f},R:function(){return l}});var r=n(87394),o=/\./g,a={"gmail.com":{removeDots:!0,splitBy:"+"},"googlemail.com":{removeDots:!0,splitBy:"+",aliasOf:"gmail.com"},"google.com":{removeDots:!0,splitBy:"+"},"hotmail.com":{splitBy:"+"},"live.com":{splitBy:"+"},"outlook.com":{splitBy:"+"},"yahoo.com":{splitBy:"-"},"ymail.com":{splitBy:"-"}},s={"fastmail.*":{matchRegExp:/(fastmail|messagingengine)\.(com|fm)$/i,splitBy:"+"}};function u(e,t){var n,r;return c((n=t.user,r=t.domain,e.removeDots&&(n=n.replace(o,"")),e.splitBy&&(n=n.split(e.splitBy,2)[0]),e.aliasOf&&(r=e.aliasOf),{user:n,domain:r}))}function c(e){var t=e.user,n=e.domain;return"".concat(t,"@").concat(n)}function l(e){e=e.trim().toLowerCase();var t=(0,r.Z)(e.split("@"),2),n=t[0],o=t[1],l={user:n,domain:o};if(Object.prototype.hasOwnProperty.call(a,o))return u(a[o],l);for(var A in s){var d=s[A];if(d.matchRegExp.test(o))return u(d,l)}return c(l)}var A=/^[\w!#$%&'*+\-/=?^`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/,d=/^([\s\x01-\x08\v\f\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\v\f\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/;function f(e){var t,n,r=e.split("@"),o=r.pop(),a=r.join("@");if(!h(a,{max:64})||!h(o,{max:254})||(n=(t=o.split("."))[t.length-1],!(!(t.length<2||/\s/.test(n)||/^\d+$/.test(n))&&t.every(function(e){return!(e.length>63||!/^[\w\u00a1-\uffff-]+$/.test(e)||/[\uff01-\uff5e]/.test(e)||/^-|-$/.test(e)||/_/.test(e))}))))return!1;if('"'===a[0])return a=a.slice(1,a.length-1),d.test(a);for(var s=a.split("."),u=0;u<s.length;u++)if(!A.test(s[u]))return!1;return!0}function h(e,t){var n=t.min,r=t.max,o=encodeURI(e).split(/%..|./).length-1;return o>=(void 0===n?0:n)&&o<=(void 0===r?1/0:r)}},90731:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(90581),o=n(21218),a=n(39309),s=/*#__PURE__*/function(e){(0,o.Z)(n,e);var t=(0,a.Z)(n);function n(){var e;return(0,r.Z)(this,n),e=t.apply(this,arguments),e.Events={},e}return n.prototype.clean=function(){},n}(n(30686).v)},78950:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(90581),o=n(85117),a=/*#__PURE__*/function(){function e(t,n){(0,r.Z)(this,e),this.params=t,this._makeObservable=n,this.subscribers=[]}var t=e.prototype;return t.setParams=function(e){(0,o.Z)(e,this.params)||(this.params=e,this.observable=this.makeObservable(e),this.updateSubscription(!0))},t.subscribe=function(e,t){return"function"==typeof e?this.subscribers.push({next:e,error:t}):this.subscribers.push(e),this.updateSubscription(),this.unsubscribe.bind(this,e,t)},t.unsubscribe=function(e,t){var n="function"==typeof e?{next:e,error:t}:e;this.subscribers=this.subscribers.filter(function(e){return!(0,o.Z)(e,n)}),this.updateSubscription()},t.makeObservable=function(e){if(this._makeObservable)return this._makeObservable(e);throw Error("makeObservable is not implemented")},t.updateSubscription=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this.subscribers.length&&!t||(null===(e=this.subscription)||void 0===e||e.unsubscribe(),this.observable=void 0,this.subscription=void 0,t))&&(this.subscription||(this.observable=this.makeObservable(this.params),this.subscription=this.observable.subscribe({next:this.onNext.bind(this),error:this.onError.bind(this)})))},t.onNext=function(e){this.subscribers.forEach(function(t){var n;return null===(n=t.next)||void 0===n?void 0:n.call(t,e)})},t.onError=function(e){this.subscribers.forEach(function(t){var n;return null===(n=t.error)||void 0===n?void 0:n.call(t,e)})},e.makeStreamFactory=function(t){return function(n){return new e(n,t)}},e}()},8042:function(e,t,n){"use strict";n.d(t,{E:function(){return r},h:function(){return o}});var r={workspaceById:{},canvasElementsByWorkspaceId:{},aiDiagramGenerator:function(){}};function o(e){Object.assign(r,e)}},44335:function(e,t,n){"use strict";var r,o;n.d(t,{w:function(){return r}}),(o=r||(r={})).UPDATE="update",o.DELETE="delete"},99950:function(e,t,n){"use strict";var r,o;n.d(t,{v:function(){return r}}),(o=r||(r={})).READY="ready",o.CHANGE="change"},28055:function(e,t,n){"use strict";var r,o;n.d(t,{S:function(){return r}}),(o=r||(r={})).AuthUserChanged="auth-user-changed",o.UserChanged="user-changed"},48223:function(e,t,n){"use strict";var r,o;n.d(t,{C:function(){return r}}),(o=r||(r={})).CONNECTION_CHANGED="connection-change",o.OPS_ADDED="ops-added",o.BAD_DATA="bad-data"},61534:function(e,t,n){"use strict";var r,o;n.d(t,{X:function(){return r}}),(o=r||(r={})).Both="both",o.Canvas="canvas",o.Document="document"},88995:function(e,t,n){"use strict";var r=(0,n(53875).Z)();t.Z=r},46965:function(e,t,n){"use strict";var r=n(88995).Z;t.Z=r},50989:function(e,t,n){"use strict";var r=n(88995).Z;t.Z=r},97594:function(e,t,n){"use strict";n.d(t,{BG:function(){return b},hL:function(){return E},An:function(){return _},xI:function(){return p},UK:function(){return g},oO:function(){return B},kk:function(){return r.Z},ML:function(){return l},q0:function(){return A},yN:function(){return o},Zd:function(){return c},vT:function(){return w.Z},q9:function(){return y},BV:function(){return d.Z},hu:function(){return v},nJ:function(){return f},A1:function(){return C}});var r=n(88995),o=r.Z,a=n(70865),s=n(96670),u=n(53875);(0,s.Z)((0,a.Z)({},(0,u.Z)()),{fromFirestore:function(e){var t,n,r=e.data(),o=(0,a.Z)({id:e.id},r);return r.gitHubInfo&&(o.gitHubInfo=(0,s.Z)((0,a.Z)({},r.gitHubInfo),{userTokenExpiry:null===(t=r.gitHubInfo.userTokenExpiry)||void 0===t?void 0:t.toDate(),refreshTokenExpiry:null===(n=r.gitHubInfo.refreshTokenExpiry)||void 0===n?void 0:n.toDate()})),o}});var c=r.Z,l=r.Z,A=r.Z,d=n(50989);r.Z;var f=r.Z,h=n(95550),p=(0,s.Z)((0,a.Z)({},(0,u.Z)()),{toFirestore:function(e){return e.type===h.PA.Email&&e.inviteeEmail&&(e.inviteeEmail=String(e.inviteeEmail).toLowerCase()),e}}),g=r.Z,v=r.Z;r.Z;var m=n(26297),y={toDatabase:function(e){e.id;var t=e.modifiedBy,n=e.modifiedAt,r=e.userId,o=(0,m.Z)(e,["id","modifiedBy","modifiedAt","userId"]);return{modifiedBy:t,modifiedAt:n,userId:r,type:o.type,isDeleted:o.isDeleted||!1,data:JSON.stringify(o)}},fromDatabase:function(e){return function(e,t){if("string"==typeof t)return JSON.parse(t);var n=t.modifiedBy,r=t.modifiedAt,o=t.userId,u=JSON.parse(t.data);return(0,s.Z)((0,a.Z)({},u),{modifiedBy:n,modifiedAt:r,userId:o,id:e})}(e.key,e.val())}},b=r.Z,w=n(46965),_=r.Z,E=r.Z;function C(e){return JSON.parse(e)}r.Z,r.Z;var B={fromDatabase:function(e){var t=e.val();return{clientId:t.clientId,userId:t.userId,ops:C(t.ops),id:e.key,time:t.time||new Date().toUTCString()}},toDatabase:function(e){return(0,s.Z)((0,a.Z)({},e),{ops:JSON.stringify(e.ops)})}}},53875:function(e,t,n){"use strict";var r=n(70865),o=n(96670),a=n(26297);t.Z=function(){return{toFirestore:function(e){return e.id,(0,a.Z)(e,["id"])},fromFirestore:function(e,t){var n=e.id,a=e.data(t);return(0,o.Z)((0,r.Z)({},a),{id:n})}}}},56983:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r,o=n(98788),a=n(47842),s=n(70865),u=n(96670),c=n(26297),l=n(22970),A=n(2784),d=n(43931),f=/*#__PURE__*/n.n(d),h=n(11269),p=n(96933),g=n(50989),v=n(10097),m=n(10186);function y(){return(y=(0,o.Z)(function(e){var t,n,r=arguments;return(0,l.__generator)(this,function(o){switch(o.label){case 0:return t=r.length>1&&void 0!==r[1]?r[1]:"array",[4,m.Z.workspaces.withConverter(g.Z).where(v.ZP.firestore.FieldPath.documentId(),"in",e).get()];case 1:if(n=o.sent(),"array"===t)return[2,n.docs.map(function(e){return(0,u.Z)((0,s.Z)({},e.data()),{id:e.id})})];return[2,n.docs.reduce(function(e,t){return e.set(t.id,t.data())},new Map)]}})})).apply(this,arguments)}var b=n(66140),w=n(46965),_=n(18698);function E(e){return(null==e?void 0:e.map(function(e){var t=e.objectID,n=(0,c.Z)(e,["objectID"]);return(0,s.Z)({id:t},n)}))||[]}var C=(r=(0,o.Z)(function(e){var t;return(0,l.__generator)(this,function(n){switch(n.label){case 0:if(!e||!e.length)return[2];return[4,function(e){return y.apply(this,arguments)}(e.map(function(e){return e.id}),"map")];case 1:return t=n.sent(),e.forEach(function(e){var n;e.gitHubRepository=(null===(n=t.get(e.id))||void 0===n?void 0:n.gitHubRepository)||null}),[2]}})}),function(e){return r.apply(this,arguments)}),B=void 0;function I(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,c=(0,A.useState)({}),d=c[0],g=c[1],v=(0,A.useState)([]),y=v[0],I=v[1],x=(0,A.useState)(void 0),T=x[0],S=x[1],k=(0,_.ZP)(),D=(0,h.LP)(),N=(0,p.II)(),O=(0,A.useMemo)(function(){if(k)return f()(b.O9.appId,k).initIndex(b.O9.workspacesIndex)},[k]),F=(0,A.useCallback)(/*#__PURE__*/(0,o.Z)(function(){var e,t;return(0,l.__generator)(this,function(n){switch(n.label){case 0:return[4,m.Z.visitedWorkspaces.withConverter(w.Z).where("userId","==",N).where("teamId","==",D).orderBy("lastVisitedAt","desc").limit(r).get()];case 1:if(!(e=n.sent().docs.map(function(e){return e.data().workspaceId})).length)return[2,[]];return[4,null==O?void 0:O.search("",{filters:e.map(function(e){return"objectID:".concat(e)}).join(" OR "),attributesToRetrieve:["objectID","title","folderName","isPrivate","isInRootFolder"],hitsPerPage:r})];case 2:return[2,E(null==(t=n.sent())?void 0:t.hits)]}})}),[O,r,N,D]),R=(0,A.useCallback)((t=(0,o.Z)(function(e,t){var n,r;return(0,l.__generator)(this,function(o){switch(o.label){case 0:if(!D||!N||!t)return[2,[]];return n=["teamId:".concat(D),"NOT isTemplate:true","isTitleEmpty:false","isWorkspaceArchived:false","(isPrivate:false OR ownerId:".concat(N,")")].join(" AND "),[4,null==O?void 0:O.search(e,{filters:n,hitsPerPage:t,restrictSearchableAttributes:["title","folderName"],attributesToRetrieve:["objectID","title","folderName","isPrivate","isInRootFolder"]})];case 1:return[2,E(null==(r=o.sent())?void 0:r.hits)]}})}),function(e,n){return t.apply(this,arguments)}),[O,D,N]),L=(0,A.useCallback)(/*#__PURE__*/(0,o.Z)(function(){var e,t,n;return(0,l.__generator)(this,function(o){switch(o.label){case 0:return[4,F()];case 1:if((e=o.sent()).length===r)return[2,e];return t=e.map(function(e){return e.id}),[4,R("",r)];case 2:return n=o.sent().filter(function(e){var n=e.id;return!t.includes(n)}),[2,e.concat(n).slice(0,r)]}})}),[R,F,r]),M=(0,A.useCallback)((n=(0,o.Z)(function(e){var t,n;return(0,l.__generator)(this,function(o){switch(o.label){case 0:if("string"!=typeof e)return g({}),S(void 0),[2];if(t=d[e])return S(t),[2];if(I(function(t){return t.concat(e)}),n=[],!(e.length>0))return[3,2];return[4,R(e,r)];case 1:return n=o.sent(),[3,5];case 2:if(!B)return[3,3];return n=B.slice(0,r),[3,5];case 3:return[4,L()];case 4:B=n=o.sent(),o.label=5;case 5:return[4,C(n)];case 6:return o.sent(),g(function(t){return(0,u.Z)((0,s.Z)({},t),(0,a.Z)({},e,n))}),S(n),I(function(t){return t.filter(function(t){return t!==e})}),[2]}})}),function(e){return n.apply(this,arguments)}),[R,L,r,d]);return(0,A.useEffect)(function(){M(e)},[e,k]),(0,A.useEffect)(function(){B=void 0,S(void 0),g({})},[D]),{results:T,isLoading:y.includes(e)}}},17423:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(98788),o=n(22970),a=n(2784),s=n(45403);function u(e,t){var n,u=(0,a.useState)(void 0),c=u[0],l=u[1],A=(0,a.useState)(!1),d=A[0],f=A[1],h=(0,s.Pe)(),p=(0,a.useCallback)((n=(0,r.Z)(function(e){return(0,o.__generator)(this,function(n){switch(n.label){case 0:if(l(void 0),!e||!t)return[2];f(!0),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,h.folders.fetchById(e,{teamId:t})];case 2:return l(n.sent()),[3,4];case 3:return f(!1),[7];case 4:return[2]}})}),function(e){return n.apply(this,arguments)}),[t]);return(0,a.useEffect)(function(){p(e)},[p,e]),{data:c,isLoading:d}}},22805:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(50930),o=n(2784),a=n(27495),s=/*#__PURE__*/n.n(a),u=n(6901);function c(e,t){var n=(0,o.useMemo)(function(){var e;try{e=new(s())}catch(t){e=s()}return void 0===(null==t?void 0:t.stopCallback)||("function"!=typeof t.stopCallback?e.stopCallback=function(){return!1}:e.stopCallback=t.stopCallback),e},[null==t?void 0:t.stopCallback]),a=(0,r.Z)(Object.keys(e)).concat((0,r.Z)(Object.values(e)));(0,o.useEffect)(function(){return Object.keys(e).forEach(function(t){var r=e[t];if(r){var o="/"===t?"keydown":void 0;if("function"==typeof r)n.bind(t,r,o);else{var a=r.macOS,s=r.windows,c=r.callback;(void 0===a||a)&&u.Um&&n.bind(t,c,o),(void 0===s||s)&&!u.Um&&n.bind(t,c,o)}}}),function(){n.reset()}},(0,r.Z)(a).concat([n]))}},9107:function(e,t,n){"use strict";var r=n(2784);t.Z=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)(function(){return t.every(function(e){return null==e})?null:function(e){t.forEach(function(t){t&&function(e,t){if(null!=e){if("function"==typeof e){e(t);return}if(!Object.isFrozen(e))try{e.current=t}catch(n){throw Error("Cannot assign value '".concat(t,"' to ref '").concat(e,"'"))}}}(t,e)})}},t)}},18698:function(e,t,n){"use strict";n.d(t,{pW:function(){return E}});var r,o=n(98788),a=n(87394),s=n(22970),u=n(2784),c=n(20810),l=n(39739),A=n(35120),d=n(19184),f=n(12335),h=n(96933),p=n(67640),g=n(99669),v=n(89960),m=n(66140),y=n(32472),b="user-search-token",w=function(e){var t=atob(e),n=/validUntil=(\d+)/.exec(t);return null===n?0:parseInt(n[1],10)-Math.round(new Date().getTime()/1e3)},_=function(){g.J.removeItem(b)},E=(r=(0,o.Z)(function(e){var t;return(0,s.__generator)(this,function(n){switch(n.label){case 0:return _(),[4,p.Z.post("searchTokens",{},{responseType:"text"}).catch(v.T)];case 1:if(!(t=n.sent()))return[2,""];return g.J.setItem(b,{userId:e,token:t}),[2,t]}})}),function(e){return r.apply(this,arguments)});t.ZP=function(){var e=(0,h.II)(),t=(0,u.useState)(),n=t[0],r=t[1],o=(0,c.m)(function(e){return e.pipe((0,f.w)(function(e){var t,n,r=(0,a.Z)(e,1)[0];if(!r||"development"===y.Wi&&m.wC.emulatorEnabled)return(0,A.of)(null);var o=g.J.getItem(b)||void 0;return(t=r,"object"==typeof(n=o)&&"string"==typeof n.userId&&"string"==typeof n.token&&n.userId===t&&w(n.token)>86400)?(0,A.of)(o.token):(0,d.D)(E(r))}))},[e]);return(0,l.m)(o,r,v.T),n}},60131:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var r=n(2784),o=n(37164),a=n(71059);function s(){var e=(0,r.useState)(void 0),t=e[0],n=e[1];return(0,a.Z)(function(){n((0,o.x0)())},[]),t}},62915:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(98788),o=n(22970),a=n(2784),s=n(10186),u=n(97594);function c(e){var t,n=(0,a.useState)(void 0),c=n[0],l=n[1],A=(0,a.useState)(!1),d=A[0],f=A[1],h=(0,a.useCallback)((t=(0,r.Z)(function(e){return(0,o.__generator)(this,function(t){switch(t.label){case 0:if(l(void 0),!e)return[2];f(!0),t.label=1;case 1:return t.trys.push([1,,3,4]),[4,s.Z.workspace(e).withConverter(u.BV).get()];case 2:return l(t.sent().data()),[3,4];case 3:return f(!1),[7];case 4:return[2]}})}),function(e){return t.apply(this,arguments)}),[]);return(0,a.useEffect)(function(){h(e)},[h,e]),{data:c,isLoading:d}}},56060:function(e,t,n){"use strict";var r,o;n.d(t,{c:function(){return r}}),(o=r||(r={})).AddIcon="add-icon",o.CreateFile="create-file",o.AddNoteContent="add-note-content",o.AddFigure="add-figure",o.AddFigureEmbed="add-figure-embed",o.AddComment="add-comment",o.OpenInsertMenu="open-insert-menu",o.UseInsertMenu="use-insert-menu",o.GenerateAiDiagram="generate-ai-diagram",o.GenerateDiagramWithCode="generate-diagram-with-code",o.InviteTeamMember="invite-team-member",o.GitHubSync="github-sync",o.VsCodeExtensionDownload="vscode-extension-download",o.GetStartedNotionIntegrationClicked="get-started-notion-integration-clicked",o.GetStartedConfluenceIntegrationClicked="get-started-confluence-integration-clicked"},60869:function(e,t,n){"use strict";var r,o,a,s;n.d(t,{en:function(){return r}}),(a=r||(r={})).Fast="fast",a.Standard="standard",a.Premium="premium",(s=o||(o={})).TokenLengthExceeded="token-length-exceeded",s.UnknownAiError="unknown-ai-error",s.RateLimitExceeded="rate-limit-exceeded",s.ServiceUnavailable="service-unavailable"},59590:function(e,t,n){"use strict";var r,o,a,s,u,c,l,A,d;n.d(t,{Yi:function(){return u},g0:function(){return o},s1:function(){return a}}),(r||(r={})).InfrastructureAsCode="infrastructure-as-code",(c=o||(o={})).notEnoughInformation="not-enough-information",c.unknownDiagramType="unknown-diagram-type",c.unknown="unknown",c.tokenLengthExceeded="token-length-exceeded",(l=a||(a={})).Infer="infer",l.Generate="generate",l.PostProcess="post-process",l.Complete="complete",l.Error="error",l.Unimplemented="unimplemented",(A=s||(s={})).Initiated="initiated",A.Completed="completed",A.Failed="failed",(d=u||(u={})).Pending="pending",d.InProgress="in-progress",d.Completed="completed",d.Error="error"},70599:function(e,t,n){"use strict";var r,o,a,s,u,c,l,A,d;function f(e){return"string"==typeof e&&e in o}n.d(t,{AC:function(){return o},AS:function(){return f},M$:function(){return a},h8:function(){return s},k9:function(){return r},yh:function(){return u}}),(c=r||(r={})).Pro="pro",c.Free="free",c.Business="business",c.Enterprise="enterprise",(l=o||(o={})).ApiAccess="api-access",l.ExportPDF="export-pdf",l.NoLinkAccess="no-link-access",l.AnonymousCollaboration="anonymous-collaboration",l.PrivateWorkspaces="private-workspaces",l.SSO="sso",l.CustomAiContext="custom-ai-context",(A=a||(a={})).Workspaces="workspaces",A.CustomIcons="custom-icons",A.AiDiagramAndOutlineCredits="ai-credits",A.PremiumCredits="premium-credits",A.MonthlyAiDiagramApiCalls="monthly-ai-diagram-api-calls",A.PremiumApiCalls="premium-api-calls",(s||(s={})).VersionHistory="version-history",(d=u||(u={})).active="active",d.paused="paused",d.canceled="canceled"},95550:function(e,t,n){"use strict";var r,o,a,s,u,c;n.d(t,{FU:function(){return r},PA:function(){return a},aj:function(){return o}}),(s=r||(r={})).Team="team",s.Workspace="workspace",(u=o||(o={})).Pending="pending",u.Accepted="accepted",u.Cancelled="cancelled",(c=a||(a={})).Link="link",c.Email="email"},23143:function(e,t,n){"use strict";n.d(t,{Pq:function(){return r},SF:function(){return s},ff:function(){return o}});var r="ERASER",o={id:r,displayName:"Eraser",photoURL:"/_next/static/canvas-icons/eraser-io.svg",color:"var(--grey-100)"},a=["SERVER","GITHUB","ERASER"];function s(e){return a.includes(e)}},46572:function(e,t,n){"use strict";n.d(t,{i4:function(){return r.i}}),n(70599);var r=n(20097)},20097:function(e,t,n){"use strict";var r,o;n.d(t,{i:function(){return r}}),(o=r||(r={})).Admin="admin",o.Member="member",o.Guest="guest"},45932:function(e,t,n){"use strict";var r,o,a,s,u,c,l,A,d,f;n.d(t,{BT:function(){return r},Ib:function(){return a},c:function(){return o},hT:function(){return s},lp:function(){return u}}),(c=r||(r={})).ARCHITECTURE="Architecture",c.DESIGN_DOCS="Design Docs",c.WIREFRAMES="Wireframes",c.INTERVIEWS="Interviews",c.BRAINSTORMING="Brainstorming",c.DOCUMENTATION="Documentation",(l=o||(o={})).ARCHITECT="Architect",l.ENGINEER="Engineer",l.INFRASTRUCTURE="Infrastructure",l.CONSULTANT="Consultant",l.PRODUCT="Product & Design",l.OTHER="Other",(A=a||(a={})).GITHUB="GitHub",A.GITLAB="GitLab",A.NOTION="Notion",A.CONFLUENCE="Confluence",A.AWS="AWS",A.AZURE="Azure",A.GCLOUD="GCloud",A.TRRAFORM="Terraform",A.PULUMI="Pulumi",A.CIRCLECI="Circle CI",A.JENKINS="Jenkins",A.KUBERNETES="Kubernetes",A.VS_CODE="VS Code",(d=s||(s={})).CREATE_SURVEY_INCOMPLETE="CREATE_SURVEY_INCOMPLETE",d.CREATE_SURVEY_COMPLETE="CREATE_SURVEY_COMPLETE",d.JOIN_EXISTING_TEAM="JOIN_EXISTING_TEAM",(f=u||(u={})).CREATE_TEAM="CREATE_TEAM",f.INVITE_MEMBERS="INVITE_MEMBERS",f.PREFERENCES="PREFERENCES",f.USE_CASES="USE_CASES",f.ROLE="ROLE",f.TOOLS="TOOLS"},59711:function(e,t,n){"use strict";var r,o,a,s,u,c;n.d(t,{bR:function(){return a},lL:function(){return r},tf:function(){return o}}),(s=r||(r={})).Write="write",s.Read="read",(u=o||(o={})).userDataModel="userDataModel",u.technicalDesign="technicalDesign",u.dataFlowDiagram="dataFlowDiagram",u.systemArhcitecture="systemArhcitecture",u.productRequirements="productRequirements",(c=a||(a={})).NONE="none",c.READ="read",c.WRITE="write",c.ANONYMOUS_WRITE="anonymous-write"},50852:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var r=n(6901).Um?"metaKey":"ctrlKey"},40052:function(e,t,n){"use strict";n.d(t,{i:function(){return a},q:function(){return u}});var r=n(98788),o=n(22970);function a(e){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(function(e){return(0,o.__generator)(this,function(t){switch(t.label){case 0:switch(e.contextId){case"aws":return[3,1];case"azure":return[3,3];case"gcp":return[3,5]}return[3,7];case 1:return[4,n.e(8994).then(n.bind(n,88994))];case 2:return[2,t.sent().AWS_CONTEXT];case 3:return[4,n.e(7597).then(n.bind(n,97597))];case 4:return[2,t.sent().AZURE_CONTEXT];case 5:return[4,n.e(5226).then(n.bind(n,5226))];case 6:return[2,t.sent().GCP_CONTEXT];case 7:return[2,void 0];case 8:return[2]}})})).apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return(c=(0,r.Z)(function(e){return(0,o.__generator)(this,function(t){switch(t.label){case 0:return e.teamId,[4,Promise.all(["aws","azure","gcp"].map(function(e){return a({contextId:e})}))];case 1:return[2,t.sent().filter(Boolean)]}})})).apply(this,arguments)}},53788:function(e,t,n){"use strict";n.d(t,{fo:function(){return s}});var r,o,a=["gcp","aws","azure"];function s(e){return a.includes(e)}(r=o||(o={})).ReferenceDiagram="referenceDiagrams",r.ExampleDiagram="exampleDiagrams"},19198:function(e,t,n){"use strict";n.d(t,{AR:function(){return o},Io:function(){return a},Jb:function(){return s}});var r=n(31632);function o(e,t){return"".concat("images/ai-diagrams","/").concat(null!=t?t:"PUBLIC","/").concat(e)}function a(e){return e.reduce(function(e,t){return e+="Q: "+t.question,t.answers.forEach(function(t){t.selected&&(e+="\nA: "+t.text)}),e+="\n\n"},"")}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case r.pj.CAD:return t?"Cloud Architecture Diagram":"Cloud Architecture";case r.pj.FLOW:return"Flow Chart";case r.pj.SD:return"Sequence Diagram";case r.pj.ERD:return t?"Entity Relationship Diagram":"ER Diagram"}}},97533:function(e,t,n){"use strict";n.d(t,{QS:function(){return r}});var r="DEFAULTS"},21732:function(e,t,n){"use strict";n.d(t,{Y:function(){return h}});var r=n(70865),o=n(96670),a=n(87394),s=n(2784),u=n(2732),c=n(54073),l=/*#__PURE__*/n.n(c),A=n(42541),d=(0,u.cn)({key:"commandKModalState",default:{isModalOpen:!1,screen:"commands",inputValue:""}}),f=l()(function(e,t){A.Z.trackEvent("command_k","search",{screen:t,query:e})},500),h=function(){var e=(0,a.Z)((0,u.FV)(d),2),t=e[0],n=e[1],c=(0,s.useCallback)(function(){n({isModalOpen:!1,screen:"commands",inputValue:""})},[n]),l=(0,s.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.inputValue;n({isModalOpen:!0,screen:e.screen||"commands",inputValue:t||""})},[n]);return{switchScreen:(0,s.useCallback)(function(e){n(function(t){return(0,r.Z)({},t,e)})},[n]),setInputValue:(0,s.useCallback)(function(e){n(function(t){return(0,o.Z)((0,r.Z)({},t),{inputValue:e})}),f(e,t.screen)},[n,t.screen]),openCommandKModal:l,closeCommandKModal:c,screen:t.screen,inputValue:t.inputValue,query:t.inputValue.trim(),isModalOpen:t.isModalOpen}}},64442:function(e,t,n){"use strict";n.d(t,{l:function(){return s}});var r=n(2784),o=n(21732),a={},s=function(){var e=(0,o.Y)().closeCommandKModal,t=(0,r.useCallback)(function(t,n){var r=function(t){return function(){!1!==t()&&e()}};if("function"==typeof n)s=void 0,o=r(n);else{var o,s,u,c,l=n.action,A=n.isHidden;s=null!=A?A:null===(u=a[t])||void 0===u?void 0:u.isHidden,o=l?r(l):null===(c=a[t])||void 0===c?void 0:c.execute}a[t]={execute:o,isHidden:s}},[e]);return{registrar:a,register:t}}},92106:function(e,t,n){"use strict";n.d(t,{Ld:function(){return a},Li:function(){return c},M4:function(){return l},Pe:function(){return d},Xy:function(){return f},hl:function(){return s},r8:function(){return A},w7:function(){return u}});var r=n(19696),o=n(31632),a=(0,r.J)("cardinalElbow").defaultZeroGapValueForIntersections,s=.875,u={STROKE_MULTIPLIER:1.75,ROUGHNESS_MULTIPLIER:.8,ARROWHEAD_SIZE:12,ARROWHEAD_ANGLE:30,SELECTION_LINE_WIDTH:1.5},c={LEFT:100,TOP:200,RIGHT:15,BOTTOM:15},l=30,A={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard"},d={FIGURE_PADDING:34,DISTANCE_BETWEEN_FIGURES:300},f=Object.values(o.pj).filter(function(e){return e!==o.pj.CUSTOM})},54367:function(e,t,n){"use strict";n.d(t,{W:function(){return r}});var r=function(e){return e&&e.length?e.sort(function(e,t){var n,r;return"number"==typeof e.zIndex&&"number"==typeof t.zIndex&&e.zIndex!==t.zIndex?e.zIndex-t.zIndex:(null!==(n=e.zIndex)&&void 0!==n?n:0)-(null!==(r=t.zIndex)&&void 0!==r?r:0)}):[]}},65633:function(e,t,n){"use strict";n.d(t,{E0:function(){return A},LD:function(){return u},dq:function(){return c}});var r,o=n(98788),a=n(22970),s=n(88386),u=new Map,c=function(e){return u.get(e)},l=function(e,t){u.set(e,t)},A=(r=(0,o.Z)(function(e){var t,n,r,u,c,A,d,f;return(0,a.__generator)(this,function(h){switch(h.label){case 0:if(!e.length)return[2];t=[],n=!0,r=!1,u=void 0;try{for(c=e[Symbol.iterator]();!(n=(A=c.next()).done);n=!0)d=A.value,f=fetch(d.url).then(function(e){return e.text()}),t.push(f)}catch(e){r=!0,u=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw u}}return[4,Promise.all(t)];case 1:var p;return h.sent().forEach((p=(0,o.Z)(function(t,n){return(0,a.__generator)(this,function(r){switch(r.label){case 0:return l(e[n].label,t),[4,(0,s.w)(t)];case 1:return r.sent(),[2]}})}),function(e,t){return p.apply(this,arguments)})),[2]}})}),function(e){return r.apply(this,arguments)})},88386:function(e,t,n){"use strict";n.d(t,{U:function(){return s},w:function(){return u}});var r,o=n(98788),a=n(22970),s=new Map,u=(r=(0,o.Z)(function(e){var t;return(0,a.__generator)(this,function(n){switch(n.label){case 0:if(!e)return[2,null];if(s.has(e))return[2,s.get(e)];if((t=new Image).src="data:image/svg+xml;utf8,"+encodeURIComponent(e),"function"!=typeof t.decode)return[3,2];return[4,t.decode()];case 1:n.sent(),n.label=2;case 2:return s.set(e,t),[2,t]}})}),function(e){return r.apply(this,arguments)})},6041:function(e,t,n){"use strict";n.d(t,{N:function(){return o},O:function(){return a}}),(r=o||(o={})).UP="up",r.DOWN="down",r.LEFT="left",r.RIGHT="right";var r,o,a=[o.DOWN,o.UP,o.LEFT,o.RIGHT]},31632:function(e,t,n){"use strict";n.d(t,{G4:function(){return d},Nm:function(){return h.N},OD:function(){return h.O},QN:function(){return p},UX:function(){return l},ck:function(){return c},pj:function(){return f},wi:function(){return A}});var r,o,a,s,u,c,l,A,d,f,h=n(6041);(r=c||(c={})).Normal="normal",r.CodeBlock="code-block",(o=l||(l={}))[o.Pastel=0]="Pastel",o[o.Bold=1]="Bold",o[o.Outline=2]="Outline",(a=A||(A={}))[a.Plain=0]="Plain",a[a.Shadow=1]="Shadow",a[a.Watercolor=2]="Watercolor",(s=d||(d={})).x="x",s.y="y",s.HORIZONTAL="x",s.VERTICAL="y",(u=f||(f={})).SD="sequence-diagram",u.ERD="entity-relationship-diagram",u.CAD="cloud-architecture-diagram",u.FLOW="flowchart-diagram",u.CUSTOM="custom-diagram";var p=function(e){return"rectangle"===e.type&&"sharp"!==e.strokeSharpness?"rounded-rect":e.type}},99618:function(e,t,n){"use strict";n.d(t,{UZ:function(){return r},qf:function(){return o}});var r="https://github.com",o="gitHubAppInstalled"},34803:function(e,t,n){"use strict";n.d(t,{HN:function(){return c},Id:function(){return s},bj:function(){return a},sF:function(){return u},u8:function(){return o}});var r=n(99618),o=function(e){var t=e.organizationName;return"".concat(r.UZ,"/").concat(t)},a=function(e){var t=e.commitSha,n=e.repositoryName,o=e.organizationName;return"".concat(r.UZ,"/").concat(o,"/").concat(n,"/commit/").concat(t)},s=function(e){if(!e)return"";var t=e.split("/");return t.pop(),"/".concat(t.join("/"))},u=function(e){var t=e.filePath,n=e.branchName,o=e.repositoryName,a=e.organizationName;return"".concat(r.UZ,"/").concat(a,"/").concat(o,"/blob/").concat(n,"/").concat(t)},c=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;var o=r.mustBeMd,a=void 0===o||o,s=r.requireBlobFormatUrl,u=e.match(RegExp("^https?:\\/\\/(www\\.)?github.com\\/(?<owner>[\\w.-]+)\\/(?<repo>[\\w.-]+)"));if(!u||!((null===(t=u.groups)||void 0===t?void 0:t.owner)&&(null===(n=u.groups)||void 0===n?void 0:n.repo)))return null;var c="",l="",A="",d=u.groups,f=d.owner,h=d.repo,p=new URL(e).pathname,g=p.toLocaleLowerCase().endsWith(".md");if(a&&g||!a){var v=p.split("/");"blob"===v[3]||"tree"===v[3]?(l=v[4],c=v.slice(5).join("/"),A=v.slice(4).join("/")):v[3]&&!(void 0===s||s)&&(l=v[3],c=v.slice(4).join("/"),A=v.slice(3).join("/"))}return{owner:f,repo:h,branchNameAndFilePath:A,branchName:l,filePath:c}}},89563:function(e,t,n){"use strict";n.d(t,{P:function(){return c}});var r=n(52322),o=n(67058),a=n(3635),s=n(16216),u=/*#__PURE__*/n.n(s),c=function(e){var t=e.keys,n=e.shortcutStyle,s=void 0===n?"text":n,c=e.darkBackground,l=e.className,A=e.style,d=e.inline,f=t.map(function(e){return(0,o.K8)(e,!0)});return/*#__PURE__*/(0,r.jsx)("span",{className:(0,a.Z)(u().shortcut,c&&u().darkBackground,l,d&&u().inline),style:A,children:f.map(function(e){return/*#__PURE__*/(0,r.jsx)("kbd",{className:(0,a.Z)(u().shortcutKey,"text"===s&&u().text,"pills"===s&&u().pill),children:e},e)})})}},67058:function(e,t,n){"use strict";n.d(t,{K8:function(){return u},PF:function(){return o}});var r=n(6901),o=r.Um?"metaKey":"ctrlKey",a={CtrlOrCmd:"Command","Control|Alt":"Control"},s={Shift:"⇧",Enter:"↩",ArrowUp:"↑",ArrowDown:"↓",ArrowLeft:"←",ArrowRight:"→",Del:"⌫",Control:"Ctrl",CtrlOrCmd:"Ctrl",Esc:"Esc",Alt:"Alt",Option:"Alt",AltOrOption:"Alt","Control|Alt":"Alt"};r.Um&&Object.assign(s,{Control:"^",CtrlOrCmd:"⌘",Alt:"⌥",Option:"⌥",AltOrOption:"⌥","Control|Alt":"^"});var u=function(e,t){return r.Um&&!t?a[e]||e:s[e]||e};r.Um&&Object.assign({CtrlOrCmd:"ctrl",AltOrOption:"alt","Control|Alt":"alt",Tab:"tab",Enter:"enter",Esc:"escape",Shift:"shift",ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"},{CtrlOrCmd:"command",AltOrOption:"option","Control|Alt":"ctrl"})},39274:function(e,t,n){"use strict";n.d(t,{Eu:function(){return h},H$:function(){return p},fH:function(){return y},kI:function(){return v},tM:function(){return d},wL:function(){return f}});var r=n(42838),o=n(87394),a=n(2784),s=n(12995),u=n(85009),c=n(51716),l=n(20954),A=n(89960),d="left-side-menu-container",f="right-side-menu-container",h={top:function(e){return{top:e.top}},center:function(e){return{top:e.top+e.height/2}},bottom:function(e){return{top:e.bottom}}};function p(e){var t=f;return"left"===e&&(t=d),document.getElementById(t)}var g=new WeakMap;function v(e){var t=(0,c.Z)(),n=(0,a.useRef)(g.get(e));return(0,a.useLayoutEffect)(function(){if(!n.current)try{var r=u.F3.toDOMNode(e,e);r&&(g.set(e,r),n.current=r)}catch(e){t()}},[e,t]),n.current}var m=function(e,t,n){try{if(!t)return null;if((0,r.Z)(t,HTMLElement)||(0,r.Z)(t,Range))return t;if(s.xv.isText(t)||s.W_.isElement(t))return u.F3.toDOMNode(e,t);if(s.e6.isRange(t)){var o=u.F3.toDOMRange(e,t),a="bottom"===n?o.endContainer:o.startContainer;return(0,r.Z)(a,HTMLElement)?a:a.parentElement}}catch(e){console.error(e),(0,A.T)(Error("Error finding target position",{cause:e}))}return null};function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"center",r=(0,o.Z)(t,1)[0],a=v(e);return(0,l.H)(m(e,r,n),{scrollTargetId:"note-container",resizeTarget:a})}},28378:function(e,t,n){"use strict";n.d(t,{W:function(){return y}});var r=n(98788),o=n(90581),a=n(70865),s=n(96670),u=n(87394),c=n(22970),l=n(60417),A=/*#__PURE__*/n.n(l),d=n(96795),f=/*#__PURE__*/n.n(d),h=n(89960),p=n(32021),g=n(12995),v=/*#__PURE__*/function(){function e(t,n,r,a){(0,o.Z)(this,e),this.userId=t,this.lastOpId=n,this.selection=r,this.collab=a,this.isFading=!1,this.initFadeTimer(),this.decoration=this.makeDecoration(),this.isFading=!1}var t=e.prototype;return t.update=function(e,t){this.selection=e,t&&(this.lastOpId=t),this.initFadeTimer()},t.initFadeTimer=function(){var e=this;this._timer&&clearTimeout(this._timer),this.isFading=!1,this.setDecoration(),this._timer=setTimeout(function(){e.destroy()},3e4)},t.destroy=function(){var e=this;this.isFading=!0,this.setDecoration(),this._timer=setTimeout(function(){e.selection=null,e.setDecoration()},800)},t.setDecoration=function(){var e,t;this.decoration=this.makeDecoration(),null===(t=(e=this.collab).triggerUpdate)||void 0===t||t.call(e)},t.makeDecoration=function(){if(null!=this.selection)return(0,s.Z)((0,a.Z)({},this.selection),{lastOpId:this.lastOpId,userId:this.userId,remoteSelection:this.selection,isFading:this.isFading})},e}(),m=/*#__PURE__*/function(){function e(t){(0,o.Z)(this,e),this._collab=t,this._selections={},this._selections={}}var t=e.prototype;return t.setUserSelection=function(e,t,n){this._selections[e]||(this._selections[e]=new v(e,n,t,this._collab));try{this._selections[e].update(t,n)}catch(t){(0,h.T)(Error("Error setting selection",{cause:t})),this._selections[e].update(null,n)}},t.getSelections=function(){return this._selections},t.updateSelections=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;e.length&&Object.keys(this._selections).forEach(function(r){try{if(t.exclude&&t.exclude===r)return;var o=n._selections[r].selection;if(o){var a=!0,s=!1,u=void 0;try{for(var c,l=e[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var A=c.value,d=g.e6.transform(o,A);if(!d)break;o=d}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}}n.setUserSelection(r,o)}catch(e){(0,h.T)(Error("Error updating selection",{cause:e})),n.setUserSelection(r,null)}})},e}(),y=/*#__PURE__*/function(){function e(t){var n,l=this;(0,o.Z)(this,e),this.onConnectionChange=function(){},this.isReady=!1,this._hasDisconnected=!1,this._pendingQueue=[],this.getRemoteSelections=function(){var e=l.selectionManager.getSelections();return A()(Object.keys(e).map(function(t){return e[t].decoration}))};var d=this;this._onBadDataDetected=(n=(0,r.Z)(function(e){var t;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return d.onError(e),d.isReady=!1,[4,d._adapter.fetchValue()];case 1:return t=n.sent(),d.isReady=!0,d.editor&&t&&(d.editor.children=t.children,d.editor.onChange()),[2]}})}),function(e){return n.apply(this,arguments)}),this._onReceive=function(e){if(l.clientId!==e.clientId){if("function"!=typeof l._onRemoteOpsReceived){l._pendingQueue.push(e);return}var t=(0,u.Z)(f()(e.ops,function(e){return"set_selection"===e.type}),2),n=t[0],r=t[1];if(n.length&&e.userId!==l.userId){var o=!0,c=!1,A=void 0;try{for(var d,g=n[Symbol.iterator]();!(o=(d=g.next()).done);o=!0){var v=d.value;l.selectionManager.setUserSelection(e.userId,v.newProperties,e.id)}}catch(e){c=!0,A=e}finally{try{o||null==g.return||g.return()}finally{if(c)throw A}}}l.selectionManager.updateSelections(r,{exclude:e.userId});try{l._onRemoteOpsReceived((0,s.Z)((0,a.Z)({},e),{ops:r}))}catch(t){var m=new p.bS(t,p.bS.Codes.ApplyOp);m.isSevere=l._adapter.hasPendingOps(),m.handled=!0,m.cause=t,(0,h.T)(m,{msg:JSON.stringify(e)}),l._onBadDataDetected({error:m,area:"ApplyOpServer"})}}},this.clientId=t.clientId,this.userId=t.userId,this._adapter=t.adapter,this.onError=t.onError,this.makeOnConnectionChange(t.onConnectionChange),this.selectionManager=new m(this),this._adapter.on(this._adapter.Events.OPS_ADDED,this._onReceive),this._adapter.on(this._adapter.Events.BAD_DATA,this._onBadDataDetected),this._adapter.on(this._adapter.Events.CONNECTION_CHANGED,this.onConnectionChange)}var t=e.prototype;return t.destroy=function(){this.isReady=!1,this.sendOps([],null),this._adapter.off(this._adapter.Events.CONNECTION_CHANGED,this.onConnectionChange),this._adapter.off(this._adapter.Events.OPS_ADDED,this._onReceive),this._adapter.off(this._adapter.Events.BAD_DATA,this._onBadDataDetected),this._adapter.destroy(),this._onRemoteOpsReceived=void 0,this.editor=void 0},t.isConnected=function(){return this._adapter.isConnected},t.makeOnConnectionChange=function(e){var t=this;this.onConnectionChange=function(n){!1===n&&(t._hasDisconnected=!0,null==e||e(!1)),!0===n&&t._hasDisconnected&&(null==e||e(!0))}},t.getInitialData=function(){var e=this;return(0,r.Z)(function(){var t,n,r;return(0,c.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e._adapter.fetchValue()];case 1:return t=o.sent(),e._adapter.initialize(),e.initialValue=null==t?void 0:t.children,e.isReady=!0,[2,t];case 2:if("status"in(n=o.sent())&&403===n.status)return[2,void 0];return r=new p.bS(n,p.BA.LoadValue),e.onError(r),[2,void 0];case 3:return[2]}})})()},t.setEditor=function(e){this.editor=e},t.sendOps=function(e,t){var n=e.filter(function(e){return"set_selection"!==e.type});this.selectionManager.updateSelections(n),n.push({type:"set_selection",newProperties:null!=t?t:null,properties:null}),this._adapter.sendOps(n)},t.onRemoteOpsReceived=function(e){var t;this._onRemoteOpsReceived=e,(null===(t=this._pendingQueue)||void 0===t?void 0:t.length)&&(this._pendingQueue.forEach(function(t){e(t)}),this._pendingQueue=[])},e}()},69992:function(e,t,n){"use strict";n.d(t,{YV:function(){return v}});var r=n(70865),o=n(96670),a=n(87394),s=n(50930),u=n(12995);function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";if("move_node"===e.type&&u.y$.equals(e.path,e.newPath))return[];if("move_node"===t.type&&u.y$.equals(t.path,t.newPath))return[e];var a="left"===n?"backward":"forward";if("offset"in e){var s=u.E9.transform({path:e.path,offset:e.offset},t,{affinity:a});return s?[(0,r.Z)({},e,s)]:[]}if("position"in e){var c=u.E9.transform({path:e.path,offset:e.position},t,{affinity:a});return c?[(0,o.Z)((0,r.Z)({},e),{path:c.path,position:c.offset})]:[]}var l="path"in e?u.y$.transform(e.path,t,{affinity:a}):void 0;return l?[(0,o.Z)((0,r.Z)({},e),{path:l})]:[]}function l(e){return[{type:"remove_node",path:e.path.slice(),node:{text:""}},{type:"insert_node",path:u.y$.transform(e.path,e),node:{text:""}}]}function A(e,t){var n=e.path,a=u.y$.transform(t.path,(0,o.Z)((0,r.Z)({},e),{type:"insert_node"}));return u.y$.isSibling(n,a)&&u.y$.endsBefore(n,a)&&(a=u.y$.previous(a)),{type:"move_node",path:n,newPath:a}}function d(e,t){var n=t.path,r=u.y$.transform(e.path,t);return u.y$.isSibling(n,r)&&u.y$.endsBefore(n,r)&&(r=u.y$.previous(r)),{type:"move_node",path:n,newPath:r}}function f(e){return function(t,n,r,o){return t.path===t.newPath?[]:e(t,n,r,o)}}function h(e,t,n){var a=e.path.concat(e.position),s=u.y$.transform(a,t,{affinity:"left"===n?"forward":"backward"});return(null==s?void 0:s.length)?(0,o.Z)((0,r.Z)({},e),{position:s.at(-1)}):e}var p={remove_text:{insert_text:function(e,t,n){if(u.y$.equals(e.path,t.path)&&e.offset<t.offset&&e.offset+e.text.length>t.offset){var a=t.offset-e.offset,s=e.text.slice(0,a),l=e.text.slice(a);return[(0,o.Z)((0,r.Z)({},e),{text:s+t.text+l})]}return c(e,t,n)},remove_text:function(e,t,n){if(u.y$.equals(e.path,t.path)&&e.offset+e.text.length>t.offset&&t.offset+t.text.length>e.offset){var a=Math.max(t.offset-e.offset,0),s=e.text.slice(0,a),l=Math.min(e.text.length,t.offset+t.text.length-e.offset),A=e.text.slice(l);return[(0,o.Z)((0,r.Z)({},e),{offset:Math.min(e.offset,t.offset),text:s+A})]}return c(e,t,n)},split_node:function(e,t,n){return u.y$.equals(e.path,t.path)&&e.offset<t.position&&e.offset+e.text.length>t.position?[(0,o.Z)((0,r.Z)({},e),{text:e.text.slice(0,t.position-e.offset)}),(0,o.Z)((0,r.Z)({},e),{path:u.y$.next(t.path),offset:0,text:e.text.slice(t.position-e.offset)})]:c(e,t,n)}},insert_node:{insert_node:function(e,t,n){return u.y$.equals(e.path,t.path)&&"left"===n?[e]:c(e,t,n)},remove_node:function(e,t,n){return u.y$.equals(e.path,t.path)?[e]:c(e,t,n)},merge_node:function(e,t,n){if(u.y$.equals(e.path,t.path)){var a=u.xv.isText(e.node)?e.node.text.length:e.node.children.length;return[(0,o.Z)((0,r.Z)({},t),{type:"split_node",path:u.y$.previous(t.path)}),e,t,(0,o.Z)((0,r.Z)({},t),{position:t.position+a})]}return c(e,t,n)},move_node:function(e,t,n){if(u.y$.equals(e.path,t.path)){var a=u.y$.transform(u.y$.next(e.path),t);return[(0,o.Z)((0,r.Z)({},e),{path:a})]}return c(e,t,n)}},remove_node:{split_node:function(e,t,n){return u.y$.equals(e.path,t.path)?[e,e]:c(e,t,n)},merge_node:function(e,t,n){return u.y$.equals(e.path,t.path)||u.y$.equals(e.path,u.y$.previous(t.path))?[u.OX.inverse(t),e]:c(e,t,n)},move_node:function(e,t,n,c){if(u.y$.equals(t.path,t.newPath))return[e];var A=(0,a.Z)(l(t),2),d=A[0],f=A[1],h=(0,a.Z)(c([e],[d,f],n),2),p=h[0],g=h[1];return 0===p.length?[(0,o.Z)((0,r.Z)({},e),{path:f.path.concat(e.path.slice(d.path.length))})]:1===g.length&&"insert_node"===g[0].type?(0,s.Z)(p).concat([{type:"remove_node",path:g[0].path,node:{text:""}}]):p}},merge_node:{insert_text:function(e,t){return u.y$.equals(e.path,u.y$.next(t.path))?[(0,o.Z)((0,r.Z)({},e),{position:e.position+t.text.length})]:[e]},remove_text:function(e,t){return u.y$.equals(e.path,u.y$.next(t.path))?[(0,o.Z)((0,r.Z)({},e),{position:e.position-t.text.length})]:[e]},insert_node:function(e,t,n){if(u.y$.equals(e.path,t.path)){var a=u.xv.isText(t.node)?t.node.text.length:t.node.children.length;return[e,(0,o.Z)((0,r.Z)({},e),{position:e.position+a})]}return u.y$.isParent(u.y$.previous(e.path),t.path)?[(0,o.Z)((0,r.Z)({},e),{position:e.position+1})]:c(e,t,n)},remove_node:function(e,t){if(u.y$.isParent(u.y$.previous(e.path),t.path))return[(0,o.Z)((0,r.Z)({},e),{position:e.position-1})];var n=u.y$.transform(e.path,t),a=u.y$.transform(u.y$.previous(e.path),t);return n&&a?[(0,o.Z)((0,r.Z)({},e),{path:n})]:!n&&a?[(0,o.Z)((0,r.Z)({},t),{path:a})]:n&&!a?[(0,o.Z)((0,r.Z)({},t),{path:n})]:[]},split_node:function(e,t,n){if(u.y$.equals(u.y$.previous(e.path),t.path))return[(0,o.Z)((0,r.Z)({},e),{path:u.y$.next(e.path),position:e.position-t.position})];if(u.y$.isParent(u.y$.previous(e.path),t.path))return[(0,o.Z)((0,r.Z)({},e),{position:e.position+1})];var a=u.y$.transform(e.path,t,{affinity:"left"===n?"backward":"forward"});return 0===a[a.length-1]?[]:c(e,t,n)},merge_node:function(e,t,n){return u.y$.equals(e.path,t.path)?[]:u.y$.equals(u.y$.previous(e.path),t.path)?[(0,o.Z)((0,r.Z)({},e),{path:u.y$.previous(e.path),position:e.position+t.position})]:u.y$.isParent(u.y$.previous(e.path),t.path)?[(0,o.Z)((0,r.Z)({},e),{position:e.position-1})]:c(e,t,n)},move_node:function(e,t){if(u.y$.equals(t.path,t.newPath))return[e];var n=e.path,a=u.y$.previous(n),s=u.y$.transform(n,t),c=u.y$.transform(a,t);if(!u.y$.equals(s,u.y$.next(c)))return[{type:"remove_node",path:s,node:{text:""}}];var l=e.position;return u.y$.isParent(a,t.path)&&l--,u.y$.isParent(a,t.newPath)&&l++,[(0,o.Z)((0,r.Z)({},e),{path:s,position:l})]}},move_node:{insert_node:f(function(e,t,n,r){var o=l(e),s=(0,a.Z)(r(o,[t],n),1),u=(0,a.Z)(s[0],2),c=u[0],d=u[1];return(null==c?void 0:c.type)!=="remove_node"||(null==d?void 0:d.type)!=="insert_node"?[]:[A(c,d)]}),remove_node:f(function(e,t,n,o){var s=l(e),u=(0,a.Z)(o(s,[t],n),1)[0];if(1===u.length){if("remove_node"===u[0].type)return[u[0]];if("insert_node"===u[0].type)return[]}return 2===u.length&&"remove_node"===u[0].type&&"insert_node"===u[1].type?[(0,r.Z)({},e,A(u[0],u[1]))]:[]}),split_node:f(function(e,t){var n=u.y$.isSibling(e.path,e.newPath)&&u.y$.endsBefore(e.path,e.newPath);if(u.y$.equals(e.path,t.path)){var a=u.y$.transform(e.newPath,t);if(n)return[(0,o.Z)((0,r.Z)({},e),{newPath:a}),(0,o.Z)((0,r.Z)({},e),{newPath:a})];var s=(0,o.Z)((0,r.Z)({},e),{path:u.y$.next(e.path),newPath:a}),c=(0,o.Z)((0,r.Z)({},e),{path:u.y$.transform(e.path,s),newPath:u.y$.previous(u.y$.transform(a,s))});return[s,c]}var l=u.y$.transform(e.newPath,t);return u.y$.equals(l,u.y$.next(t.path))&&!n?l=t.path:n&&!u.y$.isSibling(e.path,l)&&(l=u.y$.next(l)),[(0,o.Z)((0,r.Z)({},e),{path:u.y$.transform(e.path,t),newPath:l})]}),merge_node:f(function(e,t){var n=t.path,a=u.y$.previous(n);return(n=u.y$.transform(n,e),u.y$.equals(n,u.y$.next(a)))?u.y$.isParent(u.y$.previous(t.path),e.path)&&u.y$.isParent(t.path,e.newPath)?[(0,o.Z)((0,r.Z)({},e),{path:u.y$.transform(e.path,t),newPath:u.y$.previous(u.y$.transform(e.newPath,t))})]:[(0,o.Z)((0,r.Z)({},e),{path:u.y$.transform(e.path,t),newPath:u.y$.transform(e.newPath,t)})]:[(0,o.Z)((0,r.Z)({},t),{type:"split_node",path:a}),e,{type:"remove_node",path:n,node:{text:""}}]}),move_node:f(function(e,t,n,r){if(u.y$.equals(t.path,t.newPath))return[e];var o=l(e),c=l(t),f="left"===n?[d.apply(void 0,(0,s.Z)(c)),e]:[],h=(0,a.Z)(r(o,c,n),2),p=h[0],g=h[1];if(2===p.length)return"remove_node"!==p[0].type||"insert_node"!==p[1].type?f:[A(p[0],p[1])];if(1===g.length)return f;if("remove_node"!==g[0].type||"insert_node"!==g[1].type)return[];if(0===p.length)p[0]={type:"remove_node",path:c[1].path.concat(o[1].path.slice(c[0].path.length)),node:{text:""}},p[1]={type:"insert_node",path:c[1].path.concat(o[1].path.slice(c[0].path.length)),node:{text:""}};else if("remove_node"===p[0].type)p[1]={type:"insert_node",path:g[1].path.concat(o[1].path.slice(g[0].path.length)),node:{text:""}};else{if("insert_node"!==p[0].type)return f;p[1]=p[0],p[0]={type:"remove_node",path:c[1].path.concat(o[1].path.slice(c[0].path.length)),node:{text:""}}}return[A(p[0],p[1])]}),set_node:f(function(e){return[e]}),insert_text:f(function(e){return[e]}),remove_text:f(function(e){return[e]})},set_node:{split_node:function(e,t){return u.y$.equals(e.path,t.path)?[e,(0,o.Z)((0,r.Z)({},e),{path:u.y$.next(e.path)})]:c(e,t)},merge_node:function(e,t){return u.y$.equals(e.path,t.path)?[]:c(e,t)},set_node:function(e,t,n){if(u.y$.equals(e.path,t.path)){var a="left"===n?(0,r.Z)({},t.newProperties,e.newProperties):(0,r.Z)({},e.newProperties,t.newProperties);return[(0,o.Z)((0,r.Z)({},e),{newProperties:a})]}return[e]}},split_node:{merge_node:function(e,t,n){return u.y$.isParent(e.path,t.path)?[h(e,t,n)]:c(e,t,n)},remove_node:function(e,t,n){return u.y$.isParent(e.path,t.path)?[h(e,t,n)]:c(e,t,n)},insert_node:function(e,t,n){return u.y$.isParent(e.path,t.path)?[h(e,t,n)]:c(e,t,n)},move_node:function(e,t,n){return u.y$.isParent(e.path,t.path)||u.y$.isParent(e.path,t.newPath)?[h(e,t,n)]:c(e,t,n)},split_node:function(e,t,n){return u.y$.isParent(e.path,t.path)?[h(e,t,n)]:c(e,t,n)}}};function g(e,t,n){var r,o;return"set_selection"===t.type?[e]:(null!==(o=null===(r=p[e.type])||void 0===r?void 0:r[t.type])&&void 0!==o?o:c)(e,t,n,v)}function v(e,t,n){for(var c,l,A=function(e){var t=[],n=!0,a=!1,s=void 0;try{for(var c,l,A=e[Symbol.iterator]();!(n=(l=A.next()).done);n=!0){var d=l.value;if(!c){c=d,t.push(d);continue}if("insert_text"===d.type&&"insert_text"===c.type&&d.offset===c.offset+c.text.length&&u.y$.equals(d.path,c.path)){c.isComposed||(c=(0,o.Z)((0,r.Z)({},c),{isComposed:!0}),t[t.length-1]=c),c.text+=d.text;continue}if("remove_text"===d.type&&"remove_text"===c.type&&d.offset===c.offset-c.text.length&&u.y$.equals(d.path,c.path)){c.isComposed||(c=(0,o.Z)((0,r.Z)({},c),{isComposed:!0}),t[t.length-1]=c),c.text+=d.text,c.offset=d.offset;continue}c=d,t.push(d)}}catch(e){a=!0,s=e}finally{try{n||null==A.return||A.return()}finally{if(a)throw s}}return t}(e),d=A.length,f=-1,h=[],p=t;d>0;)d--,f++,c=(l=(0,a.Z)(function(e,t,n){for(var r=[],o=t.length,u=-1;o>0;){o--;var c,l=t[++u],A=(0,a.Z)([g(c=e,l,n),g(l,c,"left"===n?"right":"left")],2),d=A[0],f=A[1];if(r.push.apply(r,(0,s.Z)(f)),0===d.length)return[[],r.concat(t.slice(u+1))];if(1===d.length){e=d[0];continue}var h=(0,a.Z)(v(d,t.slice(u+1),n),2),p=h[0],m=h[1];return[p,r.concat(m)]}return[[e],r]}(A[f],p,n),2))[0],p=l[1],h.push.apply(h,(0,s.Z)(c));return[function(e){var t=[],n=!0,a=!1,u=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done);n=!0)!function(){var e=c.value;if(e.isComposed&&("insert_text"===e.type||"remove_text"===e.type)){e.isComposed=void 0;var n=e.offset,a=Array.from(e.text).map(function(t){var a=(0,o.Z)((0,r.Z)({},e),{text:t,offset:n});return n+=t.length,a});return"remove_text"===e.type&&a.reverse(),t.push.apply(t,(0,s.Z)(a))}t.push(e)}()}catch(e){a=!0,u=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw u}}return t}(h),p]}},46807:function(e,t,n){"use strict";n.d(t,{H4:function(){return c},Kc:function(){return l},R1:function(){return u}});var r=n(70865),o=n(96670),a=n(12995),s=function(e){var t={},n={},r=!0,o=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done);r=!0)!function(){var e=s.value;if(void 0!==e){if(void 0!==e.byElementType){var r=e.byElementType;Object.keys(r).forEach(function(e){return t[e]=r[e]})}if(void 0!==e.byFormat){var o=e.byFormat;Object.keys(o).forEach(function(e){return n[e]=o[e]})}}}()}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return{tagRegistrar:t,formatRegistrar:n}},u=function(e){var t=e.element,n=e.markdown,r=e.childrenMarkdownPosition,o=t.text;switch(r){case"before":return o+n;case"after":return n+o;case"between":return n[0]+o+n[1];default:return""}},c=function(e){var t,n,r=e.editor,o=e.element,a=e.markdown,s=e.serializeChildren,u=e.isInTable,c=e.childrenMarkdownPosition,l=null!==(n=null===(t=o.children)||void 0===t?void 0:t.map(function(e){return s({editor:r,element:e,serializeChildren:s,isInTable:u})}).join(""))&&void 0!==n?n:"";switch(c){case"before":return l+a;case"after":return a+l;case"between":return a[0]+l+a[1];default:return""}},l=function(e,t){var n=s(t.map(function(e){return e.toMarkdown})),u=n.tagRegistrar,l=n.formatRegistrar,A=function(e){var t=e.editor,n=e.element,o=e.serializeChildren,a=Object.keys(n).map(function(e){return l[e]}).filter(function(e){return void 0!==e});if(!a.length)return n.text;var s=(0,r.Z)({},n),u=!0,c=!1,A=void 0;try{for(var d,f=a[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var h=(0,d.value)({editor:t,element:s,serializeChildren:o});s.text=h}}catch(e){c=!0,A=e}finally{try{u||null==f.return||f.return()}finally{if(c)throw A}}return s.text},d=function(e){var t,n=e.editor,s=e.element,l=e.serializeChildren,d=e.isInTable;return a.xv.isText(s)?A({editor:n,element:s,serializeChildren:l,isInTable:d}):(null!==(t=u[s.type])&&void 0!==t?t:function(e){return c((0,o.Z)((0,r.Z)({},e),{markdown:"",childrenMarkdownPosition:"after"}))})({editor:n,element:s,serializeChildren:l,isInTable:d})};return{toMarkdown:function(t,n){var o=n||e.children;if(t){var a=s(t),c=a.tagRegistrar,A=a.formatRegistrar;u=(0,r.Z)({},u,c),l=(0,r.Z)({},l,A)}return o.map(function(t){return d({editor:e,element:t,serializeChildren:d})}).join("")}}}},3723:function(e,t,n){"use strict";n.d(t,{m:function(){return s}});var r=n(12995),o=n(85009),a=n(8875);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Jh)();return(0,o.BU)((0,a.V)(e))}},26575:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var r=n(1899),o=n(76592);function a(e,t){var n=t.map(function(e){return e.eventHandlers}).filter(function(e){return void 0!==e}).reduce(function(e,t){return Object.keys(t).forEach(function(n){var r=t[n];n in e&&e[n]?e[n].push(r):e[n]=[r]}),e},{});return Object.keys(n).reduce(function(a,s){return a[s]=function(a){var u=n[s];if(u){var c=!0,l=!1,A=void 0;try{for(var d,f=u[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var h=function(){var n=d.value;try{var r,u=n(e,a);if(!0===u)return a.preventDefault(),null===(r=e.eventLogger)||void 0===r||r.call(e,"dom_event",{event:s}),{v:!0}}catch(r){if("function"==typeof e.handleError){var c,l=t.find(function(e){return e.eventHandlers&&e.eventHandlers[s]===n});e.handleError((0,o.E)(r,"UserAction",{method:s,plugin:null!==(c=null==l?void 0:l.name)&&void 0!==c?c:"Uknown"}))}}}();if("object"===(0,r.Z)(h))return h.v}}catch(e){l=!0,A=e}finally{try{c||null==f.return||f.return()}finally{if(l)throw A}}}},a},{})}},56560:function(e,t,n){"use strict";n.d(t,{E:function(){return L}});var r=n(87394),o=n(60417),a=/*#__PURE__*/n.n(o),s=n(75652),u=/*#__PURE__*/n.n(s),c=n(12995),l=n(70865),A=n(96670),d=n(20672),f=n(69992),h=n(47842),p=n(42838),g=n(26297),v=n(50930),m=n(34519),y=/*#__PURE__*/n.n(m),b=n(3220),w=n(37578),_=n(59806),E=n(69803),C=new Set(["a","abbr","acronym","audio","b","bdi","bdo","big","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","label","map","mark","meter","object","output","picture","progress","q","ruby","s","samp","script","select","slot","small","span","strong","sub","sup","svg","template","textarea","time","u","tt","var","video","wbr"]);function B(e){if("function"==typeof e)return e;var t=(0,b.pq)(e);return function(e){var n=e.domNode,r=e.parseChildren,o=(0,g.Z)(e,["domNode","parseChildren"]),a=r((0,l.Z)({domNode:n.childNodes,parseChildren:r},o));return(0,A.Z)((0,l.Z)({},t),{children:a})}}function I(e){var t="string"==typeof e?(0,h.Z)({},e,!0):e;return function(e){var n=e.domNode,r=e.parseChildren,o=e.textProps;return r({domNode:n.childNodes,parseChildren:r,textProps:(0,l.Z)({},void 0===o?{}:o,t)})}}function x(e,t){var n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u,c=a.value;c.customRules&&(u=e.customRules).push.apply(u,(0,v.Z)(c.customRules)),(null==c?void 0:c.byTag)&&Object.assign(e.byTag,y()(c.byTag,B)),(null==c?void 0:c.formatsByTag)&&Object.assign(e.byTag,y()(c.formatsByTag,I))}}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return e}function T(e){(0,p.Z)(e.firstElementChild,HTMLBRElement)&&e.removeChild(e.firstElementChild),(0,p.Z)(e.lastElementChild,HTMLBRElement)&&e.removeChild(e.lastElementChild),0===e.childNodes.length&&e.parentNode&&e.parentNode.removeChild(e)}function S(e){return e?Array.isArray(e)?e:[e]:[]}var k=function(e,t){var n={customRules:[],byTag:{}};x(n,t.filter(function(e){return void 0!==e.fromHtml}).map(function(e){return e.fromHtml}));var r=e.insertTextData;return{fromHtml:function(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r&&x(n,r),(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=function(e){var r=e.domNode,a=e.parseChildren,s=e.textProps,u=void 0===s?{}:s;try{if((0,p.Z)(r,NodeList)&&(r=Array.from(r)),Array.isArray(r))return Array.from(r).flatMap(function(e){return null!==(E=o({domNode:e,parseChildren:a,textProps:u}))&&void 0!==E?E:[]});if(r.nodeType===Node.TEXT_NODE)return[(0,l.Z)({text:(null!==(C=r.textContent)&&void 0!==C?C:"").replaceAll(/\s+/g," ")},u)];if((0,p.Z)(r,HTMLElement)){if(g=r,v=u,m={},y=g.style.fontWeight,(v.bold&&!y||"bold"===y||"bolder"===y||/^\d+$/.test(y)&&y[0]>"5")&&(m.bold=!0),b=g.style.fontStyle,(v.italic&&!b||"italic"===b||b.startsWith("oblique"))&&(m.italic=!0),w=g.style.textDecoration,_=g.style.borderBottomWidth,(v.underline&&!w||w.includes("underline")||_&&0!==parseFloat(_))&&(m.underline=!0),(v.strike&&!w||w.includes("line-through"))&&(m.strike=!0),u=m,"presentation"===r.getAttribute("role"))return a({domNode:Array.from(r.childNodes),parseChildren:a,textProps:u});var c=t.customRules,A=t.byTag,d=!0,f=!1,h=void 0;try{for(var g,v,m,y,b,w,_,E,C,B,I=c[Symbol.iterator]();!(d=(B=I.next()).done);d=!0){var x=(0,B.value)({domNode:r,parseChildren:a,textProps:u},n);if(x)return S(x)}}catch(e){f=!0,h=e}finally{try{d||null==I.return||I.return()}finally{if(f)throw h}}var T=r.nodeName;if(T&&A[T]){var k=A[T]({domNode:r,parseChildren:a,textProps:u},n);if(k)return S(k)}return a({domNode:Array.from(r.childNodes),parseChildren:a,textProps:u})}return[]}catch(e){return console.error("Error parsing",e),[]}};!function(e,t){var n=t.keepEmptyLines;if(e.querySelectorAll("meta").forEach(function(e){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)}),null===(u=e.firstElementChild)||void 0===u?void 0:u.id.startsWith("docs-internal-guid")){for(;e.firstElementChild.childNodes.length;)e.appendChild(e.firstElementChild.firstChild);e.removeChild(e.firstElementChild)}var r=e.ownerDocument.createElement("p"),o=!0,a=!1,s=void 0;try{for(var u,c,l=Array.from(e.childNodes)[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var A=c.value;A.nodeType===e.TEXT_NODE||C.has(A.nodeName.toLowerCase())?(null===r.parentNode&&e.insertBefore(r,A),n||r.appendChild(A)):r.parentNode&&(T(r),r=e.ownerDocument.createElement("p"))}}catch(e){a=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}n||T(r),e.querySelectorAll("br.Apple-interchange-newline").forEach(function(e){var t;null===(t=e.parentNode)||void 0===t||t.removeChild(e)});var d=e.querySelectorAll("li p"),f=!0,h=!1,g=void 0;try{for(var v,m=d[Symbol.iterator]();!(f=(v=m.next()).done);f=!0)!function(){for(var e,t,n=v.value,r=n.ownerDocument.createElement("span"),o=0;o<n.style.length;o++)""===r.style.getPropertyValue(n.style[o])&&r.style.setProperty(n.style[o],n.style.getPropertyValue(n.style[o]));Array.from(n.childNodes).forEach(function(e){return r.append(e)}),null===(e=n.parentNode)||void 0===e||e.insertBefore(r,n),null===(t=n.parentNode)||void 0===t||t.removeChild(n)}()}catch(e){h=!0,g=e}finally{try{f||null==m.return||m.return()}finally{if(h)throw g}}var y=e.querySelectorAll("ul > ul, ol > ol, ul > ol, ol > ul"),b=!0,w=!1,_=void 0;try{for(var E,B=y[Symbol.iterator]();!(b=(E=B.next()).done);b=!0){var I,x=E.value,S=void 0;x.previousElementSibling&&(0,p.Z)(x.previousElementSibling,HTMLLIElement)?S=x.previousElementSibling:(S=e.ownerDocument.createElement("li"),null===(I=x.parentElement)||void 0===I||I.insertBefore(S,x)),S.appendChild(x)}}catch(e){w=!0,_=e}finally{try{b||null==B.return||B.return()}finally{if(w)throw _}}var k=e.querySelectorAll("p"),D=["hr","img"],N=!0,O=!1,F=void 0;try{for(var R,L=k[Symbol.iterator]();!(N=(R=L.next()).done);N=!0){var M,P,U=R.value,j=Array.from(U.children),Z=0===j.length&&!U.textContent,Q=!j.find(function(e){return D.includes(e.tagName.toLocaleLowerCase())})&&(null===(M=U.textContent)||void 0===M?void 0:M.trim())==="";(Z||Q)&&(n?U.innerHTML="":null===(P=U.parentNode)||void 0===P||P.removeChild(U))}}catch(e){O=!0,F=e}finally{try{N||null==L.return||L.return()}finally{if(O)throw F}}var H=e.querySelectorAll("ul, ol, li, table, thead, tbody, tr"),V=!0,K=!1,z=void 0;try{for(var G,W=H[Symbol.iterator]();!(V=(G=W.next()).done);V=!0)!function(){var e=G.value;e.childNodes.forEach(function(t){t.nodeType===Node.TEXT_NODE&&"\n"===t.textContent&&e.removeChild(t)})}()}catch(e){K=!0,z=e}finally{try{V||null==W.return||W.return()}finally{if(K)throw z}}}(e,r);var a=o({domNode:e,parseChildren:o});return S(a=a.filter(function(e){return!c.xv.isText(e)||""!==e.text.trim()}))})(t,n,e,o).map(function(t){return c.ML.isInline(e,t)||c.xv.isText(t)?{type:"paragraph",children:[t]}:t})},insertTextData:function(t){try{var n=function(e,t){var n=e.getData("text/html"),r=e.getData("text/plain");if(n){var o=new DOMParser().parseFromString(n,"text/html");if(!1===function(e){if((0,p.Z)(e.firstElementChild,HTMLTableElement)&&e.firstElementChild.dataset.tabSize)return!0;var t=!0,n=!1,r=void 0;try{for(var o,a=e.childNodes[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s,u=o.value;if("#text"===u.nodeName&&(null===(s=u.textContent)||void 0===s?void 0:s.trim())!==""||(0,p.Z)(u,HTMLElement)&&!1===(0,p.Z)(u,HTMLPreElement)&&!1===u.style.fontFamily.includes("monospace")&&"Apple-interchange-newline"!==u.className)return!1}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return!0}(o.body))return{fragment:t.fromHtml(o.body),isParsedAsCode:!1,text:r}}if(/[{}[\]():;'"><=|]/.test(r)){var a,s,u,c=E.ZP.highlightAuto(r);if(null===(u=t.eventLogger)||void 0===u||u.call(t,"paste",{language:c.language,relevance:c.relevance,secondBest:null===(a=c.secondBest)||void 0===a?void 0:a.language,secondBestRelevance:null===(s=c.secondBest)||void 0===s?void 0:s.relevance}),c.language&&"markdown"!==c.language&&"plaintext"!==c.language)return{fragment:[(0,_.mj)(r)],isParsedAsCode:!0,text:r}}return{fragment:t.fromHtml((0,w.e)(r)),isParsedAsCode:!1,text:r}}(t,e),o=n.fragment,a=n.isParsedAsCode,s=n.text;return a?(c.YR.insertNodes(e,[{text:s}]),e.sealHistoryEntry(),c.YR.delete(e,{distance:s.length,reverse:!0,unit:"character"}),e.insertFragment(o),e.sealHistoryEntry()):e.insertFragment(o),!0}catch(e){return r(t)}}}},D=n(46807),N=n(76592),O=n(93707),F=n(53942),R=n(56704);function L(e,t,n,o,s,h,p){var g,v,m,y,w,_,E,C,B,I,x,T,S,L,M,P,U,j,Z,Q,H,V,K=e;return g=K,v=(0,R.lC)(t,function(e){return"inline"in e&&e.inline}),m=g.isInline,g.isInline=function(e){return!!v.includes(e.type)||m(e)},y=K=g,w=(0,R.lC)(t,function(e){return"void"in e&&e.void}),_=(0,R.x0)(t,"isVoid"),E=y.isVoid,y.isVoid=function(e){if(w.includes(e.type))return!0;if(e.type in _){var t=_[e.type];if("function"==typeof t)return t(y,e)}return E(e)},C=K=y,B=(0,R.lC)(t,function(e){return"enterBehavior"in e&&e.enterBehavior}),I=(0,R.lC)(t,function(e){return"softBreakBehavior"in e&&e.softBreakBehavior}),x=C.insertBreak,T=C.insertSoftBreak,C.insertBreak=function(){if((0,F.ss)(C)&&c.YR.move(C,{unit:"offset",distance:1}),(0,F.MO)(C,B["soft-break"])){C.insertText("\n");return}var e=(0,F.MO)(C,B["split-parent"]);if(e){(0,b.a8)(C,e[1]);return}var t=(0,F.MO)(C,B["create-paragraph"]);if(t){(0,b.iL)(C,{type:t[0].type});return}var n=(0,F.MO)(C,B["paragraph-below"]);if(n){var r=c.y$.next(n[1]);c.YR.insertNodes(C,{type:"paragraph",children:[{text:""}]},{at:r}),c.YR.select(C,r);return}x()},C.insertSoftBreak=function(){if((0,F.MO)(C,I["soft-break"])){C.insertText("\n");return}T()},S=K=function(e,t){var n={},o=[],a=[],s=e.normalizeNode;(0,R.B9)(t,function(e,t){t&&"normalize"in t&&"function"==typeof t.normalize&&(n[e]=t.normalize)});var u=!0,c=!1,l=void 0;try{for(var A,d=t[Symbol.iterator]();!(u=(A=d.next()).done);u=!0){var f=A.value;"function"==typeof f.normalizeEditor&&o.push(f.normalizeEditor),"function"==typeof f.genericNormalizer&&a.push(f.genericNormalizer)}}catch(e){c=!0,l=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw l}}return e.normalizeNode=function(t){var u=(0,r.Z)(t,2),c=u[0],l=u[1];if(!l.length){var A=!0,d=!1,f=void 0;try{for(var h,p=o[Symbol.iterator]();!(A=(h=p.next()).done);A=!0)if((0,h.value)(e,[c,l]))return!0}catch(e){d=!0,f=e}finally{try{A||null==p.return||p.return()}finally{if(d)throw f}}s([c,l]);return}if("type"in c){var g=!0,v=!1,m=void 0;try{for(var y,b=a[Symbol.iterator]();!(g=(y=b.next()).done);g=!0)if((0,y.value)(e,[c,l]))return!0}catch(e){v=!0,m=e}finally{try{g||null==b.return||b.return()}finally{if(v)throw m}}}var w="type"in c&&n[c.type];if("type"in c&&"function"==typeof w&&w(e,[c,l]))return!0;s([c,l])},e}(K=C,t),L=u()(a()(t.map(function(e){return e.onChange}))),M=S.onChange,S.onChange=function(){L.forEach(function(e){return e(S)}),M()},P=K=S,U=(0,D.Kc)(P,t).toMarkdown,Z=(j=k(P,t)).fromHtml,Q=j.insertTextData,P.fromHtml=Z,P.toMarkdown=U,P.insertTextData=Q,H=K=P,V=(0,R.lC)(t,function(e){return"isContainerBlock"in e&&!!e.isContainerBlock}),H.isContainerBlock=function(e){return c.ML.isBlock(H,e)&&V.includes(e.type)},K=H,t.forEach(function(e){e.editor&&(K=e.editor(K))}),K=function(e,t){var n=e.insertText,r=(0,R.lC)(t,function(e){return"disableTextInputHandlers"in e&&e.disableTextInputHandlers}),o=!0,a=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var A,d=u.value;(null===(A=d.textInputHandlers)||void 0===A?void 0:A.length)&&(e=(0,O.Kj)(e,d.textInputHandlers))}}catch(e){a=!0,s=e}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}var f=e.insertText;return e.insertText=function(t){if(c.ML.above(e,{match:function(e){return"type"in e&&!!r.includes(e.type)}})){n(t);return}f(t)},e}(K,t),o&&(K=(0,N.K)(K,o)),n&&(K=function(e,t,n){if(!t||t.editor===e)return e;t.setEditor(e);var o=e.onChange;return t.triggerUpdate=o,t.onRemoteOpsReceived(function(n){if((null===(o=e.children)||void 0===o?void 0:o.length)&&n.ops.length){var o,a=n.ops.map(function(e){return(0,A.Z)((0,l.Z)({},e),{isRemote:!0})});d.MO.withoutSaving(e,function(){a&&a.length&&c.ML.withoutNormalizing(e,function(){var t=!0,n=!1,r=void 0;try{for(var o,s=a[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var u=o.value;if("set_selection"!==u.type)try{e.apply(u)}catch(e){throw e}}}catch(e){n=!0,r=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw r}}}),function(e,t,n){var o=n>t.clientId?"right":"left";if(null===(d=e.history)||void 0===d?void 0:null===(h=d.undos)||void 0===h?void 0:h.length){var a=[],s=!0,u=!1,c=void 0;try{for(var d,h,p,g,v,m=e.history.undos.reverse()[Symbol.iterator]();!(s=(v=m.next()).done);s=!0){var y=v.value,b=(0,r.Z)((0,f.YV)(y.operations,t.ops,o),1)[0];if(b.length){var w=(0,A.Z)((0,l.Z)({},y),{operations:b});a.unshift(w)}}}catch(e){u=!0,c=e}finally{try{s||null==m.return||m.return()}finally{if(u)throw c}}e.history.undos=a}if(null===(p=e.history)||void 0===p?void 0:null===(g=p.redos)||void 0===g?void 0:g.length){var _=[],E=!0,C=!1,B=void 0;try{for(var I,x=e.history.redos.reverse()[Symbol.iterator]();!(E=(I=x.next()).done);E=!0){var T=I.value,S=(0,r.Z)((0,f.YV)(T.operations,t.ops,o),1)[0];if(S.length){var k=(0,A.Z)((0,l.Z)({},T),{operations:S});_.unshift(k)}}}catch(e){C=!0,B=e}finally{try{E||null==x.return||x.return()}finally{if(C)throw B}}e.history.redos=_}}(e,n,t.clientId)})}}),n||(e.onChange=function(){var n=e.operations.filter(function(e){return!e.isRemote});n.length&&t.sendOps(n,e.selection),o()}),e}(K,n,null!=p&&p)),s&&(K.eventLogger=s),h&&(K.toast=h),K}},3220:function(e,t,n){"use strict";n.d(t,{UT:function(){return B},Yl:function(){return y},Z3:function(){return k},a8:function(){return E},dV:function(){return function e(t,n){var r=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if(A()(c,n))return c;if("children"in c){var l=e(c.children,n);if(l)return l}}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}},iL:function(){return w},m_:function(){return C},nv:function(){return x},oe:function(){return S},pq:function(){return v},q2:function(){return m},s6:function(){return _},uk:function(){return I},um:function(){return T}});var r=n(70865),o=n(96670),a=n(26297),s=n(87394),u=n(18149),c=/*#__PURE__*/n.n(u),l=n(61726),A=/*#__PURE__*/n.n(l),d=n(17620),f=/*#__PURE__*/n.n(d),h=n(12995),p=n(53942),g=n(72572);function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"string"==typeof e?{type:e}:("function"==typeof e&&(e=e(t)),e)}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.at,o=void 0===r?e.selection:r;return!(!o||(0,p.wu)(e,{at:o,type:t.type}))&&y(e,t,n)}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.at,u=void 0===a?e.selection:a,c=t.type;if(!u)return!1;var l=h.ML.unhangRange(e,u),A=(0,s.Z)(h.e6.edges(l),2),d=A[0],f=A[1];if(h.e6.isCollapsed(l)){if((0,p.wu)(e,{at:u,type:c}))return h.YR.unwrapNodes(e,{at:u,match:function(e){return"type"in e&&e.type===c}}),!0;var v=0===u.focus.offset||u.focus.offset===h.ML.node(e,u.focus.path)[0].text.length;return h.YR.insertNodes(e,[(0,o.Z)((0,r.Z)({},t),{children:[{text:g.$}]})],{at:u}),v&&h.YR.move(e,{unit:"character",distance:1}),!0}if(h.y$.equals(d.path,f.path))return b(e,t,{range:l,selectNode:!0});var m=(0,p.Qs)(e,l,{type:c});return h.ML.withoutNormalizing(e,function(){var n=[],r=!0,o=!0,a=!1,u=void 0;try{for(var A,g=h.NB.texts(e,{from:f.path,to:d.path,reverse:!0})[Symbol.iterator]();!(o=(A=g.next()).done);o=!0){var v=(0,s.Z)(A.value,2),y=(v[0],v[1]),w=h.e6.intersection(l,h.ML.range(e,y));if(w){var _=h.ML.rangeRef(e,w,{affinity:"backward"});n.push(_),b(e,t,{range:w,selectNode:r,forceCreate:m}),r=!1}}}catch(e){a=!0,u=e}finally{try{o||null==g.return||g.return()}finally{if(a)throw u}}(function(e,t,n){var r=!0,o=!1,a=void 0;try{for(var s,u=t[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value,l=c.unref();if(l&&c!==t.at(-1)){var A=(0,p.wu)(e,{at:l,type:n});if(A){var d=h.y$.previous(A[1]),f=h.NB.get(e,d);"type"in f&&f.type===n&&h.YR.mergeNodes(e,{at:l.anchor.path,match:function(e){return"type"in e&&e.type===n}})}}}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}})(e,n,c)}),!0}function b(e,t,n){var r=n.range,o=n.selectNode,a=n.forceCreate,u=t.type,c=(0,s.Z)(h.e6.edges(r),2),l=c[0],A=c[1],d=Object.assign({children:[]},t),f=(0,p.wu)(e,{at:r,type:u}),g=h.ML.pointRef(e,l),v=h.ML.pointRef(e,A,{affinity:"backward"});return h.ML.withoutNormalizing(e,function(){var t=f?function(e){return"type"in e&&e.type===u}:function(e){return h.xv.isText(e)};A.offset!==h.ML.end(e,A.path).offset&&h.YR.splitNodes(e,{at:A,match:t}),0!==l.offset&&h.YR.splitNodes(e,{at:l,match:t}),f?(h.YR.unwrapNodes(e,{match:function(e){return"type"in e&&e.type===u},at:{focus:v.current,anchor:g.current}}),a&&h.YR.wrapNodes(e,d,{match:function(e){return h.xv.isText(e)},at:{focus:v.current,anchor:g.current}})):h.YR.wrapNodes(e,d,{match:function(e){return h.xv.isText(e)},at:{focus:v.current,anchor:g.current}}),o?h.YR.select(e,{focus:g.current,anchor:v.current}):h.YR.setSelection(e,{focus:g.current})}),g.unref(),v.unref(),!0}function w(e,t){var n=t.at,r=void 0===n?e.selection:n,o=t.type;if(!r)return!1;var a=(0,p.yi)(e,{at:r}),s=(0,p.FU)(e,{at:r,includeOffset:!0});if(a||s){var u,c=null===(u=h.ML.above(e,{at:r,match:function(t){return h.ML.isBlock(e,t)}}))||void 0===u?void 0:u[1];if(c){var l=s?c:h.y$.next(c);return h.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:l,select:!s}),!0}}return h.ML.withoutNormalizing(e,function(){var t=h.ML.rangeRef(e,r);h.YR.splitNodes(e,{at:r,always:!0});var n=t.unref();n&&h.YR.setNodes(e,{type:"paragraph"},{at:h.e6.end(n),match:function(e){return"type"in e&&e.type===o}})}),!0}function _(e,t,n){var r,o=n.levels,a=n.abovePath,s=h.ML.pathRef(e,t);if(null!=o)r=o;else if(null!=a)r=t.length-a.length;else{console.warn("Invalid liftElement!");return}h.ML.withoutNormalizing(e,function(){for(var t,n;r>0&&(null!==(n=null===(t=s.current)||void 0===t?void 0:t.length)&&void 0!==n?n:0)>=2;)h.YR.liftNodes(e,{at:s.current}),r--}),s.unref()}function E(e,t){h.ML.withoutNormalizing(e,function(){h.YR.splitNodes(e,{always:!0}),h.YR.splitNodes(e,{at:h.y$.next(t),always:!0})})}function C(e,t,n){var r=n.target,o=n.retainParentType,u=n.retainLevel,c=(0,a.Z)(n,["target","retainParentType","retainLevel"]),l=(0,p.wu)(e,c);if(!l)return!1;var A=(0,s.Z)(l,2),d=(A[0],A[1]),f=r;if((void 0===o||o)&&!r){var g=h.NB.get(e,h.y$.parent(d));f=g&&"type"in g?{type:g.type}:void 0}var v=(0,p._p)(e,d,t,{matchArgs:f,retainLevel:u});return!!(v&&h.NB.has(e,v))&&("down"===t&&0===v[v.length-1]&&(v[v.length-1]=1),h.YR.moveNodes(e,{at:d,to:v}),!0)}function B(e,t){return e&&t&&"type"in e&&"type"in t&&e.type===t.type&&c()(f()(e,"children"),f()(t,"children"))}function I(e,t){var n=(0,s.Z)(t,2),r=n[0],o=n[1];if(0===r.children.length||1===r.children.length&&h.xv.isText(r.children[0])&&""===r.children[0].text)return h.YR.removeNodes(e,{at:o}),!0}var x=function(e,t){var n,r=h.NB.nodes(e);do n=r.next();while(function(e){var n;return(null===(n=e.value)||void 0===n?void 0:n[0].id)!==t&&!e.done}(n));return n.value?n.value:null},T=function(e,t){if(0===e.children.length)return!0;if(!(null==t?void 0:t.requireText)&&e.children.length>1)return!1;var n=!0,r=!1,o=void 0;try{for(var a,s=e.children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(function e(n){return!!h.xv.isText(n)&&""!==n.text||("children"in n?n.children.length>1&&(null==t||!t.requireText)||n.children.some(e):void 0)}(u))return!1}}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return!0},S=function(e){h.YR.delete(e,{at:{anchor:h.ML.start(e,[]),focus:h.ML.end(e,[])}})};function k(e,t,n){if(h.NB.has(e,t)){if(!h.NB.has(e,t.concat(0))){h.YR.removeNodes(e,{at:t});return}h.YR.unwrapNodes(e,null!=n?n:{at:t})}}},76592:function(e,t,n){"use strict";n.d(t,{E:function(){return d},K:function(){return h}});var r=n(42838),o=n(70865),a=n(96670),s=n(26297),u=n(87394),c=n(12995),l=n(32021),A=c.ML.normalize;function d(e,t,n){if(e&&"object"==typeof e&&"error"in e&&"area"in e)return e;var s=(0,r.Z)(e,l.bS),u=s?e:new l.bS(e,t);return(0,a.Z)((0,o.Z)({},n),{error:u,area:s?e.code:t})}function f(e){if((0,r.Z)(e,l.bS)){console.error(e);return}var t=e.error,n=(0,s.Z)(e,["error"]);console.error(t),console.warn(n)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,n=e.normalizeNode,o=function(n){e.operations=[];var o=(0,r.Z)(n,l.bS)?n:n.error;o.handled||(t(n),o.handled=!0)};return e.handleError=o,e.normalizeNode=function(t){try{n(t)}catch(n){var r=(0,u.Z)(t,1)[0],a=d(n,"Normalize",{nodeType:"type"in r?r.type:"text"in r?"Text":"Editor"});if(o(a),e.__skipNormalizationError)return;throw a.error}},e}c.ML.normalize=function(e,t){try{A(e,t)}catch(t){var n=d(t,"Normalize",{});if("function"==typeof e.handleError&&e.handleError(n),e.__skipNormalizationError)return;throw n.error}}},20660:function(e,t,n){"use strict";n.d(t,{HI:function(){return a},h4:function(){return o},oy:function(){return s}});var r=n(12995);function o(e,t){var n;(n=r.ML.marks(e))&&!0===n[t]?r.ML.removeMark(e,t):r.ML.addMark(e,t,!0)}var a=function(e,t,n){n?r.ML.addMark(e,t,!0):r.ML.removeMark(e,t)},s=function(e,t){var n=Array.from(r.NB.texts(e,{from:t,to:t})).map(function(t){return r.ML.pathRef(e,t[1])}),o=["bold","italic","strike","underline"].reduce(function(e,t){return e[t]=void 0,e},{});n.forEach(function(t){var n=t.unref();n&&r.YR.setNodes(e,o,{at:n})})}},87739:function(e,t,n){"use strict";n.d(t,{AA:function(){return g},R4:function(){return p},UN:function(){return v},km:function(){return f},yy:function(){return h}});var r=n(87394),o=n(50930),a=n(12995),s=n(2012),u=n(95181),c=n(41955),l=n(58490),A=n(31632),d=n(31639),f=function(e){if(e.selection)return a.ML.unhangRange(e,e.selection,{voids:!0})},h=function(e,t){return!t.includes(e.type)},p=function(e,t){var n=(0,l.ZA)(e,{withPaths:!0,match:function(e,n){return h(e,t)}}).map(function(t){return a.ML.pathRef(e,t[1])});a.ML.withoutNormalizing(e,function(){n.forEach(function(t){if(t.current){a.YR.setNodes(e,{type:"paragraph"},{at:t.current});var n=!0,s=!1,u=void 0;try{for(var c,l=a.ML.nodes(e,{at:t.current,match:a.xv.isText,reverse:!0})[Symbol.iterator]();!(n=(c=l.next()).done);n=!0)for(var A=(0,r.Z)(c.value,2),d=A[0],f=A[1],h=d.text.lastIndexOf("\n");-1!==h;)a.YR.splitNodes(e,{at:{path:f,offset:h},match:function(){return!0}}),a.YR.insertNodes(e,[{type:"paragraph",children:[{text:""}]}],{at:a.y$.next(t.current)}),a.YR.moveNodes(e,{at:a.y$.next(f),to:(0,o.Z)(a.y$.next(t.current)).concat([0])}),a.YR.delete(e,{at:{path:(0,o.Z)(a.y$.next(t.current)).concat([0]),offset:0},distance:1,unit:"character"}),h=d.text.lastIndexOf("\n",h-1)}catch(e){s=!0,u=e}finally{try{n||null==l.return||l.return()}finally{if(s)throw u}}t.unref()}})})},g=function(e,t,n,r){var s=(0,l.ZA)(e,{withPaths:!0,match:function(e){return h(e,n)}});(0,c.U)(e,s,t);var u=(s=(0,l.ZA)(e,{withPaths:!0})).reduce(function(e,t){var o=t[0];return o.type!==r&&h(o,n)?e[e.length-1].push(t):e.push([]),e},[[]]).filter(function(e){return 0!==e.length}),A=u.map(function(t){return t.map(function(t){return a.ML.pathRef(e,t[1])})});u.forEach(function(t,n){var s=A[n].reverse(),u=s[s.length-1].current,c={type:r,children:[]};u&&(a.YR.insertNodes(e,c,{at:u}),s.filter(function(e){return e.current}).forEach(function(t,n){0!==n&&a.YR.insertNodes(e,[{text:"\n"}],{at:(0,o.Z)(u).concat([c.children.length])}),a.YR.moveNodes(e,{at:t.unref(),to:(0,o.Z)(u).concat([c.children.length])})}))})},v=function(e,t,n){var r,o,c,l=t.find(function(e){return"code"===e.name}),h=null!==(c=null==l?void 0:null===(r=l.conversionRules)||void 0===r?void 0:null===(o=r["code-block"])||void 0===o?void 0:o.disallowedTypes)&&void 0!==c?c:[];if(n!==(0,d.r)(e)){if(n===A.ck.Normal)p(e,h);else{var v=a.ML.rangeRef(e,f(e));Array.from(a.ML.nodes(e,{at:v.current,match:u.mY})).map(function(t){return a.ML.pathRef(e,t[1])}).forEach(function(t){return a.YR.unwrapNodes(e,{at:t.unref()})});for(var m=Array.from(a.ML.nodes(e,{at:v.current,match:s.SQ})).map(function(t){return{node:t[0],pathRef:a.ML.pathRef(e,t[1])}}),y=0;y<m.length;y++){var b=m[y],w=b.node,_=b.pathRef,E=w.mentionData;if(E){var C=E.email;a.YR.insertText(e,null!=C?C:"",{voids:!0,at:_.current}),a.YR.unwrapNodes(e,{at:_.unref(),voids:!0})}}a.YR.setSelection(e,v.unref()),g(e,t,h,"code-block")}}}},93707:function(e,t,n){"use strict";n.d(t,{O2:function(){return v},bO:function(){return g},dC:function(){return h},pM:function(){return m},Kj:function(){return p}});var r=n(70865),o=n(96670),a=n(87394),s=n(12995),u=/[.*+?^${}()|[\]\\]/g;function c(e){return e.replace(u,"\\$&")}var l=n(3037),A=n(3220),d=n(20660),f=n(53942);function h(e){var t,n=e.matchMode,r=e.customTest,o=e.isDisabledInTable,u="inline"in e&&e.inline,d="void"in e&&e.void,h="element"in e&&!u;if("customRegExp"in e)t=e.customRegExp;else{var p=e.str,g=c(p),v=c(p[0]);t=new RegExp("surround"===n?"(\\b|\\s|\\(|^)".concat(g,"([^").concat(v,"]+)").concat(g,"(\\b|\\s|\\)|\\.|\\,|\\!|\\?|$)"):"^".concat(g,"(?:\\b|\\s|$)"))}var m=function(u,c){var d=c.leafNode,p=c.insertedText;if(o&&(0,f.wu)(u,{type:"table"})||"str"in e&&!e.str.includes(p)&&!p.includes(e.str))return!1;var g=s.ML.above(u,{match:function(e){return s.ML.isBlock(u,e)}});if(!g)return t.test(d.text);var v=(0,a.Z)(g,1)[0];return!!((!h||(0,l.RF)(v)||v.type===(0,A.pq)(e.element).type)&&("start"!==n||(0,f.FU)(u))&&t.test(d.text)&&(!r||r(u,d,p)))};return function(r,o){var c=o.leafNode;if(!1===m(r,{leafNode:c,insertedText:o.insertedText}))return!1;var l=r.selection.focus,f=l.path,h=l.offset,p=c.text.match(t),g=(0,a.Z)(p,4),v=g[0],y=g[1],b=g[2],w=g[3];if(r.sealHistoryEntry(),"surround"===n?(s.YR.delete(r,{at:{path:f,offset:p.index+y.length},distance:v.length-y.length-w.length}),s.YR.insertText(r,b,{at:{path:f,offset:p.index+y.length}}),s.YR.setSelection(r,{anchor:{path:f,offset:p.index+y.length},focus:{path:f,offset:p.index+b.length+y.length}})):"start"===n&&"str"in e&&s.YR.delete(r,{distance:e.str.length,at:{path:f,offset:0}}),"format"in e)s.ML.addMark(r,e.format,!0),s.YR.setSelection(r,{anchor:r.selection.focus,focus:r.selection.focus}),s.ML.removeMark(r,e.format),null===(_=r.eventLogger)||void 0===_||_.call(r,"auto_format",{type:e.format});else if("element"in e){var _,E,C=(0,A.pq)(e.element,b);if(u){var B=r.selection;0===w.length&&(s.YR.setSelection(r,{focus:B.focus,anchor:B.focus}),s.YR.insertText(r," "),s.YR.setSelection(r,B)),(0,A.q2)(r,C,{at:B})||(h===c.text.length?s.YR.setSelection(r,{focus:{path:f,offset:c.text.length}}):s.YR.setSelection(r,{focus:{path:f,offset:h-1}}));var I=s.e6.end(r.selection);s.YR.setSelection(r,{focus:I,anchor:I}),s.YR.move(r,{unit:"character",distance:w.length||1})}else s.YR.setNodes(r,C,{match:function(e){return s.ML.isBlock(r,e)}});null===(E=r.eventLogger)||void 0===E||E.call(r,"auto_format",{type:C.type})}return d&&s.YR.move(r,{distance:1}),!0}}function p(e,t){var n=e.insertText;return e.insertText=function(r){if(n(r),e.selection){var o=e.selection.focus.path,a=s.NB.leaf(e,o),u=!0,c=!1,l=void 0;try{for(var A,d=t[Symbol.iterator]();!(u=(A=d.next()).done)&&!(0,A.value)(e,{leafNode:a,insertedText:r});u=!0);}catch(e){c=!0,l=e}finally{try{u||null==d.return||d.return()}finally{if(c)throw l}}}},e}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{shortKey:!0};return(0,o.Z)((0,r.Z)({name:t},n),{key:e,handler:function(e){var n;return(0,d.h4)(e,t),null===(n=e.eventLogger)||void 0===n||n.call(e,"keyboard_format",{type:t}),!0}})}function v(e){var t=e.key,n=e.code,a=e.elementArg,u=e.opts,c=e.params,l=void 0===c?{}:c,d=(0,A.pq)(a),h=(0,o.Z)((0,r.Z)({name:d.type},void 0===u?{shortKey:!0}:u),{handler:function(e){l.disableInTable&&(0,f.wu)(e,{type:"table"})||((0,f.wu)(e,d)?s.YR.setNodes(e,{type:"paragraph"}):s.YR.setNodes(e,d))}});return t?(0,o.Z)((0,r.Z)({key:t},h),{logEvent:!0}):(0,o.Z)((0,r.Z)({code:n},h),{logEvent:!0})}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{shortKey:!0},a=(0,A.pq)(t);return(0,o.Z)((0,r.Z)({name:a.type},n),{key:e,handler:function(e){return(0,A.Yl)(e,a)},logEvent:!0})}},96343:function(e,t,n){"use strict";n.d(t,{ON:function(){return g.ON},RH:function(){return g.RH},hE:function(){return p},WB:function(){return h},Uk:function(){return f},$m:function(){return g.$m},r5:function(){return g.r5},oe:function(){return m.oe},wu:function(){return v.wu},T8:function(){return g.T8},yi:function(){return v.yi},FU:function(){return v.FU},t9:function(){return g.t9},zm:function(){return g.zm},um:function(){return m.um},if:function(){return g.if},RF:function(){return g.RF},Xf:function(){return g.Xf},hZ:function(){return g.hZ},O6:function(){return g.O6},eD:function(){return g.eD},lw:function(){return g.lw},RX:function(){return g.RX},QT:function(){return g.QT},IL:function(){return g.W4},b9:function(){return g.b9},O4:function(){return g.O4},eM:function(){return w.e},EG:function(){return _.E},$c:function(){return g.$c},DA:function(){return g.DA},Zp:function(){return b},As:function(){return g.As},Ft:function(){return g.Ft},qi:function(){return g.qi},Hi:function(){return g.Hi},Wn:function(){return g.Wn},Eo:function(){return g.Eo},YV:function(){return y.YV},Ke:function(){return g.Ke},jE:function(){return w.j},$h:function(){return g.$h}});var r=n(52322),o=n(2784),a=n(28316),s=n(20954),u=n(83030),c=/*#__PURE__*/n.n(u),l=n(39274),A=n(3635),d=/*#__PURE__*/(0,o.createContext)(void 0),f=function(e){var t=e.children,n=(0,o.useMemo)(function(){var e=new Set;return{add:function(t){return e.add(t)},delete:function(t){return e.delete(t)},has:function(t){return e.has(t)}}},[]);return/*#__PURE__*/(0,r.jsx)(d.Provider,{value:n,children:t})},h=function(e){var t,n=e.side,s=e.id,u=e.target,f=e.alignment,h=void 0===f?"center":f,p=e.editor,g=e.children,v=(0,o.useState)(0),m=v[0],y=v[1],b=(0,o.useMemo)(function(){return(0,l.H$)(n)},[n,m]),w=(0,l.fH)(p,[u],h),_=(0,o.useRef)(),E=(0,o.useContext)(d),C=(0,o.useRef)(!1);if((0,o.useEffect)(function(){if(!s||!E){C.current=!0;return}if(C.current=!E.has(s),C.current)return E.add(s),function(){E.delete(s)}},[s,E]),!C.current)return null;if(!b)return requestAnimationFrame(function(){return y(m+1)}),null;if(w&&(_.current=w),!_.current)return null;var B=null===(t=l.Eu[h])||void 0===t?void 0:t.call(l.Eu,_.current);return /*#__PURE__*/a.createPortal(/*#__PURE__*/(0,r.jsx)(r.Fragment,{children:/*#__PURE__*/(0,r.jsx)("div",{id:s,style:B,className:(0,A.Z)(c().sideMenuChild,s?c()[s]:void 0),children:g})}),b)},p=function(e){var t=e.editor,n=(0,l.kI)(t),o=(0,s.H)(n);return o?/*#__PURE__*/(0,r.jsxs)(r.Fragment,{children:[/*#__PURE__*/(0,r.jsx)("div",{id:l.tM,className:c().sideMenuContainer,style:{left:o.left,transform:"translateX(-100%)"}}),/*#__PURE__*/(0,r.jsx)("div",{id:l.wL,className:c().sideMenuContainer,style:{left:o.right}})]}):null},g=n(35339);n(32021);var v=n(53942),m=n(3220);n(93707),n(28378);var y=n(69992);function b(e){return{name:"remote-render",formats:{remoteSelection:{component:e.component}}}}var w=n(62286),_=n(76592)},97725:function(e,t,n){"use strict";n.d(t,{N:function(){return m},O:function(){return y}});var r=n(50930),o=n(1899),a=n(2784),s=n(12995),u=n(85009),c=n(90581),l=n(6901),A=["shortKey","ctrlKey","shiftKey","altKey"],d=function(e){!0===e.shortKey&&(l.Um?e.metaKey=!0:e.ctrlKey=!0)},f=/*#__PURE__*/function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,c.Z)(this,e),this._bindings=[],t.forEach(d),this._bindings=t}var t=e.prototype;return t.registerBindings=function(e){var t;e.forEach(d),(t=this._bindings).push.apply(t,(0,r.Z)(e))},t.unRegisterBinding=function(e){this._bindings=this._bindings.filter(function(t){return t!==e})},t.registerKeyDown=function(e){this._lastKeyDown=e},t.getMatchingBindings=function(){var e=this._lastKeyDown;return e?(this._lastKeyDown=void 0,this._bindings.filter(function(t){var n;return n={shortKey:l.Um?"metaKey":"ctrlKey",altKey:"altKey",ctrlKey:"ctrlKey",shiftKey:"shiftKey"},!!A.every(function(r){var o=t[r],a=n[r];return null===o||!!o===e[a]})&&("key"in t?String(t.key).toLowerCase()===e.key.toLowerCase():String(t.code).toLowerCase()===e.code.toLowerCase())})):[]},e}(),h=n(76592),p="true"===n(34406).env.STORYBOOK,g=new WeakMap,v=[{name:"inline-void-arrow-down",key:"ArrowDown",handler:function(e){if(e.selection&&s.e6.isCollapsed(e.selection)){var t=s.NB.parent(e,e.selection.anchor.path);t&&s.ML.isInline(e,t)&&s.ML.isVoid(e,t)&&s.YR.move(e,{unit:"character",reverse:!0})}}},{name:"inline-void-arrow-up",key:"ArrowUp",handler:function(e){if(e.selection&&s.e6.isCollapsed(e.selection)){var t=s.NB.parent(e,e.selection.anchor.path);t&&s.ML.isInline(e,t)&&s.ML.isVoid(e,t)&&s.YR.move(e,{unit:"character",reverse:!0})}}},{name:"inline-void-ctrl-arrow-left",key:"ArrowLeft",shortKey:!0,handler:function(e){if(e.selection&&s.e6.isCollapsed(e.selection)){var t=s.NB.parent(e,e.selection.anchor.path);t&&s.ML.isInline(e,t)&&s.ML.isVoid(e,t)&&s.YR.move(e,{unit:"character",reverse:!0})}}},{name:"inline-void-ctrl-arrow-right",key:"ArrowRight",shortKey:!0,handler:function(e){if(e.selection&&s.e6.isCollapsed(e.selection)){var t=s.NB.parent(e,e.selection.anchor.path);t&&s.ML.isInline(e,t)&&s.ML.isVoid(e,t)&&s.YR.move(e,{unit:"character"})}}}];function m(e,t){var n,a,s=(n=t.flatMap(function(e){return null!==(a=e.keyBindings)&&void 0!==a?a:[]})).concat.apply(n,(0,r.Z)(v)),u=new f;return g.set(e,u),u.registerBindings(s),function(n){u.registerKeyDown(n);var r=u.getMatchingBindings(),a=!0,s=!1,c=void 0;try{for(var l,A=r[Symbol.iterator]();!(a=(l=A.next()).done);a=!0){var d=function(){var r=l.value;try{var o,a=r.handler(e,t,n);if(!0===a)return n.stopPropagation(),n.preventDefault(),r.logEvent&&(null===(o=e.eventLogger)||void 0===o||o.call(e,"keyboard_shortcut",{shortcut:r.name})),{v:!0}}catch(n){if("function"==typeof e.handleError){var s,u=t.find(function(e){var t;return null===(t=e.keyBindings)||void 0===t?void 0:t.includes(r)});e.handleError((0,h.E)(n,"UserAction",{method:r.name,plugin:null!==(s=null==u?void 0:u.name)&&void 0!==s?s:"Unknown"}))}}}();if("object"===(0,o.Z)(d))return d.v}}catch(e){s=!0,c=e}finally{try{a||null==A.return||A.return()}finally{if(s)throw c}}}}var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(p?function(){return null}:u._7)();(0,a.useEffect)(function(){if(n&&e){var t=g.get(n);if(t)return t.registerBindings([e]),function(){return t.unRegisterBinding(e)}}},[n].concat((0,r.Z)(t)))}},53942:function(e,t,n){"use strict";n.d(t,{$C:function(){return x},FU:function(){return p},MO:function(){return b},Qs:function(){return T},XU:function(){return g},YI:function(){return S},_p:function(){return B},bX:function(){return v},gb:function(){return I},iF:function(){return C},kA:function(){return k},nc:function(){return _},qQ:function(){return E},ss:function(){return m},wu:function(){return w},yi:function(){return y}});var r,o=n(70865),a=n(96670),s=n(26297),u=n(87394),c=n(50930),l=n(9850),A=/*#__PURE__*/n.n(l),d=n(61726),f=/*#__PURE__*/n.n(d),h=n(12995);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.at,o=void 0===n?e.selection:n;if(!o||h.e6.isRange(o)&&!h.e6.isCollapsed(o))return!1;var a=h.ML.path(e,o),s=t.blockPath;if(!s){var l=h.ML.above(e,{match:function(t){return h.ML.isBlock(e,t)},mode:"lowest",at:a});if(!l)return!1;s=l[1]}if(!h.y$.isAncestor(s,a))return!1;var A=h.y$.relative(a,s),d=(0,c.Z)(s),f=h.NB.get(e,s),p=!0,g=!1,v=void 0;try{for(var m,y=A[Symbol.iterator]();!(p=(m=y.next()).done);p=!0){var b=m.value;if(f=f.children[b],d.push(b),0!==b){if(1===b&&h.ML.isInline(e,f)){var w=h.NB.get(e,h.y$.previous(d));if(""===h.NB.string(w))continue}return!1}}}catch(e){g=!0,v=e}finally{try{p||null==y.return||y.return()}finally{if(g)throw v}}return!t.includeOffset||0===function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===(r=e.selection)||void 0===r?void 0:r.anchor;if(!n)throw Error("No point provided and editor has no selection");if(!h.y$.isAncestor(t,n.path))throw Error("Point is not inside of container path");var o=0,a=!0,s=!1,c=void 0;try{for(var l,A=h.NB.texts(e,{from:t,to:n.path})[Symbol.iterator]();!(a=(l=A.next()).done);a=!0){var d=(0,u.Z)(l.value,2),f=d[0],p=d[1];if(h.y$.equals(p,n.path)){o+=n.offset;break}o+=f.text.length}}catch(e){s=!0,c=e}finally{try{a||null==A.return||A.return()}finally{if(s)throw c}}return o}(e,s,h.e6.isRange(o)?h.e6.start(o):o)}function g(e,t){var n=h.ML.above(e,{mode:"lowest",at:t,match:function(t,n){return e.isContainerBlock(t)||0===n.length}});return h.y$.isParent(n[1],t)}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.at,o=void 0===r?e.selection:r;if(!o||h.e6.isRange(o)&&!h.e6.isCollapsed(o))return!1;var a=h.E9.isPoint(o)?o:h.e6.end(o),s=h.ML.above(e,{at:a,match:t});return!!s&&h.E9.equals(a,h.ML.end(e,s[1]))}function m(e,t){return v(e,function(t){return"type"in t&&e.isInline(t)},t)}function y(e,t){return v(e,function(t){return"type"in t&&!e.isInline(t)},t)}function b(e,t,n){var r=(null==n?void 0:n.path)||(null===(l=e.selection)||void 0===l?void 0:l.anchor.path);if(r){var o=Array.isArray(t),a=!0,s=!1,c=void 0;try{for(var l,A,d=h.NB.levels(e,r,{reverse:!0})[Symbol.iterator]();!(a=(A=d.next()).done);a=!0){var f=(0,u.Z)(A.value,2),p=f[0],g=f[1];if("type"in p&&(p.type===t||o&&t.includes(p.type)))return[p,g]}}catch(e){s=!0,c=e}finally{try{a||null==d.return||d.return()}finally{if(s)throw c}}}}function w(e,t){var n=t.at,r=void 0===n?e.selection:n,o=t.mode,a=(0,s.Z)(t,["at","mode"]);if(r)return h.ML.above(e,{at:r,match:function(e){return f()(e,a)},mode:void 0===o?"lowest":o})}function _(e,t,n){var r=!0,o=!1,a=void 0;try{for(var s,c=h.NB.ancestors(e,n)[Symbol.iterator]();!(r=(s=c.next()).done);r=!0){var l=s.value,A=(0,u.Z)(l,1)[0];if("type"in A&&t===A.type)return l}}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}}function E(e,t,n){if(1===t.children.length)return n;var r=[],o=0,a=!0,s=!1,l=void 0;try{for(var d,f=h.NB.descendants(t)[Symbol.iterator]();!(a=(d=f.next()).done);a=!0){var p=(0,u.Z)(d.value,2),g=p[0],v=p[1];h.xv.isText(g)&&(r.push({start:o,end:o+g.text.length,path:(0,c.Z)(e).concat((0,c.Z)(v))}),o+=g.text.length)}}catch(e){s=!0,l=e}finally{try{a||null==f.return||f.return()}finally{if(s)throw l}}var m=[],y=!0,b=!1,w=void 0;try{for(var _,E=n[Symbol.iterator]();!(y=(_=E.next()).done);y=!0){var C=_.value,B=!0,I=!1,x=void 0;try{for(var T,S=r[Symbol.iterator]();!(B=(T=S.next()).done);B=!0){var k=T.value;if(!(C.anchor.offset>k.end)){var D=A()(C);if(m.push(D),D.anchor.path=k.path,D.focus.path=k.path,C.anchor.offset<k.end&&(D.anchor.offset=Math.max(0,D.anchor.offset-k.start)),C.focus.offset<k.end){D.focus.offset=C.focus.offset-k.start;break}D.focus.offset=k.end-k.start}}}catch(e){I=!0,x=e}finally{try{B||null==S.return||S.return()}finally{if(I)throw x}}}}catch(e){b=!0,w=e}finally{try{y||null==E.return||E.return()}finally{if(b)throw w}}return m}function C(e,t){for(var n=0;n<Math.min(e.length,t.length);n++){var r=e[n],o=t[n];if(r!==o)return{level:n,distance:o-r}}}function B(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=r.matchArgs,u=r.retainLevel,c="up"===n?h.ML.before(e,t,{unit:"block"}):h.ML.after(e,t,{unit:"block"});if(c){var l=c.path,A=function(){if(l&&s){var t=w(e,(0,a.Z)((0,o.Z)({},s),{at:l}));if(!t){l=void 0;return}l=l.slice(0,t[1].length+1)}};if(A(),u){for(;l&&l.length>t.length;)l=l.slice(0,l.length-1),A();if(!l||l.length!==t.length)return}return l}}function I(e,t,n){var r=!(arguments.length>3)||void 0===arguments[3]||arguments[3],o="down"===n?h.y$.next(t):h.y$.hasPrevious(t)?h.y$.previous(t):void 0;return r?o&&h.NB.has(e,o)?o:void 0:o}function x(e,t,n){if("down"===n){var r=h.y$.next(t);if(h.NB.has(e,r))return r;var o=h.ML.after(e,t,{unit:"block"});return o?o.path.slice(0,t.length):void 0}if("up"===n){var a=h.y$.hasPrevious(t)&&h.y$.previous(t);if(a)return a;var s=h.ML.before(e,t,{unit:"block"});return s?s.path.slice(0,t.length):void 0}}function T(e,t,n){var r=(0,u.Z)(h.e6.edges(t),2),a=r[0],s=r[1],c=!1,l=!1,A=!0,d=!1,f=void 0;try{for(var p,g=h.NB.texts(e,{from:a.path,to:s.path})[Symbol.iterator]();!(A=(p=g.next()).done);A=!0){var v=(0,u.Z)(p.value,2),m=v[0],y=v[1],b=w(e,(0,o.Z)({at:y},n));if(b&&l)return!0;if(b){c=!0;continue}if(0!==m.text.trim().length){if(!b&&c)return!0;if(!b){l=!0;continue}}}}catch(e){d=!0,f=e}finally{try{A||null==g.return||g.return()}finally{if(d)throw f}}return!1}function S(e){return h.ML.above(e,{match:function(t){return h.ML.isBlock(e,t)},mode:"lowest"})}function k(e,t){if(!(t.length>1)){var n=!0,r=!1,o=void 0;try{for(var a,s,c=h.NB.nodes(t[0])[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=(0,u.Z)(s.value,1)[0];if(!e.isContainerBlock(l)&&h.ML.isBlock(e,l)){if(a)return;a=l}}}catch(e){r=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw o}}return a}}},56704:function(e,t,n){"use strict";n.d(t,{B9:function(){return o},lC:function(){return a},oT:function(){return u},x0:function(){return s}});var r=n(87394);function o(e,t){var n=!0,o=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value;if(c.elements){var l=!0,A=!1,d=void 0;try{for(var f,h=Object.entries(c.elements)[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var p=(0,r.Z)(f.value,2),g=p[0],v=p[1];v&&t(g,v)}}catch(e){A=!0,d=e}finally{try{l||null==h.return||h.return()}finally{if(A)throw d}}}}}catch(e){o=!0,a=e}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}}function a(e,t){var n=[],r={};return o(e,function(e,o){var a=t(o);"string"==typeof a?(null==r[a]&&(r[a]=[]),r[a].push(e)):!0===a&&n.push(e)}),Object.keys(r).length?r:n}function s(e,t){var n={};return o(e,function(e,r){var o=null==r?void 0:r[t];null!=o&&(n[e]=o)}),n}var u=function(e){var t=["application/x-slate-fragment"];return void 0!==e.types.find(function(e){return t.includes(e)})}},78382:function(e,t,n){"use strict";n.d(t,{BI:function(){return p},IP:function(){return g},VS:function(){return h},ZB:function(){return m},gm:function(){return y},lM:function(){return v}});var r=n(70865),o=n(96670),a=n(87394),s=n(37164),u=n(20672),c=n(12995),l=n(37578),A=n(58490),d=n(87739),f=n(3220),h=function(e,t){if(!e.selection)return null;var n,r,o,a=t.find(function(e){return"aiOutline"===e.name}),u=null!==(o=null==a?void 0:null===(n=a.conversionRules)||void 0===n?void 0:null===(r=n.aiOutline)||void 0===r?void 0:r.disallowedTypes)&&void 0!==o?o:[];if(!(0,A.ZA)(e,{match:function(e){return(0,d.yy)(e,u)}}).length)return null;var l=c.ML.above(e,{match:function(t){return e.isContainerBlock(t)}}),f=l?l[1]:[],h=c.ML.path(e,c.e6.end(e.selection)).slice(0,f.length+1),p=c.y$.next(h),g={type:"aiOutline",id:(0,s.x0)(),children:[{text:""}]},v=""===c.NB.string(c.NB.get(e,h));return c.ML.withoutNormalizing(e,function(){c.YR.insertNodes(e,g,{at:p}),v&&c.YR.removeNodes(e,{at:h})}),g},p=function(e,t){var n=(0,f.nv)(e,t);n&&c.YR.removeNodes(e,{at:n[1]})},g=function(e,t){var n=(0,f.nv)(e,t);if(n){var r=(0,a.Z)(n,2),o=r[0],s=r[1],u=c.y$.next(s),A=e.fromHtml((0,l.e)(o.outline||""));c.YR.insertNodes(e,A,{at:u}),p(e,t)}},v=function(e,t,n){var s=(0,f.nv)(e,t);if(s){var l=(0,a.Z)(s,2),A=l[0],d=l[1];u.MO.withoutSaving(e,function(){return c.YR.setNodes(e,(0,o.Z)((0,r.Z)({},n.outline?{outline:n.outline}:{},n.questions?{questions:n.questions}:{}),{documentData:(0,r.Z)({},A.documentData,n.documentData)}),{at:d})})}},m=function(e,t,n){var r=(0,f.nv)(e,t);if(r){var o=(0,a.Z)(r,2),s=o[0],l=o[1];u.MO.withoutSaving(e,function(){return c.YR.setNodes(e,{outline:"".concat(s.outline||"").concat(n)},{at:l})})}},y=function(e,t){var n=(0,f.nv)(e,t);if(n){var r=(0,a.Z)(n,2)[1];u.MO.withoutSaving(e,function(){return c.YR.setNodes(e,{outline:""},{at:r})})}}},32265:function(e,t,n){"use strict";n.d(t,{Bh:function(){return g},Dl:function(){return v},On:function(){return f},Vj:function(){return m},_F:function(){return h},ew:function(){return p}});var r=n(47842),o=n(70865),a=n(96670),s=n(18149),u=/*#__PURE__*/n.n(s),c=n(37164),l=n(12995),A=n(53942),d={};function f(){var e=[];return Object.keys(d).forEach(function(t){var n=d[t],s=n.range,u=n.type;e.push((0,a.Z)((0,o.Z)({},s),(0,r.Z)({id:t},"annotationPending.".concat(u),!0)))}),e}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.at,o=void 0===r?e.selection:r,a=n.collapse;if(!o)return!1;if(d[(0,c.x0)()]={range:o,type:t},a){var s=l.e6.start(o);l.YR.setSelection(e,{anchor:s,focus:s})}else e.forceRerender();return!0}function p(e,t){delete d[t],e.forceRerender()}function g(e,t,n){if(!d[t])return!1;var r=d[t],o=r.range,a=r.type;delete d[t],l.YR.wrapNodes(e,{type:a,annotation:!0,data:n,children:[]},{at:o,match:l.xv.isText,split:!0,mode:"lowest"})}function v(e,t){l.YR.unwrapNodes(e,{at:[],match:function(e,n){return l.W_.isElement(e)&&"annotation"in e&&e.annotation&&t(e,n)}})}function m(e){var t=e.operations;(null==t?void 0:t.length)&&Object.keys(d).forEach(function(e){var n=function(e,t){var n=e.anchor,r=e.focus,o=(0,A.iF)(n.path,r.path),a=!0,s=!1,c=void 0;try{for(var d,f=t[Symbol.iterator]();!(a=(d=f.next()).done);a=!0){var h=d.value;if("set_selection"!==h.type){var p=l.E9.transform(n,h),g=l.E9.transform(r,h);if(!p||!g)return;var v=(0,A.iF)(p.path,g.path);if(!u()(o,v))return;n=p,r=g}}}catch(e){s=!0,c=e}finally{try{a||null==f.return||f.return()}finally{if(s)throw c}}return{anchor:n,focus:r}}(d[e].range,t);if(!n){delete d[e];return}d[e].range=n})}},46130:function(e,t,n){"use strict";n.d(t,{W:function(){return A}});var r=n(2784),o=n(12995),a=n(85009),s=n(51716),u=n(27196),c=n(8875),l=function(e,t,n){o.ML.withoutNormalizing(e,function(){o.YR.setNodes(e,t,{at:n,mode:"highest"}),o.YR.removeNodes(e,{at:n,match:function(e){return o.xv.isText(e)}}),o.YR.move(e,{distance:2,unit:"character"}),o.YR.collapse(e,{edge:"end"})})};function A(e){var t=(0,a._7)(),n=(0,a.vt)(),A=(0,s.Z)(),d=(0,r.useCallback)(function(n){var r,o=a.F3.findPath(t,e);l(t,n,o),null===(r=t.eventLogger)||void 0===r||r.call(t,"mention_create",n)},[t,e]),f=o.NB.string(e),h=(0,r.useCallback)(function(){var n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!1==!!(null===(n=e.mentionData)||void 0===n?void 0:n.userId)){var s=function(){var n=a.F3.findPath(t,e);o.NB.has(t,n)&&o.YR.unwrapNodes(t,{at:n})};r?(c.$.withMerging(t,s),t.sealHistoryEntry()):s()}},[t,e]),p=(0,r.useCallback)(function(e){0===e&&" "===f[f.length-1]&&h(!0)},[h,f]),g=(0,u.D9)(n);(0,r.useEffect)(function(){!1===n&&!0===g&&h()},[n,g,h]);var v=(0,r.useCallback)(function(){try{return a.F3.toDOMNode(t,e).getBoundingClientRect()}catch(e){}},[t,e]);return(0,r.useLayoutEffect)(function(){n&&A()},[A,n]),{isSelected:n,updateMention:d,unwrapMention:h,text:f,getBounds:v,checkIfMentionDone:p}}},2012:function(e,t,n){"use strict";n.d(t,{SQ:function(){return a},lw:function(){return f}});var r=n(12995),o=n(3220);function a(e){return!!e&&"mention"===e.type}var s=/(?:\s|\(|^)@(?:\s|\)|\.|\,|\!|\?|$)/,u=["paragraph","div","blockquote","header"],c=function(e,t){var n=t.leafNode,c=t.insertedText;if(!e.selection)return!1;if(" "===c){var l=r.ML.above(e,{match:function(e){return a(e)}});l&&"@ "===n.text&&r.YR.unwrapNodes(e,{at:l[1]})}if("@"===c){if(!s.exec(n.text))return!1;var A,d=r.ML.above(e,{match:function(t){return r.ML.isBlock(e,t)}});if(d&&"type"in d[0]&&!u.includes(d[0].type))return!1;var f=e.selection,h=f.anchor,p=f.focus;return e.sealHistoryEntry(),r.YR.select(e,{focus:r.ML.before(e,p),anchor:h}),(0,o.Yl)(e,{type:"mention"}),r.YR.setSelection(e,{focus:e.selection.anchor}),e.sealHistoryEntry(),null===(A=e.eventLogger)||void 0===A||A.call(e,"auto_format",{type:"mention"}),!0}return!1},l=n(70865),A=n(96670),d=n(46807);function f(e){return{name:"at-mention",elements:{mention:{inline:!0,isVoid:function(e,t){return!!t.mentionType},component:e.mentionComponent,enterBehavior:"create-paragraph",softBreakBehavior:"create-paragraph"}},textInputHandlers:[c],toMarkdown:{byElementType:{mention:function(e){var t,n=null===(t=e.element.mentionData)||void 0===t?void 0:t.email;return(0,d.H4)((0,A.Z)((0,l.Z)({},e),{childrenMarkdownPosition:"before",markdown:n||""}))}}}}}},26141:function(e,t,n){"use strict";n.d(t,{S:function(){return l},R:function(){return A}});var r=n(12995),o=n(70865),a=n(96670),s=n(46807),u=n(3220),c=n(93707);function l(e){return r.W_.isElement(e)&&"blockquote"===e.type}var A=function(e){return{name:"block-quote",elements:{blockquote:{component:e.blockquoteComponent,enterBehavior:"create-paragraph",softBreakBehavior:"soft-break"}},textInputHandlers:[(0,c.dC)({str:"> ",matchMode:"start",element:"blockquote"})],keyBindings:[{altKey:!0,key:"ArrowDown",name:"move-blockquote-down",handler:function(e){return(0,u.m_)(e,"down",{type:"blockquote"})},logEvent:!0},{altKey:!0,key:"ArrowUp",name:"move-blockquote-up",handler:function(e){return(0,u.m_)(e,"up",{type:"blockquote"})},logEvent:!0}],fromHtml:{byTag:{BLOCKQUOTE:"blockquote"}},toMarkdown:{byElementType:{blockquote:function(e){return(0,s.H4)((0,a.Z)((0,o.Z)({},e),{markdown:["> ","\n\n"],childrenMarkdownPosition:"between"}))}}},conversionRules:{blockquote:{disallowedTypes:["image","youTubePlayer","block-link"]}}}}},69803:function(e,t,n){"use strict";n.d(t,{Dj:function(){return R},AO:function(){return P},Qw:function(){return M},ZP:function(){return K}});var r=n(2947),o="[0-9](_*[0-9])*",a=`\\.(${o})`,s="[0-9a-fA-F](_*[0-9a-fA-F])*",u={className:"number",variants:[{begin:`(\\b(${o})((${a})|\\.)?|(${a}))[eE][+-]?(${o})[fFdD]?\\b`},{begin:`\\b(${o})((${a})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${a})[fFdD]?\\b`},{begin:`\\b(${o})[fFdD]\\b`},{begin:`\\b0[xX]((${s})\\.?|(${s})?\\.(${s}))[pP][+-]?(${o})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${s})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};let c="[A-Za-z$_][0-9A-Za-z$_]*",l=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],A=["true","false","null","undefined","NaN","Infinity"],d=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],f=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],h=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],p=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],g=[].concat(h,d,f);var v="[0-9](_*[0-9])*",m=`\\.(${v})`,y="[0-9a-fA-F](_*[0-9a-fA-F])*",b={className:"number",variants:[{begin:`(\\b(${v})((${m})|\\.)?|(${m}))[eE][+-]?(${v})[fFdD]?\\b`},{begin:`\\b(${v})((${m})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${m})[fFdD]?\\b`},{begin:`\\b(${v})[fFdD]\\b`},{begin:`\\b0[xX]((${y})\\.?|(${y})?\\.(${y}))[pP][+-]?(${v})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${y})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};let w="[A-Za-z$_][0-9A-Za-z$_]*",_=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],E=["true","false","null","undefined","NaN","Infinity"],C=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],B=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],I=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],x=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],T=[].concat(I,C,B);var S=n(50930),k=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","p","q","quote","samp","section","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],D=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"],N=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"],O=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"],F=["align-content","align-items","align-self","all","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","content-visibility","counter-increment","counter-reset","cue","cue-after","cue-before","cursor","direction","display","empty-cells","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-size","font-size-adjust","font-smoothing","font-stretch","font-style","font-synthesis","font-variant","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-break","line-height","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-wrap","overflow-x","overflow-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","page-break-inside","pause","pause-after","pause-before","perspective","perspective-origin","pointer-events","position","quotes","resize","rest","rest-after","rest-before","right","row-gap","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","speak","speak-as","src","tab-size","table-layout","text-align","text-align-all","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-position","top","transform","transform-box","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index"].reverse();N.concat(O);var R="auto-detect",L={json:function(e){let t=["true","false","null"],n={scope:"literal",beginKeywords:t.join(" ")};return{name:"JSON",keywords:{literal:t},contains:[{className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},{match:/[{}[\],:]/,className:"punctuation",relevance:0},e.QUOTE_STRING_MODE,n,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}},yaml:function(e){let t="true false yes no null",n="[\\w#;/?:@&=+$,.~*'()[\\]]+",r={className:"string",relevance:0,variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/\S+/}],contains:[e.BACKSLASH_ESCAPE,{className:"template-variable",variants:[{begin:/\{\{/,end:/\}\}/},{begin:/%\{/,end:/\}/}]}]},o=e.inherit(r,{variants:[{begin:/'/,end:/'/},{begin:/"/,end:/"/},{begin:/[^\s,{}[\]]+/}]}),a={end:",",endsWithParent:!0,excludeEnd:!0,keywords:t,relevance:0},s=[{className:"attr",variants:[{begin:"\\w[\\w :\\/.-]*:(?=[ 	]|$)"},{begin:'"\\w[\\w :\\/.-]*":(?=[ 	]|$)'},{begin:"'\\w[\\w :\\/.-]*':(?=[ 	]|$)"}]},{className:"meta",begin:"^---\\s*$",relevance:10},{className:"string",begin:"[\\|>]([1-9]?[+-])?[ ]*\\n( +)[^ ][^\\n]*\\n(\\2[^\\n]+\\n?)*"},{begin:"<%[%=-]?",end:"[%-]?%>",subLanguage:"ruby",excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:"!\\w+!"+n},{className:"type",begin:"!<"+n+">"},{className:"type",begin:"!"+n},{className:"type",begin:"!!"+n},{className:"meta",begin:"&"+e.UNDERSCORE_IDENT_RE+"$"},{className:"meta",begin:"\\*"+e.UNDERSCORE_IDENT_RE+"$"},{className:"bullet",begin:"-(?=[ ]|$)",relevance:0},e.HASH_COMMENT_MODE,{beginKeywords:t,keywords:{literal:t}},{className:"number",begin:"\\b[0-9]{4}(-[0-9][0-9]){0,2}([Tt \\t][0-9][0-9]?(:[0-9][0-9]){2})?(\\.[0-9]*)?([ \\t])*(Z|[-+][0-9][0-9]?(:[0-9][0-9])?)?\\b"},{className:"number",begin:e.C_NUMBER_RE+"\\b",relevance:0},{begin:/\{/,end:/\}/,contains:[a],illegal:"\\n",relevance:0},{begin:"\\[",end:"\\]",contains:[a],illegal:"\\n",relevance:0},r],u=[...s];return u.pop(),u.push(o),a.contains=u,{name:"YAML",case_insensitive:!0,aliases:["yml"],contains:s}},typescript:function(e){let t=function(e){var t;let n=e.regex,r=(e,{after:t})=>{let n="</"+e[0].slice(1);return -1!==e.input.indexOf(n,t)},o=/<[A-Za-z0-9\\._:-]+/,a=/\/[A-Za-z0-9\\._:-]+>|\/>/,s={$pattern:w,keyword:_,literal:E,built_in:T,"variable.language":x},u="[0-9](_?[0-9])*",c=`\\.(${u})`,l="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",A={className:"number",variants:[{begin:`(\\b(${l})((${c})|\\.)?|(${c}))[eE][+-]?(${u})\\b`},{begin:`\\b(${l})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},d={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},f={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"xml"}},h={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"css"}},p={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,d],subLanguage:"graphql"}},g={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,d]},v={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:w+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},m=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,h,p,g,{match:/\$\d+/},A];d.contains=m.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(m)});let y=[].concat(v,d.contains),b=y.concat([{begin:/\(/,end:/\)/,keywords:s,contains:["self"].concat(y)}]),S={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:b},k={variants:[{match:[/class/,/\s+/,w,/\s+/,/extends/,/\s+/,n.concat(w,"(",n.concat(/\./,w),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,w],scope:{1:"keyword",3:"title.class"}}]},D={relevance:0,match:n.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...C,...B]}},N={match:n.concat(/\b/,(t=[...I,"super","import"],n.concat("(?!",t.join("|"),")")),w,n.lookahead(/\(/)),className:"title.function",relevance:0},O={begin:n.concat(/\./,n.lookahead(n.concat(w,/(?![0-9A-Za-z$_(])/))),end:w,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},F="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",R={match:[/const|var|let/,/\s+/,w,/\s*/,/=\s*/,/(async\s*)?/,n.lookahead(F)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:b,CLASS_REFERENCE:D},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,h,p,g,v,{match:/\$\d+/},A,D,{className:"attr",begin:w+n.lookahead(":"),relevance:0},R,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[v,e.REGEXP_MODE,{className:"function",begin:F,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:b}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:"<>",end:"</>"},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:o,"on:begin":(e,t)=>{let n;let o=e[0].length+e.index,a=e.input[o];if("<"===a||","===a){t.ignoreMatch();return}">"!==a||r(e,{after:o})||t.ignoreMatch();let s=e.input.substring(o);if((n=s.match(/^\s*=/))||(n=s.match(/^\s+extends\s+/))&&0===n.index){t.ignoreMatch();return}},end:a}],subLanguage:"xml",contains:[{begin:o,end:a,skip:!0,contains:["self"]}]}]},{variants:[{match:[/function/,/\s+/,w,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,e.inherit(e.TITLE_MODE,{begin:w,className:"title.function"})]},{match:/\.\.\./,relevance:0},O,{match:"\\$"+w,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},N,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},k,{match:[/get|set/,/\s+/,w,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},{match:/\$[(.]/}]}}(e),n=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],r={beginKeywords:"namespace",end:/\{/,excludeEnd:!0,contains:[t.exports.CLASS_REFERENCE]},o={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:n},contains:[t.exports.CLASS_REFERENCE]},a={$pattern:w,keyword:_.concat(["type","namespace","interface","public","private","protected","implements","declare","abstract","readonly","enum","override"]),literal:E,built_in:T.concat(n),"variable.language":x},s={className:"meta",begin:"@"+w},u=(e,t,n)=>{let r=e.contains.findIndex(e=>e.label===t);if(-1===r)throw Error("can not find mode to replace");e.contains.splice(r,1,n)};return Object.assign(t.keywords,a),t.exports.PARAMS_CONTAINS.push(s),t.contains=t.contains.concat([s,r,o]),u(t,"shebang",e.SHEBANG()),u(t,"use_strict",{className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/}),t.contains.find(e=>"func.def"===e.label).relevance=0,Object.assign(t,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),t},javascript:function(e){var t;let n=e.regex,r=(e,{after:t})=>{let n="</"+e[0].slice(1);return -1!==e.input.indexOf(n,t)},o=/<[A-Za-z0-9\\._:-]+/,a=/\/[A-Za-z0-9\\._:-]+>|\/>/,s={$pattern:c,keyword:l,literal:A,built_in:g,"variable.language":p},u="[0-9](_?[0-9])*",v=`\\.(${u})`,m="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",y={className:"number",variants:[{begin:`(\\b(${m})((${v})|\\.)?|(${v}))[eE][+-]?(${u})\\b`},{begin:`\\b(${m})\\b((${v})\\b|\\.)?|(${v})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},b={className:"subst",begin:"\\$\\{",end:"\\}",keywords:s,contains:[]},w={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,b],subLanguage:"xml"}},_={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,b],subLanguage:"css"}},E={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,b],subLanguage:"graphql"}},C={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,b]},B={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:c+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},I=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,w,_,E,C,{match:/\$\d+/},y];b.contains=I.concat({begin:/\{/,end:/\}/,keywords:s,contains:["self"].concat(I)});let x=[].concat(B,b.contains),T=x.concat([{begin:/\(/,end:/\)/,keywords:s,contains:["self"].concat(x)}]),S={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:T},k={variants:[{match:[/class/,/\s+/,c,/\s+/,/extends/,/\s+/,n.concat(c,"(",n.concat(/\./,c),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,c],scope:{1:"keyword",3:"title.class"}}]},D={relevance:0,match:n.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...d,...f]}},N={match:n.concat(/\b/,(t=[...h,"super","import"],n.concat("(?!",t.join("|"),")")),c,n.lookahead(/\(/)),className:"title.function",relevance:0},O={begin:n.concat(/\./,n.lookahead(n.concat(c,/(?![0-9A-Za-z$_(])/))),end:c,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},F="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",R={match:[/const|var|let/,/\s+/,c,/\s*/,/=\s*/,/(async\s*)?/,n.lookahead(F)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[S]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:s,exports:{PARAMS_CONTAINS:T,CLASS_REFERENCE:D},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),{label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,w,_,E,C,B,{match:/\$\d+/},y,D,{className:"attr",begin:c+n.lookahead(":"),relevance:0},R,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[B,e.REGEXP_MODE,{className:"function",begin:F,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:s,contains:T}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:"<>",end:"</>"},{match:/<[A-Za-z0-9\\._:-]+\s*\/>/},{begin:o,"on:begin":(e,t)=>{let n;let o=e[0].length+e.index,a=e.input[o];if("<"===a||","===a){t.ignoreMatch();return}">"!==a||r(e,{after:o})||t.ignoreMatch();let s=e.input.substring(o);if((n=s.match(/^\s*=/))||(n=s.match(/^\s+extends\s+/))&&0===n.index){t.ignoreMatch();return}},end:a}],subLanguage:"xml",contains:[{begin:o,end:a,skip:!0,contains:["self"]}]}]},{variants:[{match:[/function/,/\s+/,c,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[S],illegal:/%/},{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[S,e.inherit(e.TITLE_MODE,{begin:c,className:"title.function"})]},{match:/\.\.\./,relevance:0},O,{match:"\\$"+c,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[S]},N,{relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"},k,{match:[/get|set/,/\s+/,c,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},S]},{match:/\$[(.]/}]}},markdown:function(e){var t=e.regex,n={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:1},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:t.concat(/\[.+?\]\(/,/[A-Za-z][A-Za-z\d+.-]*/,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:1}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:1,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:1,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:1,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},o={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/,relevance:1},{begin:/\*{2}(?!\s)/,end:/\*{2}/,relevance:1}]},a={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/,relevance:1},{begin:/_(?![_\s])/,end:/_/,relevance:1}]},s=e.inherit(o,{contains:[]}),u=e.inherit(a,{contains:[]});o.contains.push(u),a.contains.push(s);var c=[n,r];return[o,a,s,u].forEach(function(e){e.contains=e.contains.concat(c)}),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{match:/^[A-Za-z\d][^+=<>{};:|\n]+[.?!]$/,relevance:10},{className:"section",variants:[{begin:"^# ",end:"$",contains:c=c.concat(o,a),relevance:2},{begin:"^## ",end:"$",contains:c,relevance:4},{begin:"^#{3,6} ",end:"$",contains:c,relevance:8},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:c}]}]},n,{className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0,relevance:4},o,a,{className:"quote",begin:"^>\\s+",contains:c,end:"$",relevance:1},{className:"code",variants:[{begin:"```[a-z0-9]*",end:"```+[ ]*$",excludeBegin:!0,excludeEnd:!0,subLanguage:[],relevance:2},{begin:"~~~[a-z0-9]*",end:"~~~+[ ]*$",excludeBegin:!0,excludeEnd:!0,subLanguage:[],relevance:2},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:1}]},{begin:"^[-\\*]{3,}",end:"$",relevance:1},r,{begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]}]}},python:function(e){let t=e.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},a={className:"meta",begin:/^(>>>|\.\.\.) /},s={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},u={begin:/\{\{/,relevance:0},c={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,a],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,a],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,a,u,s]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,a,u,s]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,u,s]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,u,s]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},l="[0-9](_?[0-9])*",A=`(\\b(${l}))?\\.(${l})|\\b(${l})\\.`,d=`\\b|${r.join("|")}`,f={className:"number",relevance:0,variants:[{begin:`(\\b(${l})|(${A}))[eE][+-]?(${l})[jJ]?(?=${d})`},{begin:`(${A})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${d})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${d})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${d})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${d})`},{begin:`\\b(${l})[jJ](?=${d})`}]},h={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},p={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",a,f,c,e.HASH_COMMENT_MODE]}]};return s.contains=[c,f,a],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|\?)|=>/,contains:[a,f,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},c,h,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[p]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[f,p,c]}]}},java:function(e){let t=e.regex,n="[\xc0-ʸa-zA-Z_$][\xc0-ʸa-zA-Z_$0-9]*",r=n+function e(t,n,r){return -1===r?"":t.replace(n,o=>e(t,n,r-1))}("(?:<"+n+"~~~(?:\\s*,\\s*"+n+"~~~)*>)?",/~~~/g,2),o={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},a={className:"meta",begin:"@"+n,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},s={className:"params",begin:/\(/,end:/\)/,keywords:o,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:o,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,n],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[t.concat(/(?!else)/,n),/\s+/,n,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,n],className:{1:"keyword",3:"title.class"},contains:[s,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:o,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:o,relevance:0,contains:[a,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,u,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},u,a]}},sql:function(e){let t=e.regex,n=e.COMMENT("--","$"),r=["true","false","unknown"],o=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],a=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],s=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],u=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year","add","asc","collation","desc","final","first","last","view"].filter(e=>!a.includes(e)),c={begin:t.concat(/\b/,t.either(...a),/\s*\(/),relevance:0,keywords:{built_in:a}};return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:function(e,{exceptions:t,when:n}={}){return t=t||[],e.map(e=>e.match(/\|\d+$/)||t.includes(e)?e:n(e)?`${e}|0`:e)}(u,{when:e=>e.length<3}),literal:r,type:o,built_in:["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"]},contains:[{begin:t.either(...s),relevance:0,keywords:{$pattern:/[\w\.]+/,keyword:u.concat(s),literal:r,type:o}},{className:"type",begin:t.either("double precision","large object","with timezone","without timezone")},c,{className:"variable",begin:/@[a-z0-9][a-z0-9_]*/},{className:"string",variants:[{begin:/'/,end:/'/,contains:[{begin:/''/}]}]},{begin:/"/,end:/"/,contains:[{begin:/""/}]},e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,n,{className:"operator",begin:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0}]}},c:function(e){let t=e.regex,n=e.COMMENT("//","$",{contains:[{begin:/\\\n/}]}),r="decltype\\(auto\\)",o="[a-zA-Z_]\\w*::",a="("+r+"|"+t.optional(o)+"[a-zA-Z_]\\w*"+t.optional("<[^<>]+>")+")",s={className:"type",variants:[{begin:"\\b[a-z\\d_]*_t\\b"},{match:/\batomic_[a-z]{3,6}\b/}]},u={className:"string",variants:[{begin:'(u8?|U|L)?"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},{begin:"(u8?|U|L)?'(\\\\(x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4,8}|[0-7]{3}|\\S)|.)",end:"'",illegal:"."},e.END_SAME_AS_BEGIN({begin:/(?:u8?|U|L)?R"([^()\\ ]{0,16})\(/,end:/\)([^()\\ ]{0,16})"/})]},c={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)((ll|LL|l|L)(u|U)?|(u|U)(ll|LL|l|L)?|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},l={className:"meta",begin:/#\s*[a-z]+\b/,end:/$/,keywords:{keyword:"if else elif endif define undef warning error line pragma _Pragma ifdef ifndef include"},contains:[{begin:/\\\n/,relevance:0},e.inherit(u,{className:"string"}),{className:"string",begin:/<.*?>/},n,e.C_BLOCK_COMMENT_MODE]},A={className:"title",begin:t.optional(o)+e.IDENT_RE,relevance:0},d=t.optional(o)+e.IDENT_RE+"\\s*\\(",f={keyword:["asm","auto","break","case","continue","default","do","else","enum","extern","for","fortran","goto","if","inline","register","restrict","return","sizeof","struct","switch","typedef","union","volatile","while","_Alignas","_Alignof","_Atomic","_Generic","_Noreturn","_Static_assert","_Thread_local","alignas","alignof","noreturn","static_assert","thread_local","_Pragma"],type:["float","double","signed","unsigned","int","short","long","char","void","_Bool","_Complex","_Imaginary","_Decimal32","_Decimal64","_Decimal128","const","static","complex","bool","imaginary"],literal:"true false NULL",built_in:"std string wstring cin cout cerr clog stdin stdout stderr stringstream istringstream ostringstream auto_ptr deque list queue stack vector map set pair bitset multiset multimap unordered_set unordered_map unordered_multiset unordered_multimap priority_queue make_pair array shared_ptr abort terminate abs acos asin atan2 atan calloc ceil cosh cos exit exp fabs floor fmod fprintf fputs free frexp fscanf future isalnum isalpha iscntrl isdigit isgraph islower isprint ispunct isspace isupper isxdigit tolower toupper labs ldexp log10 log malloc realloc memchr memcmp memcpy memset modf pow printf putchar puts scanf sinh sin snprintf sprintf sqrt sscanf strcat strchr strcmp strcpy strcspn strlen strncat strncmp strncpy strpbrk strrchr strspn strstr tanh tan vfprintf vprintf vsprintf endl initializer_list unique_ptr"},h=[l,s,n,e.C_BLOCK_COMMENT_MODE,c,u],p={variants:[{begin:/=/,end:/;/},{begin:/\(/,end:/\)/},{beginKeywords:"new throw return else",end:/;/}],keywords:f,contains:h.concat([{begin:/\(/,end:/\)/,keywords:f,contains:h.concat(["self"]),relevance:0}]),relevance:0},g={begin:"("+a+"[\\*&\\s]+)+"+d,returnBegin:!0,end:/[{;=]/,excludeEnd:!0,keywords:f,illegal:/[^\w\s\*&:<>.]/,contains:[{begin:r,keywords:f,relevance:0},{begin:d,returnBegin:!0,contains:[e.inherit(A,{className:"title.function"})],relevance:0},{relevance:0,match:/,/},{className:"params",begin:/\(/,end:/\)/,keywords:f,relevance:0,contains:[n,e.C_BLOCK_COMMENT_MODE,u,c,s,{begin:/\(/,end:/\)/,keywords:f,relevance:0,contains:["self",n,e.C_BLOCK_COMMENT_MODE,u,c,s]}]},s,n,e.C_BLOCK_COMMENT_MODE,l]};return{name:"C",aliases:["h"],keywords:f,disableAutodetect:!0,illegal:"</",contains:[].concat(p,g,h,[l,{begin:e.IDENT_RE+"::",keywords:f},{className:"class",beginKeywords:"enum class struct union",end:/[{;:<>=]/,contains:[{beginKeywords:"final class struct"},e.TITLE_MODE]}]),exports:{preprocessor:l,strings:u,keywords:f}}},csharp:function(e){let t={keyword:["abstract","as","base","break","case","catch","class","const","continue","do","else","event","explicit","extern","finally","fixed","for","foreach","goto","if","implicit","in","interface","internal","is","lock","namespace","new","operator","out","override","params","private","protected","public","readonly","record","ref","return","scoped","sealed","sizeof","stackalloc","static","struct","switch","this","throw","try","typeof","unchecked","unsafe","using","virtual","void","volatile","while"].concat(["add","alias","and","ascending","async","await","by","descending","equals","from","get","global","group","init","into","join","let","nameof","not","notnull","on","or","orderby","partial","remove","select","set","unmanaged","value|0","var","when","where","with","yield"]),built_in:["bool","byte","char","decimal","delegate","double","dynamic","enum","float","int","long","nint","nuint","object","sbyte","short","string","ulong","uint","ushort"],literal:["default","false","null","true"]},n=e.inherit(e.TITLE_MODE,{begin:"[a-zA-Z](\\.?\\w)*"}),r={className:"number",variants:[{begin:"\\b(0b[01']+)"},{begin:"(-?)\\b([\\d']+(\\.[\\d']*)?|\\.[\\d']+)(u|U|l|L|ul|UL|f|F|b|B)"},{begin:"(-?)(\\b0[xX][a-fA-F0-9']+|(\\b[\\d']+(\\.[\\d']*)?|\\.[\\d']+)([eE][-+]?[\\d']+)?)"}],relevance:0},o={className:"string",begin:'@"',end:'"',contains:[{begin:'""'}]},a=e.inherit(o,{illegal:/\n/}),s={className:"subst",begin:/\{/,end:/\}/,keywords:t},u=e.inherit(s,{illegal:/\n/}),c={className:"string",begin:/\$"/,end:'"',illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},e.BACKSLASH_ESCAPE,u]},l={className:"string",begin:/\$@"/,end:'"',contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},s]},A=e.inherit(l,{illegal:/\n/,contains:[{begin:/\{\{/},{begin:/\}\}/},{begin:'""'},u]});s.contains=[l,c,o,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,e.C_BLOCK_COMMENT_MODE],u.contains=[A,c,a,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,r,e.inherit(e.C_BLOCK_COMMENT_MODE,{illegal:/\n/})];let d={variants:[l,c,o,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},f={begin:"<",end:">",contains:[{beginKeywords:"in out"},n]},h=e.IDENT_RE+"(<"+e.IDENT_RE+"(\\s*,\\s*"+e.IDENT_RE+")*>)?(\\[\\])?",p={begin:"@"+e.IDENT_RE,relevance:0};return{name:"C#",aliases:["cs","c#"],keywords:t,illegal:/::/,contains:[e.COMMENT("///","$",{returnBegin:!0,contains:[{className:"doctag",variants:[{begin:"///",relevance:0},{begin:"<!--|-->"},{begin:"</?",end:">"}]}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"meta",begin:"#",end:"$",keywords:{keyword:"if else elif endif define undef warning error line region endregion pragma checksum"}},d,r,{beginKeywords:"class interface",relevance:0,end:/[{;=]/,illegal:/[^\s:,]/,contains:[{beginKeywords:"where class"},n,f,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"namespace",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"record",relevance:0,end:/[{;=]/,illegal:/[^\s:]/,contains:[n,f,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{className:"meta",begin:"^\\s*\\[(?=[\\w])",excludeBegin:!0,end:"\\]",excludeEnd:!0,contains:[{className:"string",begin:/"/,end:/"/}]},{beginKeywords:"new return throw await else",relevance:0},{className:"function",begin:"("+h+"\\s+)+"+e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,end:/\s*[{;=]/,excludeEnd:!0,keywords:t,contains:[{beginKeywords:"public private protected static internal protected abstract async extern override unsafe virtual new sealed partial",relevance:0},{begin:e.IDENT_RE+"\\s*(<[^=]+>\\s*)?\\(",returnBegin:!0,contains:[e.TITLE_MODE,f],relevance:0},{match:/\(\)/},{className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:t,relevance:0,contains:[d,r,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},p]}},css:function(e){var t=e.regex,n={IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[[a-zA-Z][a-zA-Z0-9-]*([~|^$*]?=.+)?\]/},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z][A-Za-z0-9_-]*/}},r=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[n.BLOCK_COMMENT,{begin:/-(webkit|moz|ms|o)-(?=[a-z])/},n.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\.[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},n.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+N.join("|")+")"},{begin:":(:)?("+O.join("|")+")"}]},n.CSS_VARIABLE,{className:"attribute",begin:"\\b("+F.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,illegal:/\n/,contains:[n.BLOCK_COMMENT,n.HEXCOLOR,n.IMPORTANT,n.CSS_NUMBER_MODE].concat((0,S.Z)(r),[{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:(0,S.Z)(r).concat([{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}])},n.FUNCTION_DISPATCH])},{begin:t.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:/@-?\w[\w]*(-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:"and or not only",attribute:D.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"}].concat((0,S.Z)(r),[n.CSS_NUMBER_MODE])}]},{className:"selector-tag",begin:"\\b("+k.join("|")+")\\b"}]}},xml:function(e){let t=e.regex,n=t.concat(/[\p{L}_]/u,t.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},o={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=e.inherit(o,{begin:/\(/,end:/\)/}),s=e.inherit(e.APOS_STRING_MODE,{className:"string"}),u=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:/[\p{L}0-9._:-]+/u,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[r]},{begin:/'/,end:/'/,contains:[r]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[o,u,s,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[o,a,u,s]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},r,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[u]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:t.concat(/</,t.lookahead(t.concat(n,t.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:n,relevance:0,starts:c}]},{className:"tag",begin:t.concat(/<\//,t.lookahead(t.concat(n,/>/))),contains:[{className:"name",begin:n,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}},bash:function(e){let t=e.regex,n={};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},{begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]}]});let r={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},o={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},a={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,r]};r.contains.push(a);let s={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},u=e.SHEBANG({binary:"(fish|bash|zsh|sh|csh|ksh|tcsh|dash|scsh)",relevance:10}),c={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0};return{name:"Bash",aliases:["sh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:["if","then","else","elif","fi","for","while","until","in","do","done","case","esac","function","select"],literal:["true","false"],built_in:["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset","alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","type","typeset","ulimit","unalias","set","shopt","autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp","chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"]},contains:[u,e.SHEBANG(),c,s,e.HASH_COMMENT_MODE,o,{match:/(\/[a-z._-]+)+/},a,{match:/\\"/},{className:"string",begin:/'/,end:/'/},{match:/\\'/},n]}},shell:function(e){return{name:"Shell Session",aliases:["console","shellsession"],contains:[{className:"meta.prompt",begin:/^\s{0,3}[/~\w\d[\]()@-]*[>%$#][ ]?/,starts:{end:/[^\\](?=\s*$)/,subLanguage:"bash"}}]}},php:function(e){let t=e.regex,n=/(?![A-Za-z0-9])(?![$])/,r=t.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),o=t.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),a={scope:"variable",match:"\\$+"+r},s={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},u=e.inherit(e.APOS_STRING_MODE,{illegal:null}),c=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(s)}),l={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(s),"on:begin":(e,t)=>{t.data._beginMatch=e[1]||e[2]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}},A=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),d="[ 	\n]",f={scope:"string",variants:[c,u,l,A]},h={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},p=["false","null","true"],g=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],v=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],m={keyword:g,literal:(e=>{let t=[];return e.forEach(e=>{t.push(e),e.toLowerCase()===e?t.push(e.toUpperCase()):t.push(e.toLowerCase())}),t})(p),built_in:v},y=e=>e.map(e=>e.replace(/\|\d+$/,"")),b={variants:[{match:[/new/,t.concat(d,"+"),t.concat("(?!",y(v).join("\\b|"),"\\b)"),o],scope:{1:"keyword",4:"title.class"}}]},w=t.concat(r,"\\b(?!\\()"),_={variants:[{match:[t.concat(/::/,t.lookahead(/(?!class\b)/)),w],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[o,t.concat(/::/,t.lookahead(/(?!class\b)/)),w],scope:{1:"title.class",3:"variable.constant"}},{match:[o,t.concat("::",t.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[o,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},E={scope:"attr",match:t.concat(r,t.lookahead(":"),t.lookahead(/(?!::)/))},C={relevance:0,begin:/\(/,end:/\)/,keywords:m,contains:[E,a,_,e.C_BLOCK_COMMENT_MODE,f,h,b]},B={relevance:0,match:[/\b/,t.concat("(?!fn\\b|function\\b|",y(g).join("\\b|"),"|",y(v).join("\\b|"),"\\b)"),r,t.concat(d,"*"),t.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[C]};C.contains.push(B);let I=[E,_,e.C_BLOCK_COMMENT_MODE,f,h,b];return{case_insensitive:!1,keywords:m,contains:[{begin:t.concat(/#\[\s*/,o),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:p,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:p,keyword:["new","array"]},contains:["self",...I]},...I,{scope:"meta",match:o}]},e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},{scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},{scope:"variable.language",match:/\$this\b/},a,B,_,{match:[/const/,/\s/,r],scope:{1:"keyword",3:"variable.constant"}},b,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:m,contains:["self",a,_,e.C_BLOCK_COMMENT_MODE,f,h]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},f,h]}},go:function(e){let t={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:t,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{begin:e.C_NUMBER_RE+"[i]",relevance:1},e.C_NUMBER_MODE]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,illegal:/["']/}]}]}},kotlin:function(e){let t={keyword:"abstract as val var vararg get set class object open private protected public noinline crossinline dynamic final enum if else do while for when throw try catch finally import package is in fun override companion reified inline lateinit init interface annotation data sealed internal infix operator out by constructor super tailrec where const inner suspend typealias external expect actual",built_in:"Byte Short Char Int Long Boolean Float Double Void Unit Nothing",literal:"true false null"},n={className:"symbol",begin:e.UNDERSCORE_IDENT_RE+"@"},r={className:"subst",begin:/\$\{/,end:/\}/,contains:[e.C_NUMBER_MODE]},o={className:"variable",begin:"\\$"+e.UNDERSCORE_IDENT_RE},a={className:"string",variants:[{begin:'"""',end:'"""(?=[^"])',contains:[o,r]},{begin:"'",end:"'",illegal:/\n/,contains:[e.BACKSLASH_ESCAPE]},{begin:'"',end:'"',illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,o,r]}]};r.contains.push(a);let s={className:"meta",begin:"@(?:file|property|field|get|set|receiver|param|setparam|delegate)\\s*:(?:\\s*"+e.UNDERSCORE_IDENT_RE+")?"},u={className:"meta",begin:"@"+e.UNDERSCORE_IDENT_RE,contains:[{begin:/\(/,end:/\)/,contains:[e.inherit(a,{className:"string"}),"self"]}]},c=e.COMMENT("/\\*","\\*/",{contains:[e.C_BLOCK_COMMENT_MODE]}),l={variants:[{className:"type",begin:e.UNDERSCORE_IDENT_RE},{begin:/\(/,end:/\)/,contains:[]}]};return l.variants[1].contains=[l],l.variants[1].contains=[l],{name:"Kotlin",aliases:["kt","kts"],keywords:t,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.C_LINE_COMMENT_MODE,c,{className:"keyword",begin:/\b(break|continue|return|this)\b/,starts:{contains:[{className:"symbol",begin:/@\w+/}]}},n,s,u,{className:"function",beginKeywords:"fun",end:"[(]|$",returnBegin:!0,excludeEnd:!0,keywords:t,relevance:5,contains:[{begin:e.UNDERSCORE_IDENT_RE+"\\s*\\(",returnBegin:!0,relevance:0,contains:[e.UNDERSCORE_TITLE_MODE]},{className:"type",begin:/</,end:/>/,keywords:"reified",relevance:0},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:t,relevance:0,contains:[{begin:/:/,end:/[=,\/]/,endsWithParent:!0,contains:[l,e.C_LINE_COMMENT_MODE,c],relevance:0},e.C_LINE_COMMENT_MODE,c,s,u,a,e.C_NUMBER_MODE]},c]},{begin:[/class|interface|trait/,/\s+/,e.UNDERSCORE_IDENT_RE],beginScope:{3:"title.class"},keywords:"class interface trait",end:/[:\{(]|$/,excludeEnd:!0,illegal:"extends implements",contains:[{beginKeywords:"public protected internal private constructor"},e.UNDERSCORE_TITLE_MODE,{className:"type",begin:/</,end:/>/,excludeBegin:!0,excludeEnd:!0,relevance:0},{className:"type",begin:/[,:]\s*/,end:/[<\(,){\s]|$/,excludeBegin:!0,returnEnd:!0},s,u]},a,{className:"meta",begin:"^#!/usr/bin/env",end:"$",illegal:"\n"},b]}},rust:function(e){let t=e.regex,n={className:"title.function.invoke",relevance:0,begin:t.concat(/\b/,/(?!let|for|while|if|else|match\b)/,e.IDENT_RE,t.lookahead(/\s*\(/))},r="([ui](8|16|32|64|128|size)|f(32|64))?",o=["drop ","Copy","Send","Sized","Sync","Drop","Fn","FnMut","FnOnce","ToOwned","Clone","Debug","PartialEq","PartialOrd","Eq","Ord","AsRef","AsMut","Into","From","Default","Iterator","Extend","IntoIterator","DoubleEndedIterator","ExactSizeIterator","SliceConcatExt","ToString","assert!","assert_eq!","bitflags!","bytes!","cfg!","col!","concat!","concat_idents!","debug_assert!","debug_assert_eq!","env!","eprintln!","panic!","file!","format!","format_args!","include_bytes!","include_str!","line!","local_data_key!","module_path!","option_env!","print!","println!","select!","stringify!","try!","unimplemented!","unreachable!","vec!","write!","writeln!","macro_rules!","assert_ne!","debug_assert_ne!"],a=["i8","i16","i32","i64","i128","isize","u8","u16","u32","u64","u128","usize","f32","f64","str","char","bool","Box","Option","Result","String","Vec"];return{name:"Rust",aliases:["rs"],keywords:{$pattern:e.IDENT_RE+"!?",type:a,keyword:["abstract","as","async","await","become","box","break","const","continue","crate","do","dyn","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","override","priv","pub","ref","return","self","Self","static","struct","super","trait","true","try","type","typeof","unsafe","unsized","use","virtual","where","while","yield"],literal:["true","false","Some","None","Ok","Err"],built_in:o},illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*","\\*/",{contains:["self"]}),e.inherit(e.QUOTE_STRING_MODE,{begin:/b?"/,illegal:null}),{className:"string",variants:[{begin:/b?r(#*)"(.|\n)*?"\1(?!#)/},{begin:/b?'\\?(x\w{2}|u\w{4}|U\w{8}|.)'/}]},{className:"symbol",begin:/'[a-zA-Z_][a-zA-Z0-9_]*/},{className:"number",variants:[{begin:"\\b0b([01_]+)"+r},{begin:"\\b0o([0-7_]+)"+r},{begin:"\\b0x([A-Fa-f0-9_]+)"+r},{begin:"\\b(\\d[\\d_]*(\\.[0-9_]+)?([eE][+-]?[0-9_]+)?)"+r}],relevance:0},{begin:[/fn/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.function"}},{className:"meta",begin:"#!?\\[",end:"\\]",contains:[{className:"string",begin:/"/,end:/"/}]},{begin:[/let/,/\s+/,/(?:mut\s+)?/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"keyword",4:"variable"}},{begin:[/for/,/\s+/,e.UNDERSCORE_IDENT_RE,/\s+/,/in/],className:{1:"keyword",3:"variable",5:"keyword"}},{begin:[/type/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:[/(?:trait|enum|struct|union|impl|for)/,/\s+/,e.UNDERSCORE_IDENT_RE],className:{1:"keyword",3:"title.class"}},{begin:e.IDENT_RE+"::",keywords:{keyword:"Self",built_in:o,type:a}},{className:"punctuation",begin:"->"},n]}},hcl:function(e){var t={className:"number",begin:"\\b\\d+(\\.\\d+)?",relevance:0};return{aliases:["tf","hcl"],keywords:{keyword:"resource constiable provider output locals module data terraform|10",literal:"false true null"},contains:[e.COMMENT("\\#","$"),t,{className:"string",begin:'"',end:'"',contains:[{className:"constiable",begin:"\\${",end:"\\}",relevance:9,contains:[{className:"string",begin:'"',end:'"'},{className:"meta",begin:"[A-Za-z_0-9]*\\(",end:"\\)",contains:[t,{className:"string",begin:'"',end:'"',contains:[{className:"constiable",begin:"\\${",end:"\\}",contains:[{className:"string",begin:'"',end:'"',contains:[{className:"constiable",begin:"\\${",end:"\\}"}]},{className:"meta",begin:"[A-Za-z_0-9]*\\(",end:"\\)"}]}]},"self"]}]}]}]}}},M={"auto-detect":"Auto detect",json:"JSON",yaml:"YAML",typescript:"TypeScript",javascript:"JavaScript",markdown:"Markdown",python:"Python",java:"Java",sql:"SQL",c:"C",csharp:"C#",css:"CSS",xml:"HTML / XML",bash:"Bash",shell:"Shell",php:"PHP",go:"Go",kotlin:"Kotlin",rust:"Rust",hcl:"HCL"},P=Object.keys(L),U=!0,j=!1,Z=void 0;try{for(var Q,H=Object.entries(L)[Symbol.iterator]();!(U=(Q=H.next()).done);U=!0){var V=Q.value;r.registerLanguage(V[0],V[1])}}catch(e){j=!0,Z=e}finally{try{U||null==H.return||H.return()}finally{if(j)throw Z}}var K=r},95181:function(e,t,n){"use strict";n.d(t,{zm:function(){return f.zm},mY:function(){return f.mY},QT:function(){return x}});var r=n(47842),o=n(70865),a=n(87394),s=n(50930),u=n(12995),c=n(93707),l=n(53942),A=n(96670),d=n(46807),f=n(59806),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{CODE:"code",PRE:function(t){var n,r,o,a,s=t.domNode,u=(null!==(a=null===(n=s.querySelector("code"))||void 0===n?void 0:null===(r=n.className)||void 0===r?void 0:r.split(" "))&&void 0!==a?a:[]).find(function(e){return e.startsWith("language-")});return u&&(o=u.replace("language-","")),(0,f.mj)(s.textContent||"",{language:o,isInTrapMode:e.isInTrapMode})}}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{byTag:(0,o.Z)({},{CODE:"code"},h(e)),customRules:[function(t){var n=t.domNode;if("pre"===n.style.whiteSpace)return(0,f.mj)(n.textContent||"",e)}]}},g=n(69803),v=function(e,t){return e.anchor.offset!==t.anchor.offset?e.anchor.offset-t.anchor.offset:e.focus.offset!==t.focus.offset?e.focus.offset-t.focus.offset:0};function m(e){var t,n=(0,a.Z)(e,2),r=n[0],o=n[1],c=u.NB.string(r);try{t=r.language&&g.AO.includes(r.language)&&r.language!==g.Dj?g.ZP.highlight(r.language,c):g.ZP.highlightAuto(c)}catch(e){console.error(e),t=g.ZP.highlightAuto(c)}var A=t._emitter.stack,d=[];return!function e(t,n,r,o){var a=o,s=!0,u=!1,c=void 0;try{for(var l,A=r[Symbol.iterator]();!(s=(l=A.next()).done);s=!0){var d=l.value;"string"==typeof d?o+=d.length:(o=e(t,n,d.children,o),d.scope&&n.push({className:"hljs-".concat(d.scope),anchor:{path:t,offset:a},focus:{path:t,offset:o}})),a=o}}catch(e){u=!0,c=e}finally{try{s||null==A.return||A.return()}finally{if(u)throw c}}return o}((0,s.Z)(o).concat([0]),d,A,0),(0,l.qQ)(o,r,d).sort(v)}var y={"{":"}","[":"]","(":")",":":""};function b(e){var t=y[e];return function(n){if(n.selection){var r=(0,l.nc)(n,"code-block",n.selection.anchor.path),o=(0,l.nc)(n,"code-block",n.selection.focus.path);if(r&&o&&r[0]===o[0]){var a=u.e6.start(n.selection);u.YR.insertText(n,"".concat(e).concat(t),{at:{path:a.path,offset:a.offset}});var s={path:a.path,offset:a.offset+t.length};return u.YR.setSelection(n,{anchor:s,focus:s}),!0}}}}function w(e){return function(t){if(t.selection){var n=(0,l.nc)(t,"code-block",t.selection.anchor.path),r=(0,l.nc)(t,"code-block",t.selection.focus.path);if(n&&r&&n[0]===r[0]){var o=(0,a.Z)(u.e6.edges(t.selection),2),s=o[0],c=o[1],A=!1,d=!0;d=!0;var f=!0,h=!1,p=void 0;try{for(var g,v=u.NB.texts(t,{from:c.path,to:n[1]})[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){var m=g.value[0].text,y=d?c.offset-1:m.length-1;void 0!==m[y+1]&&m[y+1]===e&&(A=!0);break}}catch(e){h=!0,p=e}finally{try{f||null==v.return||v.return()}finally{if(h)throw p}}if(A){var b={path:s.path,offset:s.offset+1};return u.YR.setSelection(t,{anchor:b,focus:b}),!0}}}}}var _=function(e){var t=e.str,n=e.editor;return!!(!e.isInTrapMode||Array.from(u.NB.texts(n))[0][0].text.match(t))};function E(e){return function(t){if(t.selection){var n=(0,l.nc)(t,"code-block",t.selection.anchor.path),r=(0,l.nc)(t,"code-block",t.selection.focus.path);if(n&&r&&n[0]===r[0]){var o=(0,a.Z)(u.e6.edges(t.selection),2),s=o[0],c=o[1],A=!0,d=!1,f=void 0;try{n:for(var h,p,g=u.NB.texts(t,{reverse:!0,from:c.path,to:n[1]})[Symbol.iterator]();!(A=(p=g.next()).done);A=!0){var v=p.value,m=v[0].text;(m.endsWith("\n")&&(null==h?void 0:h[0].text.startsWith("  "))||m.endsWith("\n ")&&(null==h?void 0:h[0].text.startsWith(" ")))&&(m+="  "),h=v;for(var y=0===u.y$.compare(v[1],c.path)?c.offset-1:m.length-1,b=y;b>-1;b--)if("\n"===m[b]&&(e?" "===m[b+1]&&" "===m[b+2]&&u.YR.delete(t,{at:{path:v[1],offset:b+1},distance:2}):u.YR.insertText(t,"  ",{at:{path:v[1],offset:b+1}}),u.E9.isBefore({path:v[1],offset:b},s))){h=void 0;break n}}}catch(e){d=!0,f=e}finally{try{A||null==g.return||g.return()}finally{if(d)throw f}}if(h){if(e){var w=h[0].text;" "===w[0]&&" "===w[1]&&u.YR.delete(t,{at:{path:h[1],offset:0},distance:2})}else u.YR.insertText(t,"  ",{at:{path:h[1],offset:0}})}return!0}}}}function C(e){var t=e.insertFragment;return e.insertFragment=function(n){return!!function(e,t){var n=(0,l.kA)(e,t);if(!n||!(0,f.zm)(n))return!1;var r=(0,l.YI)(e);if(r&&(0,l.XU)(e,r[1])&&(0,l.FU)(e,{includeOffset:!0}))return!1;var o=u.NB.string(t[0]).replace(/^(\s)*/,"").replace(/(\s)*$/,"");if(o.includes("\n"))return!1;var a=[{type:"code",children:[{text:o}]}];return e.insertText(o),e.sealHistoryEntry(),u.YR.delete(e,{distance:o.length,reverse:!0,unit:"character"}),e.insertFragment(a),e.sealHistoryEntry(),!0}(e,n)||t(n)},e}var B=/^\`\`\`(\w+)?/,I=function(e){var t,n,o=e.blockCodeComponent,s=e.isInTrapMode,A=void 0!==s&&s;return{name:"code-block",elements:(0,r.Z)({},"code-block",{enterBehavior:"soft-break",component:o,disableTextInputHandlers:!0,softBreakBehavior:"soft-break"}),keyBindings:[(0,c.O2)({key:"//",elementArg:"code-block",opts:{shortKey:!0,shiftKey:!0},params:{disableInTable:!0}}),{name:"add indent",key:"Tab",shiftKey:!1,handler:E(!1)},{name:"remove indent",key:"Tab",shiftKey:!0,handler:E(!0)},{name:"indent or exit block on enter",key:"Enter",shiftKey:!1,handler:(t={isInTrapMode:A},function(e){if(e.selection){var n,r=t.isInTrapMode,o=(0,l.nc)(e,"code-block",e.selection.anchor.path),s=(0,l.nc)(e,"code-block",e.selection.focus.path);if(o&&s&&o[0]===s[0]){var c=s[0];if(u.e6.isCollapsed(e.selection)&&(0,l.bX)(e,function(e){return"type"in e&&"code-block"===e.type})){var A=!0,d=!1,f=void 0;try{for(var h,p=u.NB.texts(c,{reverse:!0})[Symbol.iterator]();!(A=(h=p.next()).done);A=!0){if(h.value[0].text.endsWith("\n\n")&&!r)return u.ML.deleteBackward(e,{unit:"character"}),u.ML.deleteBackward(e,{unit:"character"}),u.YR.insertNodes(e,[{type:"paragraph",children:[{text:""}]}],{at:u.y$.next(s[1])}),u.YR.move(e,{distance:1,unit:"character"}),!0;break}}catch(e){d=!0,f=e}finally{try{A||null==p.return||p.return()}finally{if(d)throw f}}}var g=(0,a.Z)(u.e6.edges(e.selection),2),v=g[0],m=g[1],b=!1,w=!1,_="",E=!0,C=!0,B=!1,I=void 0;try{n:for(var x,T,S=u.NB.texts(e,{reverse:!0,from:m.path,to:o[1]})[Symbol.iterator]();!(C=(T=S.next()).done);C=!0){var k=T.value[0].text,D=E?m.offset-1:k.length-1;E&&"{[(:".includes(k[D])&&(x=k[D],b=!0),E=!1;for(var N=D;N>-1;N--){if("\n"===k[N])break n;" "===k[N]||"	"===k[N]?_+=k[N]:_=""}}}catch(e){B=!0,I=e}finally{try{C||null==S.return||S.return()}finally{if(B)throw I}}E=!0;var O=!0,F=!1,R=void 0;try{for(var L,M=u.NB.texts(e,{from:m.path,to:o[1]})[Symbol.iterator]();!(O=(L=M.next()).done);O=!0){var P=L.value[0].text,U=E?m.offset-1:P.length-1;if(void 0!==P[U+1]){x&&P[U+1]===y[x]&&(w=!0);break}}}catch(e){F=!0,R=e}finally{try{O||null==M.return||M.return()}finally{if(F)throw R}}if(b&&(w||":"===x)){var j=_.length;_="\n".concat(_,"  \n").concat(_),n=j+3}else n=b?(_="\n  "+_).length:(_="\n"+_).length;if("\n"!==_){u.YR.insertText(e,"".concat(_));var Z={path:v.path,offset:v.offset+n};return u.YR.setSelection(e,{anchor:Z,focus:Z}),!0}}}})},{key:"Backspace",handler:(n={isInTrapMode:A},function(e){if(n.isInTrapMode&&e.selection){var t=(0,l.nc)(e,"code-block",e.selection.anchor.path),r=(0,l.nc)(e,"code-block",e.selection.focus.path);if(t&&r&&t[0]===r[0]){var o=r[0];if(Array.from(u.NB.texts(o)).every(function(e){return""===u.NB.string(e[0])}))return!0}}}),name:"Do not delete block on backspace in trap mode"},{name:"autoclose { block",key:"{",shiftKey:!0,handler:b("{")},{name:"autoclose [ block",key:"[",shiftKey:!1,handler:b("[")},{name:"autoclose ( block",key:"(",shiftKey:!0,handler:b("(")},{name:"avoid doubleclose { block",key:"}",shiftKey:!0,handler:w("}")},{name:"avoid doubleclose [ block",key:"]",shiftKey:!1,handler:w("]")},{name:"avoid doubleclose ( block",key:")",shiftKey:!0,handler:w(")")}],textInputHandlers:[(0,c.dC)({str:"```",matchMode:"start",element:"code-block",customTest:function(e){return _({editor:e,isInTrapMode:A,str:"```"})},isDisabledInTable:!0})]}},x=function(e){var t=e.blockCodeComponent,n=e.inlineCodeComponent,r=e.isInTrapMode,h=void 0!==r&&r,v={},y=[],b=[];if(t){var w=I({blockCodeComponent:t,isInTrapMode:h});v=(0,o.Z)({},v,w.elements),y=(0,s.Z)(y).concat((0,s.Z)(w.keyBindings)),b=(0,s.Z)(b).concat((0,s.Z)(w.textInputHandlers))}if(n){var _={name:"inline-code",elements:{code:{inline:!0,component:e.inlineCodeComponent,disableTextInputHandlers:!0,enterBehavior:"create-paragraph",normalize:function(e,t){var n=(0,a.Z)(t,2),r=n[0],o=n[1];if(""===u.NB.string(r))return u.YR.removeNodes(e,{at:o,hanging:!0}),!0}}},keyBindings:[(0,c.pM)("c","code",{shortKey:!0,shiftKey:!0})],textInputHandlers:[(0,c.dC)({str:"`",matchMode:"surround",element:"code",inline:!0})]};v=(0,o.Z)({},v,_.elements),y=(0,s.Z)(y).concat((0,s.Z)(_.keyBindings)),b=(0,s.Z)(b).concat((0,s.Z)(_.textInputHandlers))}return{elements:v,keyBindings:y,name:"code",textInputHandlers:b,toMarkdown:{byElementType:(0,o.Z)({},{"code-block":function(e){var t=e.element.language||"";return(0,d.H4)((0,A.Z)((0,o.Z)({},e),{markdown:["```"+t+"\n","\n```\n"],childrenMarkdownPosition:"between"}))}},{code:function(e){return(0,d.H4)((0,A.Z)((0,o.Z)({},e),{markdown:["`","`"],childrenMarkdownPosition:"between"}))}})},decorators:{"code-block":m},fromHtml:p({isInTrapMode:h}),eventHandlers:{onPaste:function(e,t){if(!e.selection)return!1;var n=(0,l.nc)(e,"code-block",e.selection.anchor.path),r=(0,l.nc)(e,"code-block",e.selection.focus.path);if(n&&(null==n?void 0:n[0])===(null==r?void 0:r[0])){var o=t.clipboardData.getData("text/plain").trim(),a=B.exec(o);if(a&&o.trim().endsWith("```")){var s=3;a[1]&&g.AO.includes(a[1])&&(s=a[0].length),o=o.substring(s,o.length-3)}return e.insertText((0,f.tY)(o)),!0}}},editor:C,conversionRules:{code:{disallowedTypes:["image","youTubePlayer","block-link"]},"code-block":{disallowedTypes:["image","youTubePlayer","block-link"]}}}}},59806:function(e,t,n){"use strict";n.d(t,{Rz:function(){return A},mY:function(){return l},mj:function(){return u},tY:function(){return s},zm:function(){return c}});var r=n(87394),o=n(12995),a=n(69803);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.keepEmptyLines;n?(e.endsWith("\n")||e.endsWith("\n\n"))&&(e=e.slice(0,-1)):e=e.trim();var r=void 0,o=e.match(n?/\n[\t\f\cK ]+/g:/\n\s*/g);if(o){var a=!0,s=!1,u=void 0;try{for(var c,l=o[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var A=c.value;(void 0===r||A.length<r.length)&&(r=A)}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}}return void 0!==r?e.replaceAll(RegExp("(\n|^)".concat(r.substring(1)),"g"),"$1").trim():e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"code-block",language:t.language,children:[{text:s(e,{keepEmptyLines:t.isInTrapMode})}]}}function c(e){return o.W_.isElement(e)&&"code-block"===e.type}function l(e){return o.W_.isElement(e)&&"code"===e.type}var A=function(e,t){if(t){var n=Array.from(o.ML.nodes(e,{match:function(e){return c(e)}})),s=t===a.Dj?void 0:t,u=!0,l=!1,A=void 0;try{for(var d,f=n[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var h=(0,r.Z)(d.value,2)[1];o.YR.setNodes(e,{type:"code-block",language:s},{at:h})}}catch(e){l=!0,A=e}finally{try{u||null==f.return||f.return()}finally{if(l)throw A}}}}},97462:function(e,t,n){"use strict";n.d(t,{r5:function(){return g.r5},RF:function(){return g.RF},b9:function(){return y},Q:function(){return g.Q}});var r=n(87394),o=n(67304),a=/*#__PURE__*/n.n(o),s=n(12995),u=n(37164),c=n(53942),l=n(74189),A=n(3220),d=n(58490),f=n(70865),h=n(96670),p=n(46807),g=n(3037);function v(e){if(e.selection&&s.e6.isCollapsed(e.selection)&&(0,c.FU)(e,{includeOffset:!0,blockPath:[]})){var t=s.ML.start(e,[]),n=s.ML.above(e,{at:t,mode:"highest",voids:!0,match:function(t){return s.ML.isVoid(e,t)}});if(n){var r=n[1];return s.YR.insertNodes(e,(0,g.Q)(),{at:r}),s.YR.select(e,r),!0}}}function m(e,t,n){var r=a()(Object.keys(t),"children","type","isAI","aiRequestId");if(r.length)return s.YR.unsetNodes(e,r,{at:n,match:function(e){return e===t}}),!0}var y=function(e){var t=e.divComponent,n=e.spanComponent,o=e.paragraphComponent,a=e.spanFormatComponent,y=e.onKeyboardShortcutsOpen,b=e.onHideUi,w=[{name:"select-block",key:"a",shortKey:!0,shiftKey:!0,handler:function(e){return(0,d.ts)(e),!0},logEvent:!0},{name:"block tab character by default",key:"Tab",handler:function(){return!0}},{name:"enter default",key:"Enter",handler:function(e){if(!navigator.userAgent.indexOf("Chrome")||!navigator.userAgent.indexOf("Firefox")||!e.selection)return!1;try{(0,l.i)(e,document.getElementById("note-container"))}catch(e){console.warn("Scroll to closest element node error:",e)}}},{name:"create-paragraph-at-start",key:"ArrowUp",handler:v,logEvent:!0}];return y&&w.push({name:"shortcut modal open",key:"/",shortKey:!0,metaKey:!0,handler:function(){return y(),!1},logEvent:!0}),b&&w.push({name:"shortcut toggle ui",key:"\\",shortKey:!0,metaKey:!0,handler:function(){return b(),!1},logEvent:!0}),{name:"default",elements:{paragraph:{component:o,enterBehavior:"create-paragraph",normalize:function(e,t){var n=(0,r.Z)(t,2),o=n[0],a=n[1];return(0,c.XU)(e,a)?m(e,o,a):((0,A.Z3)(e,a),!0)}},span:{component:n,inline:!0,normalize:function(e,t){var n=(0,r.Z)(t,2),o=n[0],a=n[1];return(0,c.XU)(e,a)?(s.YR.setNodes(e,{type:"paragraph"},{at:a}),!0):(0,g.RF)(s.NB.get(e,s.y$.parent(a)))?(s.YR.unwrapNodes(e,{at:a}),!0):m(e,o,a)}},div:{component:t,softBreakBehavior:"soft-break",enterBehavior:"split-parent",normalize:function(e,t){var n=(0,r.Z)(t,2),o=n[0],a=n[1];return(0,c.XU)(e,a)?(s.YR.setNodes(e,{type:"paragraph"},{at:a}),!0):(0,g.RF)(s.NB.get(e,s.y$.parent(a)))?(s.YR.unwrapNodes(e,{at:a}),!0):m(e,o,a)}}},formats:{className:{component:a}},keyBindings:w,editor:function(e){var t=e.deleteBackward;e.deleteBackward=function(n){var o=function(e){if(e.selection&&s.e6.isCollapsed(e.selection)){var t=e.selection.focus.path,n=s.ML.above(e,{at:t,mode:"lowest"});if(n&&"type"in n[0]){var o=(0,r.Z)(n,2),a=o[0],u=o[1];if(e.isInline(a)){var l=s.NB.string(a);if(0===l.length||1===l.length){var A=s.y$.next(u),d=s.NB.has(e,s.y$.next(u))?s.NB.get(e,A):null,f=s.xv.isText(d)&&" "===d.text&&(0,c.yi)(e,{at:s.ML.end(e,A)});return s.ML.withoutNormalizing(e,function(){f&&s.YR.removeNodes(e,{at:A}),s.YR.removeNodes(e,{at:u})}),!0}return}if((0,c.FU)(e,{blockPath:u,includeOffset:!0})){if((0,c.FU)(e,{blockPath:[]})&&"paragraph"===a.type&&""===s.NB.string(a))return s.YR.removeNodes(e,{at:u}),!0;if(!["div","span","paragraph"].includes(a.type)&&""===s.NB.string(a))return s.ML.withoutNormalizing(e,function(){s.YR.removeNodes(e,{at:u}),s.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:u,select:!0})}),!0;var h=s.ML.previous(e,{at:u});if(h&&s.ML.isVoid(e,h[0]))return s.YR.select(e,h[1]),!0}}}}(e);o||(o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"character";if(!e.selection||!s.e6.isCollapsed(e.selection)||!(0,c.yi)(e,{at:e.selection.focus})||"character"!==t)return!1;var n=e.selection.focus.path,r=s.NB.get(e,n),o=s.y$.hasPrevious(n)?s.NB.get(e,s.y$.previous(n)):null;if(s.xv.isText(r)&&(" "===r.text||""===r.text)&&s.ML.isInline(e,o))return s.YR.select(e,s.ML.end(e,s.y$.previous(n))),e.deleteBackward("character"),!0}(e))||t(n)};var n=e.insertFragment;return e.insertFragment=function(t){var o=new Set,a=!0,c=!1,l=void 0;try{for(var A,d=s.ML.nodes(e,{at:[]})[Symbol.iterator]();!(a=(A=d.next()).done);a=!0){var f=(0,r.Z)(A.value,1)[0];"id"in f&&f.id&&o.add(f.id)}}catch(e){c=!0,l=e}finally{try{a||null==d.return||d.return()}finally{if(c)throw l}}var h=!0,p=!1,g=void 0;try{for(var v,m=t[Symbol.iterator]();!(h=(v=m.next()).done);h=!0){var y=v.value;!function e(t){if("id"in t&&t.id&&o.has(t.id)&&(t.id=(0,u.x0)()),"children"in t){var n=!0,r=!1,a=void 0;try{for(var s,c=t.children[Symbol.iterator]();!(n=(s=c.next()).done);n=!0){var l=s.value;e(l)}}catch(e){r=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}}}(y)}}catch(e){p=!0,g=e}finally{try{h||null==m.return||m.return()}finally{if(p)throw g}}n(t)},e},fromHtml:{byTag:{P:"paragraph",BR:function(){return{text:"\n"}}}},toMarkdown:{byElementType:{paragraph:function(e){return e.isInTable?(0,p.H4)((0,h.Z)((0,f.Z)({},e),{markdown:["<p>","</p>"],childrenMarkdownPosition:"between"})).replace(/\n/g,"<br />"):(0,p.H4)((0,h.Z)((0,f.Z)({},e),{markdown:"\n\n",childrenMarkdownPosition:"before"}))}}},genericNormalizer:function(e,t){var n=(0,r.Z)(t,2),o=n[0],a=n[1];if(!1===e.isInline(o)){var u=(0,r.Z)(s.ML.last(e,a),2),c=u[0],l=u[1];if(s.xv.isText(c)){if(!1===s.y$.hasPrevious(l))return;var A=(0,r.Z)(s.ML.node(e,s.y$.previous(l)),1)[0];if(""===c.text&&e.isInline(A))return s.YR.insertText(e," ",{at:s.ML.start(e,l)}),!0}else if(e.isInline(c))return s.YR.insertNodes(e,{text:" "},{at:s.y$.next(l)}),!0}},conversionRules:{paragraph:{disallowedTypes:["image","code-block","youTubePlayer","block-link"]}}}}},41955:function(e,t,n){"use strict";n.d(t,{U:function(){return s}});var r=n(12995),o=n(20660),a=n(44043),s=function(e,t,n){var s,u,c,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},A=l.removeFormats,d=void 0!==A&&A,f=n.find(function(e){return"default"===e.name}),h=null!==(c=null==f?void 0:null===(s=f.conversionRules)||void 0===s?void 0:null===(u=s.paragraph)||void 0===u?void 0:u.disallowedTypes)&&void 0!==c?c:[];t.filter(function(e){return!h.includes(e[0].type)}).map(function(t){return r.ML.pathRef(e,t[1])}).forEach(function(t){t.current&&((0,a.R5)(e,t),r.YR.setNodes(e,{type:"paragraph"},{at:t.current}),d&&(0,o.oy)(e,t.current),t.unref())})}},3037:function(e,t,n){"use strict";n.d(t,{A7:function(){return s},Q:function(){return u},RF:function(){return a},r5:function(){return c}});var r=n(87394),o=n(12995);function a(e){return!!e&&"object"==typeof e&&"type"in e&&"paragraph"===e.type}function s(e){return o.W_.isElement(e)&&"div"===e.type}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:"paragraph",children:[{text:e}]}}var c=function(e,t,n){var a=!0,s=!1,u=void 0;try{for(var c,l=o.ML.nodes(e,{at:[0],match:n})[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var A=(0,r.Z)(c.value,2),d=(A[0],A[1]);o.YR.setNodes(e,t,{at:d})}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}}},92775:function(e,t,n){"use strict";n.d(t,{wu:function(){return E},RN:function(){return C},Xr:function(){return w},u1:function(){return b},Lr:function(){return h},vW:function(){return y}});var r=n(87394),o=n(37164),a=n(12995),s=n(85009),u=n(53942),c=n(56704),l=n(69253),A=new Set(["3dv","ai","amf","art","ase","awg","blp","bmp","bw","cd5","cdr","cgm","cit","cmx","cpt","cr2","cur","cut","dds","dib","djvu","dxf","e2d","ecw","egt","emf","eps","exif","fs","gbr","gif","gpl","grf","hdp","heic","heif","icns","ico","iff","int","inta","jfif","jng","jp2","jpeg","jpg","jps","jxr","lbm","liff","max","miff","mng","msp","nef","nitf","nrrd","odg","ota","pam","pbm","pc1","pc2","pc3","pcf","pct","pcx","pdd","pdn","pgf","pgm","PI1","PI2","PI3","pict","png","pnm","pns","ppm","psb","psd","psp","px","pxm","pxr","qfx","ras","raw","rgb","rgba","rle","sct","sgi","sid","stl","sun","svg","sxd","tga","tif","tiff","v2d","vnd","vrml","vtf","wdp","webp","wmf","x3d","xar","xbm","xcf","xpm"]),d="slateDropTarget",f=function(e,t,n,r){for(var o=e.history.undos,a=!1,s=o.length-1;s>=0;s--){for(var u=o[s].operations.length-1;u>=0;u--){var c=o[s].operations[u];if("insert_node"===c.type){var l=c.node;if("image"===l.type&&l.id===t&&l.src===n){var A=Object.assign({},l,{src:r});c.node=A,a=!0;break}}}if(a)break}},h=function(e){var t=e.range,n=e.editor,r=e.onError,a=e.dataTransfer,s=e.uploadService,u=a.files,c=0,d=!0,h=!1,p=void 0;try{for(var g,v=u[Symbol.iterator]();!(d=(g=v.next()).done);d=!0)!function(){var e,a,u,d=g.value;if(e=d.name,u="string"==typeof e?e:e.name,!A.has(null!==(a=u.split(".").pop())&&void 0!==a?a:""))return c++;var h=URL.createObjectURL(d),p=(0,o.x0)();createImageBitmap(d).then(function(e){(0,l.Bi)(p,{src:h,altText:d.name,title:d.name,width:e.width,height:e.height},n,!1,t)}).then(function(){return s(d)}).then(function(e){var t=e.url;return(0,l.Pm)(p,t,n),t}).then(function(e){URL.revokeObjectURL(h),f(n,p,h,e)}).catch(r)}()}catch(e){h=!0,p=e}finally{try{d||null==v.return||v.return()}finally{if(h)throw p}}return c&&r("".concat(c," file(s) were ignored due to invalid extension.")),c!==u.length},p=function(e,t){for(var n=t.clientY,o=["span","section","list","div"],u=Array.from(a.NB.descendants(e)).filter(function(t){var n=(0,r.Z)(t,1)[0];return a.ML.isBlock(e,n)}).filter(function(e){var t=(0,r.Z)(e,1)[0];return!o.some(function(e){return a.W_.isElementType(t,e)})}),c=u.map(function(t){var n=(0,r.Z)(t,1)[0];return s.F3.toDOMNode(e,n).getBoundingClientRect()}).map(function(e){return[e.top,e.bottom]}).map(function(e){var t=(0,r.Z)(e,2);return Math.min(Math.abs(n-t[0]),Math.abs(n-t[1]))}),l=1/0,A=-1,d=0;d<c.length;d++)c[d]<l&&(l=c[d],A=d);return u[A]},g=function(e){var t;null===(t=s.F3.toDOMNode(e,e).querySelector(".".concat(d)))||void 0===t||t.classList.remove(d)},v=function(e,t){var n=s.F3.toDOMNode(e,t);g(e),n.classList.add(d)},m=function(e,t,n){if(!n||!(null===(r=e.selection)||void 0===r?void 0:r.anchor.path))return!1;var r,o,c=a.y$.parent(e.selection.anchor.path);if(!c)return!1;if(a.y$.equals(n,c))return!0;if("list-item"===t.type){var l=s.F3.findPath(e,t.children[t.children.length-1]);o=a.y$.next(l)}else o=!a.y$.isSibling(n,c)||a.y$.isBefore(n,c)?(0,u.$C)(e,n,"down"):n;return!!o&&(a.YR.moveNodes(e,{at:c,to:o}),!0)},y=function(e){var t=e.event,n=e.editor,r=e.onError,o=e.uploadService,a=t.clipboardData;return void 0!==a.types.find(function(e){return"Files"===e})&&h({editor:n,dataTransfer:a,uploadService:o,onError:r})},b=function(e){var t=e.event,n=e.editor,o=e.onError,s=e.uploadService,u=t.dataTransfer,l=p(n,t),A=(0,c.oT)(u),d=void 0!==u.types.find(function(e){return"Files"===e});if(!l)return!1;var f=(0,r.Z)(l,2),v=f[0],y=f[1],b=a.ML.point(n,y,{edge:"end"}),w=a.ML.range(n,b);return(g(n),d)?h({range:w,editor:n,onError:o,dataTransfer:u,uploadService:s}):!!A&&m(n,v,y)},w=function(e){var t,n=e.editor,r=p(n,e.event);if(!((null===(t=n.selection)||void 0===t?void 0:t.anchor.path)!==void 0)){v(n,r[0]);return}var o=r[1],s=a.y$.parent(n.selection.anchor.path);a.y$.equals(o,s)?g(n):v(n,r[0])},_=0,E=function(){_++},C=function(e){0==--_&&g(e)}},69253:function(e,t,n){"use strict";n.d(t,{Bi:function(){return u},Kx:function(){return c},Pm:function(){return l}});var r=n(12995),o=n(20672),a=n(3220),s=n(53942),u=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,u=t.src,c=t.altText,l=t.title,A=t.height,d=t.width,f=a;if(o&&(n.insertText(u),n.sealHistoryEntry(),r.YR.delete(n,{unit:"character",distance:u.length,reverse:!0})),!a&&n.selection){var h=r.NB.parent(n,n.selection.anchor.path);"paragraph"===h.type&&""===r.NB.string(h)&&r.YR.removeNodes(n);var p=(0,s.wu)(n,{type:"list",mode:"highest"});p&&(f=r.ML.after(n,p[1]))}return r.YR.insertNodes(n,[{id:e,src:u,title:void 0===l?"":l,altText:void 0===c?"":c,height:A,width:d,type:"image",children:[{text:""}]},{type:"paragraph",children:[{text:""}]}],{at:f,voids:!0}),e},c=function(e,t,n){var s=(0,a.nv)(t,e);s&&o.MO.withoutSaving(t,function(){return r.YR.setNodes(t,{width:n.width,height:n.height},{at:s[1]})})},l=function(e,t,n){var s=(0,a.nv)(n,e);s&&o.MO.withoutSaving(n,function(){return r.YR.setNodes(n,{src:t},{at:s[1]})})}},35339:function(e,t,n){"use strict";n.d(t,{ON:function(){return a.ON},RH:function(){return m.R},$m:function(){return a.$m},r5:function(){return r.r5},T8:function(){return a.T8},t9:function(){return a.t9},zm:function(){return u.zm},if:function(){return a.if},RF:function(){return r.RF},Xf:function(){return a.Xf},hZ:function(){return R},O6:function(){return eR},eD:function(){return eF},lw:function(){return en.lw},RX:function(){return W.R},QT:function(){return u.QT},W4:function(){return eC},b9:function(){return r.b9},O4:function(){return eo},$c:function(){return ey},DA:function(){return a.DA},As:function(){return o.A},Ft:function(){return et},qi:function(){return eN},Hi:function(){return s.Hi},Wn:function(){return eE},Eo:function(){return a.Eo},Ke:function(){return G},$h:function(){return z}});var r=n(97462),o=n(23649),a=n(4171),s=n(39269),u=n(95181),c=n(47842),l=n(50930),A=n(70865),d=n(96670),f=n(87394),h=n(12995),p=n(46807),g=n(42838),v=n(26297),m=n(32970),y=function(e){var t=e.domNode,n=e.parseChildren,r=(0,v.Z)(e,["domNode","parseChildren"]);if((0,g.Z)(t,HTMLDivElement)){if("taskListLocalId"in t.dataset)return{type:"list",listType:m.R.todos,children:n((0,A.Z)({domNode:t.childNodes,parseChildren:n},r))};if(t.dataset.taskLocalId)return{type:"list-item",done:!!(null===(u=t.querySelector('input[type="checkbox"]'))||void 0===u?void 0:u.checked),children:n((0,A.Z)({domNode:t.childNodes,parseChildren:n},r))}}if((0,g.Z)(t,HTMLUListElement))return t.className.includes("task-list")||"todo_list"===t.dataset.type||(null===(c=t.firstElementChild)||void 0===c?void 0:null===(l=c.textContent)||void 0===l?void 0:l.startsWith("[ ]"))||(null===(f=t.firstElementChild)||void 0===f?void 0:null===(h=f.textContent)||void 0===h?void 0:h.startsWith("[x]"))||t.querySelector("li[role=checkbox]")||"true"===t.getAttribute("data-todos")||t.querySelector("input[type=checkbox]")?{type:"list",listType:m.R.todos,children:n((0,A.Z)({domNode:Array.from(t.children),parseChildren:n},r))}:t.dataset.checked?{type:"list",children:t.childElementCount>1?Array.from(t.children).map(function(e){return{type:"list-item",done:"true"===t.dataset.checked,children:n((0,d.Z)((0,A.Z)({},r),{parseChildren:n,domNode:e.childNodes}))}}):[{type:"list-item",done:"true"===t.dataset.checked,children:n((0,d.Z)((0,A.Z)({},r),{parseChildren:n,domNode:t.firstElementChild.childNodes}))}],listType:m.R.todos}:{type:"list",listType:m.R.unordered,children:n((0,A.Z)({domNode:Array.from(t.children),parseChildren:n},r))};if((0,g.Z)(t,HTMLLIElement)){var o=!1,a=!1;if("checkbox"===t.getAttribute("role"))o=!0,a="true"===t.getAttribute("aria-checked");else if("todo_item"===t.dataset.type&&t.dataset.done)o=!0,a="true"===t.dataset.done;else if(t.hasAttribute("data-done"))o=!0,a="true"===t.getAttribute("data-done");else{if((null===(p=t.textContent)||void 0===p?void 0:p.startsWith("[ ]"))||(null===(y=t.textContent)||void 0===y?void 0:y.startsWith("[x]"))){o=!0,a=!!(null===(b=t.textContent)||void 0===b?void 0:b.startsWith("[x]"));var s=t.firstChild;if((0,g.Z)(s,Text)){var u,c,l,f,h,p,y,b,w,_=t.ownerDocument.createTextNode((null===(w=s.textContent)||void 0===w?void 0:w.substring(3).trim())||"");t.insertBefore(_,s),t.removeChild(s)}}var E=t.querySelector("input[type=checkbox]");if(E){o=!0,a=E.checked;var C,B=E.nextSibling;B&&(0,g.Z)(B,Text)&&(B.textContent=(null===(C=B.textContent)||void 0===C?void 0:C.trimStart())||"")}}return o?{type:"list-item",done:a,children:n((0,A.Z)({domNode:Array.from(t.childNodes),parseChildren:n},r))}:{type:"list-item",children:n((0,A.Z)({domNode:Array.from(t.childNodes),parseChildren:n},r))}}},b=function(e){return h.W_.isElement(e)&&"list"===e.type},w=function(e,t){var n=t[0],r=1===t.length,o=n.children.findIndex(function(t){return t===e});return r&&0===o},_=function(e,t){return Array.from(h.NB.elements(e)).find(function(e){return(0,f.Z)(e,1)[0]===t})[1]},E=function(e){var t=e.element,n=e.serializeChildren;if(!b(t))return"";var r=t.children.map(function(r){var o=r.children.map(function(t){return n((0,d.Z)((0,A.Z)({},e),{element:t}))}),a="";return t.listType===m.R.todos&&(a=r.done?"[x] ":"[ ] "),"<li>".concat(a).concat(o.join(""),"</li>")});switch(t.listType){case m.R.ordered:return"<ol>".concat(r.join("\n"),"</ol>");case m.R.unordered:case m.R.todos:return"<ul>".concat(r.join("\n"),"</ul>")}},C=n(93707),B=n(55611),I=n(3220),x=n(44043),T=function(e,t){var n,r=(0,f.Z)(t,2),o=r[0],a=r[1];if(!(null===(n=o.children)||void 0===n?void 0:n.length))return h.YR.removeNodes(e,{at:a}),!0;if(S(e,[o,a]))return!0;var s=h.y$.next(a),u=h.NB.has(e,s)?h.NB.get(e,s):null;if(u&&(0,x.nq)(u)&&(0,I.UT)(o,u))return!!S(e,[u,s])||(h.YR.mergeNodes(e,{at:s}),!0);var c=h.y$.hasPrevious(a)?h.y$.previous(a):null;if((u=c&&h.NB.has(e,c)?h.NB.get(e,c):null)&&c&&(0,x.nq)(u)&&(0,I.UT)(o,u))return!!S(e,[u,c])||(h.YR.mergeNodes(e,{at:a}),!0)},S=function(e,t){var n=(0,f.Z)(t,2),r=n[0],o=n[1],a=r.listType===m.R.todos,s=r.children.findIndex(x.OD),u=r.children[s];if(!u)return h.YR.insertNodes(e,{type:"list-item",children:[{type:"div",children:[{text:""}]}]},{at:o.concat(0)}),!0;if(!(null===(v=u.children)||void 0===v?void 0:v.length))return N(e,[u,o.concat(s)]),!0;var c=h.ML.isBlock(e,u.children[0])?u.children[0].children.length:0,l=!1,A=!1,d=!0,p=!1,g=void 0;try{for(var v,y,b=h.NB.children(e,o,{reverse:!0})[Symbol.iterator]();!(d=(y=b.next()).done);d=!0){var w=(0,f.Z)(y.value,2),_=w[0],E=w[1];if((0,x.OD)(_)){var C=O(e,[_,E],a);A=A||C;continue}if(h.ML.isBlock(e,_))return h.YR.setNodes(e,{type:"list-item"},{at:E}),!0;l=!0;var B=o.concat(s,0,c);h.YR.moveNodes(e,{at:E,to:B})}}catch(e){p=!0,g=e}finally{try{d||null==b.return||b.return()}finally{if(p)throw g}}return!!l||!!A};function k(e,t,n){if(!h.NB.has(e,t)){console.warn("[ListNormalized] Invalid moveBlockChildren attempted at",t);return}if(!h.NB.has(e,n)){console.warn("[ListNormalized] Invalid moveBlockChildren attempted at",n);return}var r=(0,f.Z)(h.ML.node(e,t),1)[0],o=t.concat(r.children.length),a=!0,s=!1,u=void 0;try{for(var c,l=h.NB.children(e,n,{reverse:!0})[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var A=(0,f.Z)(c.value,2),d=A[0],p=A[1];h.ML.isBlock(e,d)?"list"===d.type?h.YR.moveNodes(e,{at:p,to:o}):k(e,t,p):h.YR.moveNodes(e,{at:p,to:o})}}catch(e){s=!0,u=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw u}}}var D=function(e,t){var n=(0,f.Z)(t,2),r=n[0],o=n[1];if(N(e,[r,o]))return!0;var a=(0,f.Z)(h.ML.parent(e,o),1)[0];return(0,x.nq)(a)?!!O(e,[r,o],a.listType===m.R.todos)||void 0:((0,I.Z3)(e,o),!0)},N=function(e,t){var n=(0,f.Z)(t,2),r=n[0],o=n[1];if(!r.children.length)return h.YR.insertNodes(e,{type:"div",children:[{text:""}]},{at:(0,l.Z)(o).concat([0])}),!0;var a=(0,f.Z)(r.children,1)[0];if(1===r.children.length&&(0,x.nq)(a))return(0,I.s6)(e,o.concat(0),{levels:2}),!0;var s=o.concat(0);if(h.xv.isText(a)||"div"!==a.type)return h.YR.insertNodes(e,{type:"div",children:[]},{at:s}),!0;var u=!0,c=!1,A=void 0;try{for(var d,p=h.NB.children(e,o)[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var g=(0,f.Z)(d.value,2),v=g[0],m=g[1];if(h.y$.equals(m,s)){var y=!0,b=!1,w=void 0;try{for(var _,E=h.NB.children(e,m)[Symbol.iterator]();!(y=(_=E.next()).done);y=!0){var C=(0,f.Z)(_.value,2),B=C[0],T=C[1];if(h.ML.isBlock(e,B))return"list"===B.type?h.YR.moveNodes(e,{at:T,to:o.concat(r.children.length)}):(k(e,o,T),h.YR.removeNodes(e,{at:T})),!0}}catch(e){b=!0,w=e}finally{try{y||null==E.return||E.return()}finally{if(b)throw w}}}else if(!h.ML.isBlock(e,v))return h.YR.moveNodes(e,{at:m,to:s.concat(a.children.length)}),!0;else if("list"!==v.type)return k(e,o,m),h.YR.removeNodes(e,{at:m}),!0}}catch(e){c=!0,A=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw A}}},O=function(e,t,n){var r=(0,f.Z)(t,2),o=r[0],a=r[1];return!n||"done"in o?!n&&"done"in o&&(h.YR.unsetNodes(e,"done",{at:a,match:function(e){return e===o}}),!0):(h.YR.setNodes(e,{done:!1},{at:a,match:function(e){return e===o}}),!0)},F=n(58348),R=function(e){var t=e.listComponent,n=e.listItemComponent;return{name:"list",elements:(0,c.Z)({list:{component:t,normalize:T}},"list-item",{component:n,normalize:D,softBreakBehavior:"soft-break"}),keyBindings:[{name:"toggle todo list",key:"7",shortKey:!0,shiftKey:!0,handler:function(e){return(0,F.X)(e,m.R.todos),!0},logEvent:!0},{name:"toggle unordered list",key:"8",shortKey:!0,shiftKey:!0,handler:function(e){return(0,F.X)(e,m.R.unordered),!0},logEvent:!0},{name:"toggle ordered list",key:"9",shortKey:!0,shiftKey:!0,handler:function(e){return(0,F.X)(e,m.R.ordered),!0},logEvent:!0},{name:"indent",key:"Tab",shiftKey:!1,handler:function(e){return(0,x.Fg)(e)}},{name:"un-indent",key:"Tab",shiftKey:!0,handler:function(e){return(0,x.pT)(e)}},{name:"move-list-item-down",key:"ArrowDown",altKey:!0,handler:function(e){return(0,x.uk)(e,"down")},logEvent:!0},{name:"move-list-item-up",key:"ArrowUp",altKey:!0,handler:function(e){return(0,x.uk)(e,"up")},logEvent:!0},{name:"toggle todo",key:"Enter",shortKey:!0,handler:function(e){return(0,x.CA)(e)},logEvent:!0}],textInputHandlers:[(0,C.dC)({str:"* ",matchMode:"start",element:{type:"list",listType:m.R.unordered}}),(0,C.dC)({str:"- ",matchMode:"start",element:{type:"list",listType:m.R.unordered}}),(0,C.dC)({str:"1. ",customRegExp:/^(\d+|[aA])\.\s(\b|\s|$)/,matchMode:"start",element:{type:"list",listType:m.R.ordered}}),(0,C.dC)({str:"[] ",matchMode:"start",element:{type:"list",listType:m.R.todos}})],editor:function(e){var t=e.insertBreak,n=e.deleteBackward,r=e.deleteFragment;return e.insertBreak=function(){(0,x.Hh)(e)||t()},e.deleteBackward=function(t){"character"===t&&(0,x.Wh)(e)||n(t)},e.deleteFragment=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];if(!x.h6.apply(void 0,[e].concat((0,l.Z)(n))))return r.apply(void 0,(0,l.Z)(n))},e},fromHtml:{byTag:{LI:"list-item",OL:{type:"list",listType:m.R.ordered}},customRules:[y]},toMarkdown:{byElementType:{list:function(e){if(e.isInTable)return E(e);var t=e.editor,n=_(t,e.element),r=0===Array.from(h.NB.ancestors(t,n,{reverse:!0})).map(function(e){return e[0]}).filter(b).length;return(0,p.H4)((0,d.Z)((0,A.Z)({},e),{markdown:r&&!e.isInTable?"\n":"",childrenMarkdownPosition:"before"}))},"list-item":function(e){var t=e.editor,n=e.element,r=_(t,n),o=Array.from(h.NB.ancestors(t,r,{reverse:!0})).map(function(e){return e[0]}).filter(b),a=o[0],s=w(n,o)?"":"\n",u=Array(o.length-1).fill("    ").join("");switch(a.listType){case m.R.unordered:s+="".concat(u,"- ");break;case m.R.ordered:var c=a.children.findIndex(function(e){return e===n});s+="".concat(u).concat(c+1,". ");break;case m.R.todos:s+="".concat(u,"- [").concat(n.done?"x":" ","] ")}return(0,p.H4)((0,d.Z)((0,A.Z)({},e),{childrenMarkdownPosition:"between",markdown:[s,""]}))}}},conversionRules:{list:{disallowedTypes:B.f}}}},L=n(9850),M=/*#__PURE__*/n.n(L),P=function(e){return h.W_.isElement(e)&&"comment"===e.type},U=function(e,t){var n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(t(u))return u;if("children"in u){var c=U(u.children,t);if(c)return c}}}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return null};function j(e){var t=e.insertFragment;return e.insertFragment=function(n){var r=n;if(!U(n,P))return t(n);var o=(0,l.Z)(h.NB.elements(e)).filter(function(e){return P((0,f.Z)(e,1)[0])}).map(function(e){return(0,f.Z)(e,1)[0].data.threadId});o.length>0&&(r=function e(t,n,r){var o=[],a=!0,s=!1,u=void 0;try{for(var c,A=n[Symbol.iterator]();!(a=(c=A.next()).done);a=!0)!function(){var n=c.value,a="children"in n&&n.children.length>0;if(P(n)&&a&&(!r||r(n)))return n.children.forEach(function(e){return o.push(e)});if(a){var s,u=[];n.children.forEach(function(n){return(s=u).push.apply(s,(0,l.Z)(e(t,[n],r)))}),n.children=u}o.push(n)}()}catch(e){s=!0,u=e}finally{try{a||null==A.return||A.return()}finally{if(s)throw u}}return o}(e,M()(n),function(e){var t=e.data;return t&&o.includes(t.threadId)})),t(r)},e}var Z=n(32265),Q=n(2784),H=n(45126),V=/*#__PURE__*/n.n(H),K=n(85009);function z(e){var t=e.id,n=e.editor;return{onCancel:(0,Q.useCallback)(function(){t&&(0,Z.ew)(n,t)},[n,t]),onCreate:(0,Q.useCallback)(function(e){t&&(0,Z.Bh)(n,t,e)},[n,t]),prepareAnnotation:(0,Q.useCallback)(function(e,t){(0,Z._F)(n,e,t)},[n])}}function G(e){var t=e.id,n=e.idProp,r=(0,K.ui)();return{deleteAnnotation:(0,Q.useCallback)(function(){var e;if(n&&(e=V()({data:(0,c.Z)({},n,t)})),e)return(0,Z.Dl)(r,e)},[r,t,n])}}var W=n(26141),q=n(37164),Y=n(3037),$=n(34957),X=function(e,t){var n=(0,f.Z)(t,2),r=n[0],a=n[1];if(!r.id)return h.YR.setNodes(e,{id:(0,q.x0)()},{at:a,mode:"highest"}),!0;if((0,I.uk)(e,[r,a]))return!0;var s=Array.from(h.NB.children(e,a)),u=s.filter(function(e){return(0,$.Wq)(e[0])});if(u.length===s.length)return(0,I.Z3)(e,a,{at:a,mode:"highest"}),!0;var c=h.y$.equals(a,[0]),l=s.find(function(e){return(0,o.$)(e[0])});if(!c&&!l){var A=h.y$.hasPrevious(a)&&h.y$.previous(a);if(A&&(0,$.Wq)(h.NB.get(e,A)))return h.YR.mergeNodes(e,{at:a,mode:"highest"}),!0;if(a.length>1)return(0,I.Z3)(e,a,{at:a,mode:"highest"}),!0;console.warn("Unexpected situation, section with no header that cannot be fixed")}if(l){if(J(e,l))return!0;var d=l[0].level,p=(0,$.T8)(e,a);if(p&&X(e,p))return!0;var g=p&&(0,$.UL)(e,p[1]);if(p&&null!=g&&g<d){var v=p[0].children.length;return h.YR.moveNodes(e,{at:a,to:p[1].concat(v)}),!0}var m=(0,$.HJ)(e,a),y=m&&(0,$.UL)(e,m[1]);if(m&&null!=y&&y>d){var b=r.children.length;return h.YR.moveNodes(e,{at:m[1],to:a.concat(b)}),!0}var w=!0,_=!1,E=void 0;try{for(var C,B=u[Symbol.iterator]();!(w=(C=B.next()).done);w=!0){var x=(0,f.Z)(C.value,2),T=x[0],S=x[1],k=(0,$.UL)(e,S);if(S.at(-1)>l[1].at(-1)&&null!=k&&k<=d)return X(e,[T,S])}}catch(e){_=!0,E=e}finally{try{w||null==B.return||B.return()}finally{if(_)throw E}}}},J=function(e,t){var n=(0,f.Z)(t,2),r=n[0],o=n[1],a=(0,f.Z)(h.ML.parent(e,o),2),s=a[0],u=a[1],c=r.level;if(!r.id)return h.YR.setNodes(e,{id:(0,q.x0)()},{at:o}),!0;if(!r.children.length)return h.YR.insertNodes(e,[{text:""}],{at:o.concat(0)}),!0;if(!(0,$.Wq)(s))return(0,$.me)(e,o),!0;if(0!==o.at(-1)){var l=s.children[0].level,A=h.ML.pathRef(e,o);return null==l||c<=l?(h.YR.splitNodes(e,{at:o,mode:"highest"}),c<l&&e.normalizeNode([r,A.unref()])):(0,$.me)(e,o),!0}var d=(0,$.H0)(e,u).find(function(t){var n=(0,$.UL)(e,t[1]);return null!=n&&n>=c});if(d)return(0,I.s6)(e,u,{abovePath:d[1]}),!0};function ee(e){var t=e.getFragment;return e.getFragment=function(){return function e(t,n){return 1!==n.length?n:(0,$.Wq)(n[0])?e(t,n[0].children):n}(e,t())},e}var et=function(e){var t,n=e.sectionComponent,r=e.endInParagraph;return{name:"section",normalizeEditor:(t={endInParagraph:void 0===r||r},function(e){var n,r=t.endInParagraph;if(!e.children.length)return h.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:[0]}),!0;var o=[],a=[],s=!0,u=!1,c=void 0;try{for(var l,A=h.NB.children(e,[])[Symbol.iterator]();!(s=(l=A.next()).done);s=!0){var d=l.value;(0,$.Wq)(d[0])||(o.push(d[0]),a.push(d[1][0]))}}catch(e){u=!0,c=e}finally{try{s||null==A.return||A.return()}finally{if(u)throw c}}if(o.length)return h.YR.removeNodes(e,{at:[],mode:"highest",match:function(e,t){return 1===t.length&&a.includes(t[0])}}),h.YR.insertNodes(e,{type:"section",id:(0,q.x0)(),children:o},{at:[0]}),!0;var f=h.ML.end(e,[]),p=h.ML.above(e,{at:f,match:function(t){return h.ML.isBlock(e,t)&&!(0,$.Wq)(t)},mode:"highest"});if(p&&(n=p[0],!(0,Y.RF)(n)&&(!0===r||!1!==r&&n&&"type"in n&&r.includes(n.type))))return h.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{at:h.y$.next(p[1])}),!0}),editor:ee,elements:{header:{normalize:J},section:{component:n,normalize:X,isContainerBlock:!0}}}},en=n(2012),er=n(53942),ei=n(58490),eo=function(e){return{name:"divider",elements:{divider:{void:!0,component:e.dividerComponent,enterBehavior:"paragraph-below"}},textInputHandlers:[(0,C.dC)({str:"---",element:"divider",matchMode:"start",void:!0,isDisabledInTable:!0})],keyBindings:[{name:"move-divider-down",key:"ArrowDown",altKey:!0,handler:function(e){return(0,I.m_)(e,"down",{type:"divider"})},logEvent:!0},{name:"move-divider-up",key:"ArrowUp",altKey:!0,handler:function(e){return(0,I.m_)(e,"up",{type:"divider"})},logEvent:!0},{name:"arrow-up-in-divider",key:"ArrowUp",handler:function(e){return!!(0,er.wu)(e,{type:"divider"})&&((0,ei.Y4)(e,"up"),!0)}}],fromHtml:{byTag:{HR:"divider"}},toMarkdown:{byElementType:{divider:function(e){return(0,p.H4)((0,d.Z)((0,A.Z)({},e),{markdown:"---\n\n",childrenMarkdownPosition:"after"}))}}}}},ea=n(98788),es=n(1899),eu=n(22970),ec=n(92775),el=n(69253);let eA=/(\S*[^,\s])(\s+([\d.]+)(x|w))?/g,ed={w:"width",x:"density"},ef=(e,t)=>{let n=null,r=[];for(;null!==(n=t.exec(e));)r.push(n);return r};var eh=e=>ef(e,eA).map(([,e,,t,n])=>{let r=ed[n];return r?{url:e,[r]:parseFloat(t)}:{url:e}}),ep=function(e){if(e.srcset)try{var t=eh(e.srcset).reduce(function(e,t){if(!e||e.density&&t.density&&t.density>e.density||e.width&&t.width&&t.width>e.width)return t},void 0);if(t)return t.url}catch(e){}return e.src},eg=function(e){var t=e.onError,n=e.handler,r=e.uploadService;return{byTag:{IMG:function(e,o){var a=e.domNode,s=(0,q.x0)(),u=ep(a);return n({id:s,src:u,editor:o,onError:t,uploadService:r}),{id:s,src:u,width:200,height:200,type:"image",title:a.title,altText:a.alt,children:[{text:""}]}}}}},ev=function(e){if(!e.selection)return!1;var t=h.NB.parent(e,e.selection.anchor.path);if("paragraph"!==t.type||""!==h.NB.string(t))return!1;var n=(0,er.$C)(e,e.selection.anchor.path,"up");return!!n&&"image"===h.NB.parent(e,n).type&&(h.YR.removeNodes(e),h.YR.select(e,n),!0)},em=function(e){var t,n=e.id,r=e.src,o=e.editor,a=e.onError,s=e.uploadService;fetch(r).then(function(e){return e.blob()}).then((t=(0,ea.Z)(function(e){var t;return(0,eu.__generator)(this,function(r){switch(r.label){case 0:return[4,createImageBitmap(e)];case 1:return t=r.sent(),(0,el.Kx)(n,o,t),[2,e]}})}),function(e){return t.apply(this,arguments)})).then(function(e){return s(e)}).then(function(e){var t=e.url;return(0,el.Pm)(n,t,o)}).catch(a)},ey=function(e){var t=e.uploadService,n=e.onError,r=void 0===n?function(){}:n,o=e.imageComponent,a={image:{void:!0,component:void 0===o?function(){return null}:o,enterBehavior:"paragraph-below",normalize:function(e,t){var n=(0,f.Z)(t,2)[1];if((0,Y.RF)(h.NB.get(e,h.y$.parent(n))))return h.YR.unwrapNodes(e,{at:h.y$.parent(n)}),!0;var r=!0,o=!1,a=void 0;try{for(var s,u=h.NB.children(e,n)[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=function(){var t=(0,f.Z)(s.value,2),n=t[0],r=t[1];if(!h.xv.isText(n))return h.YR.removeNodes(e,{at:r,voids:!0,match:function(e){return e===n}}),h.YR.insertNodes(e,{text:""},{at:r}),{v:!0}}();if("object"===(0,es.Z)(c))return c.v}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}}},s=[{altKey:!0,key:"ArrowDown",name:"move-image-down",handler:function(e){return(0,I.m_)(e,"down",{type:"image"})},logEvent:!0},{altKey:!0,key:"ArrowUp",name:"move-image-up",handler:function(e){return(0,I.m_)(e,"up",{type:"image"})},logEvent:!0},{key:"Backspace",name:"delete-image",handler:ev}];return t?{elements:a,keyBindings:s,name:"image",toMarkdown:{byElementType:{image:function(e){var t=e.element;return(0,p.H4)((0,d.Z)((0,A.Z)({},e),{childrenMarkdownPosition:"after",markdown:"![".concat(t.altText||"","](").concat(t.src,' "').concat(t.title||"",'")\n\n')}))}}},eventHandlers:{onDragEnter:ec.wu,onDragLeave:ec.RN,onDragOver:function(e,t){return(0,ec.Xr)({editor:e,event:t})},onDrop:function(e,n){return(0,ec.u1)({editor:e,event:n,uploadService:t,onError:r})},onPaste:function(e,n){return(0,ec.vW)({editor:e,event:n,uploadService:t,onError:r})}},fromHtml:eg({onError:r,uploadService:t,handler:em})}:{name:"image",elements:a,keyBindings:s}},eb=function(e){if(!e)return null;var t,n=e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=|\?v=)([^#&?]*).*/);return n&&(null===(t=n[2])||void 0===t?void 0:t.length)===11?n[2]:null},ew=function(e,t,n){e.insertText(t),e.sealHistoryEntry(),h.YR.delete(e,{unit:"character",distance:t.length+1,reverse:!0}),h.YR.insertNodes(e,[{videoId:n,type:"youTubePlayer",children:[{text:""}]},{type:"paragraph",children:[{text:""}]}])},e_=function(e,t){var n=t.clipboardData;if(!(void 0!==n.types.find(function(e){return"text/plain"===e})))return!1;var r=n.getData("text/plain"),o=eb(r);return!!o&&(ew(e,r,o),!0)},eE=function(e){return{name:"youTubePlayer",elements:{youTubePlayer:{void:!0,component:e.youTubeComponent}},eventHandlers:{onPaste:e_},keyBindings:[{altKey:!0,key:"ArrowDown",name:"move-youTubePlayer-down",handler:function(e){return(0,I.m_)(e,"down",{type:"youTubePlayer"})},logEvent:!0},{altKey:!0,key:"ArrowUp",name:"move-youTubePlayer-up",handler:function(e){return(0,I.m_)(e,"up",{type:"youTubePlayer"})},logEvent:!0}],toMarkdown:{byElementType:{youTubePlayer:function(e){var t,n=e.element,r=(t=n.videoId,"https://www.youtube.com/watch?v=".concat(t)),o="[YouTube Video - ".concat(n.videoId,"](").concat(r,")");return(0,p.H4)((0,d.Z)((0,A.Z)({},e),{markdown:o,childrenMarkdownPosition:"after"}))}}}}};function eC(e){var t,n,r,o,a,s,u,l=e.permissions,f=e.commentComponent,h=e.selectedTextComponent,p=e.pendingCommentComponent,g={type:"comment"};return l.view&&(g.annotationComponent=f),l.create&&(g.selectedTextComponent=h,g.keyBinding={key:"m",shortKey:!0,shiftKey:!0},g.annotationPendingComponent=p),t=g.type,n=g.keyBinding,r=g.selectedTextComponent,o=g.annotationPendingComponent,a=g.annotationComponent,s={},o&&(s["annotationPending.".concat(t)]={component:o}),u={name:t,elements:(0,c.Z)({},t,{component:a,inline:!0}),selectionComponent:r,formats:s,editorDecorator:Z.On,keyBindings:[],editor:j,onChange:Z.Vj},n&&u.keyBindings.push((0,d.Z)((0,A.Z)({name:t},n),{handler:function(e){return(0,Z._F)(e,t)},logEvent:!0})),u}var eB=n(77066),eI=[{name:"insert-table",code:"KeyT",shortKey:!0,altKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_create",{source:"shortcut"}),eB.ZP.insertTable(e)}},{name:"remove-table",code:"KeyT",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_delete",{source:"shortcut"}),eB.ZP.removeTable(e)}},{name:"table-move-cursor-up",code:"ArrowUp",altKey:!1,shortKey:!1,handler:function(e){return eB.ZP.moveCursorVertically(e,-1)}},{name:"table-move-cursor-down",code:"ArrowDown",altKey:!1,shortKey:!1,handler:function(e){return eB.ZP.moveCursorVertically(e,1)}},{name:"table-cycle-forward",code:"Tab",handler:function(e){return!!eB.ZP.cycleNavigation(e,1)}},{name:"table-cycle-backward",code:"Tab",shiftKey:!0,handler:function(e){return!!eB.ZP.cycleNavigation(e,-1)}},{name:"table-move-row-up",code:"ArrowUp",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_move_row",{source:"shortcut",direction:"up"}),eB.ZP.moveRow(e,"up")}},{name:"table-move-row-down",code:"ArrowDown",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_move_row",{source:"shortcut",direction:"down"}),eB.ZP.moveRow(e,"down")}},{name:"table-move-column-left",code:"ArrowLeft",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_move_column",{source:"shortcut",direction:"left"}),eB.ZP.moveColumn(e,"left")}},{name:"table-move-column-right",code:"ArrowRight",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_move_column",{source:"shortcut",direction:"right"}),eB.ZP.moveColumn(e,"right")}},{name:"insert-row",code:"Equal",shortKey:!0,shiftKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_add_row",{source:"shortcut",direction:"down"}),!!eB.ZP.addRow(e)}},{name:"remove-row",code:"Minus",shortKey:!0,shiftKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_delete_row",{source:"shortcut"}),!!eB.ZP.removeRow(e)}},{name:"insert-column",code:"Equal",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_add_column",{source:"shortcut",direction:"right"}),!!eB.ZP.addColumn(e)}},{name:"remove-column",code:"Minus",shortKey:!0,shiftKey:!0,altKey:!0,handler:function(e){var t;return null===(t=e.eventLogger)||void 0===t||t.call(e,"table_delete_column",{source:"shortcut"}),!!eB.ZP.removeColumn(e)}}],ex=n(49605),eT=function(e){var t=e.editor,n=e.element,o=e.serializeChildren,a=n.children.map(function(e){var n=e;return 1===e.children.length&&(0,r.RF)(e.children[0])&&(n=e.children[0]),n.children.map(function(e){return o({element:e,editor:t,serializeChildren:o,isInTable:!0})}).join("")}).join(" | ");return"| ".concat(a," |")};function eS(e,t){var n=(0,er.wu)(e,{type:"table-cell"});if(n&&"character"===t&&(0,er.FU)(e,{includeOffset:!0,blockPath:n[1]}))return!0}function ek(e,t){if(e.selection){if((0,er.wu)(e,{type:"table"})){var n=h.ML.rangeRef(e,e.selection),r=!0,o=!1,a=void 0;try{for(var s,u=(0,l.Z)(h.ML.nodes(e,{at:e.selection,match:function(e){return(0,ex.IM)(e)},reverse:!0}))[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if(n.current){var A=h.e6.intersection(n.current,h.ML.range(e,c[1]));h.e6.equals(A,h.ML.range(e,c[1]))?h.YR.removeNodes(e,{at:A,match:function(e){return!(0,ex.IM)(e)}}):h.YR.delete(e,{at:A})}}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}return n.unref(),h.YR.collapse(e,{edge:"end"}),!0}var d=h.ML.edges(e,e.selection).map(function(t){return h.ML.pointRef(e,t)}),f=!0,p=!1,g=void 0;try{for(var v,m=d[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var y=v.value,b=y.current;if(b){var w=(0,er.wu)(e,{type:"table",at:b});if(w){var _=h.ML.isEdge(e,b,w[1]);if(_){var E=y===d[0]?d[1].current:d[0].current,C=E&&(h.E9.isAfter(E,h.ML.end(e,w[1]))||h.E9.isBefore(E,h.ML.start(e,w[1])));_&&C&&h.YR.removeNodes(e,{at:w[1]})}}}}}catch(e){p=!0,g=e}finally{try{f||null==m.return||m.return()}finally{if(p)throw g}}var B=!0,I=!1,x=void 0;try{for(var T,S=d[Symbol.iterator]();!(B=(T=S.next()).done);B=!0)T.value.unref()}catch(e){I=!0,x=e}finally{try{B||null==S.return||S.return()}finally{if(I)throw x}}}}function eD(e){var t=e.deleteBackward,n=e.deleteFragment,r=e.getFragment,o=e.insertFragment;return e.deleteBackward=function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return!!eS.apply(void 0,[e].concat((0,l.Z)(r)))||t.apply(void 0,(0,l.Z)(r))},e.deleteFragment=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return!!ek.apply(void 0,[e].concat((0,l.Z)(r)))||n.apply(void 0,(0,l.Z)(r))},e.getFragment=function(){return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n;if(1!==n.length)return r;var o=(0,f.Z)(n,1)[0];if(h.xv.isText(o))return r;if((0,ex.wb)(o)){var a=(0,l.Z)(h.NB.elements(o)).filter(function(e){var t=(0,f.Z)(e,1)[0];return(0,ex.IM)(t)});return 1===a.length?a[0][0].children:r}return t.isContainerBlock(o)?e(t,o.children,r):r}(e,r())},e.insertFragment=function(t){return!!function(e,t){if(!(0,ex.$0)(e))return!1;var n=(0,ex.vL)(t);if(!n)return!1;var r=(0,ex.mD)(n).map(function(e){return e.children});return eB.ZP.insertCellsContents(e,r),!0}(e,t)||o(t)},e}var eN=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.tableComponent,n=e.tableHeadComponent,r=e.tableBodyComponent,o=e.tableRowComponent,a=e.tableCellComponent;return{name:"table",elements:{table:{component:void 0===t?function(){return null}:t,isContainerBlock:!0,normalize:ex.ZP.normalizeTable},"table-head":{component:void 0===n?function(){return null}:n,isContainerBlock:!0},"table-body":{component:void 0===r?function(){return null}:r,isContainerBlock:!0},"table-row":{component:void 0===o?function(){return null}:o,isContainerBlock:!0,normalize:ex.ZP.normalizeRow},"table-cell":{component:void 0===a?function(){return null}:a,isContainerBlock:!0,normalize:ex.ZP.normalizeCell}},fromHtml:{byTag:{TABLE:function(e){var t=e.domNode,n=e.parseChildren;return{type:"table",id:t.id||(0,q.x0)(),children:n({domNode:Array.from(t.children),parseChildren:n})}},THEAD:"table-head",TBODY:"table-body",TR:"table-row",TD:"table-cell",TH:"table-cell"}},toMarkdown:{byElementType:{table:function(e){var t=e.editor,n=e.element,r=e.serializeChildren,o=n.children[0],a=n.children[1];if(!(0,ex.yX)(o)||!(0,ex.WC)(a))return"";var s=o.children[0];if(!(0,ex.zl)(s))return"";var u=s.children.length,c=eT({editor:t,element:s,serializeChildren:r}),l=a.children.map(function(e){return eT({editor:t,element:e,serializeChildren:r}).replace(/\n/g,"")}),A=Array(u).fill("-----").join(" | ");return"".concat(c,"\n| ").concat(A," |\n").concat(l.join("\n"),"\n")}}},keyBindings:eI,editor:eD}},eO=n(78382),eF=function(e){var t=e.aiOutlineComponent,n=e.onOutlineShortcut;return{name:"aiOutline",elements:{aiOutline:{void:!0,component:t}},conversionRules:{aiOutline:{disallowedTypes:["image","divider","aiOutline","blockquote","code-block","block-link","youTubePlayer"]}},keyBindings:[{key:"J",ctrlKey:!0,shortKey:!0,shiftKey:!0,logEvent:!0,name:"insert-ai-outline",handler:function(e,t,r){return null==r||r.preventDefault(),(0,eO.VS)(e,t),null==n||n(e,t),!0}},{altKey:!0,logEvent:!0,key:"ArrowDown",name:"move-ai-outline-down",handler:function(e){return(0,I.m_)(e,"down",{type:"aiOutline"})}},{altKey:!0,logEvent:!0,key:"ArrowUp",name:"move-ai-outline-up",handler:function(e){return(0,I.m_)(e,"up",{type:"aiOutline"})}}]}},eR=function(e){return{name:"aiDiagram",selectionComponent:e.selectedTextComponent}}},72572:function(e,t,n){"use strict";n.d(t,{$:function(){return r},O:function(){return o}});var r="\uFEFF",o=" "},4171:function(e,t,n){"use strict";n.d(t,{ON:function(){return h.O},$m:function(){return h.$},$g:function(){return c.$g},T8:function(){return c.T8},t9:function(){return c.t9},if:function(){return c.if},Xf:function(){return c.Xf},DA:function(){return p},Eo:function(){return c.Eo}});var r=n(87394),o=n(12995),a=n(70865),s=n(96670),u=n(46807),c=n(80022),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{byTag:{A:function(t){var n=t.domNode;if(n.textContent&&""!==n.textContent.trim()){var r=n.textContent,o=n.getAttribute("href");if(o)return(0,c.$g)(o,(0,a.Z)({text:r||""},e))}}}}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(t){var n,r,o=t.element;if(o.originalLinkData)n=o.originalLinkData;else try{n=new URL((0,c.Xf)(o,e))}catch(t){console.debug("Failed to parse link URL:",t),n=(0,c.Xf)(o,e)}return"block-link"===o.type?(r="string"==typeof n?n:"".concat(n.origin).concat(n.pathname,"/preview").concat(n.search,"&type=embed"),(0,u.H4)((0,s.Z)((0,a.Z)({},t),{childrenMarkdownPosition:"before",markdown:"[![".concat(o.label,"](").concat(r,")](").concat(n,")\n\n")}))):(0,u.H4)((0,s.Z)((0,a.Z)({},t),{childrenMarkdownPosition:"between",markdown:["[","](".concat(n,")")]}))};return{byElementType:{link:t,"block-link":t}}},d=n(51914),f=n(93707),h=n(72572);function p(e){var t=e.onPaste,n=e.linkComponent,a=e.blockLinkComponent,s=e.keyBindingHandler;return{name:"link",elements:{link:{inline:!0,component:n,enterBehavior:"create-paragraph",softBreakBehavior:"create-paragraph",normalize:function(e,t){var n=(0,r.Z)(t,2),a=n[0],s=n[1],u=o.NB.string(a);return""===u||u===h.$?(o.YR.removeNodes(e,{at:s,hanging:!0}),!0):!1===u.startsWith(h.$)?(o.YR.insertText(e,h.$,{at:o.ML.start(e,s)}),!0):void 0}},"block-link":{void:!0,component:a,enterBehavior:"create-paragraph",softBreakBehavior:"create-paragraph",normalize:function(e,t){var n=(0,r.Z)(t,2),a=n[0],s=n[1];if(""===a.label)return o.YR.removeNodes(e,{at:s,hanging:!0}),!0}}},eventHandlers:{onPaste:t},textInputHandlers:[(0,f.dC)({inline:!0,matchMode:"surround",element:function(e){return(0,c.$g)(e)},customRegExp:RegExp("(\\b|\\s|^)(".concat(d.Cj.source,")(\\W?\\s)"),"i"),str:" "})],fromHtml:l(),toMarkdown:A(),keyBindings:[{key:"k",shortKey:!0,name:"create link",handler:s,logEvent:!0}]}}},80022:function(e,t,n){"use strict";n.d(t,{$g:function(){return _},Eo:function(){return b},T8:function(){return B},Xf:function(){return w},if:function(){return x},t9:function(){return y}});var r=n(70865),o=n(96670),a=n(87394),s=n(37164),u=n(12995),c=n(45455),l=/*#__PURE__*/n.n(c),A=n(45594),d=n(98559),f=n(53942),h=n(3037),p=n(19179),g=n(72572),v=function(e){return"link"===e.type},m=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.namespaceId,r=t.workspaceId,o=t.baseUrl,a=void 0===o?"https://app.eraser.io":o;if(a||(a=window.location.origin),n&&r){var s=r.startsWith(n)?r.split(":")[1]:r;e="/integration/".concat(n,"/").concat(s)}else r?e="/workspace/".concat(r):(console.warn("Relying on window.location for canvas link. This is unsafe and may not work in all contexts."),e=window.location.pathname);return"".concat(a).concat(e)},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,p.Nq)();return!(!n&&l()(t))&&(n||l()(t)?new RegExp("".concat(window.location.origin,".*\\?.*elements=.*")).test(e):new RegExp("".concat(m(t),".*\\?.*elements=.*")).test(e))},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.text,r=t.isFigure;if(y(e,t)){var o=new URL(e),a={linkType:"canvasLink",linkData:o.searchParams.get("elements"),workspaceId:(0,A.yT)(o),children:[{text:n||"View on canvas"}]};return r&&(a.linkType="figureLink",a.originalLabel=n),a}return e.includes("".concat(p.jU?window.location.origin:"https://app.eraser.io","/workspace"))?{linkType:"workspaceLink",originalLabel:n,children:[{text:null!=n?n:e}],linkData:e}:((0,d.J)(e)?(n=null!=n?n:e,e="mailto:".concat(e)):!1===e.startsWith("mailto:")&&!1===/https?:\/\//.test(e)&&(e="https://".concat(e)),n||(n=e.replace(/^[^:]*:\/?\/?/,"")),{linkType:"externalLink",linkData:e,children:[{text:n||g.O}]})},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e.linkType){case"canvasLink":case"figureLink":return"".concat(m(t),"?elements=").concat(e.linkData);case"externalLink":case"workspaceLink":return e.linkData;default:return""}},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.Z)({id:(0,s.x0)(),isExpanded:!1,type:"link"},b(e,t))},E=function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=s.expandLinksByDefault,l=_(t,{text:n,isFigure:s.isFigure});if(e.selection){if(c&&"figureLink"===l.linkType){var A,d=(0,a.Z)(u.ML.parent(e,e.selection.anchor),2),f=d[0],p=d[1];if((0,h.RF)(f)&&1===f.children.length&&""===u.NB.string(f).trim())return A=l,l=(0,o.Z)((0,r.Z)({},A),{type:"block-link",isExpanded:!0,children:[],label:u.NB.string(A)}),u.ML.withoutNormalizing(e,function(){u.YR.removeNodes(e,{at:p}),u.YR.insertNodes(e,l,{at:p})}),l}return u.YR.insertNodes(e,[l]),l}},C=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.isFigure;return u.ML.withoutNormalizing(e,function(){if(e.selection){var r=u.ML.above(e,{at:e.selection.focus,match:function(t){return u.ML.isBlock(e,t)}}),a=u.ML.above(e,{at:e.selection.anchor,match:function(t){return!e.isInline(t)}});if((null==r?void 0:r[0])===(null==a?void 0:a[0])){var s=u.e6.isForward(e.selection),c=u.ML.rangeRef(e,{anchor:u.e6.start(e.selection),focus:u.e6.end(e.selection)});Array.from(u.ML.nodes(e,{match:v})).map(function(t){return u.ML.pathRef(e,t[1])}).forEach(function(t){if(t.current&&c.current){var n=u.ML.range(e,t.current),r=u.e6.intersection(c.current,n);if(r){if(u.e6.equals(n,r))u.YR.unwrapNodes(e,{at:t.current});else{var o=u.e6.includes(n,c.current.focus),a=o?r.focus:r.anchor;u.YR.splitNodes(e,{at:a,match:function(t){return!u.xv.isText(t)&&!u.ML.isBlock(e,t)}});var l=o?u.y$.parent(r.anchor.path):u.y$.next(u.y$.parent(r.focus.path));if(u.YR.unwrapNodes(e,{at:l}),e.selection){u.YR.setSelection(e,{anchor:c.current.focus,focus:c.current.focus}),o&&u.YR.move(e,{unit:"offset",distance:1,reverse:!0});var A={anchor:c.current.anchor,focus:e.selection.focus};s?u.YR.setSelection(e,A):u.YR.setSelection(e,{anchor:A.focus,focus:A.anchor})}}t.unref()}}}),c.current&&(n=_(t,{text:" ",isFigure:o}),u.YR.wrapNodes(e,n,{split:!0})),c.unref()}}}),n},B=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return!e.selection||(0,f.wu)(e,{type:"link"})?void 0:u.e6.isCollapsed(e.selection)?E(e,t,n,r):C(e,t,r)},I=new Set(["wikiLink","mention","link"]),x=function(e){return u.W_.isElement(e)&&I.has(e.type)}},55611:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});var r=["image","code-block","youTubePlayer","blockquote","block-link"]},32970:function(e,t,n){"use strict";var r,o;n.d(t,{R:function(){return r}}),(o=r||(r={}))[o.ordered=0]="ordered",o[o.unordered=1]="unordered",o[o.todos=2]="todos"},6671:function(e,t,n){"use strict";n.d(t,{OD:function(){return s},WO:function(){return u},nq:function(){return a}});var r=n(12995),o=n(3037);function a(e){return r.W_.isElement(e)&&"list"===e.type}function s(e){return r.W_.isElement(e)&&"list-item"===e.type}function u(e){return void 0===e.find(function(e){return!(a(e)||s(e)||(0,o.A7)(e))})}},32350:function(e,t,n){"use strict";n.d(t,{QR:function(){return l},bd:function(){return c},dm:function(){return u},hD:function(){return A}});var r=n(87394),o=n(12995),a=n(53942),s=n(6671);function u(e,t){if(t){var n=o.y$.isPath(t)?t:o.ML.path(e,t),r=o.NB.get(e,n);return(0,s.nq)(r)&&o.e6.isRange(t)?[r,n]:o.ML.above(e,{mode:"lowest",match:s.nq,at:t})||((0,s.nq)(r)?[r,n]:void 0)}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.selection;if(!t)return[];var n=(0,a.wu)(e,{type:"list-item",at:t});if(o.y$.isPath(t)){if(n)return[n];var r=o.NB.get(e,t);return(0,s.OD)(r)?[[r,t]]:[]}return!o.e6.isRange(t)||o.e6.isCollapsed(t)?n?[n]:[]:Array.from(o.ML.nodes(e,{at:t,match:function(e,n){return!!(0,s.OD)(e)&&o.e6.includes(t,n.concat(0))},mode:"all"}))}function l(e,t){var n=(0,r.Z)(t,2)[1],a=!0,u=!1,c=void 0;try{for(var l,A=o.NB.children(e,n)[Symbol.iterator]();!(a=(l=A.next()).done);a=!0){var d=(0,r.Z)(l.value,2),f=d[0],h=d[1];if((0,s.nq)(f))return[f,h]}}catch(e){u=!0,c=e}finally{try{a||null==A.return||A.return()}finally{if(u)throw c}}}function A(e,t,n){var a=c(e,t);if(!a.length)return{listSelectionRecords:[],listItemRecords:new WeakMap,cleanup:function(){},retainRefs:function(){}};var u=new WeakMap,A=[],d=!0,f=!1,h=void 0;try{for(var p,g=a[Symbol.iterator]();!(d=(p=g.next()).done);d=!0)!function(){var c=(0,r.Z)(p.value,2),d=c[0],f=c[1],h=o.y$.parent(f),g=o.NB.get(e,h),v=A.find(function(e){return e.list===g});if(!v){var m=o.NB.parent(e,h),y=(0,s.OD)(m);v={list:g,listPathRef:o.ML.pathRef(e,h,{affinity:"backward"}),listItemSelectionRecords:[],isFirstItemSelected:!1,isLastItemSelected:!1,isFullListSelected:!!n&&o.e6.isRange(t)&&o.e6.isCollapsed(t),isSubList:y,parentPathRef:y?o.ML.pathRef(e,o.y$.parent(h)):void 0,parentIsSelected:!!y&&a.some(function(e){return e[0]===m})},A.push(v)}var b=l(e,[d,f]),w={listItem:d,pathRef:o.ML.pathRef(e,f),subListRelativePath:b?o.y$.relative(b[1],f):void 0};u.set(d,w),v.listItemSelectionRecords.push(w),0===f.at(-1)&&(v.isFirstItemSelected=!0),f.at(-1)===g.children.length-1&&(v.isLastItemSelected=!0),v.isFullListSelected=v.isFullListSelected||v.isFirstItemSelected&&v.isLastItemSelected}()}catch(e){f=!0,h=e}finally{try{d||null==g.return||g.return()}finally{if(f)throw h}}var v=!0,m=function(){var e=!0,t=!1,n=void 0;try{for(var r,o=A[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var a=r.value;!function(e){e.listPathRef&&e.listPathRef.unref(),e.parentPathRef&&e.parentPathRef.unref();var t=!0,n=!1,r=void 0;try{for(var o,a=e.listItemSelectionRecords[Symbol.iterator]();!(t=(o=a.next()).done);t=!0)o.value.pathRef.unref()}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}}(a)}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}};return Promise.resolve().then(function(){v&&m()}),{listSelectionRecords:A,listItemRecords:u,cleanup:m,retainRefs:function(){v=!1}}}},44043:function(e,t,n){"use strict";n.d(t,{WO:function(){return b.WO},Wh:function(){return y},h6:function(){return m},Hh:function(){return v},Fg:function(){return h},nq:function(){return b.nq},OD:function(){return b.OD},uk:function(){return d},R5:function(){return p.R5},Xm:function(){return r.X},CA:function(){return g},pT:function(){return p.pT}});var r=n(58348),o=n(70865),a=n(96670),s=n(87394),u=n(12995),c=n(3220),l=n(53942),A=n(32350);function d(e,t){if((0,c.m_)(e,t,{type:"list-item",retainLevel:!0}))return!0;var n=(0,l.wu)(e,{type:"list-item"}),r=(0,A.dm)(e,null==n?void 0:n[1]),d=(0,A.dm)(e,null==r?void 0:r[1]);if(!n||!r||!d)return!1;var f=(0,s.Z)(r,2),h=f[0],p=f[1],g=(0,l.gb)(e,u.y$.parent(p),t);if(!g)return!1;g.push(1);var v=u.NB.has(e,g)?u.NB.get(e,g):void 0;return u.ML.withoutNormalizing(e,function(){if(!v){var r,s=u.NB.extractProps(h);u.YR.insertNodes(e,(0,a.Z)((0,o.Z)({},s),{children:[]}),{at:g})}var c="down"===t?0:(null==v?void 0:null===(r=v.children)||void 0===r?void 0:r.length)||0;u.YR.moveNodes(e,{at:n[1],to:g.concat(c)})}),!0}var f=n(50930);function h(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,A.hD)(e,null!==(t=n.at)&&void 0!==t?t:e.selection,!1),o=r.listSelectionRecords,a=r.listItemRecords;if(!o.length)return!1;var c=!1;return u.ML.withoutNormalizing(e,function(){var t=!0,n=!1,r=void 0;try{for(var l,d=o[Symbol.iterator]();!(t=(l=d.next()).done);t=!0){var h=l.value;h.isFirstItemSelected||(function(e,t,n){var r=void 0,o=!0,a=!1,c=void 0;try{for(var l,d=t.listItemSelectionRecords[Symbol.iterator]();!(o=(l=d.next()).done);o=!0){var h=l.value,p=h.pathRef.current;if(!p){console.warn("[Indent List Item] Unexpectedly found undefined path.");continue}r||function(n){var o,a,s=u.y$.previous(n),c=u.NB.get(e,s),l=(0,A.QR)(e,[c,s]);if(l){r=l[1];return}r=s.concat(null!==(a=null===(o=c.children)||void 0===o?void 0:o.length)&&void 0!==a?a:0);var d={type:"list",listType:t.list.listType,children:[]};u.YR.insertNodes(e,d,{at:r})}(p),function(t){var n=u.NB.get(e,r).children.length;u.YR.moveNodes(e,{at:t,to:r.concat(n)})}(p),function t(r){if(r.subListRelativePath){var o=r.pathRef.current,a=u.y$.parent(o).concat(o.at(-1)+1),c=o.concat.apply(o,(0,f.Z)(r.subListRelativePath)),l=!0,A=!1,d=void 0;try{for(var h,p=u.NB.children(e,c,{reverse:!0})[Symbol.iterator]();!(l=(h=p.next()).done);l=!0){var g=(0,s.Z)(h.value,2),v=g[0],m=g[1],y=n.get(v);if(!y){u.YR.moveNodes(e,{at:m,to:a});continue}t(y)}}catch(e){A=!0,d=e}finally{try{l||null==p.return||p.return()}finally{if(A)throw d}}}}(h)}}catch(e){a=!0,c=e}finally{try{o||null==d.return||d.return()}finally{if(a)throw c}}}(e,h,a),c=!0)}}catch(e){n=!0,r=e}finally{try{t||null==d.return||d.return()}finally{if(n)throw r}}}),c}var p=n(63996);function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.at,r=void 0===n?e.selection:n;if(!r)return!1;var o=u.ML.range(e,r);return u.ML.withoutNormalizing(e,function(){var t=(0,A.bd)(e,o),n=!0,r=!1,a=void 0;try{for(var c,l=t[Symbol.iterator]();!(n=(c=l.next()).done);n=!0)!function(){var t=c.value,n=(0,s.Z)(t,2),r=n[0],o=n[1];"done"in r&&u.YR.setNodes(e,{done:!r.done},{at:o,match:function(e){return e===r}})}()}catch(e){r=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(r)throw a}}}),!0}function v(e){var t=(0,l.wu)(e,{type:"list-item"});if(!t)return!1;var n=(0,s.Z)(t,2),r=n[0],c=n[1];if(""===u.NB.string(r))return(0,p.pT)(e);if("done"in r&&r.done){var d=u.y$.next(c);return u.ML.withoutNormalizing(e,function(){u.YR.splitNodes(e,{always:!0,match:function(e){return e===r}}),u.YR.setNodes(e,{done:!1},{at:d,mode:"highest"})}),!0}return!!(0,l.yi)(e)&&(u.ML.withoutNormalizing(e,function(){var n=(0,a.Z)((0,o.Z)({},u.NB.extractProps(r)),{type:"list-item",children:[{type:"div",children:[{text:""}]}]}),s=(0,A.QR)(e,t);u.YR.insertNodes(e,n,{at:u.y$.next(c),select:!0}),s&&u.YR.moveNodes(e,{at:s[1],to:u.y$.next(c).concat(1)})}),!0)}function m(e,t){if(e.selection){var n=(0,s.Z)(u.ML.edges(e,e.selection),2),r=n[0],o=n[1],a=(0,l.wu)(e,{type:"list",at:r});if(a){var c=u.ML.isStart(e,r,a[1]),A=u.E9.isAfter(o,u.ML.end(e,a[1]));c&&A&&u.YR.removeNodes(e,{at:a[1]})}}}function y(e){var t=(0,l.wu)(e,{type:"list-item"});if(!t)return!1;var n=(0,s.Z)(t,2),r=n[0],o=n[1];return!!(0,l.FU)(e,{blockPath:o,includeOffset:!0})&&(""===u.NB.string(r)?(u.YR.removeNodes(e,{at:o}),u.y$.hasPrevious(o)?u.YR.select(e,u.ML.end(e,u.y$.previous(o))):u.y$.hasPrevious(u.y$.parent(o))&&u.YR.select(e,u.ML.end(e,u.y$.previous(u.y$.parent(o)))),!0):(0,p.pT)(e))}var b=n(6671)},58348:function(e,t,n){"use strict";n.d(t,{X:function(){return l}});var r=n(12995),o=n(3037),a=n(55611),s=n(6671),u=n(32350),c=n(63996);function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.selection;if(!n)return!1;var l=Array.from(r.ML.nodes(e,{at:r.ML.unhangRange(e,n),match:function(t){return r.ML.isBlock(e,t)&&!e.isContainerBlock(t)&&!(0,s.nq)(t)&&!(0,s.OD)(t)&&!(0,o.A7)(t)&&!a.f.includes(t.type)},mode:"highest"})),A=(0,u.hD)(e,n,!0).listSelectionRecords;return(!!l.length||!!A.length)&&(0===l.length&&A.every(function(e){return e.list.listType===t})?r.ML.withoutNormalizing(e,function(){(function(e,t){var n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(u.isFullListSelected){(0,c.Se)(e,u.listPathRef);continue}var l=!0,A=!1,d=void 0;try{for(var f,h=u.listItemSelectionRecords[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var p=f.value;(0,c.R5)(e,p.pathRef)}}catch(e){A=!0,d=e}finally{try{l||null==h.return||h.return()}finally{if(A)throw d}}}}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}})(e,A)}):r.ML.withoutNormalizing(e,function(){(function(e,t,n){var o=!0,a=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;r.YR.setNodes(e,{type:"list",listType:n},{at:l[1]})}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}})(e,l,t),function(e,t,n){var o=!0,a=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(o=(u=c.next()).done);o=!0){var l=u.value;if(l.list.listType!==n){var A=l.listPathRef.current;if(!A){console.warn("[Toggle List] Unexpectedly found undefined path.");continue}if(l.isFullListSelected){r.YR.setNodes(e,{listType:n},{at:A});continue}l.isLastItemSelected||(r.YR.splitNodes(e,{at:r.y$.next(l.listItemSelectionRecords.at(-1).pathRef.current)}),"forward"===l.listPathRef.affinity&&(A=r.y$.previous(A))),l.isFirstItemSelected||(r.YR.splitNodes(e,{at:l.listItemSelectionRecords[0].pathRef.current,always:!0}),"backward"===l.listPathRef.affinity&&(A=r.y$.next(A))),r.YR.setNodes(e,{listType:n},{at:A})}}}catch(e){a=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(a)throw s}}}(e,A,t)}),!0)}},63996:function(e,t,n){"use strict";n.d(t,{R5:function(){return l},Se:function(){return A},pT:function(){return c}});var r=n(12995),o=n(3220),a=n(53942),s=n(6671),u=n(32350);function c(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null!==(t=n.at)&&void 0!==t?t:e.selection,c=(0,u.hD)(e,a,!1).listSelectionRecords;return!!c.length&&(r.ML.withoutNormalizing(e,function(){var t=!0,n=!1,a=void 0;try{for(var u,l=c[Symbol.iterator]();!(t=(u=l.next()).done);t=!0){var A=u.value;A.parentIsSelected||function(e,t){(function(e,t){if(!t.isLastItemSelected){var n=t.listItemSelectionRecords.at(-1).pathRef.current;if(r.YR.splitNodes(e,{at:r.y$.next(n),match:s.nq,mode:"lowest"}),t.isSubList){var o,a,u=r.y$.next(t.listPathRef.current),c=null!==(a=null===(o=r.NB.get(e,n).children)||void 0===o?void 0:o.length)&&void 0!==a?a:0;r.YR.moveNodes(e,{at:u,to:n.concat(c)})}}})(e,t);var n=t.isSubList?2:1,a=!0,u=!1,c=void 0;try{for(var l,A=t.listItemSelectionRecords[Symbol.iterator]();!(a=(l=A.next()).done);a=!0){var d=l.value;(0,o.s6)(e,d.pathRef.current,{levels:n}),t.isSubList||r.YR.unwrapNodes(e,{at:d.pathRef.current})}}catch(e){u=!0,c=e}finally{try{a||null==A.return||A.return()}finally{if(u)throw c}}(function(e,t){if(t.isFirstItemSelected&&t.isLastItemSelected&&t.isSubList&&(null===(n=t.parentPathRef)||void 0===n?void 0:n.current)){var n,o=t.parentPathRef.current;""===r.NB.string(r.NB.get(e,t.parentPathRef.current))&&r.YR.removeNodes(e,{at:o})}})(e,t)}(e,A)}}catch(e){n=!0,a=e}finally{try{t||null==l.return||l.return()}finally{if(n)throw a}}}),!0)}function l(e,t){if(!t.current)return!1;if((0,s.OD)(r.NB.get(e,t.current))&&!(0,s.nq)(r.NB.parent(e,t.current)))return r.YR.unwrapNodes(e,{at:t.current}),!0;var n=!0,o=!1;do(n=c(e,{at:t.current}))&&(o=!0);while(n&&t.current);return o}function A(e,t){for(;t.current&&!(0,a.XU)(e,t.current);)(0,o.s6)(e,t.current,{levels:2});r.YR.unwrapNodes(e,{at:t.current})}},12613:function(e,t,n){"use strict";n.d(t,{JI:function(){return s},PR:function(){return u},U:function(){return a}});var r=n(42838),o=n(53942),a=function(e){var t=new URL(window.location.pathname,"https://app.eraser.io");return t.hash=e,t.toString()},s=function(e){var t,n;if(!e)return null;if("string"==typeof e)n=new URL(e);else if((0,r.Z)(e,URL))n=e;else{if("workspaceLink"!==e.linkType)return null;n=new URL(e.linkData)}return(null===(t=n.hash)||void 0===t?void 0:t.slice(1))||null},u=function(e){var t=(0,o.wu)(e,{type:"header"});if(t){var n=a(t[0].id);return navigator.clipboard.writeText(n).then(function(){var t;null===(t=e.toast)||void 0===t||t.success("Link copied!")}),!0}}},23649:function(e,t,n){"use strict";n.d(t,{$:function(){return r.$},A:function(){return r.A}});var r=n(87245)},87245:function(e,t,n){"use strict";n.d(t,{$:function(){return h},A:function(){return y}});var r=n(50930),o=n(3220),a=n(93707),s=n(42838),u=n(70865),c=n(96670),l=n(26297),A=n(37164),d=n(46807),f=n(12613);function h(e){return!!e&&"object"==typeof e&&"type"in e&&"header"===e.type}var p=(0,r.Z)(Array(6).keys()).map(function(e,t){var n=t+1;return(0,a.O2)({code:"Digit".concat(n),elementArg:{type:"header",level:n},opts:{shortKey:!0,altKey:!0},params:{disableInTable:!0}})}),g=[(0,a.bO)("b","bold"),(0,a.bO)("i","italic"),(0,a.bO)("u","underline"),(0,a.bO)("x","strike",{shiftKey:!0,shortKey:!0})].concat((0,r.Z)(p),[{name:"move-text-down",key:"ArrowDown",altKey:!0,handler:function(e){return!!(0,o.m_)(e,"down",{type:"header"})||(0,o.m_)(e,"down",{type:"paragraph"})},logEvent:!0},{name:"move-text-up",key:"ArrowUp",altKey:!0,handler:function(e){return!!(0,o.m_)(e,"up",{type:"header"})||(0,o.m_)(e,"up",{type:"paragraph"})},logEvent:!0},{name:"copy-link",key:"k",shortKey:!0,shiftKey:!0,handler:f.PR,logEvent:!0}]),v=(0,r.Z)(Array(6).keys()).map(function(e,t){var n=t+1,r="#".repeat(n)+" ";return(0,a.dC)({str:r,element:{type:"header",level:n},matchMode:"start",isDisabledInTable:!0})}),m=function(e){var t=(null==e?void 0:e.includes("header"))?[]:v;return[(0,a.dC)({str:"**",format:"bold",matchMode:"surround"}),(0,a.dC)({str:"*",format:"italic",matchMode:"surround"}),(0,a.dC)({str:"_",format:"italic",matchMode:"surround"}),(0,a.dC)({str:"~",format:"strike",matchMode:"surround"})].concat((0,r.Z)(t))},y=function(e,t){var n=e.boldComponent,r=e.headerComponent,o=e.italicComponent,a=e.strikeComponent,f=e.underlineComponent;return{name:"rich-text",keyBindings:g,textInputHandlers:m(null==t?void 0:t.ignorePlugins),fromHtml:{formatsByTag:{B:"bold",S:"strike",I:"italic",EM:"italic",STRONG:"bold",U:"underline"},customRules:[function(e){var t=e.domNode,n=e.parseChildren,r=(0,l.Z)(e,["domNode","parseChildren"]);switch(t.nodeName){case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":var o=parseInt(t.nodeName[1]);return{id:(0,A.x0)(),type:"header",level:o,children:n((0,c.Z)((0,u.Z)({domNode:t.childNodes,parseChildren:n},r),{textProps:{}}))}}if((0,s.Z)(t,HTMLSpanElement)&&"ace-all-bold-hthree"===t.className){var a,d,f=(null===(a=t.firstElementChild)||void 0===a?void 0:null===(d=a.firstElementChild)||void 0===d?void 0:d.childNodes)||t.childNodes;return{id:(0,A.x0)(),type:"header",level:3,children:n((0,c.Z)((0,u.Z)({domNode:f,parseChildren:n},r),{textProps:{}}))}}}]},toMarkdown:{byElementType:{header:function(e){var t=Array(e.element.level).fill("#").join("").concat(" ");return(0,d.H4)((0,c.Z)((0,u.Z)({},e),{markdown:[t,"\n"],childrenMarkdownPosition:"between"}))}},byFormat:{bold:function(e){var t=e.element;return(0,d.R1)({element:t,markdown:["**","**"],childrenMarkdownPosition:"between"})},italic:function(e){var t=e.element;return(0,d.R1)({element:t,markdown:["_","_"],childrenMarkdownPosition:"between"})},strike:function(e){var t=e.element;return(0,d.R1)({element:t,markdown:["~","~"],childrenMarkdownPosition:"between"})}}},formats:{bold:{component:n},italic:{component:o},strike:{component:a},underline:{component:f}},elements:{header:{component:r,enterBehavior:"create-paragraph"}},conversionRules:{header:{disallowedTypes:["image","code-block","blockquote","youTubePlayer","block-link"]}}}}},34957:function(e,t,n){"use strict";n.d(t,{H0:function(){return c},HJ:function(){return d},T8:function(){return A},UL:function(){return l},Wq:function(){return s},me:function(){return u}});var r=n(37164),o=n(12995),a=n(23649);function s(e){return!!e&&"section"===e.type}function u(e,t){var n=o.NB.get(e,t);if(!(0,a.$)(n))return!1;var s={type:"section",id:(0,r.x0)(),children:[]},u=function(e,t,n){var r,s,u=o.NB.get(e,t);if((0,a.$)(u)){var c="backwards"===n?(r=u.level,o.ML.previous(e,{at:t,match:function(e){return(0,a.$)(e)&&e.level<=r},mode:"highest"})):(s=u.level,o.ML.next(e,{at:t,match:function(e){return"type"in e&&"level"in e&&(0,a.$)(e)&&e.level<=s},mode:"highest"}));if(!c){var l=o.y$.parent(t);return{focus:{path:t,offset:0},anchor:"backwards"===n?o.ML.start(e,l):o.ML.end(e,l)}}var A="backwards"===n?o.ML.after(e,c[1],{unit:"block"}):o.ML.before(e,c[1],{unit:"block"});return A?{focus:{path:t,offset:0},anchor:A}:o.y$.parent(t)}}(e,t,"forwards");return o.YR.wrapNodes(e,s,{at:u,mode:"highest",match:function(e,r){return!(r.length<t.length||o.y$.isBefore(r,t))&&(!(0,a.$)(e)||e.level<=n.level)}}),!0}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.from(o.ML.levels(e,{at:t,match:function(e,n){return s(e)&&t.length!==n.length},reverse:n}))}function l(e,t){var n=o.NB.has(e,t)?o.NB.get(e,t):void 0;if(s(n)){var r=n.children.length?o.NB.get(n,[0]):void 0;return(0,a.$)(r)?r.level:1/0}}function A(e,t){var n=o.y$.hasPrevious(t)&&o.y$.previous(t),r=n&&o.NB.get(e,n);if(r&&s(r))return[r,n]}function d(e,t){var n=o.y$.next(t),r=o.NB.has(e,n)&&o.NB.get(e,n);if(r&&s(r))return[r,n]}},77066:function(e,t,n){"use strict";var r=n(87394),o=n(50930),a=n(12995),s=n(9850),u=/*#__PURE__*/n.n(s),c=n(3220),l=n(53942),A=n(49605),d={rowCount:2,columnCount:3,addHeader:!0};function f(e,t,n){var s,u=p(e,t);if(u){var c=(0,r.Z)(u,2),l=c[0],d=c[1],f=(0,A.t_)(l),h=f.rowCount,g=f.columnCount,v=null!=n?Math.min(n,h):null!==(s=(0,A.bW)(e))&&void 0!==s?s:h,m=(0,A.gJ)(g),y=l.children.findIndex(A.WC),b=(0,o.Z)(d).concat([y,v]);return a.YR.insertNodes(e,m,{at:b}),b}}function h(e,t,n){var s,u=p(e,t);if(u){var c=(0,A.t_)(u[0]).columnCount;if(null!=n)s=Math.min(n,c);else{var l=(0,A.pm)(e);s="number"==typeof l?l+1:c}var d=(0,r.Z)((0,A.ih)(u),2),f=d[0],h=d[1],g=[];if(h)return a.ML.withoutNormalizing(e,function(){if(f){var t=(0,r.Z)(f,2),n=(t[0],t[1]),u=(0,o.Z)(n).concat([0,s]);g.push(u),a.YR.insertNodes(e,(0,A.lg)(),{at:u})}var c=(0,r.Z)(h,2),l=c[0],d=c[1],p=!0,v=!1,m=void 0;try{for(var y,b=a.NB.children(l,[])[Symbol.iterator]();!(p=(y=b.next()).done);p=!0){var w=(0,r.Z)(y.value,2),_=(w[0],w[1]),E=(0,o.Z)(d).concat((0,o.Z)(_),[s]);g.push(E),a.YR.insertNodes(e,(0,A.lg)(),{at:E})}}catch(e){v=!0,m=e}finally{try{p||null==b.return||b.return()}finally{if(v)throw m}}}),g}}function p(e,t){if(t){var n=a.NB.has(e,t)?a.NB.get(e,t):void 0;return(0,A.wb)(n)?[n,t]:void 0}return(0,l.wu)(e,{type:"table"})}t.ZP={insertTable:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;if(!e.selection||(0,l.wu)(e,{type:"table"}))return!1;var n=a.ML.above(e,{match:function(t){return e.isContainerBlock(t)}}),r=n?n[1]:[],o=a.ML.path(e,a.e6.end(e.selection)).slice(0,r.length+1),s=""===a.NB.string(a.NB.get(e,o)),u=a.y$.next(o);return a.ML.withoutNormalizing(e,function(){var n=(0,A.uw)(t);a.YR.insertNodes(e,n,{at:u}),a.YR.select(e,u.concat([0,0,0,0,0])),s&&a.YR.removeNodes(e,{at:o})}),!0},removeTable:function(e){var t=p(e);if(!t)return!1;var n=(0,r.Z)(t,2),o=(n[0],n[1]);return a.YR.removeNodes(e,{at:o}),!0},moveRow:function(e,t){var n=(0,l.wu)(e,{type:"table"});if(!n)return!1;var o=(0,r.Z)((0,A.ih)(n),2),s=o[0],d=o[1],f=(0,A.$0)(e)||{},h=f.rowIndex,p=f.colIndex;return s&&d&&(0===h&&"up"===t||-1===h&&"down"===t)?(a.ML.withoutNormalizing(e,function(){var n=u()(s[0].children[0]),r=u()(d[0].children[0]);a.YR.removeNodes(e,{at:d[1].concat(0)}),a.YR.removeNodes(e,{at:s[1].concat(0)}),a.YR.insertNodes(e,n,{at:d[1].concat(0)}),a.YR.insertNodes(e,r,{at:s[1].concat(0)});var o="up"===t?s[1]:d[1];a.YR.select(e,o.concat(0,p)),a.YR.collapse(e,{edge:"end"})}),a.ML.normalize(e,{force:!0}),!0):(0,c.m_)(e,t,{type:"table-row",retainLevel:!0})},moveColumn:function(e,t){var n=(0,l.wu)(e,{type:"table"});if(!n)return!1;var s=(0,r.Z)(n,2),u=s[0],c=s[1],d=(0,A.pm)(e),f=(0,A.t_)(u).columnCount;return 0===d&&"left"===t||d===f-1&&"right"===t||(a.ML.withoutNormalizing(e,function(){var n=!0,s=!1,l=void 0;try{for(var A,f=a.NB.children(u,[])[Symbol.iterator]();!(n=(A=f.next()).done);n=!0){var h=A.value,p=h[1][0],g=!0,v=!1,m=void 0;try{for(var y,b=a.NB.children(h[0],[])[Symbol.iterator]();!(g=(y=b.next()).done);g=!0){var w=(0,r.Z)(y.value,2),_=(w[0],w[1]),E=(0,o.Z)(c).concat([p,_[0]]),C="left"===t?d-1:d+1;a.YR.moveNodes(e,{at:E.concat(d),to:E.concat(C)})}}catch(e){v=!0,m=e}finally{try{g||null==b.return||b.return()}finally{if(v)throw m}}}}catch(e){s=!0,l=e}finally{try{n||null==f.return||f.return()}finally{if(s)throw l}}}),!0)},addRow:f,addRowBefore:function(e){var t=(0,A.$0)(e);t&&!t.isInHeader&&f(e,void 0,t.rowIndex)},addColumn:h,addColumnBefore:function(e){var t=(0,A.$0)(e);t&&h(e,void 0,t.colIndex)},removeRow:function(e,t,n){var s,u,c=p(e,t);if(!c)return!1;var l=(0,r.Z)(c,2),d=l[0],f=l[1],h=(0,A.t_)(d).rowCount;if(1===h)return!1;var g=Math.min(n||0,h-1);-1===(g=null!=n?Math.min(n,h-1):null!==(u=null===(s=(0,A.mt)(e))||void 0===s?void 0:s[0])&&void 0!==u?u:h-1)&&(g=0);var v=d.children.findIndex(A.WC),m=(0,o.Z)(f).concat([v,g]);return a.YR.removeNodes(e,{at:m}),!0},removeColumn:function(e,t,n){var s,u=p(e,t);if(!u)return!1;var c=(0,A.t_)(u[0]).columnCount;if(1===c)return!1;if(null!=n)s=Math.min(n,c-1);else{var l=(0,A.pm)(e);s=null!=l?l:c-1}var d=(0,r.Z)((0,A.ih)(u),2),f=d[0],h=d[1];return!!h&&(a.ML.withoutNormalizing(e,function(){if(f){var t=(0,o.Z)(f[1]).concat([0,s]);a.YR.removeNodes(e,{at:t})}var n=(0,r.Z)(h,2),u=n[0],c=n[1],l=!0,A=!1,d=void 0;try{for(var p,g=a.NB.children(u,[])[Symbol.iterator]();!(l=(p=g.next()).done);l=!0){var v=(0,r.Z)(p.value,2),m=(v[0],v[1]),y=(0,o.Z)(c).concat((0,o.Z)(m),[s]);a.YR.removeNodes(e,{at:y})}}catch(e){A=!0,d=e}finally{try{l||null==g.return||g.return()}finally{if(A)throw d}}}),!0)},moveCursorVertically:function(e,t){if(e.selection){var n=(0,A.$0)(e);n&&e.selection&&function e(t,n,r){requestAnimationFrame(function(){if(a.E9.equals(n,t.selection.anchor))return e(t,n,r);r()})}(e,e.selection.anchor,function(){a.ML.withoutNormalizing(e,function(){var r=(0,A.$0)(e);if(r&&(n.rowIndex!==r.rowIndex||n.colIndex!==r.colIndex)){var o=(0,l.wu)(e,{type:"table"});if(o){var s=(0,A.fZ)(o[0],n.rowIndex,n.colIndex,1===t?"down":"up");if(s){var u=(0,A.H0)(o,s[0],s[1]);u&&(a.YR.select(e,u[1]),a.YR.collapse(e,{edge:1===t?"start":"end"}))}}}})})}},cycleNavigation:function(e,t){if(!!e.selection){var n=(0,l.wu)(e,{type:"table"});if(n){var r=(0,A.$0)(e);if(r){var o=(0,A.fZ)(n[0],r.rowIndex,r.colIndex,1===t?"right":"left");if(o){var s=(0,A.H0)(n,o[0],o[1]);if(s)return a.YR.select(e,s[1]),a.YR.collapse(e,{edge:1===t?"start":"end"}),!0}}}}},insertCellsContents:function(e,t){var n=(0,l.wu)(e,{type:"table"});if(n){var s=(0,r.Z)((0,A.ih)(n),2),u=(s[0],s[1]);if(u){var c=(0,A.t_)(n[0]),d=(0,A.$0)(e);if(d)return a.ML.withoutNormalizing(e,function(){t.forEach(function(t,r){return t.forEach(function(t,o){var s=(0,A.H0)(n,d.rowIndex+r,d.colIndex+o);s&&(a.YR.removeNodes(e,{at:s[1]}),a.YR.insertNodes(e,t,{at:s[1]}))})});var r=Math.max(d.rowIndex+t.length-c.rowCount,0);if(r)for(var s=0;s<r;s++){var l,f=(0,A.gJ)(c.columnCount),h=t[t.length-r+s].slice(0,c.columnCount-d.colIndex);(l=f.children).splice.apply(l,[d.colIndex,h.length].concat((0,o.Z)(h))),a.YR.insertNodes(e,f,{at:(0,o.Z)(u[1]).concat([c.rowCount+s])})}var p=(0,A.H0)(n,d.rowIndex,d.colIndex);p&&(a.YR.select(e,p[1]),a.YR.collapse(e,{edge:"end"}))}),!0}}},duplicateTable:function(e){var t=(0,l.wu)(e,{type:"table"});if(t){var n=u()(t[0]);return a.YR.insertNodes(e,n,{at:t[1]}),!0}},duplicateRow:function(e){var t=(0,l.wu)(e,{type:"table"});if(t){var n=(0,r.Z)((0,A.ih)(t),2),s=(n[0],n[1]);if(s){var c=(0,l.wu)(e,{type:"table-row"});if(c){var d=(0,A.bW)(e);if("number"==typeof d){var f=u()(c[0]),h=(0,o.Z)(s[1]).concat([d]);return a.YR.insertNodes(e,f,{at:h}),!0}}}}},duplicateColumn:function(e){var t=(0,l.wu)(e,{type:"table"});if(t){var n=(0,r.Z)((0,A.ih)(t),2),s=n[0],c=n[1];if(c){var d=(0,A.pm)(e);if("number"==typeof d){var f=[];s&&(0,A.zl)(s[0].children[0])&&f.push([s[0].children[0],(0,o.Z)(s[1]).concat([0])]),f.push.apply(f,(0,o.Z)(c[0].children.map(function(e,t){return[e,(0,o.Z)(c[1]).concat([t])]})));var h=!0,p=!1,g=void 0;try{for(var v,m=f[Symbol.iterator]();!(h=(v=m.next()).done);h=!0){var y=(0,r.Z)(v.value,2),b=y[0],w=y[1],_=u()(b.children[d]),E=(0,o.Z)(w).concat([d]);a.YR.insertNodes(e,_,{at:E})}}catch(e){p=!0,g=e}finally{try{h||null==m.return||m.return()}finally{if(p)throw g}}return!0}}}}}},49605:function(e,t,n){"use strict";n.d(t,{$0:function(){return F},Bn:function(){return y},H0:function(){return M},IM:function(){return m},LC:function(){return _},Qb:function(){return b},WC:function(){return g},bW:function(){return D},fZ:function(){return R},gJ:function(){return x},ih:function(){return L},lg:function(){return T},mD:function(){return j},mt:function(){return N},np:function(){return w},pm:function(){return O},tK:function(){return E},t_:function(){return S},uw:function(){return C},vL:function(){return function e(t){if(t.length){var n=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(c.W_.isElement(u)){if(h(u))return u;if(u.children){var l=e(u.children);if(l)return l}}}}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}}}},wb:function(){return h},yX:function(){return p},zl:function(){return v}});var r=n(26297),o=n(87394),a=n(50930),s=n(61258),u=/*#__PURE__*/n.n(s),c=n(12995),l=n(37164),A=n(53942),d=n(97462),f=n(4171);function h(e){return c.W_.isElement(e)&&"table"===e.type}function p(e){return c.W_.isElement(e)&&"table-head"===e.type}function g(e){return c.W_.isElement(e)&&"table-body"===e.type}function v(e){return c.W_.isElement(e)&&"table-row"===e.type}function m(e){return c.W_.isElement(e)&&"table-cell"===e.type}function y(e){return!!(0,A.wu)(e,{type:"table-head"})}function b(e){var t=(0,A.wu)(e,{type:"table"});if(!t)return!1;var n=(0,o.Z)(L(t),1)[0],r=(F(e)||{}).rowIndex;return n?-1===r:0===r}function w(e){var t=(0,A.wu)(e,{type:"table"});if(!t)return!1;var n=S(t[0]).rowCount;return(F(e)||{}).rowIndex===n-1}function _(e){return!!(0,A.wu)(e,{type:"table"})&&0===(F(e)||{}).colIndex}function E(e){var t=(0,A.wu)(e,{type:"table"});if(!t)return!1;var n=S(t[0]).columnCount;return(F(e)||{}).colIndex===n-1}function C(e){var t=e.id,n=void 0===t?(0,l.x0)():t,o=e.addHeader,a=(0,r.Z)(e,["id","addHeader"]),s=I(a),u="blocks"in a?1:a.columnCount;return{id:n,type:"table",children:void 0!==o&&o?[B(u),s]:[s]}}function B(e){return{type:"table-head",children:[x(e)]}}function I(e){if("blocks"in e)return{type:"table-body",children:e.blocks.map(function(e){return x(e)})};var t=e.rowCount,n=e.columnCount;return{type:"table-body",children:u()(t,function(){return x(n)})}}function x(e){return{type:"table-row",children:k(e).map(function(e){return T(e)})}}function T(e){return{type:"table-cell",children:e?k(e).map(function(e){return e||(0,d.Q)()}):[(0,d.Q)()]}}function S(e){var t,n,r,a,s,u,c,l,A=(0,o.Z)(L([e,[]]),2),d=A[0],f=A[1];if(!f&&!d)return{rowCount:0,columnCount:0,hasHeader:!1};var h=f?null===(t=f[0])||void 0===t?void 0:t.children.length:0,p=null!==(a=null==f?void 0:null===(n=f[0])||void 0===n?void 0:n.children[0])&&void 0!==a?a:null==d?void 0:d[0].children[0],g=null!==(s=null==p?void 0:null===(r=p.children)||void 0===r?void 0:r.length)&&void 0!==s?s:0;return d&&(g=Math.max(g,null!==(l=null===(u=d[0].children[0])||void 0===u?void 0:null===(c=u.children)||void 0===c?void 0:c.length)&&void 0!==l?l:0)),{rowCount:h,columnCount:g,hasHeader:!!d}}function k(e){return e?"number"==typeof e?u()(e,function(){}):c.W_.isElement(e)?[e]:e:[]}function D(e){var t=N(e);if(t){var n=(0,o.Z)(t,2),r=n[0];return n[1]?0:r+1}}function N(e){var t=(0,A.wu)(e,{type:"table-row"});if(t){var n=c.NB.parent(e,t[1]);return g(n)?[t[1].at(-1),!1]:p(n)?[-1,!0]:void 0}}function O(e){var t=(0,A.wu)(e,{type:"table-cell"});if(t)return t[1].at(-1)}function F(e){var t=O(e),n=N(e);return null!=n&&null!=t?{rowIndex:n[0],isInHeader:n[1],colIndex:t}:void 0}function R(e,t,n,r){var o=S(e),a=o.rowCount,s=o.columnCount,u=o.hasHeader,c=-1===t,l=0===t,A=t===a-1;switch(r){case"up":if(c)return;if(l)return u?[-1,n]:void 0;return[t-1,n];case"down":if(c)return a>0?[0,n]:void 0;return A?void 0:[t+1,n];case"left":if(0===n){if(c)return;return l&&!u?void 0:[t-1,s-1]}return[t,n-1];case"right":if(n===s-1)return A?void 0:[t+1,0];return[t,n+1]}}function L(e){var t,n,r=(0,o.Z)(e,2),a=r[0],s=r[1];return p(a.children[0])?(t=[a.children[0],s.concat(0)],g(a.children[1])&&(n=[a.children[1],s.concat(1)])):g(a.children[0])&&(n=[a.children[0],s.concat(0)]),[t,n]}function M(e,t,n){if(e){var r=(0,o.Z)(L(e),2),a=r[0],s=r[1];if(-1===t&&a){var u=(0,o.Z)(a,2),c=u[0],l=u[1];if(n<0||n>=c.children[0].children.length){console.warn("Attempted to get cell entry out of bounds");return}return[c.children[0].children[n],l.concat(0,n)]}if(s){var A=(0,o.Z)(s,2),d=A[0],f=A[1];if(t<0||t>=d.children.length){console.warn("Attempted to get cell entry out of bounds");return}var h=d.children[t];if(n<0||n>=h.children.length){console.warn("Attempted to get cell entry out of bounds");return}return[h.children[n],f.concat(t,n)]}}}var P=["paragraph","div","span","mention","code","link","wikiLink","list","list-item","comment","section","image"],U=["paragraph","div","span","mention","code","link","wikiLink","comment"];function j(e){var t=[],n=!0,r=!1,o=void 0;try{for(var a,s=e.children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(v(u)){t.push(u);continue}if(g(u)||p(u)){var c=!0,l=!1,A=void 0;try{for(var d,f=u.children[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var h=d.value;v(h)&&t.push(h)}}catch(e){l=!0,A=e}finally{try{c||null==f.return||f.return()}finally{if(l)throw A}}}}}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return t}t.ZP={isTable:h,isTableHead:p,isTableBody:g,isTableRow:v,isTableCell:m,makeCell:T,makeRow:x,makeHeader:B,makeBody:I,getCurrentBodyRowIndex:N,getNextBodyRowIndex:D,getCurrentColIndex:O,getNextCellInDirection:function(e,t){var n=F(e);if(n){var r=(0,A.wu)(e,{type:"table"});if(r){var a=R(r[0],n.rowIndex,n.colIndex,t);if(a){var s=(0,o.Z)(a,2),u=s[0],c=s[1],l=M(r,u,c);if(l)return{cellEntry:l,row:u,column:c}}}}},normalizeTable:function(e,t){var n=(0,o.Z)(t,2),r=n[0],a=n[1],s=(0,o.Z)(L([r,a]),2),u=s[0],l=s[1],A=S(r).columnCount;if(!u&&!l)return c.YR.removeNodes(e,{at:a}),!0;if(u){if(c.xv.isText(u[0].children[0])){c.YR.removeNodes(e,{at:u[1].concat(0)});var d=x(A);return c.YR.insertNodes(e,d,{at:u[1].concat(0)}),!0}}else{var f=B(A);return c.YR.insertNodes(e,f,{at:a.concat(0)}),!0}if(l){if(c.xv.isText(l[0].children[0])){c.YR.removeNodes(e,{at:l[1].concat(0)});var h=x(A);return c.YR.insertNodes(e,h,{at:l[1].concat(0)}),!0}}else{var p=I({rowCount:1,columnCount:A});return c.YR.insertNodes(e,p,{at:a.concat(1)}),!0}},normalizeRow:function(e,t){var n=(0,o.Z)(t,2),r=n[0],a=n[1],s=(0,A.wu)(e,{type:"table",at:a});if(s){var l=S((0,o.Z)(s,1)[0]).columnCount;if(c.xv.isText(r.children[0]))return c.YR.removeNodes(e,{at:a.concat(0)}),!0;if(r.children.length<l||c.xv.isText(r.children[0])){r.children[0]&&c.xv.isText(r.children[0])&&c.YR.removeNodes(e,{at:a.concat(0)});var d=l-r.children.length,f=u()(d,T);return c.YR.insertNodes(e,f,{at:a.concat(r.children.length)}),!0}}},normalizeCell:function(e,t){var n=(0,o.Z)(t,2),r=n[0],s=n[1];r.children.length||c.YR.insertNodes(e,(0,d.Q)(),{at:s.concat(0)});var u=(0,A.wu)(e,{type:"table-row",at:s});if(u){for(var l=p(c.NB.parent(e,u[1]))?U:P,h=0;h<r.children.length;h++){var g=r.children[h];c.xv.isText(g)&&c.YR.wrapNodes(e,{type:"paragraph",children:[]},{at:s.concat(h)})}var v=!0,m=!1,y=void 0;try{for(var b,w=c.NB.descendants(r)[Symbol.iterator]();!(v=(b=w.next()).done);v=!0){var _=(0,o.Z)(b.value,2),E=_[0],C=_[1];if(!(c.xv.isText(E)||!("type"in E)||l.includes(E.type)))return!function(e,t){var n=(0,o.Z)(t,2),r=n[0],s=n[1];c.ML.withoutNormalizing(e,function(){switch(r.type){case"block-link":var t={id:r.id,type:"link",isExpanded:!1,linkData:r.linkData,linkType:r.linkType,originalLabel:r.originalLabel,workspaceId:r.workspaceId,children:[{text:f.$m+r.label}]};c.YR.removeNodes(e,{at:s}),c.YR.insertNodes(e,[{type:"paragraph",children:[{text:""},t,{text:""}]}],{select:!0,at:s});break;case"code-block":if(c.YR.removeNodes(e,{at:s}),!c.xv.isText(r.children[0]))break;var n=r.children[0].text.split("\n").flatMap(function(e){return[{type:"code",children:[{text:e}]},{text:"\n"}]}).slice(0,-1);c.YR.insertNodes(e,{type:"paragraph",children:[{text:""}].concat((0,a.Z)(n),[{text:""}])},{select:!0,at:s});break;case"blockquote":case"header":c.YR.removeNodes(e,{at:s});var o=r.children.filter(function(e){return c.xv.isText(e)}).flatMap(function(e){return[{text:e.text},{text:"\n"}]}).slice(0,-1);c.YR.insertNodes(e,{type:"paragraph",children:[{text:""}].concat((0,a.Z)(o),[{text:""}])},{select:!0,at:s});break;case"divider":c.YR.removeNodes(e,{at:s}),c.YR.insertNodes(e,{type:"paragraph",children:[{text:""}]},{select:!0,at:s});break;case"list-item":case"table-head":case"table-body":case"table-row":case"table-cell":break;default:c.YR.removeNodes(e,{at:s})}})}(e,[E,s.concat(C)]),!0}}catch(e){m=!0,y=e}finally{try{v||null==w.return||w.return()}finally{if(m)throw y}}}}}},39269:function(e,t,n){"use strict";n.d(t,{Hi:function(){return c}});var r=n(12995),o=n(3220),a=/(?:\s|\(|^)\+(?:\s|\)|\.|\,|\!|\?|$)/,s=["paragraph","div","blockquote","header"],u=function(e,t){var n=t.leafNode,u=t.insertedText;if(!e.selection)return!1;if(" "===u){var c=r.ML.above(e,{match:function(e){return!!e&&"object"==typeof e&&"type"in e&&"wikiLink"===e.type}});c&&"+ "===n.text&&r.YR.unwrapNodes(e,{at:c[1]})}if("+"===u){if(!a.exec(n.text))return!1;var l,A=r.ML.above(e,{match:function(t){return r.ML.isBlock(e,t)}});if(A&&"type"in A[0]&&!s.includes(A[0].type))return!1;var d=e.selection,f=d.focus,h=d.anchor;return e.sealHistoryEntry(),r.YR.select(e,{focus:r.ML.before(e,f),anchor:h}),(0,o.Yl)(e,{type:"wikiLink"}),r.YR.setSelection(e,{focus:e.selection.anchor}),null===(l=e.eventLogger)||void 0===l||l.call(e,"auto_format",{type:"wikilink"}),e.sealHistoryEntry(),!0}return!1};function c(e){return{name:"wiki-link",elements:{wikiLink:{inline:!0,component:e.LinkComponent,enterBehavior:"create-paragraph",softBreakBehavior:"create-paragraph"}},textInputHandlers:[u]}}},74189:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});var r=n(12995),o=n(68193),a=function(e,t){return(0,o.q)(function(){if(!e.selection||!r.e6.isCollapsed(e.selection)||!t)return!0;var n=window.getSelection();if((null==n?void 0:n.focusNode)!==null){var o=null==n?void 0:n.getRangeAt(0),a=(null==o?void 0:o.getBoundingClientRect().bottom)||-1/0;if(window.innerHeight-a<70){var s=70-(window.innerHeight-a),u=t.scrollTop+s;t.scrollTo({top:u})}}})(),!1}},58490:function(e,t,n){"use strict";n.d(t,{Qm:function(){return c},Y4:function(){return a},ZA:function(){return u},a5:function(){return A},jM:function(){return l},ts:function(){return s}});var r=n(12995),o=n(44043);function a(e,t){var n="string"==typeof t?{direction:t}:t,o=n.direction,a=n.distance,s=void 0===a?1:a,u=n.unit,c=void 0===u?"line":u;r.ML.withoutNormalizing(e,function(){r.YR.move(e,{distance:s,unit:c,reverse:"up"===o,edge:"start"}),r.YR.collapse(e,{edge:"start"})})}function s(e){if(e.selection){var t=r.ML.path(e,e.selection);if(r.e6.isCollapsed(e.selection)){r.YR.select(e,t);return}for(var n=r.NB.get(e,t);t.length&&(t=r.y$.parent(t),!r.ML.isBlock(e,n)||1===r.NB.get(e,t).children.length);)n=r.NB.get(e,t);r.YR.select(e,t)}}var u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.match,s=n.noListItems,u=void 0===s||s,c=n.withPaths,l=n.hanging,A=null!==(t=e.selection)&&void 0!==t?t:void 0;!(void 0!==l&&l)&&e.selection&&(A=r.ML.unhangRange(e,e.selection,{voids:!0}));var d=Array.from(r.ML.nodes(e,{at:A,match:function(t,n){return!(!r.ML.isBlock(e,t)||r.ML.isEditor(t)||e.isContainerBlock(t)||a&&!a(t,n)||u&&((0,o.nq)(t)||(0,o.OD)(t)))}}));return void 0!==c&&c?d:d.map(function(e){return e[0]})},c=function(e){if(!e.selection||r.e6.isCollapsed(e.selection))return!1;var t=r.ML.unhangRange(e,e.selection),n=r.ML.range(e,r.ML.start(e,[]),r.ML.end(e,[])),o=r.ML.unhangRange(e,n);return r.e6.equals(t,o)},l=function(e){var t=r.ML.range(e,r.ML.start(e,[]),r.ML.end(e,[])),n=r.ML.unhangRange(e,t);r.YR.select(e,n)},A=function(e){var t=r.ML.above(e,{match:function(t){return r.ML.isBlock(e,t)},mode:"lowest"});if(!t||!e.toMarkdown)return{markdown:"",pathRef:r.ML.pathRef(e,[0,0])};var n=r.ML.pathRef(e,t[1]);return{markdown:e.toMarkdown([],[t[0]]),pathRef:n}}},31639:function(e,t,n){"use strict";n.d(t,{r:function(){return s}});var r=n(12995),o=n(31632),a=n(59806),s=function(e){return Array.from(r.ML.nodes(e,{match:a.zm,at:r.ML.start(e,[])})).length>0?o.ck.CodeBlock:o.ck.Normal}},83202:function(e,t,n){"use strict";n.d(t,{BA:function(){return o},bS:function(){return A}});var r,o,a=n(90581),s=n(21218),u=n(20624),c=n(39309);(r=o||(o={})).ApplyOp="ApplyOp",r.ApplyOpServer="ApplyOpServer",r.Unknown="Unknown",r.LoadValue="LoadValue",r.Normalize="Normalize";var l={ApplyOp:"Invalid changes received from another user. Refreshing.",ApplyOpServer:"Server unable to update document. Refreshing.",Unknown:"Something went wrong.",LoadValue:"Unable to load document. Please refresh and try again.",Normalize:"Unable to build document."},A=/*#__PURE__*/function(e){(0,s.Z)(n,e);var t=(0,c.Z)(n);function n(e,r){(0,a.Z)(this,n);var s,u=r&&"string"==typeof r&&r in o?r:o.Unknown,c=l[u];return(s=t.call(this,c,{cause:e})).name="SlateError",s.code=u,s.handled=!1,s}return n}((0,u.Z)(Error));A.Codes=o},32021:function(e,t,n){"use strict";n.d(t,{BA:function(){return r.BA},bS:function(){return r.bS}});var r=n(83202)},62286:function(e,t,n){"use strict";n.d(t,{e:function(){return _},j:function(){return E}});var r=n(70865),o=n(96670),a=n(26297),s=n(87394),u=n(50930),c=n(52322),l=n(2784),A=n(79421),d=/*#__PURE__*/n.n(A),f=n(34519),h=/*#__PURE__*/n.n(f),p=n(12995),g=n(51716),v=n(37578),m=n(3723),y=n(26575),b=n(56560),w=n(97725);function _(e){var t=e.plugins,n=e.collab,u=e.initialValue,l=e.onError,A=e.eventLogger,f=e.toast,g=e.isReadOnly,_=e.services,E=e.baseEditor,B=void 0===E?(0,m.m)():E,I=e.forceRerender,x=e.setResetCount,T=e.__skipNormalizationError,S=(0,b.E)(B,t,n,function(e){null==l||l(e),null==x||x(function(e){return e+1})},A,f,g);void 0!==T&&T&&(S.__skipNormalizationError=!0),_&&(S.services=_);var k={},D={},N={},O=function(){return[]};t.forEach(function(e){var t,n=null!==(t=e.formats)&&void 0!==t?t:{};Object.assign(D,h()(n,"component")),Object.assign(k,h()(e.elements,"component")),Object.assign(N,e.decorators||{}),e.editorDecorator&&(O=C(O,e.editorDecorator))}),n&&(O=C(O,n.getRemoteSelections));var F=(0,w.N)(S,t),R=(0,y.B)(S,t);return function(e,t){if(!t){p.YR.insertNodes(e,[{type:"paragraph",children:[{text:""}]}],{at:[0]});return}if("string"==typeof t){var n,r=(0,v.e)(t),o=null===(n=e.fromHtml)||void 0===n?void 0:n.call(e,r);e.children=null!=o?o:[{type:"paragraph",children:[{text:""}]}]}else e.children=t;p.ML.normalize(e,{force:!0})}(S,u),S.forceRerender=void 0===I?function(){}:I,{editor:S,decorate:function(e){var t,n=(0,s.Z)(e,2),r=n[0],o=n[1];return"type"in r&&void 0!==N[r.type]?(null===(t=N[r.type])||void 0===t?void 0:t.call(N,[r,o]))||[]:o.length?[]:O([r,o])},onKeyDown:F,value:S.children,renderLeaf:function(e){var t=e.leaf,n=e.children;return d()(D,function(a,s){s in t&&a&&(n=/*#__PURE__*/(0,c.jsx)(a,(0,o.Z)((0,r.Z)({},e),{children:n})))}),/*#__PURE__*/(0,c.jsx)("span",(0,o.Z)((0,r.Z)({},e.attributes),{children:n}))},renderElement:function(e){var t=e.element,n=(0,a.Z)(e,["element"]),s=t.type;if(!(s in k)||!k[s])return S.isInline(t)?/*#__PURE__*/(0,c.jsx)("span",(0,o.Z)((0,r.Z)({},n.attributes),{children:n.children})):/*#__PURE__*/(0,c.jsx)("div",(0,o.Z)((0,r.Z)({},n.attributes),{children:n.children}));var u=k[s];return/*#__PURE__*/(0,c.jsx)(u,(0,o.Z)((0,r.Z)({},n),{element:t}))},eventHandlers:R}}function E(e){var t=e.plugins,n=e.collab,r=e.initialValue,o=e.onError,a=e.eventLogger,s=e.toast,u=e.isReadOnly,c=e.services,A=(0,l.useState)(0),d=A[0],f=A[1],h=(0,g.Z)();return(0,l.useMemo)(function(){return _({plugins:t,collab:n,initialValue:r,onError:o,eventLogger:a,toast:s,isReadOnly:u,services:c,forceRerender:h,setResetCount:f})},[t,n,d])}function C(e,t){return function(n){var r,o,a=null!==(r=e(n))&&void 0!==r?r:[],s=null!==(o=t(n))&&void 0!==o?o:[];return(0,u.Z)(a).concat((0,u.Z)(s))}}},8875:function(e,t,n){"use strict";n.d(t,{$:function(){return A},V:function(){return u}});var r=n(70865),o=n(96670),a=n(12995),s=n(20672),u=function(e){var t=e.apply;return e.history={undos:[],redos:[]},e.redo=function(){var t=e.history,n=t.redos;if(n.length>0){var r=n[n.length-1];r.selectionBefore&&a.YR.setSelection(e,r.selectionBefore),s.MO.withoutSaving(e,function(){a.ML.withoutNormalizing(e,function(){var t=!0,n=!1,o=void 0;try{for(var a,s=r.operations[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var u=a.value;e.apply(u)}}catch(e){n=!0,o=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw o}}})}),t.redos.pop(),t.undos.push(r)}},e.undo=function(){var t=e.history,n=t.undos;if(n.length>0){var r=n[n.length-1];s.MO.withoutSaving(e,function(){a.ML.withoutNormalizing(e,function(){var t=r.operations.map(a.OX.inverse).reverse(),n=!0,o=!1,s=void 0;try{for(var u,c=t[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var l=u.value;e.apply(l)}}catch(e){o=!0,s=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw s}}r.selectionBefore&&a.YR.setSelection(e,r.selectionBefore)})}),t.redos.push(r),t.undos.pop()}},e.apply=function(n){var r=e.operations,o=e.history,a=o.undos,u=a[a.length-1],A=null==u?void 0:u.operations[u.operations.length-1],d=s.MO.isSaving(e),f=s.MO.isMerging(e);if(null==d&&(d=l(n)),d){if(null==f&&(f=null!=u&&(0!==r.length||c(n,A))),u&&f&&!0!==u.isSealed)u.operations.push(n);else{var h={operations:[n],selectionBefore:e.selection};a.push(h)}for(;a.length>100;)a.shift();o.redos=[]}t(n)},e.sealHistoryEntry=function(){var t=e.history.undos.at(-1);t&&(t.isSealed=!0)},e},c=function(e,t){return!!(t&&"insert_text"===e.type&&"insert_text"===t.type&&e.offset===t.offset+t.text.length&&a.y$.equals(e.path,t.path)||t&&"remove_text"===e.type&&"remove_text"===t.type&&e.offset+e.text.length===t.offset&&a.y$.equals(e.path,t.path))},l=function(e){return"set_selection"!==e.type},A=(0,o.Z)((0,r.Z)({},s.MO),{withMerging:function(e,t){var n=s.MO.isMerging(e);s.Ye.set(e,!0),t(),s.Ye.set(e,n)}})},77622:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});var r=function(e){var t=e.theme,n=e.templateVersionId,r=e.templateWorkspaceId,o=["theme-".concat(void 0===t?"light":t)].join("_"),a="".concat(n,"_").concat(o,".jpg"),s="templates/".concat(r,"/").concat(n),u="".concat(s,"/").concat(a);return{storagePath:"images/".concat(u),imgixPath:u}}},80003:function(e,t,n){"use strict";n.d(t,{W:function(){return r},l:function(){return o}});var r="darkMode",o=function(){return document.documentElement&&document.documentElement.className.includes(r)?"dark":"light"}},89530:function(e,t,n){"use strict";n.d(t,{J:function(){return u},uN:function(){return l},xt:function(){return c}});var r,o=n(70865),a=n(99669),s=n(59532),u=s.MV,c=function(){},l=function(){},A={};r=new a.m({version:"alpha",name:"playground",storeName:"behaviors"}),u=function(e){var t=null!==(a=(0,s.MV)(e))&&void 0!==a?a:{},n=A[e];if(n)return n;var a,u,c=null!==(u=r.getItem(e))&&void 0!==u?u:{},l=(0,o.Z)({},t,c);return A[e]=l,l},c=function(e,t){var n=u(e),a=(0,o.Z)({},n,t);r.setItem(e,a),A[e]=a},l=function(e){r.removeItem(e),delete A[e]},window.playground={explain:function(e){var t=(0,s.MV)(e)||{},n=(0,s.DS)(e);Object.keys(n).forEach(function(e){return console.info("\x1b[1m".concat(e),"-",t[e],"-",n[e])})},set:c,show:u,reset:l,features:s.RK}},69895:function(e,t,n){"use strict";n.d(t,{af:function(){return a},hQ:function(){return u},tX:function(){return o}});var r=n(5863),o="cardinalElbow",a={minPortAttachmentLengthPx:18,defaultShapePadding:32,shouldDefaultToFixedPortAttachmentsForManual:!0,shouldDefaultToFixedPortAttachmentsForSmartDup:!1,snapShapesToSegmentLocations:!1,universalObjectDetectionForArrows:!1,debugElbowHandleControls:!1,debugElbowBindingColors:!1,debugRoutingAlgorithmCosts:!1,defaultZeroGapValueForIntersections:-2,enabled:!0,showElbowHandlesOverSplineControls:!0,snapMiscellaneousActionsToGuidelines:!0,smartDupeShouldCreatePortBindings:!0,newButtons:!0},s={enabled:"Whether or not cardinal elbows aka true elbow connector behavior is enabled.",minPortAttachmentLengthPx:"Minimum length in pixels of the first elbow",defaultShapePadding:"The distance away from a shape that the first elbow should be",showElbowHandlesOverSplineControls:"If this is true, we want to show the ordinary elbow spline controls, but also put the oval elbow handles on top. This should probably never be enabled in prod.",shouldDefaultToFixedPortAttachmentsForManual:"If this is true, use fixed ports for newly manually created elbow connectors. Otherwise, use varying ports.",shouldDefaultToFixedPortAttachmentsForSmartDup:"If this is true, use fixed ports for newly created elbow connectors via smart dup. Otherwise, use varying ports.",snapMiscellaneousActionsToGuidelines:"If this is true, then user actions that involve moving points e.g. arrow endpoints or spline control points will snap them to guidelines. Default is false which matches previous behavior.",snapShapesToSegmentLocations:"If this is true, then dragging points, shapes will snap to segment locations of other arrows in the workspace, such as manually placed segment memory locations. Segment locations will always do the same snapping",smartDupeShouldCreatePortBindings:"When duplicating shapes using smart dupe, for angled directions, should we use an elbow connector that binds to the shapes using the newer port bindings? If not, will continue to use the older focus+gap port bindings. Has no effect unless smartDup.useElbows is true.",newButtons:"Use new buttons for controlling elbowness and roundness separately",debugElbowHandleControls:"Whether to show the elbow handle control areas that govern how to drag segments cardinally - ordinarily they are invisible.",debugElbowBindingColors:"Whether or not to use red to indicate that a shape binding is fixed-style binding.",debugRoutingAlgorithmCosts:"Debug flag to store bfs routing results in the shape data itself.",defaultZeroGapValueForIntersections:'The default value for the gap to place when drawing arrows that intersect with shapes, measured in pixels. Must be negative, and called "zero_gap" due to prior excalidraw implementation. Used to control how close arrowheads are to their attached shapes and to avoid arrowheads getting cut off.',universalObjectDetectionForArrows:"Should arrows route around, and try not to intersect, ALL elements in the scene?"};(0,r.Z)(o,a,s);var u=s},29883:function(e,t,n){"use strict";n.d(t,{RC:function(){return o},S3:function(){return s},hO:function(){return a}});var r=n(5863),o={consoleLogRawGraphviz:!1,enableLineStraightening:!0},a={consoleLogRawGraphviz:"Turns on graphviz to console logging",enableLineStraightening:"Use the line straightening algorithm? If disabled, shows raw graphviz lines"},s="diagrams";(0,r.Z)(s,o,a)},80699:function(e,t,n){"use strict";n.d(t,{Gb:function(){return a},I3:function(){return s},jp:function(){return c}});var r=n(98568),o=n(5863),a="elbow",s={radius:r.fn,rectangleRadius:r.cH,arrowSnap:r.E1,portSnap:r.qj,shapeSnap:r.H,hoverShapeSnap:r.eA,guidelineSnap:r.UL},u={radius:"The maximum radius of a line with elbow smoothing.",rectangleRadius:"The maximum radius of a rectangle with elbow corners.",arrowSnap:"The snapping threshold for arrows which are very nearly horizontal or vertical. Measured in pixels at 100% zoom.",portSnap:"The snapping threshold for arrows to bind to ports of shapes. Measured in pixels at 100% zoom.",shapeSnap:"Snapping threshold for arrows to bind to shape boundaries. Measured in pixels at 100% zoom.",hoverShapeSnap:"Snapping threshold for the cursor to bind to shape boundaries while hovering or creating an arrow. Measured in pixels at 100% zoom.",guidelineSnap:"The snapping threshold shapes to snap to guidelines of other shapes. Measured in pixels at 100% zoom."};(0,o.Z)(a,s,u);var c=u},19696:function(e,t,n){"use strict";n.d(t,{J:function(){return l.J},N:function(){return A}}),n(59532);var r,o=n(5863);(0,o.Z)("splineEditor",{duplicationOffset:30,colorChangeDelay:1e3,candidatePointHoverDelay:50,hideCandidatePointWithDrag:!0,minimumSplineLengthForCandidatePoints:30},{colorChangeDelay:"How long a spline should hide selection when its color changes",minimumSplineLengthForCandidatePoints:"Minimum length of spline to show candidate points",hideCandidatePointWithDrag:"Whether candidate points should be hidden when dragging spline",candidatePointHoverDelay:"How long should candidate points remain visible before fading away",duplicationOffset:"How far a point should be when duplication is invoked on last spline point"}),n(41172);var a=n(47842),s={simulatePressure:!1,baseSize:6,smoothing:.65,thinning:.3,streamline:.65},u=["baseSize"],c=(r={Overview:"See https://github.com/steveruizok/perfect-freehand#documentation"},(0,a.Z)(r,"Supported Properties",Object.keys(s).filter(function(e){return!u.includes(e)}).join(", ")),(0,a.Z)(r,"baseSize","Gets multiplied by the stroke width of the element to determine the final size. Note that with thinning higher, you may want to lower this, and vice versa."),r);(0,o.Z)("freedraw",s,c),(0,o.Z)("dragThreshold",{value:4},{dragThreshold:"The value in pixels that cursor needs move before dragging/resizing is applied"}),(0,o.Z)("slate",{useSlate:!1},{useSlate:"Use Slate-based editor for the notepad"}),n(80699),n(29883),n(69895),n(47410);var l=n(89530);(0,o.Z)("language-server",{"sequence-diagram":!1,"entity-relationship-diagram":!1,"cloud-architecture-diagram":!1,"flowchart-diagram":!1,"custom-diagram":!1},{"sequence-diagram":"on/off for sequence diagrams","entity-relationship-diagram":"on/off for ERDs","cloud-architecture-diagram":"on/off for CADs","flowchart-diagram":"on/off for flow charts","custom-diagram":"on/off for custom"});var A=function(){}},47410:function(e,t,n){"use strict";n.d(t,{Dx:function(){return a},vh:function(){return s},xk:function(){return u}});var r=n(32472),o=n(5863),a="playgroundDevTools",s={playgroundSwitchesUiEnabled:!1,consoleLogAnalyticsEvents:!1,fpsTracker:"development"===r.Wi},u={playgroundSwitchesUiEnabled:"Whether or not to show the box at bottom left which gives a UI to interact with playground flags",consoleLogAnalyticsEvents:"Should all analytics tracking events also be logged to console?",fpsTracker:"Should show the fps tracker component in top right?"};(0,o.Z)(a,s,u)},5863:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(47842),o=n(89530),a=n(59532);function s(e,t,n){if(a.i_[e]=t,a.s2[e]=n,"playground"in window){var s=Object.keys(t).reduce(function(t,n){return Object.defineProperty(t,n,{get:function(){return(0,o.J)(e)[n]},set:function(t){return(0,o.xt)(e,(0,r.Z)({},n,t))}})},{});Object.assign(s,{show:function(){return(0,o.J)(e)},reset:function(){return(0,o.uN)(e)},explain:function(){return window.playground.explain(e)}}),window.playground[e]=s}}},59532:function(e,t,n){"use strict";n.d(t,{DS:function(){return s},MV:function(){return a},RK:function(){return u},i_:function(){return r},s2:function(){return o}});var r={},o={},a=function(e){return r[e]},s=function(e){return o[e]},u=function(){return Object.keys(r)}},41172:function(e,t,n){"use strict";n.d(t,{$Z:function(){return o},u3:function(){return a},vZ:function(){return u}});var r=n(5863),o="smartDup",a={previewOnHover:!0,hoverDelay:150,hoverOpacity:.15,previewOpacity:.6,arrowLength:100,tangentOffset:75,useElbows:!0,elbowDeltaMultipler:0,elbowMultiplier:.5,accountForExistingElements:!0,closeToMiddleThreshold:10,adjustArrowLengthForExisting:!0},s={previewOnHover:"Whether to show a fainter preview when hovering over add button",hoverDelay:"How long to delay (in ms) showing a preview when hovering button (default: 0ms)",hoverOpacity:"Opacity to render the preview on hover (between 0 and 1)",previewOpacity:"Opacity to render a preview after click (between 0 and 1)",arrowLength:"How long an arrow is when going straight (default: 100px)",tangentOffset:"How much space to put in between shapes when adding several (default: 100px)",useElbows:"For angled directions, use an elbow connector instead of a straight arrow",elbowMultiplier:"When using elbow connectors, how long to make the first segment, as a multiple of the full length (0 to 1)",elbowDeltaMultipler:"When using elbow connectors, how much to offset the lines from one another, as a multiple of the distance (0 to 1)",accountForExistingElements:"Whether to account for existing diagram elements in the duplication directions",closeToMiddleThreshold:"When accounting for existing elements, this threshhold determines how many pixels off-center a connecting arrow can be and still be considered in the middle, for the purposes of determining whether to balance els.",adjustArrowLengthForExisting:"When accounting for existing elements, adjust the arrow length to match the existing element"};(0,r.Z)(o,a,s);var u=s},67640:function(e,t,n){"use strict";var r,o,a,s,u,c,l=n(98788),A=n(22970),d=n(70621);function f(){return h.apply(this,arguments)}function h(){return(h=(0,l.Z)(function(){var e,t;return(0,A.__generator)(this,function(n){switch(n.label){case 0:if(!c)throw Error("apiClient.init must be called before making an API call");return[4,c()];case 1:return e=n.sent(),t=new Headers({"Content-Type":"application/json; charset=UTF-8"}),e&&t.set("authorization","Bearer ".concat(e)),[2,t]}})})).apply(this,arguments)}function p(e,t){return g.apply(this,arguments)}function g(){return(g=(0,l.Z)(function(e,t){return(0,A.__generator)(this,function(n){switch(n.label){case 0:if(e.ok)return[3,2];return[4,b(e)];case 1:throw n.sent();case 2:if(204===e.status)return[2,void 0];switch(t){case"json":return[2,e.json()];case"text":return[2,e.text()];case"arraybuffer":return[2,e.arrayBuffer()];case"blob":case"document":return[2,e.blob()]}return[2]}})})).apply(this,arguments)}function v(){return(v=(0,l.Z)(function(e){var t;return(0,A.__generator)(this,function(n){switch(n.label){case 0:if(e.ok)return[3,2];return[4,b(e)];case 1:throw n.sent();case 2:return[2,null===(t=e.body)||void 0===t?void 0:t.pipeThrough(new TextDecoderStream).getReader()]}})})).apply(this,arguments)}var m={init:function(e){c=e},get:(r=(0,l.Z)(function(e){var t,n,r,o=arguments;return(0,A.__generator)(this,function(a){switch(a.label){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:{},[4,f()];case 1:return n=a.sent(),[4,fetch(y(e),{method:"get",headers:n})];case 2:return[2,p(a.sent(),null!==(r=t.responseType)&&void 0!==r?r:"json")]}})}),function(e){return r.apply(this,arguments)}),post:(o=(0,l.Z)(function(e,t){var n,r,o,a=arguments;return(0,A.__generator)(this,function(s){switch(s.label){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{},[4,f()];case 1:return r=s.sent(),[4,fetch(y(e),{method:"post",body:JSON.stringify(t),headers:r})];case 2:return[2,p(s.sent(),null!==(o=n.responseType)&&void 0!==o?o:"json")]}})}),function(e,t){return o.apply(this,arguments)}),put:(a=(0,l.Z)(function(e,t){var n,r,o,a=arguments;return(0,A.__generator)(this,function(s){switch(s.label){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{},[4,f()];case 1:return r=s.sent(),[4,fetch(y(e),{method:"put",body:JSON.stringify(t),headers:r})];case 2:return[2,p(s.sent(),null!==(o=n.responseType)&&void 0!==o?o:"json")]}})}),function(e,t){return a.apply(this,arguments)}),delete:(s=(0,l.Z)(function(e){var t,n,r,o=arguments;return(0,A.__generator)(this,function(a){switch(a.label){case 0:return t=o.length>1&&void 0!==o[1]?o[1]:{},[4,f()];case 1:return n=a.sent(),[4,fetch(y(e),{method:"delete",headers:n})];case 2:return[2,p(a.sent(),null!==(r=t.responseType)&&void 0!==r?r:"json")]}})}),function(e){return s.apply(this,arguments)}),stream:(u=(0,l.Z)(function(e,t){var n,r,o,a=arguments;return(0,A.__generator)(this,function(s){switch(s.label){case 0:return n=a.length>2&&void 0!==a[2]?a[2]:{},[4,f()];case 1:return(r=s.sent()).append("Transfer-Encoding","chunked"),r.append("Connection","keep-alive"),r.append("Keep-Alive","timeout=5"),[4,fetch(y(e),{method:null!==(o=n.method)&&void 0!==o?o:"post",body:t?JSON.stringify(t):void 0,headers:r})];case 2:return[2,function(e){return v.apply(this,arguments)}(s.sent())]}})}),function(e,t){return u.apply(this,arguments)})};function y(e){return(e.startsWith("api")||e.startsWith("/"))&&console.warn('[makeApiUrl]: path should not start with "api" or "/"',{path:e}),new URL("".concat(window.location.origin,"/api/").concat(e)).toString()}function b(e){return w.apply(this,arguments)}function w(){return(w=(0,l.Z)(function(e){var t,n,r,o;return(0,A.__generator)(this,function(a){switch(a.label){case 0:t=e.status,a.label=1;case 1:return a.trys.push([1,3,,5]),[4,e.clone().json()];case 2:return n=a.sent(),r=Object.assign({statusCode:t},n),[2,(0,d.Lr)(r)];case 3:return a.sent(),[4,e.text()];case 4:return o=a.sent(),[2,(0,d.Lr)({statusCode:t,message:o})];case 5:return[2]}})})).apply(this,arguments)}t.Z=m},14853:function(e,t,n){"use strict";n.d(t,{l:function(){return d}});var r=n(98788),o=n(90581),a=n(22970),s=n(65633),u=n(88995).Z,c=n(10097),l=n(11053),A=function(e,t){return"".concat("images/custom-icons","/").concat(e,"/").concat(t)},d=new/*#__PURE__*/(function(){function e(){var t,n,u,d;(0,o.Z)(this,e),this.uploadCustomIcon=(t=(0,r.Z)(function(e){var t,n,r,o,s,u,d,f,h;return(0,a.__generator)(this,function(a){switch(a.label){case 0:t=e.file,n=e.teamId,r=e.userId,o=e.onSuccess,s=e.onError,u=c.RZ.collection("custom-icons").doc(),d=A(n,u.id),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,c.tO.ref(d).put(t)];case 2:return[4,a.sent().ref.getDownloadURL()];case 3:return f=a.sent(),[4,u.set({url:f,label:(0,l.i)(t.name),aliases:[],createdBy:r,teamId:n})];case 4:return a.sent(),null==o||o(t.name),[3,6];case 5:return h=a.sent(),null==s||s(t.name,h),[3,6];case 6:return[2]}})}),function(e){return t.apply(this,arguments)}),this.updateIconName=(n=(0,r.Z)(function(e,t){var n,r,o,u;return(0,a.__generator)(this,function(a){switch(a.label){case 0:return[4,(r=c.RZ.collection("custom-icons").doc(e)).get()];case 1:return o=null===(n=a.sent().data())||void 0===n?void 0:n.label,s.LD.has(o)&&(u=s.LD.get(o),s.LD.set(t,u),s.LD.delete(o)),[4,r.update({label:t})];case 2:return a.sent(),[2]}})}),function(e,t){return n.apply(this,arguments)}),this.updateIconFile=(u=(0,r.Z)(function(e,t,n,r){var o,s,u;return(0,a.__generator)(this,function(a){switch(a.label){case 0:return[4,(o=c.RZ.collection("custom-icons").doc(e)).get()];case 1:if(!a.sent().exists)throw Error("Icon not found");return s=A(n,o.id),[4,c.tO.ref(s).put(r)];case 2:return[4,a.sent().ref.getDownloadURL()];case 3:return u=a.sent(),[4,o.update({url:u,label:(0,l.i)(r.name),updatedBy:t})];case 4:return a.sent(),[2]}})}),function(e,t,n,r){return u.apply(this,arguments)}),this.deleteIcon=(d=(0,r.Z)(function(e){var t,n;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return[4,(t=c.RZ.collection("custom-icons").doc(e)).get()];case 1:return n=A(r.sent().data().teamId,t.id),[4,c.tO.ref(n).delete()];case 2:return r.sent(),[4,t.delete()];case 3:return r.sent(),[2]}})}),function(e){return d.apply(this,arguments)})}return e.prototype.subscribeByTeamId=function(e,t){var n,r,o=this;if(e===this.currentTeamId&&this.currentSubscription)return this.currentSubscription.cbs.push(t),this.currentSubscription.icons&&t(this.currentSubscription.icons),function(){o.currentSubscription&&(o.currentSubscription.cbs=o.currentSubscription.cbs.filter(function(e){return e!==t}))};e!==this.currentTeamId&&(null===(n=this.currentSubscription)||void 0===n||null===(r=n.unsub)||void 0===r||r.call(n)),this.currentTeamId=e,this.currentSubscription={icons:void 0,cbs:[t]};var a=c.RZ.collection("custom-icons").where("teamId","==",e).withConverter(u).onSnapshot(function(t){var n=t.docs.map(function(e){return e.data()});if(o.currentTeamId!==e){console.warn("[CustomIconsService] Team changed while subscribing to custom icons. We probably forgot to unsubscribe.");return}if(!o.currentSubscription){console.warn("[CustomIconsService] No subscription found while subscribing to custom icons.");return}o.currentSubscription.icons=n,o.currentSubscription.cbs.forEach(function(e){return e(n)})});return this.currentSubscription.unsub=a,function(){o.currentSubscription&&(o.currentSubscription.cbs=o.currentSubscription.cbs.filter(function(e){return e!==t}))}},e}())},11053:function(e,t,n){"use strict";n.d(t,{i:function(){return o},v:function(){return r}});var r=50,o=function(e){return e.trim().replace(/.svg$/,"").slice(0,r).toLowerCase().replace(/[^\w]+/gi,"-")}},11489:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r,o,a,s=n(98788),u=n(90581),c=n(47842),l=n(70865),A=n(96670),d=n(22970),f=n(12782),h=/*#__PURE__*/n.n(f),p=n(9850),g=/*#__PURE__*/n.n(p),v=n(70599),m=n(50389);(r=o||(o={})).DiagramCreate="ai-diagram-create",r.DiagramEdit="ai-diagram-edit",r.OutlineCreate="ai-outline-create",r.Api="ai-api",r.DiagramGPT="diagram-gpt",r.DiagramUnknownAction="ai-diagram-unknown-action";var y=n(70621),b="Contact us at hello@eraser.io to increase your limits.",w=n(88859),_=n(48860),E=/*#__PURE__*/function(){function e(t){(0,u.Z)(this,e),this.dataFetcher=t}var t=e.prototype;return t.fetchTeam=function(e){return"string"==typeof e?this.dataFetcher.teams.fetchById(e):Promise.resolve(e)},t.getPlanFeaturesForTeam=function(e){var t,n,r,o=null!==(r=null==e?void 0:null===(t=e.plan)||void 0===t?void 0:t.planType)&&void 0!==r?r:v.k9.Free,a=w.ZP[o];return(null==e?void 0:null===(n=e.plan)||void 0===n?void 0:n.overrides)?h()(g()(a.features),e.plan.overrides,I):a.features},t.getPlanFeaturesForUser=function(e,t){var n,r,o,a,s,u=null!==(s=null==t?void 0:null===(n=t.plan)||void 0===n?void 0:n.planType)&&void 0!==s?s:v.k9.Free,c=w.ZP[u],l=g()(c.features);return(null==t?void 0:null===(r=t.plan)||void 0===r?void 0:r.overrides)&&(l=h()(l,t.plan.overrides,I)),(null==t?void 0:null===(o=t.plan)||void 0===o?void 0:null===(a=o.userOverrides)||void 0===a?void 0:a[e])&&(l=h()(l,t.plan.userOverrides[e],I)),l},t.canAccessGatedFeature=function(e,t){var n=this;return(0,s.Z)(function(){var r;return(0,d.__generator)(this,function(o){switch(o.label){case 0:return[4,n.fetchTeam(t)];case 1:return r=o.sent(),[2,n.getPlanFeaturesForTeam(r).gatedFeatures[e]]}})})()},t.validateGatedFeature=function(e,t){var n=this;return(0,s.Z)(function(){return(0,d.__generator)(this,function(r){switch(r.label){case 0:return[4,n.canAccessGatedFeature(e,t)];case 1:if(!r.sent())throw e===v.AC.PrivateWorkspaces?new y.WH("Your plan does not support private files.",{hint:"Upgrade your plan to create private files.",data:{featureName:e}}):new y.WH("Your plan does not support this feature.",{hint:"Upgrade your plan to continue.",data:{featureName:e}});return[2]}})})()},t.subscribeToGatedFeature=function(e,t,n){var r=this;if(!this.dataFetcher.teams.subscribeById)throw Error("Subscriptions not enabled");var o=this.dataFetcher.teams.subscribeById(t,function(t){n(r.getPlanFeaturesForTeam(t).gatedFeatures[e])});return function(){o()}},t.subscribeToLimitedFeature=function(e,t,n){var r,o,a=this;if(!this.dataFetcher.workspaces.subscribeToCount||!this.dataFetcher.teams.subscribeById)throw Error("Subscriptions not enabled");var s=e.featureName,u=e.userId,c=e.teamId,l=this.dataFetcher.teams.subscribeById(c,function(l){var A=a.getPlanFeaturesForTeam(l).featureLimits[s];if(!r||!(A<=r)){if(r=A,A===w.fY){t({current:0,limit:w.fY,allowed:!0,teamPlan:l.plan});return}n&&t({current:NaN,limit:A,allowed:!1});var d=B[e.featureName]({teamId:c,userId:u,useMonthlyStrategy:!(0,m.aX)(l)});switch(s){case v.M$.Workspaces:o=a.dataFetcher.workspaces.subscribeToCount(d,{limit:A+1},function(e){t({current:e,limit:A,allowed:e<A})});break;case v.M$.AiDiagramAndOutlineCredits:case v.M$.PremiumCredits:case v.M$.MonthlyAiDiagramApiCalls:case v.M$.PremiumApiCalls:o=a.dataFetcher.paywallUsage.subscribeToCount(d,{limit:A+1},function(e){t({current:e,limit:A,allowed:e<A})});break;case v.M$.CustomIcons:o=a.dataFetcher.customIcons.subscribeToCount(d,{limit:A+1},function(e){t({current:e,limit:A,allowed:e<A})})}}});return function(){l(),null==o||o()}},t.checkLimitedFeature=function(e){var t=this;return(0,s.Z)(function(){var n,r,o,a,s,u;return(0,d.__generator)(this,function(c){switch(c.label){case 0:return n=e.featureName,r=e.teamArg,[4,t.fetchTeam(r)];case 1:if(o=c.sent(),(a=t.getPlanFeaturesForTeam(o).featureLimits[n])===w.fY||a===_.D)return[2,{current:0,limit:w.fY,allowed:!0}];if(0===a)return[2,{current:0,limit:0,allowed:!1}];switch(u=B[n]({teamId:o.id,userId:e.userId,useMonthlyStrategy:!(0,m.aX)(o)}),n){case v.M$.Workspaces:return[3,2];case v.M$.MonthlyAiDiagramApiCalls:case v.M$.PremiumApiCalls:case v.M$.AiDiagramAndOutlineCredits:case v.M$.PremiumCredits:return[3,4];case v.M$.CustomIcons:return[3,6]}return[3,8];case 2:return[4,t.dataFetcher.workspaces.count(u,{limit:a+1})];case 3:case 5:case 7:return s=c.sent(),[3,8];case 4:return[4,t.dataFetcher.paywallUsage.count(u,{limit:a+1})];case 6:return[4,t.dataFetcher.customIcons.count(u,{limit:a+1})];case 8:return[2,{current:s,limit:a,allowed:s<a,teamPlan:o.plan}]}})})()},t.validateLimitedFeature=function(e){var t=this;return(0,s.Z)(function(){var n;return(0,d.__generator)(this,function(r){switch(r.label){case 0:return[4,t.checkLimitedFeature(e)];case 1:if(!(n=r.sent()).allowed)throw function(e,t){var n=t.limit,r=t.current,o=t.teamPlan,a={limit:n,current:r,featureName:e};switch(e){case v.M$.Workspaces:return new y.WH("You have reached your plan's file limit.",{hint:"Upgrade to a paid plan to create more files.",data:a});case v.M$.AiDiagramAndOutlineCredits:var s=(null==o?void 0:o.planType)===v.k9.Free?"Upgrade to a paid plan to get monthly AI credits.":"Upgrade to a higher tier for increased credits.";return new y.WH("You have reached your plan's AI credit limit.",{hint:s,data:a});case v.M$.PremiumCredits:return new y.WH("You have reached your plan's premium credits limit.",{hint:(null==o?void 0:o.planType)===v.k9.Business?b:"Upgrade to a paid plan to get monthly premium credits.",data:a});case v.M$.MonthlyAiDiagramApiCalls:var u=0===n?"Your plan does not have access to API calls.":"You have reached your plan's API call limit for AI diagrams.";return new y.WH(u,{hint:b,data:a});case v.M$.PremiumApiCalls:var c=0===n?"Your plan does not have access to premium API calls.":"You have reached your plan's premium API call limit.";return new y.WH(c,{hint:b,data:a});default:return new y.WH("Your are over your plan limit.",{hint:"Upgrade your plan to continue.",data:a})}}(e.featureName,n);return[2]}})})()},t.getParametersForFeature=function(e,t){var n=this;return(0,s.Z)(function(){var r,o;return(0,d.__generator)(this,function(a){switch(a.label){case 0:if(!t)return[3,2];return[4,n.fetchTeam(t)];case 1:return o=a.sent(),[3,3];case 2:o={plan:{planType:v.k9.Free}},a.label=3;case 3:return r=o,[2,n.getPlanFeaturesForTeam(r).featureParams[e]]}})})()},t.subscribeToParametrizedFeature=function(e,t,n){var r=this;if(!this.dataFetcher.teams.subscribeById)throw Error("Subscriptions not enabled");var o=this.dataFetcher.teams.subscribeById(t,function(t){n(r.getPlanFeaturesForTeam(t).featureParams[e])});return function(){o()}},e}();function C(e,t,n,r){var a={teamId:e,action:["in",[o.DiagramCreate,o.DiagramEdit,o.OutlineCreate,o.DiagramUnknownAction]]};if(!n)return a;if(!t)throw Error("Parameter `userId` is required for this feature");var s=new Date,u=new Date(s.getFullYear(),s.getMonth(),1);return(0,A.Z)((0,l.Z)({},a),{userId:t,isPremium:r,timestamp:[">=",u.getTime()]})}var B=(a={},(0,c.Z)(a,v.M$.Workspaces,function(e){return{teamId:e.teamId,isPrivate:!1,isArchived:!1,isTemplate:!1,gitHubRepository:null}}),(0,c.Z)(a,v.M$.AiDiagramAndOutlineCredits,function(e){var t=e.teamId,n=e.userId,r=e.useMonthlyStrategy;return C(t,n,void 0!==r&&r,!1)}),(0,c.Z)(a,v.M$.PremiumCredits,function(e){var t=e.teamId,n=e.userId,r=e.useMonthlyStrategy;return C(t,n,void 0!==r&&r,!0)}),(0,c.Z)(a,v.M$.MonthlyAiDiagramApiCalls,function(e){var t=e.teamId,n=new Date;return{teamId:t,timestamp:[">=",new Date(n.getFullYear(),n.getMonth(),1).getTime()],action:o.Api,isPremium:!1}}),(0,c.Z)(a,v.M$.PremiumApiCalls,function(e){var t=e.teamId,n=new Date;return{teamId:t,timestamp:[">=",new Date(n.getFullYear(),n.getMonth(),1).getTime()],action:o.Api,isPremium:!0}}),(0,c.Z)(a,v.M$.CustomIcons,function(e){return{teamId:e.teamId}}),a);function I(e,t,n){if("featureLimits"===n)return h()(e,t,x)}function x(e,t){if("number"==typeof e&&"number"==typeof t&&e>t)return e}},88561:function(e,t,n){"use strict";var r=n(98788),o=n(70865),a=n(96670),s=n(26297),u=n(22970),c=n(34899),l=n(64920),A=n(10097),d=n(89960),f=n(14853),h=n(48860),p={teams:{},paywallUsage:{},getTeamRef:function(e){return A.RZ.collection("teams").doc(e)},getWorkspacesRef:function(){return A.RZ.collection("workspaces")},getPaywallUsageRef:function(){return A.RZ.collection("paywall-event-usage")},getApiTokenRef:function(){return A.RZ.collection("api-tokens")},getCustomIconsRef:function(){return A.RZ.collection("custom-icons")},fetchTeam:function(e){return(0,r.Z)(function(){var t,n;return(0,u.__generator)(this,function(r){return(t=this,null==(n=this.teams[e])?void 0:n.team)?[2,Promise.resolve(n.team)]:[2,new Promise(function(n){var r=t.subscribeToTeam(e,function(e){r(),n(e)})})]})}).apply(this)},_createTeamSubscription:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=this;return this.getTeamRef(e).onSnapshot(function(t){var r=t.exists?(0,a.Z)((0,o.Z)({},t.data()),{id:e}):void 0;if(!r){console.warn("Team not found",e);return}n.teams[e].team=r,n.teams[e].cbs.forEach(function(e){return e(r)})},function(r){if(t>5e3){(0,d.T)(Error("Could not subscribe to team",{cause:r}));return}setTimeout(function(){n._createTeamSubscription(e,2*t)},t)})},subscribeToTeam:function(e,t){var n=this;e in this.teams||(this._createTeamSubscription(e),this.teams[e]={cbs:[],team:void 0});var r=this.teams[e],o=r.cbs,a=r.team;return o.push(t),a&&t(a),function(){var r,o=n.teams[e];o&&(o.cbs=null===(r=o.cbs)||void 0===r?void 0:r.filter(function(e){return e!==t}))}},subscribeToWorkspaceCount:function(e,t,n){return(0,c.J)(this.getWorkspacesRef(),e,t).onSnapshot(function(e){n(e.size)},console.error)},countWorkspaces:function(e,t){return(0,r.Z)(function(){return(0,u.__generator)(this,function(n){switch(n.label){case 0:return[4,(0,c.J)(this.getWorkspacesRef(),e,t).get()];case 1:return[2,n.sent().size]}})}).apply(this)},_createPaywallUsageSubscription:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,s=this,u=t.timestamp,A=t.teamId,f=t.userId,p=t.timestamp?void 0:h.D;return(0,c.J)(this.getPaywallUsageRef(),{teamId:A,userId:f,timestamp:u},{limit:p}).onSnapshot(function(t){var n=t.docs.map(function(e){return(0,a.Z)((0,o.Z)({},e.data()),{id:e.id})});s.paywallUsage[e].paywallEvents=n,s.paywallUsage[e].subscribers.forEach(function(e){var t=(0,l.o)(n,e.filters);e.cb(t.length)})},function(o){if(r>5e3){(0,d.T)(Error("Could not subscribe to paywall events",{cause:o}));return}setTimeout(function(){s._createPaywallUsageSubscription(e,t,n,2*r)},r)})},subscribeToPaywallEvents:function(e,t,n){var r=this,o=e.timestamp,a=e.teamId,u=e.userId,c=(0,s.Z)(e,["timestamp","teamId","userId"]),A=JSON.stringify({timestamp:o,teamId:a,userId:u});A in this.paywallUsage||(this._createPaywallUsageSubscription(A,e,t),this.paywallUsage[A]={subscribers:[],paywallEvents:void 0});var d=this.paywallUsage[A],f=d.subscribers,h=d.paywallEvents;return f.push({cb:n,filters:c}),h&&n((0,l.o)(h,c).length),function(){var e=r.paywallUsage[A];e&&(e.subscribers=e.subscribers.filter(function(e){return e.cb!==n}))}},countPaywallEvents:function(e,t){return(0,r.Z)(function(){return(0,u.__generator)(this,function(n){switch(n.label){case 0:return[4,(0,c.J)(this.getPaywallUsageRef(),e,t).get()];case 1:return[2,n.sent().size]}})}).apply(this)},listApiTokens:function(e,t){return(0,r.Z)(function(){return(0,u.__generator)(this,function(n){switch(n.label){case 0:return[4,(0,c.J)(this.getApiTokenRef(),e,t).get()];case 1:return[2,n.sent().docs.map(function(e){return(0,o.Z)({id:e.id},e.data())})]}})}).apply(this)},countCustomIcons:function(e,t){return(0,r.Z)(function(){return(0,u.__generator)(this,function(n){switch(n.label){case 0:return[4,(0,c.J)(this.getCustomIconsRef(),e,t).get()];case 1:return[2,n.sent().size]}})}).apply(this)},subscribeToCustomIconsCount:function(e,t,n){return e.teamId&&"string"==typeof e.teamId?f.l.subscribeByTeamId(e.teamId,function(t){n((0,l.o)(t,e).length)}):(console.warn("[DataCache] Unexpected teamId in subscribeToCustomIconsCount",e),(0,c.J)(this.getCustomIconsRef(),e,t).onSnapshot(function(e){n(e.size)},console.error))}},g={teams:{fetchById:p.fetchTeam.bind(p),subscribeById:p.subscribeToTeam.bind(p)},workspaces:{count:p.countWorkspaces.bind(p),subscribeToCount:p.subscribeToWorkspaceCount.bind(p)},paywallUsage:{count:p.countPaywallEvents.bind(p),subscribeToCount:p.subscribeToPaywallEvents.bind(p)},apiTokens:{list:p.listApiTokens.bind(p)},customIcons:{count:p.countCustomIcons.bind(p),subscribeToCount:p.subscribeToCustomIconsCount.bind(p)}};t.Z=g},66283:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r=n(11489),o=n(88561),a=new r.Z(o.Z)},15765:function(e,t,n){"use strict";n.d(t,{Bv:function(){return r.Z},Q6:function(){return o.Z},ZP:function(){return s},oj:function(){return a}});var r=n(57339),o=n(71505);function a(e){return void 0===e||isNaN(e)?"?":e.toString()}function s(e){return void 0===e||isNaN(e)?0:e}},71505:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2784),o=n(66283);function a(e,t){var n=(0,r.useState)(!1),a=n[0],s=n[1];return(0,r.useEffect)(function(){if(!t){s(!1);return}return s(!1),o.j.subscribeToGatedFeature(e,t,s)},[e,t]),a}},57339:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2784),o=n(57695);function a(e){var t=e.featureName,n=e.userId,a=e.teamId,s=e.immediateCallbackWithLimit,u=(0,r.useState)(void 0),c=u[0],l=u[1],A=(0,o.Su)().featureAccessService;return(0,r.useEffect)(function(){if(void 0!==c&&l(void 0),a)return A.subscribeToLimitedFeature({featureName:t,userId:n,teamId:a},l,s)},[t,a,n]),c}},48860:function(e,t,n){"use strict";n.d(t,{D:function(){return r}});var r=999},88859:function(e,t,n){"use strict";n.d(t,{fY:function(){return p},hG:function(){return v}});var r,o,a,s,u,c,l,A,d,f=n(47842),h=n(70599),p=1/0,g=(d={},(0,f.Z)(d,h.k9.Free,{type:h.k9.Free,label:"Free",features:{gatedFeatures:(r={},(0,f.Z)(r,h.AC.ApiAccess,!1),(0,f.Z)(r,h.AC.ExportPDF,!1),(0,f.Z)(r,h.AC.NoLinkAccess,!1),(0,f.Z)(r,h.AC.PrivateWorkspaces,!1),(0,f.Z)(r,h.AC.AnonymousCollaboration,!1),(0,f.Z)(r,h.AC.SSO,!1),(0,f.Z)(r,h.AC.CustomAiContext,!1),r),featureLimits:(o={},(0,f.Z)(o,h.M$.Workspaces,5),(0,f.Z)(o,h.M$.CustomIcons,0),(0,f.Z)(o,h.M$.AiDiagramAndOutlineCredits,10),(0,f.Z)(o,h.M$.PremiumCredits,2),(0,f.Z)(o,h.M$.MonthlyAiDiagramApiCalls,0),(0,f.Z)(o,h.M$.PremiumApiCalls,0),o),featureParams:(0,f.Z)({},h.h8.VersionHistory,{keepVersionsDays:7})}}),(0,f.Z)(d,h.k9.Pro,{type:h.k9.Pro,label:"Professional",features:{gatedFeatures:(a={},(0,f.Z)(a,h.AC.ApiAccess,!1),(0,f.Z)(a,h.AC.ExportPDF,!0),(0,f.Z)(a,h.AC.NoLinkAccess,!0),(0,f.Z)(a,h.AC.PrivateWorkspaces,!0),(0,f.Z)(a,h.AC.AnonymousCollaboration,!0),(0,f.Z)(a,h.AC.SSO,!1),(0,f.Z)(a,h.AC.CustomAiContext,!1),a),featureLimits:(s={},(0,f.Z)(s,h.M$.CustomIcons,20),(0,f.Z)(s,h.M$.Workspaces,p),(0,f.Z)(s,h.M$.AiDiagramAndOutlineCredits,20),(0,f.Z)(s,h.M$.PremiumCredits,5),(0,f.Z)(s,h.M$.MonthlyAiDiagramApiCalls,0),(0,f.Z)(s,h.M$.PremiumApiCalls,0),s),featureParams:(0,f.Z)({},h.h8.VersionHistory,{keepVersionsDays:90})}}),(0,f.Z)(d,h.k9.Business,{type:h.k9.Business,label:"Business",features:{gatedFeatures:(u={},(0,f.Z)(u,h.AC.ApiAccess,!0),(0,f.Z)(u,h.AC.ExportPDF,!0),(0,f.Z)(u,h.AC.NoLinkAccess,!0),(0,f.Z)(u,h.AC.PrivateWorkspaces,!0),(0,f.Z)(u,h.AC.AnonymousCollaboration,!0),(0,f.Z)(u,h.AC.SSO,!0),(0,f.Z)(u,h.AC.CustomAiContext,!1),u),featureLimits:(c={},(0,f.Z)(c,h.M$.CustomIcons,100),(0,f.Z)(c,h.M$.Workspaces,p),(0,f.Z)(c,h.M$.AiDiagramAndOutlineCredits,40),(0,f.Z)(c,h.M$.PremiumCredits,10),(0,f.Z)(c,h.M$.MonthlyAiDiagramApiCalls,100),(0,f.Z)(c,h.M$.PremiumApiCalls,25),c),featureParams:(0,f.Z)({},h.h8.VersionHistory,{keepVersionsDays:90})}}),(0,f.Z)(d,h.k9.Enterprise,{type:h.k9.Enterprise,label:"Enterprise",features:{gatedFeatures:(l={},(0,f.Z)(l,h.AC.ApiAccess,!0),(0,f.Z)(l,h.AC.ExportPDF,!0),(0,f.Z)(l,h.AC.NoLinkAccess,!0),(0,f.Z)(l,h.AC.PrivateWorkspaces,!0),(0,f.Z)(l,h.AC.AnonymousCollaboration,!0),(0,f.Z)(l,h.AC.SSO,!0),(0,f.Z)(l,h.AC.CustomAiContext,!1),l),featureLimits:(A={},(0,f.Z)(A,h.M$.CustomIcons,100),(0,f.Z)(A,h.M$.Workspaces,p),(0,f.Z)(A,h.M$.AiDiagramAndOutlineCredits,500),(0,f.Z)(A,h.M$.PremiumCredits,500),(0,f.Z)(A,h.M$.MonthlyAiDiagramApiCalls,200),(0,f.Z)(A,h.M$.PremiumApiCalls,25),A),featureParams:(0,f.Z)({},h.h8.VersionHistory,{keepVersionsDays:90})}}),d);t.ZP=g;var v=function(e){return(0,h.AS)(e)?Object.values(g).find(function(t){return t.features.gatedFeatures[e]}):Object.values(g).find(function(t){return t.features.featureLimits[e]>0})}},10097:function(e,t,n){"use strict";n.d(t,{EK:function(){return fV},l2:function(){return fM},I8:function(){return fP},Fs:function(){return fj},ZP:function(){return fH},RZ:function(){return fU},wk:function(){return fZ},tO:function(){return fQ}});var r,o,a,s,u,c,l,A,d,f,h,p,g,v,m,y,b,w,_,E,C,B,I,x,T,S,k=n(35532),D=n(66140),N=n(72475);(function(){var e,t,r,o="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},a=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function s(e){var t,n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:(t=0,function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})}}!function(e,t){if(t){var n=a;e=e.split(".");for(var r=0;r<e.length-1;r++){var s=e[r];s in n||(n[s]={}),n=n[s]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&o(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(e){t.reject(e)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c(function(){t.g()})}this.a.push(e)};var o=a.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(e){this.f(e)}}}this.a=null},n.prototype.f=function(e){this.c(function(){throw e})},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{switch(typeof e){case"object":var n=null!=e;break;case"function":n=!0;break;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(e){this.g(e);return}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)u.b(this.a[e]);this.a=null}};var u=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(e){n.reject(e)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{o(e(t))}catch(e){a(e)}}:t}var o,a,s=new t(function(e,t){o=e,a=t});return this.Ra(r(e,o),r(n,a)),s},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?u.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var o=s(e),a=o.next();!a.done;a=o.next())r(a.value).Ra(t,n)})},t.all=function(e){var n=s(e),o=n.next();return o.done?r([]):new t(function(e,t){var a=[],s=0;do a.push(void 0),s++,r(o.value).Ra(function(t){return function(n){a[t]=n,0==--s&&e(a)}}(a.length-1),t),o=n.next();while(!o.done)})},t});var u=u||{},c=this||self,l=/^[\w+/_-]+[=]{0,2}$/,A=null;function d(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&l.test(e)?e:""}function f(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function p(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function g(e){return"function"==h(e)}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function m(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function C(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var B=Date.now;function I(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function x(e){return e}function T(e,t,n){this.code=k+e,this.message=t||D[e]||"",this.a=n||null}function S(e){var t=e&&e.code;return t?new T(t.substring(k.length),e.message,e.serverResponse):null}I(T,Error),T.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},T.prototype.toJSON=function(){return this.w()};var k="auth/",D={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},O={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function F(e){for(var t in O)if(O[t].id===e)return{firebaseEndpoint:(e=O[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function R(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function L(e){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function M(e,t){e=e.split("%s");for(var n="",r=e.length-1,o=0;o<r;o++)n+=e[o]+(o<t.length?t[o]:"%s");L.call(this,n+e[r])}function P(e,t){throw new M("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function U(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function j(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function Z(){this.b=this.a=null}oz=F("__EID__")?"__EID__":void 0,I(L,Error),L.prototype.name="CustomError",I(M,L),M.prototype.name="AssertionError",U.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var Q=new U(function(){return new H},function(e){e.reset()});function H(){this.next=this.b=this.a=null}Z.prototype.add=function(e,t){var n=Q.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},H.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},H.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return -1},K=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o="string"==typeof e?e.split(""):e,a=0;a<r;a++)a in o&&t.call(n,o[a],a,e)},z=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],o=0,a="string"==typeof e?e.split(""):e,s=0;s<n;s++)if(s in a){var u=a[s];t.call(void 0,u,s,e)&&(r[o++]=u)}return r},G=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),o="string"==typeof e?e.split(""):e,a=0;a<n;a++)a in o&&(r[a]=t.call(void 0,o[a],a,e));return r},W=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e))return!0;return!1};function q(e,t){return 0<=V(e,t)}function Y(e,t){var n;return(n=0<=(t=V(e,t)))&&Array.prototype.splice.call(e,t,1),n}function $(e,t){var n=0;!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,function(r,o){t.call(void 0,r,o,e)&&1==Array.prototype.splice.call(e,o,1).length&&n++})}function X(e){return Array.prototype.concat.apply([],arguments)}function J(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},et=/&/g,en=/</g,er=/>/g,ei=/"/g,eo=/'/g,ea=/\x00/g,es=/[\x00&<>"']/;function eu(e,t){return -1!=e.indexOf(t)}function ec(e,t){return e<t?-1:e>t?1:0}e:{var el=c.navigator;if(el){var eA=el.userAgent;if(eA){oG=eA;break e}}oG=""}function ed(e){return eu(oG,e)}function ef(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function eh(e){for(var t in e)return!1;return!0}function ep(e){var t,n={};for(t in e)n[t]=e[t];return n}var eg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ev(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var a=0;a<eg.length;a++)n=eg[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function em(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||c).Element&&r.Location){var o=r;break e}}catch(e){}o=null}if(o&&void 0!==o[t]&&(!e||!(e instanceof o[t])&&(e instanceof o.Location||e instanceof o.Element))){if(v(e))try{var a=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(e){a="<object could not be stringified>"}else a=void 0===e?"undefined":null===e?"null":typeof e;P("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,a)}}function ey(e,t){this.a=e===e_&&t||"",this.b=ew}function eb(e){return e instanceof ey&&e.constructor===ey&&e.b===ew?e.a:(P("expected object of type Const, got '"+e+"'"),"type_error:Const")}ey.prototype.ta=!0,ey.prototype.sa=function(){return this.a},ey.prototype.toString=function(){return"Const{"+this.a+"}"};var ew={},e_={};function eE(){if(void 0===oW){var e=null,t=c.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:x,createScript:x,createScriptURL:x})}catch(e){c.console&&c.console.error(e.message)}oW=e}else oW=e}return oW}function eC(e,t){this.a=t===eS?e:""}function eB(e){return e instanceof eC&&e.constructor===eC?e.a:(P("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function eI(e,t){var n,r,o=eb(e);if(!eT.test(o))throw Error("Invalid TrustedResourceUrl format: "+o);return n=e=o.replace(ex,function(e,n){if(!Object.prototype.hasOwnProperty.call(t,n))throw Error('Found marker, "'+n+'", in format string, "'+o+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[n])instanceof ey?eb(e):encodeURIComponent(String(e))}),new eC(n=(r=eE())?r.createScriptURL(n):n,eS)}eC.prototype.ta=!0,eC.prototype.sa=function(){return this.a.toString()},eC.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ex=/%{(\w+)}/g,eT=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,eS={};function ek(e,t){this.a=t===eM?e:""}function eD(e){return e instanceof ek&&e.constructor===ek?e.a:(P("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}ek.prototype.ta=!0,ek.prototype.sa=function(){return this.a.toString()},ek.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var eN=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,eO=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,eF=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function eR(e){if(e instanceof ek)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),eF.test(e))e=new ek(e,eM);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(eO);e=t&&eN.test(t[1])?new ek(e,eM):null}return e}function eL(e){return e instanceof ek?e:(e="object"==typeof e&&e.ta?e.sa():String(e),eF.test(e)||(e="about:invalid#zClosurez"),new ek(e,eM))}var eM={},eP=new ek("about:invalid#zClosurez",eM);function eU(e,t,n){this.a=n===ej?e:""}eU.prototype.ta=!0,eU.prototype.sa=function(){return this.a.toString()},eU.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var ej={};function eZ(e,t,n,r){return e=e instanceof ek?e:eL(e),t=t||c,n=n instanceof ey?eb(n):n||"",t.open(eD(e),n,r,void 0)}function eQ(e,t){for(var n=e.split("%s"),r="",o=Array.prototype.slice.call(arguments,1);o.length&&1<n.length;)r+=n.shift()+o.shift();return r+n.join("%s")}function eH(e){return es.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(et,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(en,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(er,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ei,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(eo,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ea,"&#0;"))),e}function eV(e){return eV[" "](e),e}eV[" "]=f;var eK=ed("Opera"),ez=ed("Trident")||ed("MSIE"),eG=ed("Edge"),eW=eG||ez,eq=ed("Gecko")&&!(eu(oG.toLowerCase(),"webkit")&&!ed("Edge"))&&!(ed("Trident")||ed("MSIE"))&&!ed("Edge"),eY=eu(oG.toLowerCase(),"webkit")&&!ed("Edge");function e$(){var e=c.document;return e?e.documentMode:void 0}e:{var eX,eJ="",e0=(eX=oG,eq?/rv:([^\);]+)(\)|;)/.exec(eX):eG?/Edge\/([\d\.]+)/.exec(eX):ez?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(eX):eY?/WebKit\/(\S+)/.exec(eX):eK?/(?:Version)[ \/]?(\S+)/.exec(eX):void 0);if(e0&&(eJ=e0?e0[1]:""),ez){var e1=e$();if(null!=e1&&e1>parseFloat(eJ)){oq=String(e1);break e}}oq=eJ}var e2={};function e4(e){var t;return t=function(){for(var t=0,n=ee(String(oq)).split("."),r=ee(String(e)).split("."),o=Math.max(n.length,r.length),a=0;0==t&&a<o;a++){var s=n[a]||"",u=r[a]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;t=ec(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||ec(0==s[2].length,0==u[2].length)||ec(s[2],u[2]),s=s[3],u=u[3]}while(0==t)}return 0<=t},Object.prototype.hasOwnProperty.call(e2,e)?e2[e]:e2[e]=t(e)}var e3=c.document&&ez&&(e$()||parseInt(oq,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(e){}var e5=!ez||9<=Number(e3);function e6(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function e8(e,t){ef(t,function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:e9.hasOwnProperty(n)?e.setAttribute(e9[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}var e9={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function e7(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function te(e){c.setTimeout(function(){throw e},0)}function tt(e,t){oX||function(){if(c.Promise&&c.Promise.resolve){var e=c.Promise.resolve(void 0);oX=function(){e.then(ti)}}else oX=function(){!g(c.setImmediate)||c.Window&&c.Window.prototype&&!ed("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(o$||(o$=function(){var e=c.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ed("Presto")&&(e=function(){var e=e7(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=E(function(e){("*"==r||e.origin==r)&&e.data==n&&this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!ed("Trident")&&!ed("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){c.setTimeout(e,0)}}()),o$(ti)):c.setImmediate(ti)}}(),tn||(oX(),tn=!0),tr.add(e,t)}var tn=!1,tr=new Z;function ti(){for(var e,t;e=null,tr.a&&(e=tr.a,tr.a=tr.a.next,tr.a||(tr.b=null),e.next=null),t=e;){try{t.a.call(t.b)}catch(e){te(e)}j(Q,t)}tn=!1}function to(e,t){if(this.a=ta,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=f)try{var n=this;e.call(t,function(e){tm(n,ts,e)},function(e){if(!(e instanceof tB))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}tm(n,tu,e)})}catch(e){tm(this,tu,e)}}var ta=0,ts=2,tu=3;function tc(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}tc.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var tl=new U(function(){return new tc},function(e){e.reset()});function tA(e,t,n){var r=tl.get();return r.g=e,r.b=t,r.f=n,r}function td(e){if(e instanceof to)return e;var t=new to(f);return tm(t,ts,e),t}function tf(e){return new to(function(t,n){n(e)})}function th(e,t,n){ty(e,t,n,null)||tt(C(t,e))}function tp(e){return new to(function(t){var n=e.length,r=[];if(n)for(var o=function(e,o,a){n--,r[e]=o?{Qb:!0,value:a}:{Qb:!1,reason:a},0==n&&t(r)},a=0;a<e.length;a++)th(e[a],C(o,a,!0),C(o,a,!1));else t(r)})}function tg(e,t){e.b||e.a!=ts&&e.a!=tu||tb(e),e.f?e.f.next=t:e.b=t,e.f=t}function tv(e,t,n,r){var o=tA(null,null,null);return o.a=new to(function(e,a){o.g=t?function(n){try{var o=t.call(r,n);e(o)}catch(e){a(e)}}:e,o.b=n?function(t){try{var o=n.call(r,t);void 0===o&&t instanceof tB?a(t):e(o)}catch(e){a(e)}}:a}),o.a.c=e,tg(e,o),o.a}function tm(e,t,n){var r;e.a==ta&&(e===n&&(t=tu,n=TypeError("Promise cannot resolve to itself")),e.a=1,ty(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,tb(e),t!=tu||n instanceof tB||(r=n,e.g=!0,tt(function(){e.g&&tC.call(null,r)}))))}function ty(e,t,n,r){if(e instanceof to)return tg(e,tA(t||f,n||null,r)),!0;if(R(e))return e.then(t,n,r),!0;if(v(e))try{var o=e.then;if(g(o))return function(e,t,n,r,o){function a(e){s||(s=!0,r.call(o,e))}var s=!1;try{t.call(e,function(e){s||(s=!0,n.call(o,e))},a)}catch(e){a(e)}}(e,o,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function tb(e){e.h||(e.h=!0,tt(e.gc,e))}function tw(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function t_(e,t,n,r){if(n==tu&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,tE(t,n,r);else try{t.c?t.g.call(t.f):tE(t,n,r)}catch(e){tC.call(null,e)}j(tl,t)}function tE(e,t,n){t==ts?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}to.prototype.then=function(e,t,n){return tv(this,g(e)?e:null,g(t)?t:null,n)},to.prototype.$goog_Thenable=!0,(r=to.prototype).oa=function(e,t){return(e=tA(e,e,t)).c=!0,tg(this,e),this},r.o=function(e,t){return tv(this,null,e,t)},r.cancel=function(e){if(this.a==ta){var t=new tB(e);tt(function(){(function e(t,n){if(t.a==ta){if(t.c){var r=t.c;if(r.b){for(var o=0,a=null,s=null,u=r.b;u&&(u.c||(o++,u.a==t&&(a=u),!(a&&1<o)));u=u.next)a||(s=u);a&&(r.a==ta&&1==o?e(r,n):(s?((o=s).next==r.f&&(r.f=o),o.next=o.next.next):tw(r),t_(r,a,tu,n)))}t.c=null}else tm(t,tu,n)}})(this,t)},this)}},r.$c=function(e){this.a=ta,tm(this,ts,e)},r.ad=function(e){this.a=ta,tm(this,tu,e)},r.gc=function(){for(var e;e=tw(this);)t_(this,e,this.a,this.i);this.h=!1};var tC=te;function tB(e){L.call(this,e)}function tI(){0!=tx&&(tT[m(this)]=this),this.ya=this.ya,this.pa=this.pa}I(tB,L),tB.prototype.name="cancel";var tx=0,tT={};function tS(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=tx)){var t=m(e);if(0!=tx&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete tT[t]}}tI.prototype.ya=!1,tI.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var tk=Object.freeze||function(e){return e},tD=!ez||9<=Number(e3),tN=ez&&!e4("9"),tO=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{c.addEventListener("test",f,t),c.removeEventListener("test",f,t)}catch(e){}return e}();function tF(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function tR(e,t){if(tF.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(eq){e:{try{eV(t.nodeName);var o=!0;break e}catch(e){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:tL[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}tF.prototype.preventDefault=function(){this.defaultPrevented=!0},I(tR,tF);var tL=tk({2:"touch",3:"pen",4:"mouse"});tR.prototype.preventDefault=function(){tR.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,tN)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},tR.prototype.g=function(){return this.a};var tM="closure_listenable_"+(1e6*Math.random()|0),tP=0;function tU(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=o,this.key=++tP,this.wa=this.Qa=!1}function tj(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function tZ(e){this.src=e,this.a={},this.b=0}function tQ(e,t){var n=t.type;n in e.a&&Y(e.a[n],t)&&(tj(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function tH(e,t,n,r){for(var o=0;o<e.length;++o){var a=e[o];if(!a.wa&&a.listener==t&&!!n==a.capture&&a.Wa==r)return o}return -1}tZ.prototype.add=function(e,t,n,r,o){var a=e.toString();(e=this.a[a])||(e=this.a[a]=[],this.b++);var s=tH(e,t,r,o);return -1<s?(t=e[s],n||(t.Qa=!1)):((t=new tU(t,this.src,a,!!r,o)).Qa=n,e.push(t)),t};var tV="closure_lm_"+(1e6*Math.random()|0),tK={},tz=0;function tG(e,t,n,r,o){if(r&&r.once)tq(e,t,n,r,o);else if(Array.isArray(t))for(var a=0;a<t.length;a++)tG(e,t[a],n,r,o);else n=t3(n),e&&e[tM]?t6(e,t,n,v(r)?!!r.capture:!!r,o):tW(e,t,n,!1,r,o)}function tW(e,t,n,r,o,a){if(!t)throw Error("Invalid event type");var s,u=v(o)?!!o.capture:!!o,c=t2(e);if(c||(e[tV]=c=new tZ(e)),!(n=c.add(t,n,r,u,a)).proxy){if(r=s=tD?function(e){return t1.call(s.src,s.listener,e)}:function(e){if(!(e=t1.call(s.src,s.listener,e)))return e},n.proxy=r,r.src=e,r.listener=n,e.addEventListener)tO||(o=u),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(tX(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");tz++}}function tq(e,t,n,r,o){if(Array.isArray(t))for(var a=0;a<t.length;a++)tq(e,t[a],n,r,o);else n=t3(n),e&&e[tM]?t8(e,t,n,v(r)?!!r.capture:!!r,o):tW(e,t,n,!0,r,o)}function tY(e,t,n,r,o){if(Array.isArray(t))for(var a=0;a<t.length;a++)tY(e,t[a],n,r,o);else(r=v(r)?!!r.capture:!!r,n=t3(n),e&&e[tM])?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=tH(a=e.a[t],n,r,o))&&(tj(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.a[t],e.b--))):e&&(e=t2(e))&&(t=e.a[t.toString()],e=-1,t&&(e=tH(t,n,r,o)),(n=-1<e?t[e]:null)&&t$(n))}function t$(e){if("number"!=typeof e&&e&&!e.wa){var t=e.src;if(t&&t[tM])tQ(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(tX(n),r):t.addListener&&t.removeListener&&t.removeListener(r),tz--,(n=t2(t))?(tQ(n,e),0==n.b&&(n.src=null,t[tV]=null)):tj(e)}}}function tX(e){return e in tK?tK[e]:tK[e]="on"+e}function tJ(e,t,n,r){var o=!0;if((e=t2(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var a=t[e];a&&a.capture==n&&!a.wa&&(a=t0(a,r),o=o&&!1!==a)}return o}function t0(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&t$(e),n.call(r,t)}function t1(e,t){if(e.wa)return!0;if(!tD){if(!t)e:{t=["window","event"];for(var n=c,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new tR(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(e){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=t.b;o;o=o.parentNode)r.push(o);for(e=e.type,o=r.length-1;0<=o;o--){t.b=r[o];var a=tJ(r[o],e,!0,t);n=n&&a}for(o=0;o<r.length;o++)t.b=r[o],a=tJ(r[o],e,!1,t),n=n&&a}return n}return t0(e,new tR(t,this))}function t2(e){return(e=e[tV])instanceof tZ?e:null}var t4="__closure_events_fn_"+(1e9*Math.random()>>>0);function t3(e){return g(e)?e:(e[t4]||(e[t4]=function(t){return e.handleEvent(t)}),e[t4])}function t5(){tI.call(this),this.v=new tZ(this),this.bc=this,this.hb=null}function t6(e,t,n,r,o){e.v.add(String(t),n,!1,r,o)}function t8(e,t,n,r,o){e.v.add(String(t),n,!0,r,o)}function t9(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var o=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.wa&&s.capture==n){var u=s.listener,c=s.Wa||s.src;s.Qa&&tQ(e.v,s),o=!1!==u.call(c,r)&&o}}return o&&!r.defaultPrevented}function t7(e,t,n){if(g(e))n&&(e=E(e,n));else if(e&&"function"==typeof e.handleEvent)e=E(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:c.setTimeout(e,t||0)}function ne(e){var t=null;return new to(function(n,r){-1==(t=t7(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).o(function(e){throw c.clearTimeout(t),e})}function nt(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"==typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function nn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(p(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function nr(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e){if(e instanceof nr)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}}function ni(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];no(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var o={};for(n=t=0;t<e.a.length;)no(o,r=e.a[t])||(e.a[n++]=r,o[r]=1),t++;e.a.length=n}}function no(e,t){return Object.prototype.hasOwnProperty.call(e,t)}I(t5,tI),t5.prototype[tM]=!0,t5.prototype.addEventListener=function(e,t,n,r){tG(this,e,t,n,r)},t5.prototype.removeEventListener=function(e,t,n,r){tY(this,e,t,n,r)},t5.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"==typeof e)e=new tF(e,n);else if(e instanceof tF)e.target=e.target||n;else{var o=e;ev(e=new tF(r,n),o)}if(o=!0,t)for(var a=t.length-1;0<=a;a--){var s=e.b=t[a];o=t9(s,r,!0,e)&&o}if(o=t9(s=e.b=n,r,!0,e)&&o,o=t9(s,r,!1,e)&&o,t)for(a=0;a<t.length;a++)o=t9(s=e.b=t[a],r,!1,e)&&o;return o},t5.prototype.Da=function(){if(t5.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)tj(n[r]);delete t.a[e],t.b--}}this.hb=null},(r=nr.prototype).X=function(){ni(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},r.Y=function(){return ni(this),this.a.concat()},r.clear=function(){this.b={},this.c=this.a.length=0},r.get=function(e,t){return no(this.b,e)?this.b[e]:t},r.set=function(e,t){no(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},r.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var o=n[r],a=this.get(o);e.call(t,a,o,this)}};var na=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ns(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof ns?(this.i=void 0!==t?t:e.i,nu(this,e.c),this.l=e.l,this.a=e.a,nc(this,e.g),this.f=e.f,nl(this,nS(e.b)),this.h=e.h):e&&(n=String(e).match(na))?(this.i=!!t,nu(this,n[1]||"",!0),this.l=np(n[2]||""),this.a=np(n[3]||"",!0),nc(this,n[4]),this.f=np(n[5]||"",!0),nl(this,n[6]||"",!0),this.h=np(n[7]||"")):(this.i=!!t,this.b=new nE(null,this.i))}function nu(e,t,n){e.c=n?np(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function nc(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function nl(e,t,n){var r,o;t instanceof nE?(e.b=t,r=e.b,(o=e.i)&&!r.f&&(nC(r),r.c=null,r.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(nI(this,t),nT(this,n,e))},r)),r.f=o):(n||(t=ng(t,nw)),e.b=new nE(t,e.i))}function nA(e,t,n){e.b.set(t,n)}function nd(e,t){return e.b.get(t)}function nf(e){return e instanceof ns?new ns(e):new ns(e,void 0)}function nh(e,t,n,r){var o=new ns(null,void 0);return e&&nu(o,e),t&&(o.a=t),n&&nc(o,n),r&&(o.f=r),o}function np(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ng(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,nv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function nv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ns.prototype.toString=function(){var e=[],t=this.c;t&&e.push(ng(t,nm,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(ng(t,nm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(ng(n,"/"==n.charAt(0)?nb:ny,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",ng(n,n_)),e.join("")},ns.prototype.resolve=function(e){var t=new ns(this),n=!!e.c;n?nu(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)nc(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0)){if(this.a&&!this.f)r="/"+r;else{var o=t.f.lastIndexOf("/");-1!=o&&(r=t.f.substr(0,o+1)+r)}}if(".."==(o=r)||"."==o)r="";else if(eu(o,"./")||eu(o,"/.")){r=0==o.lastIndexOf("/",0),o=o.split("/");for(var a=[],s=0;s<o.length;){var u=o[s++];"."==u?r&&s==o.length&&a.push(""):".."==u?((1<a.length||1==a.length&&""!=a[0])&&a.pop(),r&&s==o.length&&a.push("")):(a.push(u),r=!0)}r=a.join("/")}else r=o}return n?t.f=r:n=""!==e.b.toString(),n?nl(t,nS(e.b)):n=!!e.h,n&&(t.h=e.h),t};var nm=/[#\/\?@]/g,ny=/[#\?:]/g,nb=/[#\?]/g,nw=/[#\?@]/g,n_=/#/g;function nE(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function nC(e){e.a||(e.a=new nr,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var a=e[n].substring(0,r);o=e[n].substring(r+1)}else a=e[n];t(a,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function nB(e){var t=nn(e);if(void 0===t)throw Error("Keys are undefined");var n=new nE(null,void 0);e=nt(e);for(var r=0;r<t.length;r++){var o=t[r],a=e[r];Array.isArray(a)?nT(n,o,a):n.add(o,a)}return n}function nI(e,t){nC(e),t=nk(e,t),no(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,no((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&ni(e)))}function nx(e,t){return nC(e),t=nk(e,t),no(e.a.b,t)}function nT(e,t,n){nI(e,t),0<n.length&&(e.c=null,e.a.set(nk(e,t),J(n)),e.b+=n.length)}function nS(e){var t=new nE;return t.c=e.c,e.a&&(t.a=new nr(e.a),t.b=e.b),t}function nk(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function nD(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var o=n;n=o.length,r.push("[");for(var a="",s=0;s<n;s++)r.push(a),e(t,o[s],r),a=",";r.push("]");return}if(n instanceof String||n instanceof Number||n instanceof Boolean)n=n.valueOf();else{for(o in r.push("{"),a="",n)Object.prototype.hasOwnProperty.call(n,o)&&"function"!=typeof(s=n[o])&&(r.push(a),nR(o,r),r.push(":"),e(t,s,r),a=",");r.push("}");return}}switch(typeof n){case"string":nR(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new nN,e,t),t.join("")}function nN(){}(r=nE.prototype).add=function(e,t){nC(this),this.c=null,e=nk(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},r.clear=function(){this.a=this.c=null,this.b=0},r.forEach=function(e,t){nC(this),this.a.forEach(function(n,r){K(n,function(n){e.call(t,n,r,this)},this)},this)},r.Y=function(){nC(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var o=e[r],a=0;a<o.length;a++)n.push(t[r]);return n},r.X=function(e){nC(this);var t=[];if("string"==typeof e)nx(this,e)&&(t=X(t,this.a.get(nk(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=X(t,e[n])}return t},r.set=function(e,t){return nC(this),this.c=null,nx(this,e=nk(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},r.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.X(r);for(var a=0;a<r.length;a++){var s=o;""!==r[a]&&(s+="="+encodeURIComponent(String(r[a]))),e.push(s)}}return this.c=e.join("&")};var nO={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\u000b"},nF=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function nR(e,t){t.push('"',e.replace(nF,function(e){var t=nO[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),nO[e]=t),t}),'"')}function nL(){var e=n1();return ez&&!!e3&&11==e3||/Edge\/\d+/.test(e)}function nM(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function nP(e,t){t=t||c.window;var n="about:blank";e&&(n=eD(eR(e)||eP)),t.location.href=n}function nU(e){return!!((e=(e||n1()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function nj(e){e=e||c.window;try{e.close()}catch(e){}}function nZ(e,t,n){var r,o=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var a=(window.screen.availHeight-n)/2,s=(window.screen.availWidth-t)/2;for(u in t={width:t,height:n,top:0<a?a:0,left:0<s?s:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=n1().toLowerCase(),o&&(t.target=o,eu(n,"crios/")&&(t.target="_blank")),nX(n1())==nY&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),o=window,t=n instanceof ek?n:eR(void 0!==n.href?n.href:String(n))||eP,n=e.target||n.target,a=[],e)switch(u){case"width":case"height":case"top":case"left":a.push(u+"="+e[u]);break;case"target":case"noopener":case"noreferrer":break;default:a.push(u+"="+(e[u]?1:0))}var u=a.join(",");if((ed("iPhone")&&!ed("iPod")&&!ed("iPad")||ed("iPad")||ed("iPod"))&&o.navigator&&o.navigator.standalone&&n&&"_self"!=n?(em(u=e7(document,"A"),"HTMLAnchorElement"),t=t instanceof ek?t:eL(t),u.href=eD(t),u.setAttribute("target",n),e.noreferrer&&u.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,o,1),u.dispatchEvent(e),u={}):e.noreferrer?(u=eZ("",o,n,u),e=eD(t),u&&(eW&&eu(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),u.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+eH(e)+'">',e=new eU(e=(o=eE())?o.createHTML(e):e,null,ej),o=u.document)&&(o.write((r=e)instanceof eU&&r.constructor===eU?r.a:(P("expected object of type SafeHtml, got '"+r+"' of type "+h(r)),"type_error:SafeHtml")),o.close())):(u=eZ(t,o,n,u))&&e.noopener&&(u.opener=null),u)try{u.focus()}catch(e){}return u}var nQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nH=/^[^@]+@[^@]+$/;function nV(){var e=null;return new to(function(t){"complete"==c.document.readyState?t():tq(window,"load",e=function(){t()})}).o(function(t){throw tY(window,"load",e),t})}function nK(e){return e=e||n1(),!("file:"!==n6()&&"ionic:"!==n6()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function nz(){var e=c.window;try{return!(!e||e==e.top)}catch(e){return!1}}function nG(){return void 0!==c.WorkerGlobalScope&&"function"==typeof c.importScripts}function nW(){return N.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":N.Z.INTERNAL.hasOwnProperty("node")?"Node":nG()?"Worker":"Browser"}function nq(){var e=nW();return"ReactNative"===e||"Node"===e}var nY="Firefox",n$="Chrome";function nX(e){var t=e.toLowerCase();return eu(t,"opera/")||eu(t,"opr/")||eu(t,"opios/")?"Opera":eu(t,"iemobile")?"IEMobile":eu(t,"msie")||eu(t,"trident/")?"IE":eu(t,"edge/")?"Edge":eu(t,"firefox/")?nY:eu(t,"silk/")?"Silk":eu(t,"blackberry")?"Blackberry":eu(t,"webos")?"Webos":!eu(t,"safari/")||eu(t,"chrome/")||eu(t,"crios/")||eu(t,"android")?!eu(t,"chrome/")&&!eu(t,"crios/")||eu(t,"edge/")?eu(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":n$:"Safari"}var nJ={md:"FirebaseCore-web",od:"FirebaseUI-web"};function n0(e,t){t=t||[];var n,r=[],o={};for(n in nJ)o[nJ[n]]=!0;for(n=0;n<t.length;n++)void 0!==o[t[n]]&&(delete o[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=nW())?r=nX(o=n1()):"Worker"===r&&(r=nX(o=n1())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function n1(){return c.navigator&&c.navigator.userAgent||""}function n2(e,t){e=e.split("."),t=t||c;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function n4(){try{var e=c.localStorage,t=rt();if(e)return e.setItem(t,"1"),e.removeItem(t),!nL()||!!c.indexedDB}catch(e){return nG()&&!!c.indexedDB}return!1}function n3(){return(n5()||"chrome-extension:"===n6()||nK())&&!nq()&&n4()&&!nG()}function n5(){return"http:"===n6()||"https:"===n6()}function n6(){return c.location&&c.location.protocol||null}function n8(e){return!nU(e=e||n1())&&nX(e)!=nY}function n9(e){return void 0===e?null:nD(e)}function n7(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function re(e){if(null!==e)return JSON.parse(e)}function rt(e){return e||Math.floor(1e9*Math.random()).toString()}function rn(e){return!("Safari"==nX(e=e||n1())||e.toLowerCase().match(/iphone|ipad|ipod/))}function rr(){var e=c.___jsl;if(e&&e.H){for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}}function ri(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=n1(),t=nW(),this.b=nU(e)||"ReactNative"===t}function ro(){var e=c.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function ra(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function rs(){return!(!n2("fireauth.oauthhelper",c)&&!n2("fireauth.iframe",c))}ri.prototype.get=function(){var e=c.navigator;return(e&&"boolean"==typeof e.onLine&&(n5()||"chrome-extension:"===n6()||void 0!==e.connection)?e.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};var ru={};function rc(e){ru[e]||(ru[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var rl={};Object.defineProperty(rl,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(rl,"abcd",{configurable:!0,enumerable:!0,value:2}),oJ=2==rl.abcd}catch(e){oJ=!1}function rA(e,t,n){oJ?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function rd(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&rA(e,n,t[n])}function rf(e){var t={};return rd(t,e),t}function rh(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)rA(t,n,rh(e[n]));return t}function rp(e){var t=e&&(e[rb]?"phone":null);if(t&&e&&e[ry]){rA(this,"uid",e[ry]),rA(this,"displayName",e[rv]||null);var n=null;e[rm]&&(n=new Date(e[rm]).toUTCString()),rA(this,"enrollmentTime",n),rA(this,"factorId",t)}else throw new T("internal-error","Internal assert: invalid MultiFactorInfo object")}function rg(e){try{var t=new rw(e)}catch(e){t=null}return t}rp.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var rv="displayName",rm="enrolledAt",ry="mfaEnrollmentId",rb="phoneInfo";function rw(e){rp.call(this,e),rA(this,"phoneNumber",e[rb])}function r_(e){var t={},n=e[rI],r=e[rT],o=e[rS];if(e=rg(e[rx]),!o||o!=rC&&o!=rB&&!n||o==rB&&!r||o==rE&&!e)throw Error("Invalid checkActionCode response!");o==rB?(t[rD]=n||null,t[rO]=n||null,t[rk]=r):(t[rD]=r||null,t[rO]=r||null,t[rk]=n||null),t[rN]=e||null,rA(this,rR,o),rA(this,rF,rh(t))}I(rw,rp),rw.prototype.w=function(){var e=rw.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var rE="REVERT_SECOND_FACTOR_ADDITION",rC="EMAIL_SIGNIN",rB="VERIFY_AND_CHANGE_EMAIL",rI="email",rx="mfaInfo",rT="newEmail",rS="requestType",rk="email",rD="fromEmail",rN="multiFactorInfo",rO="previousEmail",rF="data",rR="operation";function rL(e){var t=nd(e=nf(e),rM)||null,n=nd(e,rP)||null,r=nd(e,rZ)||null;if(r=r&&rH[r]||null,!t||!n||!r)throw new T("argument-error",rM+", "+rP+"and "+rZ+" are required in a valid action code URL.");rd(this,{apiKey:t,operation:r,code:n,continueUrl:nd(e,rU)||null,languageCode:nd(e,rj)||null,tenantId:nd(e,rQ)||null})}var rM="apiKey",rP="oobCode",rU="continueUrl",rj="languageCode",rZ="mode",rQ="tenantId",rH={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:rE,signIn:rC,verifyAndChangeEmail:rB,verifyEmail:"VERIFY_EMAIL"};function rV(e){try{return new rL(e)}catch(e){return null}}function rK(e){var t=e[rY];if(void 0===t)throw new T("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new T("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[rz];if(n&&"object"==typeof n){t=n[rJ];var r=n[r$];if(n=n[rX],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new T("argument-error",r$+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new T("argument-error",rX+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new T("argument-error",rJ+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new T("missing-android-pkg-name")}}else if(void 0!==n)throw new T("argument-error",rz+" property must be a non null object when specified.");if(this.f=null,(t=e[rq])&&"object"==typeof t){if("string"==typeof(t=t[r0])&&t.length)this.f=t;else if(void 0!==t)throw new T("argument-error",r0+" property must be a non empty string when specified.")}else if(void 0!==t)throw new T("argument-error",rq+" property must be a non null object when specified.");if(void 0!==(t=e[rW])&&"boolean"!=typeof t)throw new T("argument-error",rW+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[rG])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new T("argument-error",rG+" property must be a non empty string when specified.");this.i=e||null}var rz="android",rG="dynamicLinkDomain",rW="handleCodeInApp",rq="iOS",rY="url",r$="installApp",rX="minimumVersion",rJ="packageName",r0="bundleId";function r1(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var r2=null;function r4(e){var t=r5(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function r3(e){try{return new r4(e)}catch(e){return null}}function r5(e){if(!e||3!=(e=e.split(".")).length)return null;e=e[1];for(var t=(4-e.length%4)%4,n=0;n<t;n++)e+=".";try{var r,o,a=(r=e,o=[],function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),o=r2[n];if(null!=o)return o;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}(function(){if(!r2){r2={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),o=0;o<r.length;o++){var a=r[o];void 0===r2[a]&&(r2[a]=o)}}})();for(var r=0;;){var o=n(-1),a=n(0),s=n(64),u=n(64);if(64===u&&-1===o)break;t(o<<2|a>>4),64!=s&&(t(a<<4&240|s>>2),64!=u&&t(s<<6&192|u))}}(r,function(e){o.push(e)}),o);for(e=[],n=t=0;t<a.length;){var s=a[t++];if(128>s)e[n++]=String.fromCharCode(s);else if(191<s&&224>s){var u=a[t++];e[n++]=String.fromCharCode((31&s)<<6|63&u)}else if(239<s&&365>s){u=a[t++];var c=a[t++],l=a[t++],A=((7&s)<<18|(63&u)<<12|(63&c)<<6|63&l)-65536;e[n++]=String.fromCharCode(55296+(A>>10)),e[n++]=String.fromCharCode(56320+(1023&A))}else u=a[t++],c=a[t++],e[n++]=String.fromCharCode((15&s)<<12|(63&u)<<6|63&c)}return JSON.parse(e.join(""))}catch(e){}return null}r4.prototype.T=function(){return this.f},r4.prototype.l=function(){return this.c},r4.prototype.toString=function(){return this.h};var r6="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),r8=["client_id","response_type","scope","redirect_uri","state"],r9={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:r8},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:r8},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:r8},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:r6},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function r7(e){for(var t in r9)if(r9[t].fa==e)return r9[t];return null}function ie(e){var t={};t["facebook.com"]=ia,t["google.com"]=iu,t["github.com"]=is,t["twitter.com"]=ic;var n=e&&e[ir];try{if(n)return t[n]?new t[n](e):new io(e);if(void 0!==e[it])return new ii(e)}catch(e){}return null}var it="idToken",ir="providerId";function ii(e){var t=e[ir];if(!t&&e[it]){var n=r3(e[it]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");("anonymous"==t||"custom"==t)&&(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),rA(this,"providerId",t),rA(this,"isNewUser",n)}function io(e){ii.call(this,e),rA(this,"profile",rh((e=re(e.rawUserInfo||"{}"))||{}))}function ia(e){if(io.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function is(e){if(io.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");rA(this,"username",this.profile&&this.profile.login||null)}function iu(e){if(io.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ic(e){if(io.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");rA(this,"username",e.screenName||null)}function il(e){var t=nf(e),n=nd(t,"link"),r=nd(nf(n),"link");return t=nd(t,"deep_link_id"),nd(nf(t),"link")||t||r||n||e}function iA(e,t){if(!e&&!t)throw new T("internal-error","Internal assert: no raw session string available");if(e&&t)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?id:ih}I(io,ii),I(ia,io),I(is,io),I(iu,io),I(ic,io);var id="enroll",ih="signin";function ip(){}function ig(e,t){return e.then(function(e){if(e[o2]){var n=r3(e[o2]);if(!n||t!=n.i)throw new T("user-mismatch");return e}throw new T("user-mismatch")}).o(function(e){throw e&&e.code&&e.code==k+"user-not-found"?new T("user-mismatch"):e})}function iv(e,t){if(t)this.a=t;else throw new T("internal-error","failed to construct a credential");rA(this,"providerId",e),rA(this,"signInMethod",e)}function im(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function iy(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new iv(e.providerId,e.pendingToken)}catch(e){}return null}function ib(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&rA(this,"idToken",t.idToken),t.accessToken&&rA(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&rA(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else if(t.oauthToken&&t.oauthTokenSecret)rA(this,"accessToken",t.oauthToken),rA(this,"secret",t.oauthTokenSecret);else throw new T("internal-error","failed to construct a credential");rA(this,"providerId",e),rA(this,"signInMethod",n)}function iw(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:nB(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function i_(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new ib(e.providerId,t,e.signInMethod)}catch(e){}}return null}function iE(e,t){this.Qc=t||[],rd(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(r7(e)||{}).Ja||null,this.pb=null}function iC(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');iE.call(this,e,[])}function iB(e){iE.call(this,e,r8),this.a=[]}function iI(){iB.call(this,"facebook.com")}function ix(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new iI).credential({accessToken:t})}function iT(){iB.call(this,"github.com")}function iS(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return v(e)&&(t=e.accessToken),(new iT).credential({accessToken:t})}function ik(){iB.call(this,"google.com"),this.Ca("profile")}function iD(e,t){var n=e;return v(e)&&(n=e.idToken,t=e.accessToken),(new ik).credential({idToken:n,accessToken:t})}function iN(){iE.call(this,"twitter.com",r6)}function iO(e,t){var n=e;if(v(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ib("twitter.com",n,"twitter.com")}function iF(e,t,n){this.a=e,this.f=t,rA(this,"providerId","password"),rA(this,"signInMethod",n===iL.EMAIL_LINK_SIGN_IN_METHOD?iL.EMAIL_LINK_SIGN_IN_METHOD:iL.EMAIL_PASSWORD_SIGN_IN_METHOD)}function iR(e){return e&&e.email&&e.password?new iF(e.email,e.password,e.signInMethod):null}function iL(){rd(this,{providerId:"password",isOAuthProvider:!1})}function iM(e,t){if(!(t=iP(t)))throw new T("argument-error","Invalid email link!");return new iF(e,t.code,iL.EMAIL_LINK_SIGN_IN_METHOD)}function iP(e){return(e=rV(e=il(e)))&&e.operation===rC?e:null}function iU(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new T("internal-error");this.a=e,rA(this,"providerId","phone"),this.fa="phone",rA(this,"signInMethod","phone")}function ij(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return K(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){e[n]&&(t[n]=e[n])}),new iU(t)}return null}function iZ(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function iQ(e){try{this.a=e||N.Z.auth()}catch(e){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}rd(this,{providerId:"phone",isOAuthProvider:!1})}function iH(e,t){if(!e)throw new T("missing-verification-id");if(!t)throw new T("missing-verification-code");return new iU({fb:e,eb:t})}function iV(e){if(e.temporaryProof&&e.phoneNumber)return new iU({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,o=e&&e.nonce,a=e&&e.oauthIdToken,s=e&&e.pendingToken;try{switch(t){case"google.com":return iD(a,n);case"facebook.com":return ix(n);case"github.com":return iS(n);case"twitter.com":return iO(n,r);default:return n||r||a||s?s?0==t.indexOf("saml.")?new iv(t,s):new ib(t,{pendingToken:s,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new iB(t).credential({idToken:a,accessToken:n,rawNonce:o}):null}}catch(e){return null}}function iK(e){if(!e.isOAuthProvider)throw new T("invalid-oauth-provider")}function iz(e,t,n,r,o,a,s){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=a||null,this.h=s||null,this.a=o||null,this.g||this.a){if(this.g&&this.a||this.g&&!this.f)throw new T("invalid-auth-event")}else throw new T("invalid-auth-event")}function iG(e){return(e=e||{}).type?new iz(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&S(e.error),e.postBody,e.tenantId):null}function iW(){this.b=null,this.a=[]}iA.prototype.Ha=function(){return this.a?td(this.a):td(this.b)},iA.prototype.w=function(){return this.type==id?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ip.prototype.ka=function(){},ip.prototype.b=function(){},ip.prototype.c=function(){},ip.prototype.w=function(){},iv.prototype.ka=function(e){return ah(e,im(this))},iv.prototype.b=function(e,t){var n=im(this);return n.idToken=t,ap(e,n)},iv.prototype.c=function(e,t){return ig(ag(e,im(this)),t)},iv.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ib.prototype.ka=function(e){return ah(e,iw(this))},ib.prototype.b=function(e,t){var n=iw(this);return n.idToken=t,ap(e,n)},ib.prototype.c=function(e,t){return ig(ag(e,iw(this)),t)},ib.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},iE.prototype.Ka=function(e){return this.Jb=ep(e),this},I(iC,iE),I(iB,iE),iB.prototype.Ca=function(e){return q(this.a,e)||this.a.push(e),this},iB.prototype.Rb=function(){return J(this.a)},iB.prototype.credential=function(e,t){var n;if(!(n=v(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new ib(this.providerId,n,this.providerId)},I(iI,iB),rA(iI,"PROVIDER_ID","facebook.com"),rA(iI,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),I(iT,iB),rA(iT,"PROVIDER_ID","github.com"),rA(iT,"GITHUB_SIGN_IN_METHOD","github.com"),I(ik,iB),rA(ik,"PROVIDER_ID","google.com"),rA(ik,"GOOGLE_SIGN_IN_METHOD","google.com"),I(iN,iE),rA(iN,"PROVIDER_ID","twitter.com"),rA(iN,"TWITTER_SIGN_IN_METHOD","twitter.com"),iF.prototype.ka=function(e){return this.signInMethod==iL.EMAIL_LINK_SIGN_IN_METHOD?a$(e,aC,{email:this.a,oobCode:this.f}):a$(e,az,{email:this.a,password:this.f})},iF.prototype.b=function(e,t){return this.signInMethod==iL.EMAIL_LINK_SIGN_IN_METHOD?a$(e,aB,{idToken:t,email:this.a,oobCode:this.f}):a$(e,aP,{idToken:t,email:this.a,password:this.f})},iF.prototype.c=function(e,t){return ig(this.ka(e),t)},iF.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},rd(iL,{PROVIDER_ID:"password"}),rd(iL,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),rd(iL,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),iU.prototype.ka=function(e){return e.gb(iZ(this))},iU.prototype.b=function(e,t){var n=iZ(this);return n.idToken=t,a$(e,aW,n)},iU.prototype.c=function(e,t){var n=iZ(this);return n.operation="REAUTH",ig(e=a$(e,aq,n),t)},iU.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},iQ.prototype.gb=function(e,t){var n=this.a.a;return td(t.verify()).then(function(r){if("string"!=typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var o=v(e)?e.session:null,a=v(e)?e.phoneNumber:e;return(o&&o.type==id?o.Ha().then(function(e){return a$(n,aj,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}}).then(function(e){return e.phoneSessionInfo.sessionInfo})}):o&&o.type==ih?o.Ha().then(function(t){return a$(n,aZ,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}}).then(function(e){return e.phoneResponseInfo.sessionInfo})}):a$(n,aL,{phoneNumber:a,recaptchaToken:r})).then(function(e){return"function"==typeof t.reset&&t.reset(),e},function(e){throw"function"==typeof t.reset&&t.reset(),e})}throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')})},rd(iQ,{PROVIDER_ID:"phone"}),rd(iQ,{PHONE_SIGN_IN_METHOD:"phone"}),iz.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},iz.prototype.T=function(){return this.h},iz.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var iq=null;function iY(e){var t="unauthorized-domain",n=void 0,r=nf(e);e=r.a,"chrome-extension"==(r=r.c)?n=eQ("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=eQ("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",T.call(this,t,n)}function i$(e,t,n){T.call(this,e,n),(e=t||{}).Kb&&rA(this,"email",e.Kb),e.ea&&rA(this,"phoneNumber",e.ea),e.credential&&rA(this,"credential",e.credential),e.$b&&rA(this,"tenantId",e.$b)}function iX(e){if(e.code){var t=e.code||"";0==t.indexOf(k)&&(t=t.substring(k.length));var n={credential:iV(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new T(t,e.message||void 0);return new i$(t,n,e.message)}return null}function iJ(){}function i0(e){return e.c||(e.c=e.b())}function i1(){}function i2(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function i4(){}function i3(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Tb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function i5(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function i6(e,t,n){this.reset(e,t,n,void 0,void 0)}I(iY,T),I(i$,T),i$.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&ev(e,t),e},i$.prototype.toJSON=function(){return this.w()},iJ.prototype.c=null,I(i1,iJ),i1.prototype.a=function(){var e=i2(this);return e?new ActiveXObject(e):new XMLHttpRequest},i1.prototype.b=function(){var e={};return i2(this)&&(e[0]=!0,e[1]=!0),e},o0=new i1,I(i4,iJ),i4.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new i3;throw Error("Unsupported browser")},i4.prototype.b=function(){return{}},(r=i3.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},r.send=function(e){if(e){if("string"==typeof e)this.a.send(e);else throw Error("Only string data is supported")}else this.a.send()},r.abort=function(){this.a.abort()},r.setRequestHeader=function(){},r.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},r.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,i5(this,4)},r.Tb=function(){this.status=500,this.response=this.responseText="",i5(this,4)},r.vc=function(){this.Tb()},r.rc=function(){this.status=200,i5(this,1)},r.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},i6.prototype.a=null;var i8=0;function i9(e){this.f=e,this.b=this.c=this.a=null}function i7(e,t){this.name=e,this.value=t}i6.prototype.reset=function(e,t,n,r,o){"number"==typeof o||i8++,r||B(),delete this.a},i7.prototype.toString=function(){return this.name};var oe=new i7("SEVERE",1e3),ot=new i7("WARNING",900),on=new i7("CONFIG",700),or=new i7("FINE",500);i9.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(P("Root logger has no level set."),null)}(this).value)for(g(t)&&(t=t()),e=new i6(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var oi={},oo=null;function oa(e){if(oo||(oo=new i9(""),oi[""]=oo,oo.c=on),!(t=oi[e])){t=new i9(e);var t,n=e.lastIndexOf("."),r=e.substr(n+1);(n=oa(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,oi[e]=t}return t}function os(e,t){e&&e.log(or,t,void 0)}function ou(e){this.f=e}function oc(e){t5.call(this),this.u=e,this.h=void 0,this.readyState=ol,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=oa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}I(ou,iJ),ou.prototype.a=function(){return new oc(this.f)},ou.prototype.b=(oK={},function(){return oK}),I(oc,t5);var ol=0;function oA(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function od(e){e.readyState=4,e.g=null,e.c=null,e.m=null,of(e)}function of(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function oh(e){t5.call(this),this.headers=new nr,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=op,this.u=this.S=!1}(r=oc.prototype).open=function(e,t){if(this.readyState!=ol)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,of(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},r.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,od(this)),this.readyState=ol},r.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,of(this)),this.a&&(this.readyState=3,of(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):void 0!==c.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,oA(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},r.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?od(this):of(this),3==this.readyState&&oA(this)}},r.tc=function(e){this.a&&(this.response=this.responseText=e,od(this))},r.sc=function(e){this.a&&(this.response=e,od(this))},r.Va=function(e){var t=this.i;t&&t.log(ot,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&od(this)},r.setRequestHeader=function(e,t){this.l.append(e,t)},r.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(ot,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},r.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(ot,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(oc.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),I(oh,t5);var op="";oh.prototype.b=oa("goog.net.XhrIo");var og=/^https?$/i,ov=["POST","PUT"];function om(e){return"content-type"==e.toLowerCase()}function oy(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ob(e),o_(e)}function ob(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function ow(e){if(e.c&&void 0!==u){if(e.C[1]&&4==oC(e)&&2==oB(e))os(e.b,oI(e,"Local request error detected and ignored"));else if(e.i&&4==oC(e))t7(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==oC(e)){os(e.b,oI(e,"Request complete")),e.c=!1;try{var t,n,r=oB(e);switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break;default:o=!1}if(!(t=o)){if(n=0===r){var a=String(e.l).match(na)[1]||null;if(!a&&c.self&&c.self.location){var s=c.self.location.protocol;a=s.substr(0,s.length-1)}n=!og.test(a?a.toLowerCase():"")}t=n}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var l=2<oC(e)?e.a.statusText:""}catch(t){os(e.b,"Can not get status: "+t.message),l=""}e.h=l+" ["+oB(e)+"]",ob(e)}}finally{o_(e)}}}}function o_(e,t){if(e.a){oE(e);var n=e.a,r=e.C[0]?f:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(oe,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function oE(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(c.clearTimeout(e.s),e.s=null)}function oC(e){return e.a?e.a.readyState:0}function oB(e){try{return 2<oC(e)?e.a.status:-1}catch(e){return -1}}function oI(e,t){return t+" ["+e.P+" "+e.l+" "+oB(e)+"]"}function ox(e){this.g=[],this.u=oP,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function oT(e,t,n){e.a=!0,e.c=n,e.f=!t,oN(e)}function oS(e){if(e.a){if(!e.v)throw new oO(e);e.v=!1}}function ok(e,t,n,r){e.g.push([t,n,r]),e.a&&oN(e)}function oD(e){return W(e.g,function(e){return g(e[1])})}function oN(e){if(e.h&&e.a&&oD(e)){var t=e.h,n=oL[t];n&&(c.clearTimeout(n.a),delete oL[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var o=e.g.shift(),a=o[0],s=o[1];if(o=o[2],a=e.f?s:a)try{var u=a.call(o||e.s,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(R(t)||"function"==typeof c.Promise&&t instanceof c.Promise)&&(r=!0,e.i=!0)}catch(r){t=r,e.f=!0,oD(e)||(n=!0)}}e.c=t,r&&(u=E(e.m,e,!0),r=E(e.m,e,!1),t instanceof ox?(ok(t,u,r),t.C=!0):t.then(u,r)),n&&(oL[(t=new oR(t)).a]=t,e.h=t.a)}function oO(){L.call(this)}function oF(){L.call(this)}function oR(e){this.a=c.setTimeout(E(this.c,this),0),this.b=e}(r=oh.prototype).Ma=function(){void 0!==u&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",os(this.b,oI(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(){this.a&&this.c&&(os(this.b,oI(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),o_(this))},r.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),o_(this,!0)),oh.bb.Da.call(this)},r.Wb=function(){this.ya||(this.N||this.i||this.f?ow(this):this.Jc())},r.Jc=function(){ow(this)},r.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case op:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(oe,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return os(this.b,"Can not get response: "+e.message),null}},ox.prototype.cancel=function(e){if(this.a)this.c instanceof ox&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new oF(this),oS(this),oT(this,!1,e))}},ox.prototype.m=function(e,t){this.i=!1,oT(this,e,t)},ox.prototype.then=function(e,t,n){var r,o,a=new to(function(e,t){r=e,o=t});return ok(this,r,function(e){e instanceof oF?a.cancel():o(e)}),a.then(e,t,n)},ox.prototype.$goog_Thenable=!0,I(oO,L),oO.prototype.message="Deferred has already fired",oO.prototype.name="AlreadyCalledError",I(oF,L),oF.prototype.message="Deferred was canceled",oF.prototype.name="CanceledError",oR.prototype.c=function(){throw delete oL[this.a],this.b};var oL={};function oM(e){var t,n,r={},o=r.document||document,a=eB(e).toString(),s=e7(document,"SCRIPT"),u={Xb:s,Ma:void 0},l=new ox(u),f=null,h=null!=r.timeout?r.timeout:5e3;return 0<h&&(f=window.setTimeout(function(){oU(s,!0);var e=new oQ(oZ,"Timeout reached for loading script "+a);oS(l),oT(l,!1,e)},h),u.Ma=f),s.onload=s.onreadystatechange=function(){s.readyState&&"loaded"!=s.readyState&&"complete"!=s.readyState||(oU(s,r.xd||!1,f),oS(l),oT(l,!0,null))},s.onerror=function(){oU(s,!0,f);var e=new oQ(oj,"Error while loading script "+a);oS(l),oT(l,!1,e)},ev(u=r.attributes||{},{type:"text/javascript",charset:"UTF-8"}),e8(s,u),n=e,em(s,"HTMLScriptElement"),s.src=eB(n),(n=s.ownerDocument&&s.ownerDocument.defaultView)&&n!=c?n=d(n.document):(null===A&&(A=d(c.document)),n=A),n&&s.setAttribute("nonce",n),((t=(o||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:o.documentElement).appendChild(s),l}function oP(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&oU(e,!0,this.Ma)}}function oU(e,t,n){null!=n&&c.clearTimeout(n),e.onload=f,e.onerror=f,e.onreadystatechange=f,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var oj=0,oZ=1;function oQ(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),L.call(this,n),this.code=e}function oH(e){this.f=e}function oV(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||o4,this.g=ep(e.secureTokenHeaders||o3),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||o5,this.a=ep(e.firebaseHeaders||o6),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==nW(),!(n=c.XMLHttpRequest||n&&N.Z.INTERNAL.node&&N.Z.INTERNAL.node.XMLHttpRequest)&&!nG())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,nG()?this.f=new ou(self):nq()?this.f=new oH(n):this.f=new i4,this.b=null}I(oQ,L),I(oH,iJ),oH.prototype.a=function(){return new this.f},oH.prototype.b=function(){return{}};var oK,oz,oG,oW,oq,oY,o$,oX,oJ,o0,o1,o2="idToken",o4=new ri(3e4,6e4),o3={"Content-Type":"application/x-www-form-urlencoded"},o5=new ri(3e4,6e4),o6={"Content-Type":"application/json"};function o8(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function o9(e,t){t&&(e.l=o7("https://securetoken.googleapis.com/v1/token",t),e.h=o7("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=o7("https://identitytoolkit.googleapis.com/v2/",t))}function o7(e,t){return e=nf(e),t=nf(t.url),e.f=e.a+e.f,nu(e,t.c),e.a=t.a,nc(e,t.g),e.toString()}function ae(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function at(e,t,n,r,o,a,s){var u;!((!(u=nX(u=n1())!=n$?null:(u=u.match(/\sChrome\/(\d+)/i))&&2==u.length?parseInt(u[1],10):null)||!(30>u))&&(!ez||!e3||9<e3)||nG())?(o1||(o1=new to(function(e,t){var n,r;n=e,r=t,((window.gapi||{}).client||{}).request?n():(c[ar]=function(){((window.gapi||{}).client||{}).request?n():r(Error("CORS_UNSUPPORTED"))},ok(oM(eI(an,{onload:ar})),null,function(){r(Error("CORS_UNSUPPORTED"))},void 0))})),e=E(e.s,e)):e=E(e.u,e),e(t,n,r,o,a,s)}oV.prototype.T=function(){return this.b},oV.prototype.u=function(e,t,n,r,o,a){if(nG()&&(void 0===c.fetch||void 0===c.Headers||void 0===c.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new oh(this.f);if(a){s.g=Math.max(0,a);var u=setTimeout(function(){s.dispatchEvent("timeout")},a)}t6(s,"complete",function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return os(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)}),t8(s,"ready",function(){u&&clearTimeout(u),tS(this)}),t8(s,"timeout",function(){u&&clearTimeout(u),tS(this),t&&t(null)}),function(e,t,n,r,o){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():o0.a(),e.C=e.D?i0(e.D):i0(o0),e.a.onreadystatechange=E(e.Wb,e);try{os(e.b,oI(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(t){os(e.b,oI(e,"Error opening Xhr: "+t.message)),oy(e,t);return}t=r||"";var a,s=new nr(e.headers);o&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"==typeof e)K(e,t,void 0);else for(var n=nn(e),r=nt(e),o=r.length,a=0;a<o;a++)t.call(void 0,r[a],n&&n[a],e)}(o,function(e,t){s.set(t,e)}),o=function(e){e:{for(var t=om,n=e.length,r="string"==typeof e?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(s.Y()),r=c.FormData&&t instanceof c.FormData,!q(ov,n)||o||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{oE(e),0<e.g&&(e.u=(a=e.a,ez&&e4(9)&&"number"==typeof a.timeout&&void 0!==a.ontimeout),os(e.b,oI(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=E(e.Ma,e)):e.s=t7(e.Ma,e.g,e)),os(e.b,oI(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){os(e.b,oI(e,"Send error: "+t.message)),oy(e,t)}}(s,e,n,r,o)};var an=new ey(e_,"https://apis.google.com/js/client.js?onload=%{onload}"),ar="__fcb"+Math.floor(1e6*Math.random()).toString();function ai(e,t,n,r,o,a,s){var u=nf(t+n);nA(u,"key",e.c),s&&nA(u,"cb",Date.now().toString());var c="GET"==r;if(c)for(var l in o)o.hasOwnProperty(l)&&nA(u,l,o[l]);return new to(function(t,n){at(e,u.toString(),function(e){e?e.error?n(aJ(e,a||{})):t(e):n(new T("network-request-failed"))},r,c?void 0:nD(n7(o)),e.a,e.v.get())})}function ao(e){if("string"!=typeof(e=e.email)||!nH.test(e))throw new T("invalid-email")}function aa(e){"email"in e&&ao(e)}function as(e){if(!e[o2]){if(e.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ep(e));throw new T("internal-error")}}function au(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new T("internal-error")}else{if(!e.sessionInfo)throw new T("missing-verification-id");if(!e.code)throw new T("missing-verification-code")}}oV.prototype.s=function(e,t,n,r,o){var a=this;o1.then(function(){window.gapi.client.setApiKey(a.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:o,authType:"none",callback:function(e){window.gapi.auth.setToken(s),t&&t(e)}})}).o(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},oV.prototype.Ab=function(){return a$(this,aU,{})},oV.prototype.Cb=function(e,t){return a$(this,aM,{idToken:e,email:t})},oV.prototype.Db=function(e,t){return a$(this,aP,{idToken:e,password:t})};var ac={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function al(e){if(!e.phoneVerificationInfo)throw new T("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new T("missing-verification-code")}function aA(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new T("internal-error")}function ad(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&nx(e=new nE(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function af(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=iX(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=iX(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=iX(e)):e.errorMessage&&(t=aX(e.errorMessage)),t)throw t;as(e)}function ah(e,t){return t.returnIdpCredential=!0,a$(e,aQ,t)}function ap(e,t){return t.returnIdpCredential=!0,a$(e,aV,t)}function ag(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,a$(e,aH,t)}function av(e){if(!e.oobCode)throw new T("invalid-action-code")}(r=oV.prototype).Eb=function(e,t){var n={idToken:e},r=[];return ef(ac,function(e,o){var a=t[o];null===a?r.push(e):o in t&&(n[o]=a)}),r.length&&(n.deleteAttribute=r),a$(this,aM,n)},r.wb=function(e,t){return ev(e={requestType:"PASSWORD_RESET",email:e},t),a$(this,aN,e)},r.xb=function(e,t){return ev(e={requestType:"EMAIL_SIGNIN",email:e},t),a$(this,aS,e)},r.vb=function(e,t){return ev(e={requestType:"VERIFY_EMAIL",idToken:e},t),a$(this,ak,e)},r.Fb=function(e,t,n){return ev(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),a$(this,aD,e)},r.gb=function(e){return a$(this,aG,e)},r.ob=function(e,t){return a$(this,aR,{oobCode:e,newPassword:t})},r.Sa=function(e){return a$(this,ay,{oobCode:e})},r.kb=function(e){return a$(this,am,{oobCode:e})};var am={endpoint:"setAccountInfo",A:av,Z:"email",B:!0},ay={endpoint:"resetPassword",A:av,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new T("internal-error")},B:!0},ab={endpoint:"signupNewUser",A:function(e){if(ao(e),!e.password)throw new T("weak-password")},G:as,V:!0,B:!0},aw={endpoint:"createAuthUri",B:!0},a_={endpoint:"deleteAccount",O:["idToken"]},aE={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new T("internal-error")}},aC={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ao,G:as,V:!0,B:!0},aB={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ao,G:as,V:!0},aI={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:al,G:as,B:!0,Na:!0},ax={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:al,G:as,B:!0,Na:!0},aT={endpoint:"getAccountInfo"},aS={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new T("internal-error");ao(e)},Z:"email",B:!0},ak={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},aD={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},aN={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new T("internal-error");ao(e)},Z:"email",B:!0},aO={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},aF={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new T("internal-error")}},aR={endpoint:"resetPassword",A:av,Z:"email",B:!0},aL={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},aM={endpoint:"setAccountInfo",O:["idToken"],A:aa,V:!0},aP={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(aa(e),!e.password)throw new T("weak-password")},G:as,V:!0},aU={endpoint:"signupNewUser",G:as,V:!0,B:!0},aj={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new T("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},aZ={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},aQ={endpoint:"verifyAssertion",A:aA,Za:ad,G:af,V:!0,B:!0},aH={endpoint:"verifyAssertion",A:aA,Za:ad,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new T("user-not-found");if(e.errorMessage)throw aX(e.errorMessage);as(e)},V:!0,B:!0},aV={endpoint:"verifyAssertion",A:function(e){if(aA(e),!e.idToken)throw new T("internal-error")},Za:ad,G:af,V:!0},aK={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new T("invalid-custom-token")},G:as,V:!0,B:!0},az={endpoint:"verifyPassword",A:function(e){if(ao(e),!e.password)throw new T("wrong-password")},G:as,V:!0,B:!0},aG={endpoint:"verifyPhoneNumber",A:au,G:as,B:!0},aW={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new T("internal-error");au(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",iX(e);as(e)}},aq={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:au,G:as,B:!0},aY={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[o2]^!!e.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function a$(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.O))return tf(new T("internal-error"));var r,o=!!t.Na,a=t.Vb||"POST";return td(n).then(t.A).then(function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),o?ai(e,e.i,t.endpoint,a,n,t.Ib,t.mb||!1):ai(e,e.h,t.endpoint,a,n,t.Ib,t.mb||!1)}).then(function(e){return r=e,t.Za?t.Za(n,r):r}).then(t.G).then(function(){if(!t.Z)return r;if(!(t.Z in r))throw new T("internal-error");return r[t.Z]})}function aX(e){return aJ({error:{errors:[{message:e}],code:400,message:e}})}function aJ(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var o in n=e.error&&e.error.message||"",ev(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(o))return new T(r[o],t);return!t&&e&&(t=n9(e)),new T("internal-error",t)}function a0(e){var t;this.b=e,this.a=null,this.sb=(t=this,(a3||(a3=new to(function(e,t){function n(){rr(),n2("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){rr(),t(Error("Network Error"))},timeout:a2.get()})}if(n2("gapi.iframes.Iframe"))e();else if(n2("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[r]=function(){n2("gapi.load")?n():t(Error("Network Error"))},td(oM(r=eI(a1,{onload:r}))).o(function(){t(Error("Network Error"))})}}).o(function(e){throw a3=null,e}))).then(function(){return new to(function(e,n){n2("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:n2("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function o(){clearTimeout(a),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var a=setTimeout(function(){n(Error("Network Error"))},a4.get());r.ping(o).then(o,function(){n(Error("Network Error"))})})})}))}var a1=new ey(e_,"https://apis.google.com/js/api.js?onload=%{onload}"),a2=new ri(3e4,6e4),a4=new ri(5e3,15e3),a3=null;function a5(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?nh((e=nf(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):nh("https",this.l,null,"/__/auth/iframe"),this.a=e,nA(this.a,"apiKey",this.h),nA(this.a,"appName",this.i),this.b=null,this.c=[]}function a6(e,t,n,r,o,a){this.u=e,this.s=t,this.c=n,this.m=r,this.v=a,this.i=this.g=this.l=null,this.a=o,this.h=this.f=null}function a8(e){try{return N.Z.app(e).auth().Ga()}catch(e){return[]}}function a9(e,t,n,r,o,a){this.s=e,this.g=t,this.b=n,this.f=a,this.c=r||null,this.i=o||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function a7(e){var t=nM();return a$(e,aO,{}).then(function(e){return e.authorizedDomains||[]}).then(function(e){e:{var n=nf(t),r=n.c;n=n.a;for(var o=0;o<e.length;o++){var a=e[o],s=n;if(s=0==a.indexOf("chrome-extension://")?nf(a).a==s&&"chrome-extension"==r:("http"==r||"https"==r)&&(nQ.test(a)?s==a:RegExp("^(.+\\."+(a=a.split(".").join("\\."))+"|"+a+")$","i").test(s))){e=!0;break e}}e=!1}if(!e)throw new iY(nM())})}function se(e){return e.m||(e.m=nV().then(function(){if(!e.u){var t=e.c,n=e.i,r=a8(e.b),o=new a5(e.s,e.g,e.b,e.f);o.f=t,o.b=n,o.c=J(r||[]),e.u=o.toString()}e.v=new a0(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then(function(){e.a.register("authEvent",t,n2("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e.v,function(t){var n={};if(t&&t.authEvent){var r=!1;for(n=0,t=iG(t.authEvent);n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",td(n)}return n.status="ERROR",td(n)})}(e)})),e.m}function st(e){return e.l||(e.C=e.c?n0(e.c,a8(e.b)):null,e.l=new oV(e.g,F(e.i),e.C),e.f&&o9(e.l,e.f)),e.l}function sn(e,t,n,r,o,a,s,u,c,l,A,d){return(e=new a6(e,t,n,r,o,d)).l=a,e.g=s,e.i=u,e.b=ep(c||null),e.f=l,e.zb(A).toString()}function sr(e){if(this.a=e||N.Z.INTERNAL.reactNative&&N.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function si(e){this.b=e,this.a={},this.f=E(this.c,this)}a5.prototype.toString=function(){return this.f?nA(this.a,"v",this.f):nI(this.a.b,"v"),this.b?nA(this.a,"eid",this.b):nI(this.a.b,"eid"),this.c.length?nA(this.a,"fw",this.c.join(",")):nI(this.a.b,"fw"),this.a.toString()},a6.prototype.zb=function(e){return this.h=e,this},a6.prototype.toString=function(){if(this.v){var e=nf(this.v.url);e=nh(e.c,e.a,e.g,"/emulator/auth/handler")}else e=nh("https",this.u,null,"/__/auth/handler");if(nA(e,"apiKey",this.s),nA(e,"appName",this.c),nA(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=N.Z.app(this.c).auth().la()}catch(e){n=null}for(var r in t.pb=n,nA(e,"providerId",this.a.providerId),t=n7((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=ep(t);for(var o=0;o<r.length;o++){var a=r[o];a in t&&delete t[a]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),eh(t)||nA(e,"customParameters",n9(t))}if("function"==typeof this.a.Rb&&(n=this.a.Rb()).length&&nA(e,"scopes",n.join(",")),this.l?nA(e,"redirectUrl",this.l):nI(e.b,"redirectUrl"),this.g?nA(e,"eventId",this.g):nI(e.b,"eventId"),this.i?nA(e,"v",this.i):nI(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!nd(e,s)&&nA(e,s,this.b[s]);return this.h?nA(e,"tid",this.h):nI(e.b,"tid"),this.f?nA(e,"eid",this.f):nI(e.b,"eid"),(s=a8(this.c)).length&&nA(e,"fw",s.join(",")),e.toString()},(r=a9.prototype).Pb=function(e,t,n){var r=new T("popup-closed-by-user"),o=new T("web-storage-unsupported"),a=this,s=!1;return this.ma().then(function(){var n;(n={type:"webStorageSupport"},se(a).then(function(){var e;return(e=a.v).sb.then(function(){return new to(function(t){e.a.send(n.type,n,t,n2("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}).then(function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})).then(function(n){n||(e&&nj(e),t(o),s=!0)})}).o(function(){}).then(function(){if(!s)return new to(function(t){return function n(){ne(2e3).then(function(){if(e&&!e.closed)return n();t()})}()})}).then(function(){if(!s)return ne(n).then(function(){t(r)})})},r.Yb=function(){var e=n1();return!n8(e)&&!rn(e)},r.Ub=function(){return!1},r.Nb=function(e,t,n,r,o,a,s,u){if(!e)return tf(new T("popup-blocked"));if(s&&!n8())return this.ma().o(function(t){nj(e),o(t)}),r(),td();this.a||(this.a=a7(st(this)));var c=this;return this.a.then(function(){var t=c.ma().o(function(t){throw nj(e),o(t),t});return r(),t}).then(function(){iK(n),s||nP(sn(c.s,c.g,c.b,t,n,null,a,c.c,void 0,c.i,u,c.f),e)}).o(function(e){throw"auth/network-request-failed"==e.code&&(c.a=null),e})},r.Ob=function(e,t,n,r){this.a||(this.a=a7(st(this)));var o=this;return this.a.then(function(){iK(t),nP(sn(o.s,o.g,o.b,e,t,nM(),n,o.c,void 0,o.i,r,o.f))}).o(function(e){throw"auth/network-request-failed"==e.code&&(o.a=null),e})},r.ma=function(){var e=this;return se(this).then(function(){return e.v.sb}).o(function(){throw e.a=null,new T("network-request-failed")})},r.ac=function(){return!0},r.Ea=function(e){this.h.push(e)},r.Ta=function(e){$(this.h,function(t){return t==e})},(r=sr.prototype).get=function(e){return td(this.a.getItem(e)).then(function(e){return e&&re(e)})},r.set=function(e,t){return td(this.a.setItem(e,n9(t)))},r.U=function(e){return td(this.a.removeItem(e))},r.ca=function(){},r.ia=function(){};var so=[];function sa(e,t,n){eh(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function ss(e){this.a=e}function su(e){this.c=e,this.b=!1,this.a=[]}function sc(e,t,n,r){var o,a,s,u,c=n||{},l=null;if(e.b)return tf(Error("connection_unavailable"));var A=r?800:50,d="undefined"!=typeof MessageChannel?new MessageChannel:null;return new to(function(n,r){d?(o=Math.floor(1e20*Math.random()).toString(),d.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},A),l={messageChannel:d,onMessage:a=function(e){e.data.eventId===o&&("ack"===e.data.status?(clearTimeout(s),u=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(u),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(u),r(Error("invalid_response"))))}},e.a.push(l),d.port1.addEventListener("message",a),e.c.postMessage({eventType:t,eventId:o,data:c},[d.port2])):r(Error("connection_unavailable"))}).then(function(t){return sl(e,l),t}).o(function(t){throw sl(e,l),t})}function sl(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),$(e.a,function(e){return e==t})}}function sA(){if(!sh())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e,t=this;nG()&&self?(this.v=function(){var e=nG()?self:null;if(K(so,function(n){n.b==e&&(t=n)}),!t){var t=new si(e);so.push(t)}return t}(),sa(this.v,"keyChanged",function(e,n){return sy(t).then(function(e){return 0<e.length&&K(t.a,function(t){t(e)}),{keyProcessed:q(e,n.key)}})}),sa(this.v,"ping",function(){return td(["keyChanged"])})):((e=c.navigator)&&e.serviceWorker?td().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).o(function(){return null}):td(null)).then(function(e){(t.h=e)&&(t.g=new su(new ss(e)),sc(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&q(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function sd(e){return e.i||(e.i=function e(t){return new to(function(n,r){var o=t.m.open("firebaseLocalStorageDb",1);o.onerror=function(e){try{e.preventDefault()}catch(e){}r(Error(e.target.error))},o.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},o.onsuccess=function(o){(o=o.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(o):new to(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(e){n(Error(e.target.error))}}).then(function(){return e(t)}).then(function(e){n(e)}).o(function(e){r(e)})}})}(e)),e.i}function sf(e,t){var n=0;return new to(function r(o,a){sd(e).then(t).then(o).o(function(t){if(!(3<++n))return sd(e).then(function(t){return t.close(),e.i=void 0,r(o,a)}).o(function(e){a(e)});a(t)})})}function sh(){try{return!!c.indexedDB}catch(e){return!1}}function sp(e){return e.objectStore("firebaseLocalStorage")}function sg(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function sv(e){return new to(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}})}function sm(e,t){var n;return e.g&&e.h&&((n=c.navigator)&&n.serviceWorker&&n.serviceWorker.controller||null)===e.h?sc(e.g,"keyChanged",{key:t},e.s).then(function(){}).o(function(){}):td()}function sy(e){return sd(e).then(function(e){var t=sp(sg(e,!1));return t.getAll?sv(t.getAll()):new to(function(e,n){var r=[],o=t.openCursor();o.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},o.onerror=function(e){n(e.target.error)}})}).then(function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,o=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?o.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&o.push(r):t[r]!==n[r]&&o.push(r):o.push(r);for(r in n)r in t||o.push(r);return o}(e.c,n),e.c=n}return r})}function sb(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function sw(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=td().then(function(){if(sh()){var e=rt(),r="__sak"+e;return sS||(sS=new sA),(n=sS).set(r,e).then(function(){return n.get(r)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.ca(function(e){K(t.a,function(t){t(e)})}),e})}function s_(){this.a={},this.type="inMemory"}function sE(){if(!function(){var e="Node"==nW();if(!(e=sC()||e&&N.Z.INTERNAL.node&&N.Z.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==nW())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=sC()||N.Z.INTERNAL.node.localStorage,this.type="localStorage"}function sC(){try{var e=c.localStorage,t=rt();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function sB(){this.type="nullStorage"}function sI(){if(!function(){var e="Node"==nW();if(!(e=sx()||e&&N.Z.INTERNAL.node&&N.Z.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==nW())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=sx()||N.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function sx(){try{var e=c.sessionStorage,t=rt();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function sT(){var e={};e.Browser=sD,e.Node=sN,e.ReactNative=sO,e.Worker=sF,this.a=e[nW()]}si.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var o=[];K(r,function(t){o.push(td().then(function(){return t(e.origin,e.data.data)}))}),tp(o).then(function(r){var o=[];K(r,function(e){o.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})}),K(o,function(e){for(var t in e)void 0===e[t]&&delete e[t]}),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:o})})}},ss.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},su.prototype.close=function(){for(;0<this.a.length;)sl(this,this.a[0]);this.b=!0},(r=sA.prototype).set=function(e,t){var n=this,r=!1;return sf(this,function(t){return sv((t=sp(sg(t,!0))).get(e))}).then(function(o){return sf(n,function(a){if(a=sp(sg(a,!0)),o)return o.value=t,sv(a.put(o));n.b++,r=!0;var s={};return s.fbase_key=e,s.value=t,sv(a.add(s))})}).then(function(){return n.c[e]=t,sm(n,e)}).oa(function(){r&&n.b--})},r.get=function(e){return sf(this,function(t){return sv(sp(sg(t,!1)).get(e))}).then(function(e){return e&&e.value})},r.U=function(e){var t=this,n=!1;return sf(this,function(r){return n=!0,t.b++,sv(sp(sg(r,!0)).delete(e))}).then(function(){return delete t.c[e],sm(t,e)}).oa(function(){n&&t.b--})},r.ca=function(e){var t;0==this.a.length&&(t=this,sb(t),function e(){t.f=setTimeout(function(){t.l=sy(t).then(function(e){0<e.length&&K(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()),this.a.push(e)},r.ia=function(e){$(this.a,function(t){return t==e}),0==this.a.length&&sb(this)},(r=sw.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},r.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},r.U=function(e){return this.b.then(function(t){return t.U(e)})},r.ca=function(e){this.a.push(e)},r.ia=function(e){$(this.a,function(t){return t==e})},(r=s_.prototype).get=function(e){return td(this.a[e])},r.set=function(e,t){return this.a[e]=t,td()},r.U=function(e){return delete this.a[e],td()},r.ca=function(){},r.ia=function(){},(r=sE.prototype).get=function(e){var t=this;return td().then(function(){return re(t.a.getItem(e))})},r.set=function(e,t){var n=this;return td().then(function(){var r=n9(t);null===r?n.U(e):n.a.setItem(e,r)})},r.U=function(e){var t=this;return td().then(function(){t.a.removeItem(e)})},r.ca=function(e){c.window&&tG(c.window,"storage",e)},r.ia=function(e){c.window&&tY(c.window,"storage",e)},(r=sB.prototype).get=function(){return td(null)},r.set=function(){return td()},r.U=function(){return td()},r.ca=function(){},r.ia=function(){},(r=sI.prototype).get=function(e){var t=this;return td().then(function(){return re(t.a.getItem(e))})},r.set=function(e,t){var n=this;return td().then(function(){var r=n9(t);null===r?n.U(e):n.a.setItem(e,r)})},r.U=function(e){var t=this;return td().then(function(){t.a.removeItem(e)})},r.ca=function(){},r.ia=function(){};var sS,sk,sD={F:sE,cb:sI},sN={F:sE,cb:sI},sO={F:sr,cb:sB},sF={F:sE,cb:sB},sR={rd:"local",NONE:"none",td:"session"};function sL(){var e=!!(!rn(n1())&&nz()),t=n8(),n=n4();this.m=e,this.h=t,this.l=n,this.a={},sk||(sk=new sT),e=sk;try{this.g=!nL()&&rs()||!c.indexedDB?new e.a.F:new sw(nG()?new s_:new e.a.F)}catch(e){this.g=new s_,this.h=!0}try{this.i=new e.a.cb}catch(e){this.i=new s_}this.v=new s_,this.f=E(this.Zb,this),this.b={}}function sM(){return e||(e=new sL),e}function sP(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function sU(e,t){return"firebase:"+e.name+(t?":"+t:"")}function sj(e,t,n){return n=sU(t,n),"local"==t.F&&(e.b[n]=null),sP(e,t.F).U(n)}function sZ(e){e.c&&(clearInterval(e.c),e.c=null)}function sQ(e){this.a=e,this.b=sM()}(r=sL.prototype).get=function(e,t){return sP(this,e.F).get(sU(e,t))},r.set=function(e,t,n){var r=sU(e,n),o=this,a=sP(this,e.F);return a.set(r,t).then(function(){return a.get(r)}).then(function(t){"local"==e.F&&(o.b[r]=t)})},r.addListener=function(e,t,n){var r;e=sU(e,t),this.l&&(this.b[e]=c.localStorage.getItem(e)),eh(this.a)&&(sP(this,"local").ca(this.f),this.h||(nL()||!rs())&&c.indexedDB||!this.l||(r=this,sZ(r),r.c=setInterval(function(){for(var e in r.a){var t=c.localStorage.getItem(e),n=r.b[e];t!=n&&(r.b[e]=t,t=new tR({type:"storage",key:e,target:window,oldValue:n,newValue:t,a:!0}),r.Zb(t))}},1e3))),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},r.removeListener=function(e,t,n){e=sU(e,t),this.a[e]&&($(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),eh(this.a)&&(sP(this,"local").ia(this.f),sZ(this))},r.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var o=c.localStorage.getItem(n);o!==r&&(this.b[n]=o,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?sP(this,"local").ia(this.f):sZ(this),this.m){if(n=c.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?c.localStorage.setItem(t,r):c.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return}var a=this;n=function(){(void 0!==e.a.a||a.b[t]!==c.localStorage.getItem(t))&&(a.b[t]=c.localStorage.getItem(t),a.nb(t))},ez&&e3&&10==e3&&c.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else K(e,E(this.nb,this))},r.nb=function(e){this.a[e]&&K(this.a[e],function(e){e()})};var sH={name:"authEvent",F:"local"};function sV(){this.a=sM()}function sK(e,n){this.b=sz,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=n,this.l=c.Int32Array?new Int32Array(64):Array(64),void 0===t&&(t=c.Int32Array?new Int32Array(sJ):sJ),this.reset()}I(sK,function(){this.b=-1});for(var sz=64,sG=sz-1,sW=[],sq=0;sq<sG;sq++)sW[sq]=0;var sY=X(128,sW);function s$(e){for(var n=e.f,r=e.l,o=0,a=0;a<n.length;)r[o++]=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3],a=4*o;for(n=16;64>n;n++){a=0|r[n-15],o=0|r[n-2];var s=(0|r[n-16])+((a>>>7|a<<25)^(a>>>18|a<<14)^a>>>3)|0,u=(0|r[n-7])+((o>>>17|o<<15)^(o>>>19|o<<13)^o>>>10)|0;r[n]=s+u|0}o=0|e.a[0],a=0|e.a[1];var c=0|e.a[2],l=0|e.a[3],A=0|e.a[4],d=0|e.a[5],f=0|e.a[6];for(n=0,s=0|e.a[7];64>n;n++){var h=((o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10))+(o&a^o&c^a&c)|0;u=A&d^~A&f,u=(s=s+((A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7))|0)+((u=u+(0|t[n])|0)+(0|r[n])|0)|0,s=f,f=d,d=A,A=l+u|0,l=c,c=a,a=o,o=u+h|0}e.a[0]=e.a[0]+o|0,e.a[1]=e.a[1]+a|0,e.a[2]=e.a[2]+c|0,e.a[3]=e.a[3]+l|0,e.a[4]=e.a[4]+A|0,e.a[5]=e.a[5]+d|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+s|0}function sX(e,t,n){void 0===n&&(n=t.length);var r=0,o=e.c;if("string"==typeof t)for(;r<n;)e.f[o++]=t.charCodeAt(r++),o==e.b&&(s$(e),o=0);else if(p(t))for(;r<n;){var a=t[r++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");e.f[o++]=a,o==e.b&&(s$(e),o=0)}else throw Error("message must be string or array");e.c=o,e.g+=n}sK.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):J(this.h)};var sJ=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function s0(){sK.call(this,8,s1)}I(s0,sK);var s1=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function s2(e,t,n,r,o,a){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=o||null,this.s=a,this.h=t+":"+n,this.C=new sV,this.g=new sQ(this.h),this.f=null,this.b=[],this.a=this.c=null}function s4(e){return new T("invalid-cordova-configuration",e)}function s3(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function s5(e){return e.f||(e.f=e.ma().then(function(){return new to(function(t){e.Ea(function n(r){return t(r),e.Ta(n),!1}),function(e){function t(t){a=!0,s&&s.cancel(),s6(e).then(function(n){var r=o;if(n&&t&&t.url){var a=null;-1!=(r=il(t.url)).indexOf("/__/auth/callback")&&(a=(a="object"==typeof(a=re(nd(a=nf(r),"firebaseError")||null))?S(a):null)?new iz(n.c,n.b,null,null,a,null,n.T()):new iz(n.c,n.b,r,n.f,null,null,n.T())),r=a||o}s3(e,r)})}var n,r,o=new iz("unknown",null,null,null,new T("no-auth-event")),a=!1,s=ne(500).then(function(){return s6(e).then(function(){a||s3(e,o)})}),u=c.handleOpenURL;c.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(n2("BuildInfo.packageName",c).toLowerCase()+"://")&&t({url:e}),"function"==typeof u)try{u(e)}catch(e){console.error(e)}},iq||(iq=new iW),n=t,(r=iq).a.push(n),r.b||(r.b=function(e){for(var t=0;t<r.a.length;t++)r.a[t](e)},"function"==typeof(n=n2("universalLinks.subscribe",c))&&n(null,r.b))}(e)})})),e.f}function s6(e){var t,n=null;return(t=e.g).b.get(sH,t.a).then(function(e){return iG(e)}).then(function(t){return n=t,sj((t=e.g).b,sH,t.a)}).then(function(){return n})}function s8(e){this.a=e,this.b=sM()}(r=s2.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(nK(void 0)?nV().then(function(){return new to(function(e,t){var n=c.document,r=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),e()},!1)})}):tf(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof n2("universalLinks.subscribe",c))throw s4("cordova-universal-links-plugin-fix is not installed");if(void 0===n2("BuildInfo.packageName",c))throw s4("cordova-plugin-buildinfo is not installed");if("function"!=typeof n2("cordova.plugins.browsertab.openUrl",c))throw s4("cordova-plugin-browsertab is not installed");if("function"!=typeof n2("cordova.InAppBrowser.open",c))throw s4("cordova-plugin-inappbrowser is not installed")},function(){throw new T("cordova-not-ready")})},r.Pb=function(e,t){return t(new T("operation-not-supported-in-this-environment")),td()},r.Nb=function(){return tf(new T("operation-not-supported-in-this-environment"))},r.ac=function(){return!1},r.Yb=function(){return!0},r.Ub=function(){return!0},r.Ob=function(e,t,n,r){if(this.c)return tf(new T("redirect-operation-pending"));var o=this,a=c.document,s=null,u=null,l=null,A=null;return this.c=td().then(function(){return iK(t),s5(o)}).then(function(){return function(e,t,n,r,o){var a=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new iz(t,r,null,a,new T("no-auth-event"),null,o),u=n2("BuildInfo.packageName",c);if("string"!=typeof u)throw new T("invalid-cordova-configuration");var l=n2("BuildInfo.displayName",c),A={};if(n1().toLowerCase().match(/iphone|ipad|ipod/))A.ibi=u;else{if(!n1().toLowerCase().match(/android/))return tf(new T("operation-not-supported-in-this-environment"));A.apn=u}l&&(A.appDisplayName=l),a=function(e){var t=new s0;sX(t,e),e=[];var n=8*t.g;56>t.c?sX(t,sY,56-t.c):sX(t,sY,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(s$(t),r=n=0;r<t.i;r++)for(var o=24;0<=o;o-=8)e[n++]=t.a[r]>>o&255;return G(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}(a),A.sessionId=a;var d=sn(e.v,e.i,e.l,t,n,null,r,e.m,A,e.u,o,e.s);return e.ma().then(function(){var t=e.h;return e.C.a.set(sH,s.w(),t)}).then(function(){var t=n2("cordova.plugins.browsertab.isAvailable",c);if("function"!=typeof t)throw new T("invalid-cordova-configuration");var n=null;t(function(t){if(t){if("function"!=typeof(n=n2("cordova.plugins.browsertab.openUrl",c)))throw new T("invalid-cordova-configuration");n(d)}else{if("function"!=typeof(n=n2("cordova.InAppBrowser.open",c)))throw new T("invalid-cordova-configuration");t=n1(),e.a=n(d,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(o,e,t,n,r)}).then(function(){return new to(function(e,t){u=function(){var t=n2("cordova.plugins.browsertab.close",c);return e(),"function"==typeof t&&t(),o.a&&"function"==typeof o.a.close&&(o.a.close(),o.a=null),!1},o.Ea(u),l=function(){s||(s=ne(2e3).then(function(){t(new T("redirect-cancelled-by-user"))}))},A=function(){ro()&&l()},a.addEventListener("resume",l,!1),n1().toLowerCase().match(/android/)||a.addEventListener("visibilitychange",A,!1)}).o(function(e){return s6(o).then(function(){throw e})})}).oa(function(){l&&a.removeEventListener("resume",l,!1),A&&a.removeEventListener("visibilitychange",A,!1),s&&s.cancel(),u&&o.Ta(u),o.c=null})},r.Ea=function(e){this.b.push(e),s5(this).o(function(t){"auth/invalid-cordova-configuration"===t.code&&e(t=new iz("unknown",null,null,null,new T("no-auth-event")))})},r.Ta=function(e){$(this.b,function(t){return t==e})};var s9={name:"pendingRedirect",F:"session"};function s7(e){return sj(e.b,s9,e.a)}function ue(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new up,this.C=new ub,this.g=new s8(uf(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=ut(this.D,this.v,this.m,oz,this.J)}function ut(e,t,n,r,o){var a=N.Z.SDK_VERSION||null;return nK()?new s2(e,t,n,a,r,o):new a9(e,t,n,a,r,o)}function un(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o(function(n){throw e.a==t&&e.reset(),n})}function ur(e){e.a.Yb()&&un(e).o(function(t){var n=new iz("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));uc(t)&&e.s(n)}),e.a.Ub()||ug(e.b)}function ui(e,t){var n;q(e.h,t)||e.h.push(t),e.f||(n=e.g).b.get(s9,n.a).then(function(e){return"pending"==e}).then(function(t){t?s7(e.g).then(function(){un(e).o(function(t){var n=new iz("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));uc(t)&&e.s(n)})}):ur(e)}).o(function(){ur(e)})}function uo(e,t){$(e.h,function(e){return e==t})}ue.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=ut(this.D,this.v,this.m,null,this.J),this.i={}},ue.prototype.s=function(e){if(!e)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return ug(this.b),t};var ua=new ri(2e3,1e4),us=new ri(3e4,6e4);function uu(e,t,n,r,o,a,s){return e.a.Nb(t,n,r,function(){e.f||(e.f=!0,e.a.Ea(e.l))},function(){e.reset()},o,a,s)}function uc(e){return!!e&&"auth/cordova-not-ready"==e.code}function ul(e,t,n,r,o){var a,s;return(s=e.g).b.set(s9,"pending",s.a).then(function(){return e.a.Ob(t,n,r,o).o(function(t){if(uc(t))throw new T("operation-not-supported-in-this-environment");return a=t,s7(e.g).then(function(){throw a})}).then(function(){return e.a.ac()?new to(function(){}):s7(e.g).then(function(){return e.ra()}).then(function(){}).o(function(){})})})}function uA(e,t,n,r,o){return e.a.Pb(r,function(e){t.na(n,null,e,o)},ua.get())}ue.prototype.ra=function(){return this.b.ra()};var ud={};function uf(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function uh(e,t,n,r){var o=uf(t,n,r);return ud[o]||(ud[o]=new ue(e,t,n,r)),ud[o]}function up(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function ug(e){e.g||(e.g=!0,uy(e,!1,null,null))}function uv(e){e.g&&!e.i&&uy(e,!1,null,null)}function um(e,t){if(e.b=function(){return td(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function uy(e,t,n,r){t?r?function(e,t){if(e.b=function(){return tf(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):um(e,n):um(e,{user:null}),e.f=[],e.c=[]}function ub(){}function uw(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function u_(e,t){this.a=t,rA(this,"verificationId",e)}function uE(e,t,n,r){return new iQ(e).gb(t,n).then(function(e){return new u_(e,r)})}function uC(e){var t=r5(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");rd(this,{token:e,expirationTime:ra(1e3*t.exp),authTime:ra(1e3*t.auth_time),issuedAtTime:ra(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function uB(e,t,n){var r=t&&t[ux];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ep(t),this.g=n,this.c=new iA(null,r),this.b=[];var o=this;K(t[uI]||[],function(e){(e=rg(e))&&o.b.push(e)}),rA(this,"auth",this.a),rA(this,"session",this.c),rA(this,"hints",this.b)}up.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},up.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,o=e.a&&"auth/web-storage-unsupported"==e.a.code,a=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!o&&!a),"unknown"!=n||o||a?e.a?(uy(this,!0,null,e.a),td()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,o=t.f,a=t.i,s=t.T(),u=!!t.c.match(/Redirect$/);n(r,o,s,a).then(function(t){uy(e,u,t,null)}).o(function(t){uy(e,u,null,t)})}(this,e,t):tf(new T("invalid-auth-event")):(uy(this,!1,null,null),td())}else tf(new T("invalid-auth-event"))},up.prototype.ra=function(){var e=this;return new to(function(t,n){var r;e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),r=new T("timeout"),e.a&&e.a.cancel(),e.a=ne(us.get()).then(function(){e.b||(e.g=!0,uy(e,!0,null,r))}))})},ub.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),td()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then(function(e){t.na(r,e,null,n)}).o(function(e){t.na(r,null,e,n)})}(e,t):tf(new T("invalid-auth-event"))}else tf(new T("invalid-auth-event"))},u_.prototype.confirm=function(e){return e=iH(this.verificationId,e),this.a(e)};var uI="mfaInfo",ux="mfaPendingCredential";function uT(e,t,n,r){T.call(this,"multi-factor-auth-required",r,t),this.b=new uB(e,t,n),rA(this,"resolver",this.b)}function uS(e,t,n){if(e&&v(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new uT(t,e.serverResponse,n,e.message)}catch(e){}return null}function uk(){}function uD(e){rA(this,"factorId",e.fa),this.a=e}function uN(e){if(uD.call(this,e),this.a.fa!=iQ.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function uO(e,t){for(var n in tF.call(this,e),t)this[n]=t[n]}function uF(e,t){this.a=e,this.b=[],this.c=E(this.yc,this),tG(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&K(t.multiFactor.enrolledFactors,function(e){var t=null,r={};if(e){e.uid&&(r[ry]=e.uid),e.displayName&&(r[rv]=e.displayName),e.enrollmentTime&&(r[rm]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[rb]=e.phoneNumber);try{t=new rw(r)}catch(e){}e=t}else e=null;e&&n.push(e)}),uR(this,n)}function uR(e,t){e.b=t,rA(e,"enrolledFactors",t)}function uL(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function uM(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function uP(e,t){void 0===t&&(t=e.b?(t=e.b).a-t.g:0),e.c=Date.now()+1e3*t}function uU(e,t){e.b=r3(t[o2]||""),e.a=t.refreshToken,uP(e,void 0!==(t=t.expiresIn)?Number(t):void 0)}function uj(e,t){this.a=e||null,this.b=t||null,rd(this,{lastSignInTime:ra(t||null),creationTime:ra(e||null)})}function uZ(e,t,n,r,o,a){rd(this,{uid:e,displayName:r||null,photoURL:o||null,email:n||null,phoneNumber:a||null,providerId:t})}function uQ(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r,o=N.Z.SDK_VERSION?n0(N.Z.SDK_VERSION):null;this.a=new oV(this.l,F(oz),o),(this.u=e.emulatorConfig||null)&&o9(this.a,this.u),this.h=new uM(this.a),u$(this,t[o2]),uU(this.h,t),rA(this,"refreshToken",this.h.a),u0(this,n||{}),t5.call(this),this.P=!1,this.s&&n3()&&(this.b=uh(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=(r=this,new uL(function(){return r.I(!0)},function(e){return!!e&&"auth/network-request-failed"==e.code},function(){var e=r.h.c-Date.now()-3e5;return 0<e?e:0})),this.ba=E(this.ib,this);var a=this;this.za=null,this.Pa=function(e){a.xa(e.h)},this.qa=null,this.Ba=function(e){uH(a,e.c)},this.$=null,this.aa=[],this.Oa=function(e){uz(a,e.f)},this.ja=null,this.S=new uF(this,n),rA(this,"multiFactor",this.S)}function uH(e,t){e.u=t,o9(e.a,t),e.b&&(t=e.b,e.b=uh(e.s,e.l,e.m,e.u),e.P&&(uo(t,e),ui(e.b,e)))}function uV(e,t){e.qa&&tY(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&tG(t,"languageCodeChanged",e.Pa)}function uK(e,t){e.$&&tY(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&tG(t,"emulatorConfigChanged",e.Ba)}function uz(e,t){e.aa=t,ae(e.a,N.Z.SDK_VERSION?n0(N.Z.SDK_VERSION,e.aa):null)}function uG(e,t){e.ja&&tY(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&tG(t,"frameworkChanged",e.Oa)}function uW(e){try{return N.Z.app(e.m).auth()}catch(t){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function uq(e){e.J||e.D.b||(e.D.start(),tY(e,"tokenChanged",e.ba),tG(e,"tokenChanged",e.ba))}function uY(e){tY(e,"tokenChanged",e.ba),e.D.stop()}function u$(e,t){e.Aa=t,rA(e,"_lat",t)}function uX(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return tp(t).then(function(){return e})}function uJ(e){e.b&&!e.P&&(e.P=!0,ui(e.b,e))}function u0(e,t){rd(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new uj(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function u1(){}function u2(e){return td().then(function(){if(e.J)throw new T("app-deleted")})}function u4(e){return G(e.providerData,function(e){return e.providerId})}function u3(e,t){t&&(u5(e,t.providerId),e.providerData.push(t))}function u5(e,t){$(e.providerData,function(e){return e.providerId==t})}function u6(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&rA(e,t,n)}function u8(e,t){var n,r,o;e!=t&&(rd(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?rA(e,"metadata",new uj((n=t.metadata).a,n.b)):rA(e,"metadata",new uj),K(t.providerData,function(t){u3(e,t)}),r=e.h,o=t.h,r.b=o.b,r.a=o.a,r.c=o.c,rA(e,"refreshToken",e.h.a),uR(e.S,t.S.b))}function u9(e){return e.I().then(function(t){var n=e.isAnonymous;return a$(e.a,aT,{idToken:t}).then(E(e.Kc,e)).then(function(){return n||u6(e,"isAnonymous",!1),t})})}function u7(e,t){t[o2]&&e.Aa!=t[o2]&&(uU(e.h,t),e.dispatchEvent(new uO("tokenChanged")),u$(e,t[o2]),u6(e,"refreshToken",e.h.a))}function ce(e,t){return u9(e).then(function(){if(q(u4(e),t))return uX(e).then(function(){throw new T("provider-already-linked")})})}function ct(e,t,n){return rf({user:e,credential:iV(t),additionalUserInfo:t=ie(t),operationType:n})}function cn(e,t){return u7(e,t),e.reload().then(function(){return e})}function cr(e,t,n,r,o){if(!n3())return tf(new T("operation-not-supported-in-this-environment"));if(e.i&&!o)return tf(e.i);var a=r7(n.providerId),s=rt(e.uid+":::"),u=null;(!n8()||nz())&&e.s&&n.isOAuthProvider&&(u=sn(e.s,e.l,e.m,t,n,null,s,N.Z.SDK_VERSION||null,null,null,e.tenantId,e.u));var c=nZ(u,a&&a.va,a&&a.ua);return r=r().then(function(){if(co(e),!o)return e.I().then(function(){})}).then(function(){return uu(e.b,c,t,n,s,!!u,e.tenantId)}).then(function(){return new to(function(n,r){e.na(t,null,new T("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=s,e.c=uA(e.b,e,t,c,s)})}).then(function(e){return c&&nj(c),e?rf(e):null}).o(function(e){throw c&&nj(c),e}),ca(e,r,o)}function ci(e,t,n,r,o){if(!n3())return tf(new T("operation-not-supported-in-this-environment"));if(e.i&&!o)return tf(e.i);var a=null,s=rt(e.uid+":::");return r=r().then(function(){if(co(e),!o)return e.I().then(function(){})}).then(function(){return e.ga=s,uX(e)}).then(function(t){return e.ha&&(t=(t=e.ha).b.set(cc,e.w(),t.a)),t}).then(function(){return ul(e.b,t,n,s,e.tenantId)}).o(function(t){if(a=t,e.ha)return cl(e.ha);throw a}).then(function(){if(a)throw a}),ca(e,r,o)}function co(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function ca(e,t,n){var r=e.i&&!n?(t.cancel(),tf(e.i)):t.o(function(t){throw t&&("auth/user-disabled"==t.code||"auth/user-token-expired"==t.code)&&(e.i||e.dispatchEvent(new uO("userInvalidated")),e.i=t),t});return e.N.push(r),r.oa(function(){Y(e.N,r)}),r.o(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=uS(t.w(),uW(e),E(e.jc,e))),n||t})}function cs(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[o2]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var o=new uQ(t,n,e);return e.providerData&&K(e.providerData,function(e){e&&u3(o,rf(e))}),e.redirectEventId&&(o.ga=e.redirectEventId),o}function cu(e){this.a=e,this.b=sM()}uB.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then(function(e){var n=ep(t.f);return delete n[uI],delete n[ux],ev(n,e),t.g(n)})},I(uT,T),uk.prototype.tb=function(e,t,n){var r,o;return t.type==id?(r=this,t.Ha().then(function(t){return t={idToken:t},void 0!==n&&(t.displayName=n),ev(t,{phoneVerificationInfo:iZ(r.a)}),a$(e,aI,t)})):(o=this,t.Ha().then(function(t){return ev(t={mfaPendingCredential:t},{phoneVerificationInfo:iZ(o.a)}),a$(e,ax,t)}))},I(uD,uk),I(uN,uD),I(uO,tF),(r=uF.prototype).yc=function(e){var t,n;uR(this,(t=e.hd,n=[],K(t.mfaInfo||[],function(e){(e=rg(e))&&n.push(e)}),n))},r.Sb=function(){return this.a.I().then(function(e){return new iA(e,null)})},r.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then(function(n){return e.tb(r,n,t)}).then(function(e){return u7(n.a,e),n.a.reload()})},r.bd=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then(function(e){return a$(r,aY,{idToken:e,mfaEnrollmentId:n})}).then(function(e){var r=z(t.b,function(e){return e.uid!=n});return uR(t,r),u7(t.a,e),t.a.reload().o(function(e){if("auth/user-token-expired"!=e.code)throw e})})},r.w=function(){return{multiFactor:{enrolledFactors:G(this.b,function(e){return e.w()})}}},uL.prototype.start=function(){this.a=this.c,function e(t,n){var r;t.stop(),t.b=ne((r=n)?(t.a=t.c,t.g()):(r=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),r)).then(function(){var e,t;return e=c.document,t=null,ro()||!e?td():new to(function(n){t=function(){ro()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).o(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}).then(function(){return t.h()}).then(function(){e(t,!0)}).o(function(n){t.i(n)&&e(t,!1)})}(this,!0)},uL.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},uM.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},uM.prototype.getToken=function(e){var t,n,r;return e=!!e,this.b&&!this.a?tf(new T("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?(t=this,n={grant_type:"refresh_token",refresh_token:this.a},(r=t.f,new to(function(e,t){"refresh_token"==n.grant_type&&n.refresh_token||"authorization_code"==n.grant_type&&n.code?at(r,r.l+"?key="+encodeURIComponent(r.c),function(n){n?n.error?t(aJ(n)):n.access_token&&n.refresh_token?e(n):t(new T("internal-error")):t(new T("network-request-failed"))},"POST",nB(n).toString(),r.g,r.m.get()):t(new T("internal-error"))})).then(function(e){return t.b=r3(e.access_token),t.a=e.refresh_token,uP(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})):td(null):td({accessToken:this.b.toString(),refreshToken:this.a})},uj.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},I(uQ,t5),uQ.prototype.xa=function(e){this.za=e,o8(this.a,e)},uQ.prototype.la=function(){return this.za},uQ.prototype.Ga=function(){return J(this.aa)},uQ.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},rA(uQ.prototype,"providerId","firebase"),(r=uQ.prototype).reload=function(){var e=this;return ca(this,u2(this).then(function(){return u9(e).then(function(){return uX(e)}).then(u1)}))},r.oc=function(e){return this.I(e).then(function(e){return new uC(e)})},r.I=function(e){var t=this;return ca(this,u2(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new T("internal-error");return e.accessToken!=t.Aa&&(u$(t,e.accessToken),t.dispatchEvent(new uO("tokenChanged"))),u6(t,"refreshToken",e.refreshToken),e.accessToken}))},r.Kc=function(e){if(!(e=e.users)||!e.length)throw new T("internal-error");u0(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t,n=(t=(t=e).providerUserInfo)&&t.length?G(t,function(e){return new uZ(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[],r=0;r<n.length;r++)u3(this,n[r]);u6(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new uO("userReloaded",{hd:e}))},r.Lc=function(e){return rc("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},r.ub=function(e){var t=this,n=null;return ca(this,e.c(this.a,this.uid).then(function(e){return u7(t,e),n=ct(t,e,"reauthenticate"),t.i=null,t.reload()}).then(function(){return n}),!0)},r.Cc=function(e){return rc("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},r.rb=function(e){var t=this,n=null;return ca(this,ce(this,e.providerId).then(function(){return t.I()}).then(function(n){return e.b(t.a,n)}).then(function(e){return n=ct(t,e,"link"),cn(t,e)}).then(function(){return n}))},r.Dc=function(e,t){var n=this;return ca(this,ce(this,"phone").then(function(){return uE(uW(n),e,t,E(n.rb,n))}))},r.Mc=function(e,t){var n=this;return ca(this,td().then(function(){return uE(uW(n),e,t,E(n.ub,n))}),!0)},r.Cb=function(e){var t=this;return ca(this,this.I().then(function(n){return t.a.Cb(n,e)}).then(function(e){return u7(t,e),t.reload()}))},r.ed=function(e){var t=this;return ca(this,this.I().then(function(n){return e.b(t.a,n)}).then(function(e){return u7(t,e),t.reload()}))},r.Db=function(e){var t=this;return ca(this,this.I().then(function(n){return t.a.Db(n,e)}).then(function(e){return u7(t,e),t.reload()}))},r.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return u2(this);var t=this;return ca(this,this.I().then(function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return u7(t,e),u6(t,"displayName",e.displayName||null),u6(t,"photoURL",e.photoUrl||null),K(t.providerData,function(e){"password"===e.providerId&&(rA(e,"displayName",t.displayName),rA(e,"photoURL",t.photoURL))}),uX(t)}).then(u1))},r.cd=function(e){var t=this;return ca(this,u9(this).then(function(n){return q(u4(t),e)?a$(t.a,aE,{idToken:n,deleteProvider:[e]}).then(function(e){var n={};return K(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),K(u4(t),function(e){n[e]||u5(t,e)}),n[iQ.PROVIDER_ID]||rA(t,"phoneNumber",null),uX(t)}):uX(t).then(function(){throw new T("no-such-provider")})}))},r.delete=function(){var e=this;return ca(this,this.I().then(function(t){return a$(e.a,a_,{idToken:t})}).then(function(){e.dispatchEvent(new uO("userDeleted"))})).then(function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");uV(e,null),uK(e,null),uG(e,null),e.N=[],e.J=!0,uY(e),rA(e,"refreshToken",null),e.b&&uo(e.b,e)})},r.Gb=function(e,t){return"linkViaPopup"==e&&(this.g||null)==t&&!!this.f||"reauthViaPopup"==e&&(this.g||null)==t&&!!this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t},r.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},r.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?E(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?E(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?E(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?E(this.Mb,this):null},r.Ec=function(e){var t=this;return cr(this,"linkViaPopup",e,function(){return ce(t,e.providerId).then(function(){return uX(t)})},!1)},r.Nc=function(e){return cr(this,"reauthViaPopup",e,function(){return td()},!0)},r.Fc=function(e){var t=this;return ci(this,"linkViaRedirect",e,function(){return ce(t,e.providerId)},!1)},r.Oc=function(e){return ci(this,"reauthViaRedirect",e,function(){return td()},!0)},r.Lb=function(e,t,n,r){var o=this;this.c&&(this.c.cancel(),this.c=null);var a=null;return ca(this,this.I().then(function(n){return ap(o.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})}).then(function(e){return a=ct(o,e,"link"),cn(o,e)}).then(function(){return a}))},r.Mb=function(e,t,n,r){var o=this;this.c&&(this.c.cancel(),this.c=null);var a=null;return ca(this,td().then(function(){return ig(ag(o.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),o.uid)}).then(function(e){return a=ct(o,e,"reauthenticate"),u7(o,e),o.i=null,o.reload()}).then(function(){return a}),!0)},r.vb=function(e){var t=this,n=null;return ca(this,this.I().then(function(t){return n=t,void 0===e||eh(e)?{}:r1(new rK(e))}).then(function(e){return t.a.vb(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},r.Fb=function(e,t){var n=this,r=null;return ca(this,this.I().then(function(e){return r=e,void 0===t||eh(t)?{}:r1(new rK(t))}).then(function(t){return n.a.Fb(r,e,t)}).then(function(e){if(n.email!=e)return n.reload()}).then(function(){}))},r.jc=function(e){var t=null,n=this;return ca(this,e=ig(td(e),n.uid).then(function(e){return t=ct(n,e,"reauthenticate"),u7(n,e),n.i=null,n.reload()}).then(function(){return t}),!0)},r.toJSON=function(){return this.w()},r.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&ev(e,this.metadata.w()),K(this.providerData,function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))}),ev(e,this.S.w()),e};var cc={name:"redirectUser",F:"session"};function cl(e){return sj(e.b,cc,e.a)}function cA(e){var t,n,r,o,a,s,u,l;this.a=e,this.b=sM(),this.c=null,this.f=(t=this,s=ch("local"),u=ch("session"),l=ch("none"),(n=t.b,o=sU(s,r=t.a),a=sP(n,s.F),n.get(s,r).then(function(e){var t=null;try{t=re(c.localStorage.getItem(o))}catch(e){}if(t&&!e)return c.localStorage.removeItem(o),n.set(s,t,r);t&&e&&"localStorage"!=a.type&&c.localStorage.removeItem(o)})).then(function(){return t.b.get(u,t.a)}).then(function(e){return e?u:t.b.get(l,t.a).then(function(e){return e?l:t.b.get(s,t.a).then(function(e){return e?s:t.b.get(cf,t.a).then(function(e){return e?ch(e):s})})})}).then(function(e){return t.c=e,cd(t,e.F)}).o(function(){t.c||(t.c=s)})),this.b.addListener(ch("local"),this.a,E(this.g,this))}function cd(e,t){var n,r=[];for(n in sR)sR[n]!==t&&r.push(sj(e.b,ch(sR[n]),e.a));return r.push(sj(e.b,cf,e.a)),new to(function(e,t){var n=r.length,o=[];if(n)for(var a=function(t,r){n--,o[t]=r,0==n&&e(o)},s=function(e){t(e)},u=0;u<r.length;u++)th(r[u],C(a,u),s);else e(o)})}cA.prototype.g=function(){var e=this,t=ch("local");cm(this,function(){return td().then(function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null}).then(function(n){if(n)return cd(e,"local").then(function(){e.c=t})})})};var cf={name:"persistence",F:"session"};function ch(e){return{name:"authUser",F:e}}function cp(e,t){return cm(e,function(){return e.b.set(e.c,t.w(),e.a)})}function cg(e){return cm(e,function(){return sj(e.b,e.c,e.a)})}function cv(e,t,n){return cm(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),cs(e||{})})})}function cm(e,t){return e.f=e.f.then(t,t),e.f}function cy(e){var t,n,r,o,a,s,u,c,l,A;if(this.l=!1,rA(this,"settings",new uw),rA(this,"app",e),cx(this).options&&cx(this).options.apiKey)e=N.Z.SDK_VERSION?n0(N.Z.SDK_VERSION):null,this.a=new oV(cx(this).options&&cx(this).options.apiKey,F(oz),e);else throw new T("invalid-api-key");this.P=[],this.s=[],this.N=[],this.Pa=N.Z.INTERNAL.createSubscribe(E(this.zc,this)),this.W=void 0,this.ib=N.Z.INTERNAL.createSubscribe(E(this.Ac,this)),cB(this,null),this.i=new cA(cx(this).options.apiKey+":"+cx(this).name),this.D=new cu(cx(this).options.apiKey+":"+cx(this).name),this.$=cD(this,(a=this,l=cx(a).options.authDomain,A=(c=(s=a.D,u=cx(a).options.authDomain,s.b.get(cc,s.a).then(function(e){return e&&u&&(e.authDomain=u),cs(e||{})})).then(function(e){return(a.m=e)&&(e.ha=a.D),cl(a.D)}),cD(a,c)).then(function(){return cv(a.i,l,a.R)}).then(function(e){return e?(e.ha=a.D,a.m&&(a.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return cp(a.i,e).then(function(){return e})}).o(function(t){return"auth/network-request-failed"==t.code?e:cg(a.i)})):null}).then(function(e){cB(a,e||null)}),cD(a,A))),this.h=cD(this,(t=this,t.$.then(function(){return cC(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(ch("local"),e.a,t.ja)}}))),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.qa=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,n=this,r=cx(n).options.authDomain,o=cx(n).options.apiKey,r&&n3()&&(n.Oa=n.$.then(function(){if(!n.l){if(n.b=uh(r,o,cx(n).name,n.R),ui(n.b,n),cT(n)&&uJ(cT(n)),n.m){uJ(n.m);var e=n.m;e.xa(n.la()),uV(e,n),uz(e=n.m,n.J),uG(e,n),uH(e=n.m,n.R),uK(e,n),n.m=null}return n.b}})),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,t5.call(this),Object.defineProperty(this,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),this.aa=null,Object.defineProperty(this,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),this.S=null,Object.defineProperty(this,"emulatorConfig",{get:function(){if(this.R){var e=nf(this.R.url);e=rf({protocol:e.c,host:e.a,port:e.g,options:rf({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1}),this.J=[],this.R=null}function cb(e){tF.call(this,"languageCodeChanged"),this.h=e}function cw(e){tF.call(this,"emulatorConfigChanged"),this.c=e}function c_(e){tF.call(this,"frameworkChanged"),this.f=e}function cE(e){return e.Oa||tf(new T("auth-domain-config-required"))}function cC(e){if(!n3())return tf(new T("operation-not-supported-in-this-environment"));var t=cE(e).then(function(){return e.b.ra()}).then(function(e){return e?rf(e):null});return cD(e,t)}function cB(e,t){var n,r;cT(e)&&(n=cT(e),r=e.Ba,$(n.W,function(e){return e==r}),tY(cT(e),"tokenChanged",e.qa),tY(cT(e),"userDeleted",e.za),tY(cT(e),"userInvalidated",e.Aa),uY(cT(e))),t&&(t.W.push(e.Ba),tG(t,"tokenChanged",e.qa),tG(t,"userDeleted",e.za),tG(t,"userInvalidated",e.Aa),0<e.u&&uq(t)),rA(e,"currentUser",t),t&&(t.xa(e.la()),uV(t,e),uz(t,e.J),uG(t,e),uH(t,e.R),uK(t,e))}function cI(e,t){var n=null,r=null;return cD(e,t.then(function(t){var o;return n=iV(t),r=ie(t),(o={}).apiKey=cx(e).options.apiKey,o.authDomain=cx(e).options.authDomain,o.appName=cx(e).name,e.R&&(o.emulatorConfig=e.R),e.$.then(function(){var n,r,a;return n=e.D,r=e.Ga(),a=new uQ(o,t),n&&(a.ha=n),r&&uz(a,r),a.reload().then(function(){return a})}).then(function(t){return cT(e)&&t.uid==cT(e).uid?u8(cT(e),t):(cB(e,t),uJ(t)),e.da(t)}).then(function(){ck(e)})},function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=uS(t.w(),e,E(e.kc,e))),n||t}).then(function(){return rf({user:cT(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function cx(e){return e.app}function cT(e){return e.currentUser}function cS(e){return cT(e)&&cT(e)._lat||null}function ck(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](cS(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](cS(e))}}function cD(e,t){return e.P.push(t),t.oa(function(){Y(e.P,t)}),t}function cN(){}function cO(){this.a={},this.b=1e12}cA.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");e:{for(r in sR)if(sR[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(nW()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!sh()&&"none"!==e)throw n;break;default:if(!n4()&&"none"!==e)throw n}}(e),cm(this,function(){return e!=n.c.F?n.b.get(n.c,n.a).then(function(r){return t=r,cd(n,e)}).then(function(){if(n.c=ch(e),t)return n.b.set(n.c,t,n.a)}):td()})},I(cy,t5),I(cb,tF),I(cw,tF),I(c_,tF),(r=cy.prototype).yb=function(e){return cD(this,e=this.i.yb(e))},r.xa=function(e){this.aa===e||this.l||(this.aa=e,o8(this.a,this.aa),this.dispatchEvent(new cb(this.la())))},r.la=function(){return this.aa},r.fd=function(){var e=c.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},r.gd=function(e,t){if(!this.R){var n;if(!/^https?:\/\//.test(e))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");n=t=!!t&&!!t.disableWarnings,"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&!n&&nV().then(function(){var e=c.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),c.document.body.appendChild(e)}),this.R={url:e,ec:t},this.settings.jb=!0,o9(this.a,this.R),this.dispatchEvent(new cw(this.R))}},r.Gc=function(e){this.J.push(e),ae(this.a,N.Z.SDK_VERSION?n0(N.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new c_(this.J))},r.Ga=function(){return J(this.J)},r.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},r.T=function(){return this.S},r.toJSON=function(){return{apiKey:cx(this).options.apiKey,authDomain:cx(this).options.authDomain,appName:cx(this).name,currentUser:cT(this)&&cT(this).w()}},r.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},r.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},r.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?E(this.ic,this):null},r.ic=function(e,t,n,r){var o=this,a={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),o.$.then(function(){return cI(o,ah(o.a,a))})},r.Xc=function(e){if(!n3())return tf(new T("operation-not-supported-in-this-environment"));var t=this,n=r7(e.providerId),r=rt(),o=null;(!n8()||nz())&&cx(this).options.authDomain&&e.isOAuthProvider&&(o=sn(cx(this).options.authDomain,cx(this).options.apiKey,cx(this).name,"signInViaPopup",e,null,r,N.Z.SDK_VERSION||null,null,null,this.T(),this.R));var a=nZ(o,n&&n.va,n&&n.ua);return cD(this,n=cE(this).then(function(n){return uu(n,a,"signInViaPopup",e,r,!!o,t.T())}).then(function(){return new to(function(e,n){t.na("signInViaPopup",null,new T("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=uA(t.b,t,"signInViaPopup",a,r)})}).then(function(e){return a&&nj(a),e?rf(e):null}).o(function(e){throw a&&nj(a),e}))},r.Yc=function(e){if(!n3())return tf(new T("operation-not-supported-in-this-environment"));var t=this;return cD(this,cE(this).then(function(){var e;return cm(e=t.i,function(){return e.b.set(cf,e.c.F,e.a)})}).then(function(){return ul(t.b,"signInViaRedirect",e,void 0,t.T())}))},r.ra=function(){var e=this;return cC(this).then(function(t){return e.b&&uv(e.b.b),t}).o(function(t){throw e.b&&uv(e.b.b),t})},r.dd=function(e){if(!e)return tf(new T("null-user"));if(this.S!=e.tenantId)return tf(new T("tenant-id-mismatch"));var t,n,r,o,a,s=this,u={};u.apiKey=cx(this).options.apiKey,u.authDomain=cx(this).options.authDomain,u.appName=cx(this).name;var c=(t=u,n=s.D,r=s.Ga(),o=e.h,(a={})[o2]=o.b&&o.b.toString(),a.refreshToken=o.a,t=new uQ(t||{apiKey:e.l,authDomain:e.s,appName:e.m},a),n&&(t.ha=n),r&&uz(t,r),u8(t,e),t);return cD(this,this.h.then(function(){if(cx(s).options.apiKey!=e.l)return c.reload()}).then(function(){return cT(s)&&e.uid==cT(s).uid?(u8(cT(s),e),s.da(e)):(cB(s,c),uJ(c),s.da(c))}).then(function(){ck(s)}))},r.Bb=function(){var e=this;return cD(this,this.h.then(function(){return(e.b&&uv(e.b.b),cT(e))?(cB(e,null),cg(e.i).then(function(){ck(e)})):td()}))},r.Zc=function(){var e=this;return cv(this.i,cx(this).options.authDomain).then(function(t){if(!e.l){var n;if(n=cT(e)&&t){n=cT(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return u8(cT(e),t),cT(e).I();(cT(e)||t)&&(cB(e,t),t&&(uJ(t),t.ha=e.D),e.b&&ui(e.b,e),ck(e))}})},r.da=function(e){return cp(this.i,e)},r.mc=function(){ck(this),this.da(cT(this))},r.wc=function(){this.Bb()},r.xc=function(){this.Bb()},r.kc=function(e){var t=this;return this.h.then(function(){return cI(t,td(e))})},r.zc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(cT(t))})},r.Ac=function(e){var t,n,r=this;t=this,n=function(){e.next(cT(r))},t.N.push(n),cD(t,t.h.then(function(){!t.l&&q(t.N,n)&&t.W!==t.getUid()&&(t.W=t.getUid(),n(cS(t)))}))},r.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof e?e(cT(r)):"function"==typeof e.next&&e.next(cT(r))}),this.Pa(e,t,n)},r.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.W=r.getUid(),"function"==typeof e?e(cT(r)):"function"==typeof e.next&&e.next(cT(r))}),this.ib(e,t,n)},r.nc=function(e){var t=this;return cD(this,this.h.then(function(){return cT(t)?cT(t).I(e).then(function(e){return{accessToken:e}}):null}))},r.Tc=function(e){var t=this;return this.h.then(function(){return cI(t,a$(t.a,aK,{token:e}))}).then(function(e){var n=e.user;return u6(n,"isAnonymous",!1),t.da(n),e})},r.Uc=function(e,t){var n=this;return this.h.then(function(){return cI(n,a$(n.a,az,{email:e,password:t}))})},r.dc=function(e,t){var n=this;return this.h.then(function(){return cI(n,a$(n.a,ab,{email:e,password:t}))})},r.ab=function(e){var t=this;return this.h.then(function(){return cI(t,e.ka(t.a))})},r.Sc=function(e){return rc("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},r.Ab=function(){var e=this;return this.h.then(function(){var t=cT(e);if(t&&t.isAnonymous){var n=rf({providerId:null,isNewUser:!1});return rf({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return cI(e,e.a.Ab()).then(function(t){var n=t.user;return u6(n,"isAnonymous",!0),e.da(n),t})})},r.getUid=function(){return cT(this)&&cT(this).uid||null},r.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&cT(this)&&uq(cT(this))},r.Pc=function(e){var t=this;K(this.s,function(n){n==e&&t.u--}),0>this.u&&(this.u=0),0==this.u&&cT(this)&&uY(cT(this)),this.removeAuthTokenListener(e)},r.addAuthTokenListener=function(e){var t=this;this.s.push(e),cD(this,this.h.then(function(){t.l||q(t.s,e)&&e(cS(t))}))},r.removeAuthTokenListener=function(e){$(this.s,function(t){return t==e})},r.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(ch("local"),e.a,this.ja),this.b&&(uo(this.b,this),uv(this.b.b)),Promise.resolve()},r.hc=function(e){return cD(this,a$(this.a,aw,{identifier:e,continueUri:n5()?nM():"http://localhost"}).then(function(e){return e.signinMethods||[]}))},r.Bc=function(e){return!!iP(e)},r.xb=function(e,t){var n=this;return cD(this,td().then(function(){var e=new rK(t);if(!e.c)throw new T("argument-error",rW+" must be true when sending sign in link to email");return r1(e)}).then(function(t){return n.a.xb(e,t)}).then(function(){}))},r.jd=function(e){return this.Sa(e).then(function(e){return e.data.email})},r.ob=function(e,t){return cD(this,this.a.ob(e,t).then(function(){}))},r.Sa=function(e){return cD(this,this.a.Sa(e).then(function(e){return new r_(e)}))},r.kb=function(e){return cD(this,this.a.kb(e).then(function(){}))},r.wb=function(e,t){var n=this;return cD(this,td().then(function(){return void 0===t||eh(t)?{}:r1(new rK(t))}).then(function(t){return n.a.wb(e,t)}).then(function(){}))},r.Wc=function(e,t){return cD(this,uE(this,e,t,E(this.ab,this)))},r.Vc=function(e,t){var n=this;return cD(this,td().then(function(){var r=t||nM(),o=iM(e,r);if(!(r=iP(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(o)}))},cN.prototype.render=function(){},cN.prototype.reset=function(){},cN.prototype.getResponse=function(){},cN.prototype.execute=function(){};var cF=null;function cR(e,t){return(t=cL(t))&&e.a[t]||null}function cL(e){return(e=void 0===e?1e12:e)?e.toString():null}function cM(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=e6(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():tG(this.f,"click",this.i)}function cP(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function cU(){}function cj(){}cO.prototype.render=function(e,t){return this.a[this.b.toString()]=new cM(e,t),this.b++},cO.prototype.reset=function(e){var t=cR(this,e);e=cL(e),t&&e&&(t.delete(),delete this.a[e])},cO.prototype.getResponse=function(e){return(e=cR(this,e))?e.getResponse():null},cO.prototype.execute=function(e){(e=cR(this,e))&&e.execute()},cM.prototype.getResponse=function(){return cP(this),this.b},cM.prototype.execute=function(){cP(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()},6e4)},500))},cM.prototype.delete=function(){cP(this),this.g=!0,clearTimeout(this.a),this.a=null,tY(this.f,"click",this.i)},rA(cU,"FACTOR_ID","phone"),cj.prototype.g=function(){return cF||(cF=new cO),td(cF)},cj.prototype.c=function(){};var cZ=null;function cQ(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var cH=new ey(e_,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),cV=new ri(3e4,6e4);cQ.prototype.g=function(e){var t=this;return new to(function(n,r){var o=setTimeout(function(){r(new T("network-request-failed"))},cV.get());c.grecaptcha&&(e===t.f||t.b)?(clearTimeout(o),n(c.grecaptcha)):(c[t.a]=function(){if(c.grecaptcha){t.f=e;var a=c.grecaptcha.render;c.grecaptcha.render=function(e,n){return e=a(e,n),t.b++,e},clearTimeout(o),n(c.grecaptcha)}else clearTimeout(o),r(new T("internal-error"));delete c[t.a]},td(oM(eI(cH,{onload:t.a,hl:e||""}))).o(function(){clearTimeout(o),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))})},cQ.prototype.c=function(){this.b--};var cK=null;function cz(e,t,n,r,o,a,s){if(rA(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,s?(cZ||(cZ=new cj),s=cZ):(cK||(cK=new cQ),s=cK),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[cq])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[cY],!c.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!e6(t)||!this.i&&e6(t).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new oV(e,a||null,o||null),this.u=r||function(){return null};var u=this;this.l=[];var l=this.a[cG];this.a[cG]=function(e){if(c$(u,e),"function"==typeof l)l(e);else if("string"==typeof l){var t=n2(l,c);"function"==typeof t&&t(e)}};var A=this.a[cW];this.a[cW]=function(){if(c$(u,null),"function"==typeof A)A();else if("string"==typeof A){var e=n2(A,c);"function"==typeof e&&e()}}}var cG="callback",cW="expired-callback",cq="sitekey",cY="size";function c$(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function cX(e,t){return e.h.push(t),t.oa(function(){Y(e.h,t)}),t}function cJ(e){if(e.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function c0(e,t,n){var r=!1;try{this.b=n||N.Z.app()}catch(e){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(this.b.options&&this.b.options.apiKey)n=this.b.options.apiKey;else throw new T("invalid-api-key");var o=this,a=null;try{a=this.b.auth().Ga()}catch(e){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}a=N.Z.SDK_VERSION?n0(N.Z.SDK_VERSION,a):null,cz.call(this,n,e,t,function(){try{var e=o.b.auth().la()}catch(t){e=null}return e},a,F(oz),r)}function c1(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var o=0,a=!1,s=0;s<t.length;s++)if(t[s].optional)a=!0;else{if(a)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");o++}if(a=t.length,n.length<o||a<n.length)r="Expected "+(o==a?1==o?"1 argument":o+" arguments":o+"-"+a+" arguments")+" but got "+n.length+".";else{for(o=0;o<n.length;o++)if(a=t[o].optional&&void 0===n[o],!t[o].M(n[o])&&!a){if(t=t[o],0>o||o>=c2.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=c2[o],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new T("argument-error",e+" failed: "+r)}(r=cz.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=cX(this,td().then(function(){if(n5()&&!nG())return nV();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.m.g(e.u())}).then(function(t){return e.g=t,a$(e.s,aF,{})}).then(function(t){e.a[cq]=t.recaptchaSiteKey}).o(function(t){throw e.f=null,t}))},r.render=function(){cJ(this);var e=this;return cX(this,this.Ia().then(function(){if(null===e.c){var t=e.v;if(!e.i){var n=e6(t);t=function(e,t,n){var r=arguments,o=document,a=String(r[0]),s=r[1];if(!e5&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',eH(s.name),'"'),s.type){a.push(' type="',eH(s.type),'"');var u={};ev(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=e7(o,a),s&&("string"==typeof s?a.className=s:Array.isArray(s)?a.className=s.join(" "):e8(a,s)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var o=2;o<n.length;o++){var a=n[o];if(!p(a)||v(a)&&0<a.nodeType)r(a);else{e:{if(a&&"number"==typeof a.length){if(v(a)){var s="function"==typeof a.item||"string"==typeof a.item;break e}if(g(a)){s="function"==typeof a.item;break e}}s=!1}K(s?J(a):a,r)}}}(o,a,r),a}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},r.verify=function(){cJ(this);var e=this;return cX(this,this.render().then(function(t){return new to(function(n){var r=e.g.getResponse(t);if(r)n(r);else{var o=function(t){t&&($(e.l,function(e){return e==o}),n(t))};e.l.push(o),e.i&&e.g.execute(e.c)}})}))},r.reset=function(){cJ(this),null!==this.c&&this.g.reset(this.c)},r.clear=function(){cJ(this),this.J=!0,this.m.c();for(var e,t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i)for(t=e6(this.v);e=t.firstChild;)t.removeChild(e)},I(c0,cz);var c2="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function c4(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"==typeof e}}}function c3(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"==typeof e}}}function c5(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:v}}function c6(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"==typeof e}}}function c8(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function c9(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function c7(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}}function le(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}}function lt(e,t){return v(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function ln(e){return v(e)&&"string"==typeof e.uid}function lr(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}}function li(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function lo(e,t){for(var n in t){var r=t[n].name;e[r]=lu(r,e[n],t[n].j)}}function la(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:C(function(e){return this[e]},n),set:C(function(e,t,n,r){c1(e,[n],[r],!0),this[t]=r},r,n,t[n].lb),enumerable:!0})}}function ls(e,t,n,r){e[t]=lu(t,n,r)}function lu(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return c1(s,n,e),t.apply(this,e)}if(!n)return t;var o,a,s=(o=(o=e).split("."))[o.length-1];for(a in t)r[a]=t[a];for(a in t.prototype)r.prototype[a]=t.prototype[a];return r}lo(cy.prototype,{kb:{name:"applyActionCode",j:[c4("code")]},Sa:{name:"checkActionCode",j:[c4("code")]},ob:{name:"confirmPasswordReset",j:[c4("code"),c4("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[c4("email"),c4("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[c4("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[c4("emailLink")]},Hc:{name:"onAuthStateChanged",j:[li(c5(),c6(),"nextOrObserver"),c6("opt_error",!0),c6("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[li(c5(),c6(),"nextOrObserver"),c6("opt_error",!0),c6("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[c4("email"),li(c5("opt_actionCodeSettings",!0),c8(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[c4("email"),c5("actionCodeSettings")]},yb:{name:"setPersistence",j:[c4("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[c9()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[c9()]},Tc:{name:"signInWithCustomToken",j:[c4("token")]},Uc:{name:"signInWithEmailAndPassword",j:[c4("email"),c4("password")]},Vc:{name:"signInWithEmailLink",j:[c4("email"),c4("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[c4("phoneNumber"),lr()]},Xc:{name:"signInWithPopup",j:[le()]},Yc:{name:"signInWithRedirect",j:[le()]},dd:{name:"updateCurrentUser",j:[li({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof uQ)}},c8(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[c4(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[c4("url"),c5("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[c4("code")]}}),la(cy.prototype,{lc:{name:"languageCode",lb:li(c4(),c8(),"languageCode")},ti:{name:"tenantId",lb:li(c4(),c8(),"tenantId")}}),cy.Persistence=sR,cy.Persistence.LOCAL="local",cy.Persistence.SESSION="session",cy.Persistence.NONE="none",lo(uQ.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[c3("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[c3("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[c9()]},rb:{name:"linkWithCredential",j:[c9()]},Dc:{name:"linkWithPhoneNumber",j:[c4("phoneNumber"),lr()]},Ec:{name:"linkWithPopup",j:[le()]},Fc:{name:"linkWithRedirect",j:[le()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[c9()]},ub:{name:"reauthenticateWithCredential",j:[c9()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[c4("phoneNumber"),lr()]},Nc:{name:"reauthenticateWithPopup",j:[le()]},Oc:{name:"reauthenticateWithRedirect",j:[le()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[li(c5("opt_actionCodeSettings",!0),c8(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[c4(null,!0)]},cd:{name:"unlink",j:[c4("provider")]},Cb:{name:"updateEmail",j:[c4("email")]},Db:{name:"updatePassword",j:[c4("password")]},ed:{name:"updatePhoneNumber",j:[c9("phone")]},Eb:{name:"updateProfile",j:[c5("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[c4("email"),li(c5("opt_actionCodeSettings",!0),c8(null,!0),"opt_actionCodeSettings",!0)]}}),lo(cO.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),lo(cN.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),lo(to.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),la(uw.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:c3("appVerificationDisabledForTesting")}}),lo(u_.prototype,{confirm:{name:"confirm",j:[c4("verificationCode")]}}),ls(ip,"fromJSON",function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[i_,iR,ij,iy],r=0;r<n.length;r++)if(t=n[r](e))return t;return null},[li(c4(),c5(),"json")]),ls(iL,"credential",function(e,t){return new iF(e,t)},[c4("email"),c4("password")]),lo(iF.prototype,{w:{name:"toJSON",j:[c4(null,!0)]}}),lo(iI.prototype,{Ca:{name:"addScope",j:[c4("scope")]},Ka:{name:"setCustomParameters",j:[c5("customOAuthParameters")]}}),ls(iI,"credential",ix,[li(c4(),c5(),"token")]),ls(iL,"credentialWithLink",iM,[c4("email"),c4("emailLink")]),lo(iT.prototype,{Ca:{name:"addScope",j:[c4("scope")]},Ka:{name:"setCustomParameters",j:[c5("customOAuthParameters")]}}),ls(iT,"credential",iS,[li(c4(),c5(),"token")]),lo(ik.prototype,{Ca:{name:"addScope",j:[c4("scope")]},Ka:{name:"setCustomParameters",j:[c5("customOAuthParameters")]}}),ls(ik,"credential",iD,[li(c4(),li(c5(),c8()),"idToken"),li(c4(),c8(),"accessToken",!0)]),lo(iN.prototype,{Ka:{name:"setCustomParameters",j:[c5("customOAuthParameters")]}}),ls(iN,"credential",iO,[li(c4(),c5(),"token"),c4("secret",!0)]),lo(iB.prototype,{Ca:{name:"addScope",j:[c4("scope")]},credential:{name:"credential",j:[li(c4(),li(c5(),c8()),"optionsOrIdToken"),li(c4(),c8(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[c5("customOAuthParameters")]}}),lo(ib.prototype,{w:{name:"toJSON",j:[c4(null,!0)]}}),lo(iv.prototype,{w:{name:"toJSON",j:[c4(null,!0)]}}),ls(iQ,"credential",iH,[c4("verificationId"),c4("verificationCode")]),lo(iQ.prototype,{gb:{name:"verifyPhoneNumber",j:[li(c4(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?lt(e.session,id)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?lt(e.session,ih)&&ln(e.multiFactorHint):e.session&&e.multiFactorUid?lt(e.session,ih)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),lr()]}}),lo(iU.prototype,{w:{name:"toJSON",j:[c4(null,!0)]}}),lo(T.prototype,{toJSON:{name:"toJSON",j:[c4(null,!0)]}}),lo(i$.prototype,{toJSON:{name:"toJSON",j:[c4(null,!0)]}}),lo(iY.prototype,{toJSON:{name:"toJSON",j:[c4(null,!0)]}}),lo(uT.prototype,{toJSON:{name:"toJSON",j:[c4(null,!0)]}}),lo(uB.prototype,{Rc:{name:"resolveSignIn",j:[c7()]}}),lo(uF.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[c7(),c4("displayName",!0)]},bd:{name:"unenroll",j:[li({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:ln},c4(),"multiFactorInfoIdentifier")]}}),lo(c0.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ls(rL,"parseLink",rV,[c4("link")]),ls(cU,"assertion",function(e){return new uN(e)},[c9("phone")]),function(){if(void 0!==N.Z&&N.Z.INTERNAL&&N.Z.INTERNAL.registerComponent){var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:rC,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:rE,VERIFY_AND_CHANGE_EMAIL:rB,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:cy,AuthCredential:ip,Error:T};ls(e,"EmailAuthProvider",iL,[]),ls(e,"FacebookAuthProvider",iI,[]),ls(e,"GithubAuthProvider",iT,[]),ls(e,"GoogleAuthProvider",ik,[]),ls(e,"TwitterAuthProvider",iN,[]),ls(e,"OAuthProvider",iB,[c4("providerId")]),ls(e,"SAMLAuthProvider",iC,[c4("providerId")]),ls(e,"PhoneAuthProvider",iQ,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof cy)}}]),ls(e,"RecaptchaVerifier",c0,[li(c4(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),c5("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof N.Z.app.App)}}]),ls(e,"ActionCodeURL",rL,[]),ls(e,"PhoneMultiFactorGenerator",cU,[]),N.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new cy(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),N.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return e=e.getProvider("auth").getImmediate(),{getUid:E(e.getUid,e),getToken:E(e.nc,e),addAuthTokenListener:E(e.cc,e),removeAuthTokenListener:E(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),N.Z.registerVersion("@firebase/auth","0.16.8"),N.Z.INTERNAL.extendNamespace({User:uQ})}else throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.")}()}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var O=n(22970),F=n(76765),R=n(13936),L=function(e,t){return(L=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function M(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var P,U="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},j=j||{},Z=U||self;function Q(){}function H(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function V(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function K(e,t,n){return e.call.apply(e.bind,arguments)}function z(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function G(e,t,n){return(G=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?K:z).apply(null,arguments)}function W(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function q(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[n].apply(e,o)}}function Y(){this.s=this.s,this.o=this.o}Y.prototype.s=!1,Y.prototype.na=function(){this.s||(this.s=!0,this.M())},Y.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return -1},X=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o="string"==typeof e?e.split(""):e,a=0;a<r;a++)a in o&&t.call(n,o[a],a,e)};function J(e){return Array.prototype.concat.apply([],arguments)}function ee(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function et(e){return/^[\s\xa0]*$/.test(e)}var en=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function er(e,t){return -1!=e.indexOf(t)}function ei(e,t){return e<t?-1:e>t?1:0}e:{var eo=Z.navigator;if(eo){var ea=eo.userAgent;if(ea){iH=ea;break e}}iH=""}function es(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function eu(e){var t={};for(var n in e)t[n]=e[n];return t}var ec="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function el(e,t){for(var n,r,o=1;o<arguments.length;o++){for(n in r=arguments[o])e[n]=r[n];for(var a=0;a<ec.length;a++)n=ec[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function eA(e){return eA[" "](e),e}eA[" "]=Q;var ed=er(iH,"Opera"),ef=er(iH,"Trident")||er(iH,"MSIE"),eh=er(iH,"Edge"),ep=eh||ef,eg=er(iH,"Gecko")&&!(er(iH.toLowerCase(),"webkit")&&!er(iH,"Edge"))&&!(er(iH,"Trident")||er(iH,"MSIE"))&&!er(iH,"Edge"),ev=er(iH.toLowerCase(),"webkit")&&!er(iH,"Edge");function em(){var e=Z.document;return e?e.documentMode:void 0}e:{var ey,eb="",ew=(ey=iH,eg?/rv:([^\);]+)(\)|;)/.exec(ey):eh?/Edge\/([\d\.]+)/.exec(ey):ef?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ey):ev?/WebKit\/(\S+)/.exec(ey):ed?/(?:Version)[ \/]?(\S+)/.exec(ey):void 0);if(ew&&(eb=ew?ew[1]:""),ef){var e_=em();if(null!=e_&&e_>parseFloat(eb)){iV=String(e_);break e}}iV=eb}var eE={},eC=Z.document&&ef&&(em()||parseInt(iV,10))||void 0,eB=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Z.addEventListener("test",Q,t),Z.removeEventListener("test",Q,t)}catch(e){}return e}();function eI(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ex(e,t){if(eI.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(eg){e:{try{eA(t.nodeName);var o=!0;break e}catch(e){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:eT[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ex.Z.h.call(this)}}eI.prototype.h=function(){this.defaultPrevented=!0},q(ex,eI);var eT={2:"touch",3:"pen",4:"mouse"};ex.prototype.h=function(){ex.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var eS="closure_listenable_"+(1e6*Math.random()|0),ek=0;function eD(e,t,n,r,o){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=o,this.key=++ek,this.ca=this.fa=!1}function eN(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function eO(e){this.src=e,this.g={},this.h=0}function eF(e,t){var n=t.type;if(n in e.g){var r,o=e.g[n],a=$(o,t);(r=0<=a)&&Array.prototype.splice.call(o,a,1),r&&(eN(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function eR(e,t,n,r){for(var o=0;o<e.length;++o){var a=e[o];if(!a.ca&&a.listener==t&&!!n==a.capture&&a.ia==r)return o}return -1}eO.prototype.add=function(e,t,n,r,o){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var s=eR(e,t,r,o);return -1<s?(t=e[s],n||(t.fa=!1)):((t=new eD(t,this.src,a,!!r,o)).fa=n,e.push(t)),t};var eL="closure_lm_"+(1e6*Math.random()|0),eM={};function eP(e,t,n,r,o,a){if(!t)throw Error("Invalid event type");var s=V(o)?!!o.capture:!!o,u=eQ(e);if(u||(e[eL]=u=new eO(e)),(n=u.add(t,n,r,s,a)).proxy)return n;if(r=function e(t){return eZ.call(e.src,e.listener,t)},n.proxy=r,r.src=e,r.listener=n,e.addEventListener)eB||(o=s),void 0===o&&(o=!1),e.addEventListener(t.toString(),r,o);else if(e.attachEvent)e.attachEvent(ej(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function eU(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[eS])eF(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ej(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=eQ(t))?(eF(n,e),0==n.h&&(n.src=null,t[eL]=null)):eN(e)}}}function ej(e){return e in eM?eM[e]:eM[e]="on"+e}function eZ(e,t){if(e.ca)e=!0;else{t=new ex(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&eU(e),e=n.call(r,t)}return e}function eQ(e){return(e=e[eL])instanceof eO?e:null}var eH="__closure_events_fn_"+(1e9*Math.random()>>>0);function eV(e){return"function"==typeof e?e:(e[eH]||(e[eH]=function(t){return e.handleEvent(t)}),e[eH])}function eK(){Y.call(this),this.i=new eO(this),this.P=this,this.I=null}function ez(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new eI(t,e);else if(t instanceof eI)t.target=t.target||e;else{var o=t;el(t=new eI(r,e),o)}if(o=!0,n)for(var a=n.length-1;0<=a;a--){var s=t.g=n[a];o=eG(s,r,!0,t)&&o}if(o=eG(s=t.g=e,r,!0,t)&&o,o=eG(s,r,!1,t)&&o,n)for(a=0;a<n.length;a++)o=eG(s=t.g=n[a],r,!1,t)&&o}function eG(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var o=!0,a=0;a<t.length;++a){var s=t[a];if(s&&!s.ca&&s.capture==n){var u=s.listener,c=s.ia||s.src;s.fa&&eF(e.i,s),o=!1!==u.call(c,r)&&o}}return o&&!r.defaultPrevented}q(eK,Y),eK.prototype[eS]=!0,eK.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,o,a){if(Array.isArray(n))for(var s=0;s<n.length;s++)e(t,n[s],r,o,a);else(o=V(o)?!!o.capture:!!o,r=eV(r),t&&t[eS])?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=eR(s=t.g[n],r,o,a))&&(eN(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete t.g[n],t.h--))):t&&(t=eQ(t))&&(n=t.g[n.toString()],t=-1,n&&(t=eR(n,r,o,a)),(r=-1<t?n[t]:null)&&eU(r))}(this,e,t,n,r)},eK.prototype.M=function(){if(eK.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)eN(n[r]);delete t.g[e],t.h--}}this.I=null},eK.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},eK.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var eW=Z.JSON.stringify,eq=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=eY.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),eY=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())(function(){return new e$},function(e){return e.reset()}),e$=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function eX(e,t){var n;iz||(n=Z.Promise.resolve(void 0),iz=function(){n.then(e1)}),eJ||(iz(),eJ=!0),e0.add(e,t)}var eJ=!1,e0=new eq;function e1(){for(var e,t;e=null,e0.g&&(e=e0.g,e0.g=e0.g.next,e0.g||(e0.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){Z.setTimeout(function(){throw e},0)}(e)}eY.j(t),100>eY.h&&(eY.h++,t.next=eY.g,eY.g=t)}eJ=!1}function e2(e,t){eK.call(this),this.h=e||1,this.g=t||Z,this.j=G(this.kb,this),this.l=Date.now()}function e4(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function e3(e,t,n){if("function"==typeof e)n&&(e=G(e,n));else if(e&&"function"==typeof e.handleEvent)e=G(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Z.setTimeout(e,t||0)}q(e2,eK),(P=e2.prototype).da=!1,P.S=null,P.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ez(this,"tick"),this.da&&(e4(this),this.start()))}},P.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},P.M=function(){e2.Z.M.call(this),e4(this),delete this.g};var e5=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=e3(function(){t.g=null,t.i&&(t.i=!1,e(t))},t.j);var n=t.h;t.h=null,t.m.apply(null,n)}(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(Y);function e6(e){Y.call(this),this.h=e,this.g={}}q(e6,Y);var e8=[];function e9(e,t,n,r){Array.isArray(n)||(n&&(e8[0]=n.toString()),n=e8);for(var o=0;o<n.length;o++){var a=function e(t,n,r,o,a){if(o&&o.once)return function e(t,n,r,o,a){if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,o,a);return null}return r=eV(r),t&&t[eS]?t.O(n,r,V(o)?!!o.capture:!!o,a):eP(t,n,r,!0,o,a)}(t,n,r,o,a);if(Array.isArray(n)){for(var s=0;s<n.length;s++)e(t,n[s],r,o,a);return null}return r=eV(r),t&&t[eS]?t.N(n,r,V(o)?!!o.capture:!!o,a):eP(t,n,r,!1,o,a)}(t,n[o],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function e7(e){es(e.g,function(e,t){this.g.hasOwnProperty(t)&&eU(e)},e),e.g={}}function te(){this.g=!0}function tt(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var a=o[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var s=1;s<o.length;s++)o[s]=""}}}}return eW(n)}catch(e){return t}}(e,n)+(r?" "+r:"")})}e6.prototype.M=function(){e6.Z.M.call(this),e7(this)},e6.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},te.prototype.Aa=function(){this.g=!1},te.prototype.info=function(){};var tn={},tr=null;function ti(){return tr=tr||new eK}function to(e){eI.call(this,tn.Ma,e)}function ta(e){var t=ti();ez(t,new to(t,e))}function ts(e,t){eI.call(this,tn.STAT_EVENT,e),this.stat=t}function tu(e){var t=ti();ez(t,new ts(t,e))}function tc(e,t){eI.call(this,tn.Na,e),this.size=t}function tl(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){e()},t)}tn.Ma="serverreachability",q(to,eI),tn.STAT_EVENT="statevent",q(ts,eI),tn.Na="timingevent",q(tc,eI);var tA={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},td={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tf(){}function th(e){return e.h||(e.h=e.i())}function tp(){}tf.prototype.h=null;var tg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function tv(){eI.call(this,"d")}function tm(){eI.call(this,"c")}function ty(){}function tb(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new e6(this),this.P=t_,e=ep?125:void 0,this.W=new e2(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new tw}function tw(){this.i=null,this.g="",this.h=!1}q(tv,eI),q(tm,eI),q(ty,tf),ty.prototype.g=function(){return new XMLHttpRequest},ty.prototype.i=function(){return{}},iG=new ty;var t_=45e3,tE={},tC={};function tB(e,t,n){e.K=1,e.v=tG(tZ(t)),e.s=n,e.U=!0,tI(e,null)}function tI(e,t){e.F=Date.now(),tS(e),e.A=tZ(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),t6(n.h,"t",r),e.C=0,n=e.l.H,e.h=new tw,e.g=nY(e.l,n?t:null,!e.s),0<e.O&&(e.L=new e5(G(e.Ia,e,e.g),e.O)),e9(e.V,e.g,"readystatechange",e.gb),t=e.H?eu(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ta(1),function(e,t,n,r,o,a){e.info(function(){if(e.g){if(a)for(var s="",u=a.split("&"),c=0;c<u.length;c++){var l=u[c].split("=");if(1<l.length){var A=l[0];l=l[1];var d=A.split("_");s=2<=d.length&&"type"==d[1]?s+(A+"=")+l+"&":s+(A+"=redacted&")}}else s=null}else s=a;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+t+"\n"+n+"\n"+s})}(e.j,e.u,e.A,e.m,e.X,e.s)}function tx(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function tT(e,t,n){for(var r,o=!0;!e.I&&e.C<n.length;)if((r=function(e,t){var n=e.C,r=t.indexOf("\n",n);return -1==r?tC:isNaN(n=Number(t.substring(n,r)))?tE:(r+=1)+n>t.length?tC:(t=t.substr(r,n),e.C=r+n,t)}(e,n))==tC){4==t&&(e.o=4,tu(14),o=!1),tt(e.j,e.m,null,"[Incomplete Response]");break}else if(r==tE){e.o=4,tu(15),tt(e.j,e.m,n,"[Invalid Chunk]"),o=!1;break}else tt(e.j,e.m,r,null),tF(e,r);tx(e)&&r!=tC&&r!=tE&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,tu(16),o=!1),e.i=e.i&&o,o?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),nQ(t),t.L=!0,tu(11))):(tt(e.j,e.m,n,"[Invalid Chunked Response]"),tO(e),tN(e))}function tS(e){e.Y=Date.now()+e.P,tk(e,e.P)}function tk(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=tl(G(e.eb,e),t)}function tD(e){e.B&&(Z.clearTimeout(e.B),e.B=null)}function tN(e){0==e.l.G||e.I||nK(e.l,e)}function tO(e){tD(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,e4(e.W),e7(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function tF(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||nr(n.i,e))){if(n.I=e.N,!e.J&&nr(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!n.u){if(n.g){if(n.g.F+3e3<e.F)nV(n),nO(n);else break e}nZ(n),tu(18)}}else n.ta=o[1],0<n.ta-n.U&&37500>o[2]&&n.N&&0==n.A&&!n.v&&(n.v=tl(G(n.ab,n),6e3));if(1>=nn(n.i)&&n.ka){try{n.ka()}catch(e){}n.ka=void 0}}else nG(n,11)}else if((e.J||n.g==e)&&nV(n),!et(t))for(o=n.Ca.g.parse(t),t=0;t<o.length;t++){var a=o[t];if(n.U=a[0],a=a[1],2==n.G){if("c"==a[0]){n.J=a[1],n.la=a[2];var s=a[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var c=a[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var A=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(A){var d=r.i;!d.g&&(er(A,"spdy")||er(A,"quic")||er(A,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(ni(d,d.h),d.h=null))}if(r.D){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,tz(r.F,r.D,f))}}if(n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),(r=n).oa=nq(r,r.H?r.la:null,r.W),e.J){no(r.i,e);var h=r.K;h&&e.setTimeout(h),e.B&&(tD(e),tS(e)),r.g=e}else nj(r);0<n.l.length&&nL(n)}else"stop"!=a[0]&&"close"!=a[0]||nG(n,7)}else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?nG(n,7):nN(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}}ta(4)}catch(e){}}function tR(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(H(e)||"string"==typeof e)X(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(H(e)||"string"==typeof e){n=[];for(var r=e.length,o=0;o<r;o++)n.push(o)}else for(o in n=[],r=0,e)n[r++]=o;o=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(H(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var a=0;a<o;a++)t.call(void 0,r[a],n&&n[a],e)}}function tL(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e){if(e instanceof tL)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}}function tM(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];tP(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var o={};for(n=t=0;t<e.g.length;)tP(o,r=e.g[t])||(e.g[n++]=r,o[r]=1),t++;e.g.length=n}}function tP(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(P=tb.prototype).setTimeout=function(e){this.P=e},P.gb=function(e){e=e.target;var t=this.L;t&&3==nx(e)?t.l():this.Ia(e)},P.Ia=function(e){try{if(e==this.g)e:{var t=nx(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||ep||this.g&&(this.h.h||this.g.ga()||nT(this.g)))){this.I||4!=t||7==n||(8==n||0>=r?ta(3):ta(2)),tD(this);var o=this.g.ba();this.N=o;r:if(tx(this)){var a=nT(this.g);e="";var s=a.length,u=4==nx(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){tO(this),tN(this);var c="";break r}this.h.i=new Z.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==s-1});a.splice(0,s),this.h.g+=e,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==o,function(e,t,n,r,o,a,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+t+"\n"+n+"\n"+a+" "+s})}(this.j,this.u,this.A,this.m,this.X,t,o),this.i){if(this.$&&!this.J){r:{if(this.g){var l,A=this.g;if((l=A.g?A.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(l)){var d=l;break r}}d=null}if(o=d)tt(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,tF(this,o);else{this.i=!1,this.o=3,tu(12),tO(this),tN(this);break e}}this.U?(tT(this,t,c),ep&&this.i&&3==t&&(e9(this.V,this.W,"tick",this.fb),this.W.start())):(tt(this.j,this.m,c,null),tF(this,c)),4==t&&tO(this),this.i&&!this.I&&(4==t?nK(this.l,this):(this.i=!1,tS(this)))}else 400==o&&0<c.indexOf("Unknown SID")?(this.o=3,tu(12)):(this.o=0,tu(13)),tO(this),tN(this)}}}catch(e){}finally{}},P.fb=function(){if(this.g){var e=nx(this.g),t=this.g.ga();this.C<t.length&&(tD(this),tT(this,e,t),this.i&&4!=e&&tS(this))}},P.cancel=function(){this.I=!0,tO(this)},P.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(ta(3),tu(17)),tO(this),this.o=2,tN(this)):tk(this,this.Y-e)},(P=tL.prototype).R=function(){tM(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},P.T=function(){return tM(this),this.g.concat()},P.get=function(e,t){return tP(this.h,e)?this.h[e]:t},P.set=function(e,t){tP(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},P.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var o=n[r],a=this.get(o);e.call(t,a,o,this)}};var tU=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tj(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof tj){this.g=void 0!==t?t:e.g,tQ(this,e.j),this.s=e.s,tH(this,e.i),tV(this,e.m),this.l=e.l,t=e.h;var n=new t2;n.i=t.i,t.g&&(n.g=new tL(t.g),n.h=t.h),tK(this,n),this.o=e.o}else e&&(n=String(e).match(tU))?(this.g=!!t,tQ(this,n[1]||"",!0),this.s=tW(n[2]||""),tH(this,n[3]||"",!0),tV(this,n[4]),this.l=tW(n[5]||"",!0),tK(this,n[6]||"",!0),this.o=tW(n[7]||"")):(this.g=!!t,this.h=new t2(null,this.g))}function tZ(e){return new tj(e)}function tQ(e,t,n){e.j=n?tW(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function tH(e,t,n){e.i=n?tW(t,!0):t}function tV(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function tK(e,t,n){var r,o;t instanceof t2?(e.h=t,r=e.h,(o=e.g)&&!r.j&&(t4(r),r.i=null,r.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(t3(this,t),t6(this,n,e))},r)),r.j=o):(n||(t=tq(t,t0)),e.h=new t2(t,e.g))}function tz(e,t,n){e.h.set(t,n)}function tG(e){return tz(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function tW(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function tq(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,tY),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function tY(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}tj.prototype.toString=function(){var e=[],t=this.j;t&&e.push(tq(t,t$,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(tq(t,t$,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(tq(n,"/"==n.charAt(0)?tJ:tX,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",tq(n,t1)),e.join("")};var t$=/[#\/\?@]/g,tX=/[#\?:]/g,tJ=/[#\?]/g,t0=/[#\?@]/g,t1=/#/g;function t2(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function t4(e){e.g||(e.g=new tL,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),o=null;if(0<=r){var a=e[n].substring(0,r);o=e[n].substring(r+1)}else a=e[n];t(a,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function t3(e,t){t4(e),t=t8(e,t),tP(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,tP((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&tM(e)))}function t5(e,t){return t4(e),t=t8(e,t),tP(e.g.h,t)}function t6(e,t,n){t3(e,t),0<n.length&&(e.i=null,e.g.set(t8(e,t),ee(n)),e.h+=n.length)}function t8(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(P=t2.prototype).add=function(e,t){t4(this),this.i=null,e=t8(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},P.forEach=function(e,t){t4(this),this.g.forEach(function(n,r){X(n,function(n){e.call(t,n,r,this)},this)},this)},P.T=function(){t4(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var o=e[r],a=0;a<o.length;a++)n.push(t[r]);return n},P.R=function(e){t4(this);var t=[];if("string"==typeof e)t5(this,e)&&(t=J(t,this.g.get(t8(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=J(t,e[n])}return t},P.set=function(e,t){return t4(this),this.i=null,t5(this,e=t8(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},P.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},P.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],o=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var s=o;""!==r[a]&&(s+="="+encodeURIComponent(String(r[a]))),e.push(s)}}return this.i=e.join("&")};var t9=function(e,t){this.h=e,this.g=t};function t7(e){this.l=e||ne,e=Z.PerformanceNavigationTiming?0<(e=Z.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(Z.g&&Z.g.Ea&&Z.g.Ea()&&Z.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ne=10;function nt(e){return!!e.h||!!e.g&&e.g.size>=e.j}function nn(e){return e.h?1:e.g?e.g.size:0}function nr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ni(e,t){e.g?e.g.add(t):e.h=t}function no(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function na(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var o=M(e.g.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.D)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return r}return ee(e.i)}function ns(){}function nu(){this.g=new ns}function nc(e,t,n,r,o){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,o(r)}catch(e){}}function nl(e){this.l=e.$b||null,this.j=e.ib||!1}function nA(e,t){eK.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=nd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}t7.prototype.cancel=function(){var e,t;if(this.i=na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=M(this.g.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},ns.prototype.stringify=function(e){return Z.JSON.stringify(e,void 0)},ns.prototype.parse=function(e){return Z.JSON.parse(e,void 0)},q(nl,tf),nl.prototype.g=function(){return new nA(this.l,this.j)},nl.prototype.i=(iQ={},function(){return iQ}),q(nA,eK);var nd=0;function nf(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function nh(e){e.readyState=4,e.l=null,e.j=null,e.A=null,np(e)}function np(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(P=nA.prototype).open=function(e,t){if(this.readyState!=nd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,np(this)},P.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Z).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},P.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nh(this)),this.readyState=nd},P.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,np(this)),this.g&&(this.readyState=3,np(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Z.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nf(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))}},P.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?nh(this):np(this),3==this.readyState&&nf(this)}},P.Ua=function(e){this.g&&(this.response=this.responseText=e,nh(this))},P.Ta=function(e){this.g&&(this.response=e,nh(this))},P.ha=function(){this.g&&nh(this)},P.setRequestHeader=function(e,t){this.v.append(e,t)},P.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},P.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(nA.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ng=Z.JSON.parse;function nv(e){eK.call(this),this.headers=new tL,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=nm,this.K=this.L=!1}q(nv,eK);var nm="",ny=/^https?$/i,nb=["POST","PUT"];function nw(e){return"content-type"==e.toLowerCase()}function n_(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,nE(e),nB(e)}function nE(e){e.D||(e.D=!0,ez(e,"complete"),ez(e,"error"))}function nC(e){if(e.h&&void 0!==j&&(!e.C[1]||4!=nx(e)||2!=e.ba())){if(e.v&&4==nx(e))e3(e.Fa,0,e);else if(ez(e,"readystatechange"),4==nx(e)){e.h=!1;try{var t,n,r=e.ba();switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break;default:o=!1}if(!(t=o)){if(n=0===r){var a=String(e.H).match(tU)[1]||null;if(!a&&Z.self&&Z.self.location){var s=Z.self.location.protocol;a=s.substr(0,s.length-1)}n=!ny.test(a?a.toLowerCase():"")}t=n}if(t)ez(e,"complete"),ez(e,"success");else{e.m=6;try{var u=2<nx(e)?e.g.statusText:""}catch(e){u=""}e.j=u+" ["+e.ba()+"]",nE(e)}}finally{nB(e)}}}}function nB(e,t){if(e.g){nI(e);var n=e.g,r=e.C[0]?Q:null;e.g=null,e.C=null,t||ez(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function nI(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Z.clearTimeout(e.A),e.A=null)}function nx(e){return e.g?e.g.readyState:0}function nT(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case nm:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function nS(e,t,n){e:{for(o in n){var r,o=!1;break e}o=!0}o||(r="",es(n,function(e,t){r+=t+":"+e+"\r\n"}),n=r,"string"==typeof e?null!=n&&encodeURIComponent(String(n)):tz(e,t,n))}function nk(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function nD(e){this.za=0,this.l=[],this.h=new te,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=nk("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=nk("baseRetryDelayMs",5e3,e),this.$a=nk("retryDelaySeedMs",1e4,e),this.Ya=nk("forwardChannelMaxRetries",2,e),this.ra=nk("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new t7(e&&e.concurrentRequestLimit),this.Ca=new nu,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function nN(e){if(nF(e),3==e.G){var t=e.V++,n=tZ(e.F);tz(n,"SID",e.J),tz(n,"RID",t),tz(n,"TYPE","terminate"),nP(e,n),(t=new tb(e,e.h,t,void 0)).K=2,t.v=tG(tZ(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon&&(n=Z.navigator.sendBeacon(t.v.toString(),"")),!n&&Z.Image&&((new Image).src=t.v,n=!0),n||(t.g=nY(t.l,null),t.g.ea(t.v)),t.F=Date.now(),tS(t)}nW(e)}function nO(e){e.g&&(nQ(e),e.g.cancel(),e.g=null)}function nF(e){nO(e),e.u&&(Z.clearTimeout(e.u),e.u=null),nV(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Z.clearTimeout(e.m),e.m=null)}function nR(e,t){e.l.push(new t9(e.Za++,t)),3==e.G&&nL(e)}function nL(e){nt(e.i)||e.m||(e.m=!0,eX(e.Ha,e),e.C=0)}function nM(e,t){n=t?t.m:e.V++;var n,r=tZ(e.F);tz(r,"SID",e.J),tz(r,"RID",n),tz(r,"AID",e.U),nP(e,r),e.o&&e.s&&nS(r,e.o,e.s),n=new tb(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=nU(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),ni(e.i,n),tB(n,r,t)}function nP(e,t){e.j&&tR({},function(e,n){tz(t,n,e)})}function nU(e,t,n){n=Math.min(e.l.length,n);for(var r=e.j?G(e.j.Oa,e.j,e):null,o=e.l,a=-1;;){var s=["count="+n];-1==a?0<n?(a=o[0].h,s.push("ofs="+a)):a=0:s.push("ofs="+a);for(var u=!0,c=0;c<n;c++){var l=o[c].h,A=o[c].g;if(0>(l-=a))a=Math.max(0,o[c].h-100),u=!1;else try{!function(e,t,n){var r=n||"";try{tR(e,function(e,n){var o=e;V(e)&&(o=eW(e)),t.push(r+n+"="+encodeURIComponent(o))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(A,s,"req"+l+"_")}catch(e){r&&r(A)}}if(u){r=s.join("&");break}}return e=e.l.splice(0,n),t.D=e,r}function nj(e){e.g||e.u||(e.Y=1,eX(e.Ga,e),e.A=0)}function nZ(e){return!e.g&&!e.u&&!(3<=e.A)&&(e.Y++,e.u=tl(G(e.Ga,e),nz(e,e.A)),e.A++,!0)}function nQ(e){null!=e.B&&(Z.clearTimeout(e.B),e.B=null)}function nH(e){e.g=new tb(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=tZ(e.oa);tz(t,"RID","rpc"),tz(t,"SID",e.J),tz(t,"CI",e.N?"0":"1"),tz(t,"AID",e.U),nP(e,t),tz(t,"TYPE","xmlhttp"),e.o&&e.s&&nS(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=tG(tZ(t)),n.s=null,n.U=!0,tI(n,e)}function nV(e){null!=e.v&&(Z.clearTimeout(e.v),e.v=null)}function nK(e,t){var n=null;if(e.g==t){nV(e),nQ(e),e.g=null;var r=2}else{if(!nr(e.i,t))return;n=t.D,no(e.i,t),r=1}if(e.I=t.N,0!=e.G){if(t.i){if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var o,a=e.C;ez(r=ti(),new tc(r,n,t,a)),nL(e)}else nj(e)}else if(3==(a=t.o)||0==a&&0<e.I||!(1==r&&(o=t,!(nn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=o.D.concat(e.l),!0):1!=e.G&&2!=e.G&&!(e.C>=(e.Xa?0:e.Ya))&&(e.m=tl(G(e.Ha,e,o),nz(e,e.C)),e.C++,!0)))||2==r&&nZ(e)))switch(n&&0<n.length&&((t=e.i).i=t.i.concat(n)),a){case 1:nG(e,5);break;case 4:nG(e,10);break;case 3:nG(e,6);break;default:nG(e,2)}}}function nz(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function nG(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=G(e.jb,e);n||(n=new tj("//www.google.com/images/cleardot.gif"),Z.location&&"http"==Z.location.protocol||tQ(n,"https"),tG(n)),function(e,t){var n=new te;if(Z.Image){var r=new Image;r.onload=W(nc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=W(nc,n,r,"TestLoadImage: error",!1,t),r.onabort=W(nc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=W(nc,n,r,"TestLoadImage: timeout",!1,t),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else tu(2);e.G=0,e.j&&e.j.va(t),nW(e),nF(e)}function nW(e){e.G=0,e.I=-1,e.j&&((0!=na(e.i).length||0!=e.l.length)&&(e.i.i.length=0,ee(e.l),e.l.length=0),e.j.ua())}function nq(e,t,n){var r=(o=n)instanceof tj?tZ(o):new tj(o,void 0);if(""!=r.i)t&&tH(r,t+"."+r.i),tV(r,r.m);else{var o,a,s,u,c,l,A=Z.location;a=A.protocol,s=t?t+"."+A.hostname:A.hostname,u=+A.port,c=n,l=new tj(null,void 0),a&&tQ(l,a),s&&tH(l,s),u&&tV(l,u),c&&(l.l=c),r=l}return e.aa&&es(e.aa,function(e,t){tz(r,t,e)}),t=e.D,n=e.sa,t&&n&&tz(r,t,n),tz(r,"VER",e.ma),nP(e,r),r}function nY(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new nv(n&&e.Ba&&!e.qa?new nl({ib:!0}):e.qa)).L=e.H,t}function n$(){}function nX(){if(ef&&!(10<=Number(eC)))throw Error("Environmental error: no available transport.")}function nJ(e,t){eK.call(this),this.g=new nD(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!et(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!et(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new n2(this)}function n0(e){tv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function n1(){tm.call(this),this.status=1}function n2(e){this.g=e}(P=nv.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():iG.g(),this.C=this.u?th(this.u):th(iG),this.g.onreadystatechange=G(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(e){n_(this,e);return}e=n||"";var o,a,s=new tL(this.headers);r&&tR(r,function(e,t){s.set(t,e)}),r=function(e){e:{for(var t=nw,n=e.length,r="string"==typeof e?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(s.T()),n=Z.FormData&&e instanceof Z.FormData,!(0<=$(nb,t))||r||n||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nI(this),0<this.B&&((this.K=(o=this.g,ef&&(a=function(){for(var e=0,t=en(String(iV)).split("."),n=en("9").split("."),r=Math.max(t.length,n.length),o=0;0==e&&o<r;o++){var a=t[o]||"",s=n[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ei(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ei(0==a[2].length,0==s[2].length)||ei(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e},Object.prototype.hasOwnProperty.call(eE,9)?eE[9]:eE[9]=a(9))&&"number"==typeof o.timeout&&void 0!==o.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=G(this.pa,this)):this.A=e3(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){n_(this,e)}},P.pa=function(){void 0!==j&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ez(this,"timeout"),this.abort(8))},P.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ez(this,"complete"),ez(this,"abort"),nB(this))},P.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nB(this,!0)),nv.Z.M.call(this)},P.Fa=function(){this.s||(this.F||this.v||this.l?nC(this):this.cb())},P.cb=function(){nC(this)},P.ba=function(){try{return 2<nx(this)?this.g.status:-1}catch(e){return -1}},P.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},P.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ng(t)}},P.Da=function(){return this.m},P.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(P=nD.prototype).ma=8,P.G=1,P.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(e){}},P.Ha=function(e){if(this.m){if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new tb(this,this.h,e,void 0),n=this.s;if(this.P&&(n?el(n=eu(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,o=0;o<this.l.length;o++){r:{var a=this.l[o];if("__data__"in a.g&&"string"==typeof(a=a.g.__data__)){a=a.length;break r}a=void 0}if(void 0===a)break;if(4096<(r+=a)){r=o;break e}if(4096===r||o===this.l.length-1){r=o+1;break e}}r=1e3}else r=1e3;r=nU(this,t,r),tz(o=tZ(this.F),"RID",e),tz(o,"CVER",22),this.D&&tz(o,"X-HTTP-Session-Id",this.D),nP(this,o),this.o&&n&&nS(o,this.o,n),ni(this.i,t),this.Ra&&tz(o,"TYPE","init"),this.ja?(tz(o,"$req",r),tz(o,"SID","null"),t.$=!0,tB(t,o,null)):tB(t,o,r),this.G=2}}else 3==this.G&&(e?nM(this,e):0==this.l.length||nt(this.i)||nM(this))}},P.Ga=function(){if(this.u=null,nH(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=tl(G(this.bb,this),e)}},P.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,tu(10),nO(this),nH(this))},P.ab=function(){null!=this.v&&(this.v=null,nO(this),nZ(this),tu(19))},P.jb=function(e){e?(this.h.info("Successfully pinged google.com"),tu(2)):(this.h.info("Failed to ping google.com"),tu(1))},(P=n$.prototype).xa=function(){},P.wa=function(){},P.va=function(){},P.ua=function(){},P.Oa=function(){},nX.prototype.g=function(e,t){return new nJ(e,t)},q(nJ,eK),nJ.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),eX(G(e.hb,e,t))),tu(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=nq(e,null,e.W),nL(e)},nJ.prototype.close=function(){nN(this.g)},nJ.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,nR(this.g,t)}else this.v?((t={}).__data__=eW(e),nR(this.g,t)):nR(this.g,e)},nJ.prototype.M=function(){this.g.j=null,delete this.j,nN(this.g),delete this.g,nJ.Z.M.call(this)},q(n0,tv),q(n1,tm),q(n2,n$),n2.prototype.xa=function(){ez(this.g,"a")},n2.prototype.wa=function(e){ez(this.g,new n0(e))},n2.prototype.va=function(e){ez(this.g,new n1(e))},n2.prototype.ua=function(){ez(this.g,"b")},nX.prototype.createWebChannel=nX.prototype.g,nJ.prototype.send=nJ.prototype.u,nJ.prototype.open=nJ.prototype.m,nJ.prototype.close=nJ.prototype.close,tA.NO_ERROR=0,tA.TIMEOUT=8,tA.HTTP_ERROR=6,td.COMPLETE="complete",tp.EventType=tg,tg.OPEN="a",tg.CLOSE="b",tg.ERROR="c",tg.MESSAGE="d",eK.prototype.listen=eK.prototype.N,nv.prototype.listenOnce=nv.prototype.O,nv.prototype.getLastError=nv.prototype.La,nv.prototype.getLastErrorCode=nv.prototype.Da,nv.prototype.getStatus=nv.prototype.ba,nv.prototype.getResponseJson=nv.prototype.Qa,nv.prototype.getResponseText=nv.prototype.ga,nv.prototype.send=nv.prototype.ea;var n4={PROXY:10,NOPROXY:11},n3=n(34406),n5=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();n5.o=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var n6={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},n8=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,O.__extends)(t,e),t}(Error),n9=new R.Yd("@firebase/firestore");function n7(){return n9.logLevel}function re(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(n9.logLevel<=R.in.DEBUG){var r=t.map(rr);n9.debug.apply(n9,(0,O.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function rt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(n9.logLevel<=R.in.ERROR){var r=t.map(rr);n9.error.apply(n9,(0,O.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function rn(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(n9.logLevel<=R.in.WARN){var r=t.map(rr);n9.warn.apply(n9,(0,O.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function rr(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw rt(t),Error(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ro=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(40);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<40;r++)n[r]=Math.floor(256*Math.random());return n}(0),o=0;o<r.length;++o)n.length<20&&r[o]<t&&(n+=e.charAt(r[o]%e.length));return n},e}();function ra(e,t){return e<t?-1:e>t?1:0}function rs(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ru=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new n8(n6.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800||e>=253402300800)throw new n8(n6.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?ra(this.nanoseconds,e.nanoseconds):ra(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),rc=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new ru(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function rA(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function rd(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rf=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&ri(),void 0===n?n=e.length-t:n>e.length-t&&ri(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var o=e.get(r),a=t.get(r);if(o<a)return -1;if(o>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),rh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,O.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],o=0;o<e.length;o++){var a=e[o];if(a.indexOf("//")>=0)throw new n8(n6.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(e){return e.length>0}))}return new t(r)},t.emptyPath=function(){return new t([])},t}(rf),rp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,O.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return rp.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",o=0,a=function(){if(0===r.length)throw new n8(n6.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;o<e.length;){var u=e[o];if("\\"===u){if(o+1===e.length)throw new n8(n6.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var c=e[o+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new n8(n6.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,o+=2}else"`"===u?s=!s:"."!==u||s?r+=u:a(),o++}if(a(),s)throw new n8(n6.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(rf),rv=function(){function e(e){this.fields=e,e.sort(rg.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return rs(this.fields,e.fields,function(e,t){return e.isEqual(t)})},e}(),rm=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return btoa(this.binaryString)},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return ra(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();rm.EMPTY_BYTE_STRING=new rm("");var ry=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rb(e){if(e||ri(),"string"==typeof e){var t=0,n=ry.exec(e);if(n||ri(),n[1]){var r=n[1];t=Number(r=(r+"000000000").substr(0,9))}return{seconds:Math.floor(new Date(e).getTime()/1e3),nanos:t}}return{seconds:rw(e.seconds),nanos:rw(e.nanos)}}function rw(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function r_(e){return"string"==typeof e?rm.fromBase64String(e):rm.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rC(e){var t=rb(e.mapValue.fields.__local_write_time__.timestampValue);return new ru(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(e){return null==e}function rI(e){return 0===e&&1/e==-1/0}function rx(e){return"number"==typeof e&&Number.isInteger(e)&&!rI(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rT=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(rh.fromString(t))},e.fromName=function(t){return new e(rh.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===rh.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return rh.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new rh(t.slice()))},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rE(e)?4:10:ri()}function rk(e,t){var n=rS(e);if(n!==rS(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rC(e).isEqual(rC(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=rb(e.timestampValue),r=rb(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r_(e.bytesValue).isEqual(r_(t.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return rw(e.geoPointValue.latitude)===rw(t.geoPointValue.latitude)&&rw(e.geoPointValue.longitude)===rw(t.geoPointValue.longitude);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return rw(e.integerValue)===rw(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=rw(e.doubleValue),r=rw(t.doubleValue);return n===r?rI(n)===rI(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return rs(e.arrayValue.values||[],t.arrayValue.values||[],rk);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rl(n)!==rl(r))return!1;for(var o in n)if(n.hasOwnProperty(o)&&(void 0===r[o]||!rk(n[o],r[o])))return!1;return!0}(e,t);default:return ri()}}function rD(e,t){return void 0!==(e.values||[]).find(function(e){return rk(e,t)})}function rN(e,t){var n,r,o,a,s,u,c,l,A,d=rS(e),f=rS(t);if(d!==f)return ra(d,f);switch(d){case 0:return 0;case 1:return ra(e.booleanValue,t.booleanValue);case 2:return(n=rw(e.integerValue||e.doubleValue))<(r=rw(t.integerValue||t.doubleValue))?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1;case 3:return rO(e.timestampValue,t.timestampValue);case 4:return rO(rC(e),rC(t));case 5:return ra(e.stringValue,t.stringValue);case 6:return o=e.bytesValue,a=t.bytesValue,s=r_(o),u=r_(a),s.compareTo(u);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),o=0;o<n.length&&o<r.length;o++){var a=ra(n[o],r[o]);if(0!==a)return a}return ra(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return c=e.geoPointValue,l=t.geoPointValue,0!==(A=ra(rw(c.latitude),rw(l.latitude)))?A:ra(rw(c.longitude),rw(l.longitude));case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],o=0;o<n.length&&o<r.length;++o){var a=rN(n[o],r[o]);if(a)return a}return ra(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),o=t.fields||{},a=Object.keys(o);r.sort(),a.sort();for(var s=0;s<r.length&&s<a.length;++s){var u=ra(r[s],a[s]);if(0!==u)return u;var c=rN(n[r[s]],o[a[s]]);if(0!==c)return c}return ra(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ri()}}function rO(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ra(e,t);var n=rb(e),r=rb(t),o=ra(n.seconds,r.seconds);return 0!==o?o:ra(n.nanos,r.nanos)}function rF(e){var t,n,r;return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?"time("+(r=rb(e.timestampValue)).seconds+","+r.nanos+")":"stringValue"in e?e.stringValue:"bytesValue"in e?r_(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,rT.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,o=e.values||[];r<o.length;r++)n?n=!1:t+=",",t+=rF(o[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,o=Object.keys(e.fields||{}).sort();r<o.length;r++){var a=o[r];n?n=!1:t+=",",t+=a+":"+rF(e.fields[a])}return t+"}"}(e.mapValue):ri()}function rR(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function rL(e){return!!e&&"integerValue"in e}function rM(e){return!!e&&"arrayValue"in e}function rP(e){return!!e&&"nullValue"in e}function rU(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rj(e){return!!e&&"mapValue"in e}function rZ(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return rA(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=rZ(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=rZ(e.arrayValue.values[r]);return n}return Object.assign({},e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rQ=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!rj(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rZ(t)},e.prototype.setAll=function(e){var t=this,n=rg.emptyPath(),r={},o=[];e.forEach(function(e,a){if(!n.isImmediateParentOf(a)){var s=t.getFieldsMap(n);t.applyChanges(s,r,o),r={},o=[],n=a.popLast()}e?r[a.lastSegment()]=rZ(e):o.push(a.lastSegment())});var a=this.getFieldsMap(n);this.applyChanges(a,r,o)},e.prototype.delete=function(e){var t=this.field(e.popLast());rj(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return rk(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];rj(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){rA(t,function(t,n){return e[t]=n});for(var r=0;r<n.length;r++){var o=n[r];delete e[o]}},e.prototype.clone=function(){return new e(rZ(this.value))},e}(),rH=function(){function e(e,t,n,r,o){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=o}return e.newInvalidDocument=function(t){return new e(t,0,rc.min(),rQ.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,rQ.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,rQ.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=rQ.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=rQ.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),rV=function(e,t,n,r,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=a,this.endAt=s,this.h=null};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rK(e,t,n,r,o,a,s){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===a&&(a=null),void 0===s&&(s=null),new rV(e,t,n,r,o,a,s)}function rz(e){if(null===e.h){var t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:"+e.filters.map(function(e){return e.field.canonicalString()+e.op.toString()+rF(e.value)}).join(",")+"|ob:"+e.orderBy.map(function(e){return e.field.canonicalString()+e.dir}).join(","),rB(e.limit)||(t+="|l:"+e.limit),e.startAt&&(t+="|lb:"+r5(e.startAt)),e.endAt&&(t+="|ub:"+r5(e.endAt)),e.h=t}return e.h}function rG(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(var n,r,o,a,s=0;s<e.orderBy.length;s++)if(n=e.orderBy[s],r=t.orderBy[s],!(n.dir===r.dir&&n.field.isEqual(r.field)))return!1;if(e.filters.length!==t.filters.length)return!1;for(var u=0;u<e.filters.length;u++)if(o=e.filters[u],a=t.filters[u],o.op!==a.op||!o.field.isEqual(a.field)||!rk(o.value,a.value))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!r9(e.startAt,t.startAt)&&r9(e.endAt,t.endAt)}function rW(e){return rT.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var rq=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).field=t,o.op=n,o.value=r,o}return(0,O.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new rY(e,n,r):"array-contains"===n?new r0(e,r):"in"===n?new r1(e,r):"not-in"===n?new r2(e,r):"array-contains-any"===n?new r4(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new r$(e,n):new rX(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(rN(t,this.value)):null!==t&&rS(this.value)===rS(t)&&this.m(rN(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ri()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),rY=function(e){function t(t,n,r){var o=this;return(o=e.call(this,t,n,r)||this).key=rT.fromName(r.referenceValue),o}return(0,O.__extends)(t,e),t.prototype.matches=function(e){var t=rT.comparator(e.key,this.key);return this.m(t)},t}(rq),r$=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=rJ("in",n),r}return(0,O.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some(function(t){return t.isEqual(e.key)})},t}(rq),rX=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=rJ("not-in",n),r}return(0,O.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})},t}(rq);function rJ(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return rT.fromName(e.referenceValue)})}var r0=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,O.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return rM(t)&&rD(t.arrayValue,this.value)},t}(rq),r1=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,O.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&rD(this.value.arrayValue,t)},t}(rq),r2=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,O.__extends)(t,e),t.prototype.matches=function(e){if(rD(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!rD(this.value.arrayValue,t)},t}(rq),r4=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,O.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!rM(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return rD(t.value.arrayValue,e)})},t}(rq),r3=function(e,t){this.position=e,this.before=t};function r5(e){return(e.before?"b":"a")+":"+e.position.map(function(e){return rF(e)}).join(",")}var r6=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function r8(e,t,n){for(var r=0,o=0;o<e.position.length;o++){var a=t[o],s=e.position[o];if(r=a.field.isKeyField()?rT.comparator(rT.fromName(s.referenceValue),n.key):rN(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function r9(e,t){if(null===e)return null===t;if(null===t||e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!rk(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r7=function(e,t,n,r,o,a,s,u){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===o&&(o=null),void 0===a&&(a="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=u,this.p=null,this.T=null,this.startAt,this.endAt};function ie(e){return new r7(e)}function it(e){return!rB(e.limit)&&"F"===e.limitType}function ir(e){return!rB(e.limit)&&"L"===e.limitType}function ii(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function io(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function ia(e){return null!==e.collectionGroup}function is(e){if(null===e.p){e.p=[];var t=io(e),n=ii(e);if(null!==t&&null===n)t.isKeyField()||e.p.push(new r6(t)),e.p.push(new r6(rg.keyField(),"asc"));else{for(var r=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(r=!0)}if(!r){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new r6(rg.keyField(),u))}}}return e.p}function iu(e){if(!e.T){if("F"===e.limitType)e.T=rK(e.path,e.collectionGroup,is(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var t=[],n=0,r=is(e);n<r.length;n++){var o=r[n],a="desc"===o.dir?"asc":"desc";t.push(new r6(o.field,a))}var s=e.endAt?new r3(e.endAt.position,!e.endAt.before):null,u=e.startAt?new r3(e.startAt.position,!e.startAt.before):null;e.T=rK(e.path,e.collectionGroup,t,e.filters,e.limit,s,u)}}return e.T}function ic(e,t,n){return new r7(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function il(e,t){return rG(iu(e),iu(t))&&e.limitType===t.limitType}function iA(e){return rz(iu(e))+"|lt:"+e.limitType}function id(e){var t,n;return"Query(target="+(n=(t=iu(e)).path.canonicalString(),null!==t.collectionGroup&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=", filters: ["+t.filters.map(function(e){return e.field.canonicalString()+" "+e.op+" "+rF(e.value)}).join(", ")+"]"),rB(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=", orderBy: ["+t.orderBy.map(function(e){return e.field.canonicalString()+" ("+e.dir+")"}).join(", ")+"]"),t.startAt&&(n+=", startAt: "+r5(t.startAt)),t.endAt&&(n+=", endAt: "+r5(t.endAt)),"Target("+n+")")+"; limitType="+e.limitType+")"}function ih(e,t){var n;return t.isFoundDocument()&&(n=t.key.path,null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):rT.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n))&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var o=r[n];if(!o.field.isKeyField()&&null===t.data.field(o.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&!(e.startAt&&!r8(e.startAt,is(e),t))&&(!e.endAt||!r8(e.endAt,is(e),t))}function ip(e){return function(t,n){for(var r=!1,o=0,a=is(e);o<a.length;o++){var s=a[o],u=function(e,t,n){var r,o,a,s=e.field.isKeyField()?rT.comparator(t.key,n.key):(r=e.field,o=t.data.field(r),a=n.data.field(r),null!==o&&null!==a?rN(o,a):ri());switch(e.dir){case"asc":return s;case"desc":return -1*s;default:return ri()}}(s,t,n);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rI(t)?"-0":t}}function iv(e){return{integerValue:""+e}}function im(e,t){return rx(t)?iv(t):ig(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iy=function(){this._=void 0};function ib(e,t){return e instanceof iI?rL(t)||t&&"doubleValue"in t?t:{integerValue:0}:null}var iw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,O.__extends)(t,e),t}(iy),i_=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,O.__extends)(t,e),t}(iy);function iE(e,t){for(var n=iT(t),r=function(e){n.some(function(t){return rk(t,e)})||n.push(e)},o=0,a=e.elements;o<a.length;o++)r(a[o]);return{arrayValue:{values:n}}}var iC=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,O.__extends)(t,e),t}(iy);function iB(e,t){for(var n=iT(t),r=function(e){n=n.filter(function(t){return!rk(t,e)})},o=0,a=e.elements;o<a.length;o++)r(a[o]);return{arrayValue:{values:n}}}var iI=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,O.__extends)(t,e),t}(iy);function ix(e){return rw(e.integerValue||e.doubleValue)}function iT(e){return rM(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var iS=function(e,t){this.field=e,this.transform=t},ik=function(e,t){this.version=e,this.transformResults=t},iD=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function iN(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var iO=function(){};function iF(e,t,n){e instanceof iM?function(e,t,n){if(iN(e.precondition,t)){var r=e.value.clone(),o=iZ(e.fieldTransforms,n,t);r.setAll(o),t.convertToFoundDocument(iL(t),r).setHasLocalMutations()}}(e,t,n):e instanceof iP?function(e,t,n){if(iN(e.precondition,t)){var r=iZ(e.fieldTransforms,n,t),o=t.data;o.setAll(iU(e)),o.setAll(r),t.convertToFoundDocument(iL(t),o).setHasLocalMutations()}}(e,t,n):iN(e.precondition,t)&&t.convertToNoDocument(rc.min())}function iR(e,t){var n,r;return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||!(!n||!r)&&rs(n,r,function(e,t){var n,r;return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof i_&&r instanceof i_||n instanceof iC&&r instanceof iC?rs(n.elements,r.elements,rk):n instanceof iI&&r instanceof iI?rk(n.A,r.A):n instanceof iw&&r instanceof iw)})))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function iL(e){return e.isFoundDocument()?e.version:rc.min()}var iM=function(e){function t(t,n,r,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.value=n,a.precondition=r,a.fieldTransforms=o,a.type=0,a}return(0,O.__extends)(t,e),t}(iO),iP=function(e){function t(t,n,r,o,a){void 0===a&&(a=[]);var s=this;return(s=e.call(this)||this).key=t,s.data=n,s.fieldMask=r,s.precondition=o,s.fieldTransforms=a,s.type=1,s}return(0,O.__extends)(t,e),t}(iO);function iU(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function ij(e,t,n){var r=new Map;e.length===n.length||ri();for(var o=0;o<n.length;o++){var a,s=e[o],u=s.transform,c=t.data.field(s.field);r.set(s.field,(a=n[o],u instanceof i_?iE(u,c):u instanceof iC?iB(u,c):a))}return r}function iZ(e,t,n){for(var r=new Map,o=0;o<e.length;o++){var a=e[o],s=a.transform,u=n.data.field(a.field);r.set(a.field,function(e,t,n){var r,o,a;return e instanceof iw?(r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}},t&&(r.fields.__previous_value__=t),{mapValue:r}):e instanceof i_?iE(e,t):e instanceof iC?iB(e,t):(a=ix(o=ib(e,t))+ix(e.A),rL(o)&&rL(e.A)?iv(a):ig(e.R,a))}(s,u,t))}return r}var iQ,iH,iV,iK,iz,iG,iW,iq,iY=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,O.__extends)(t,e),t}(iO),i$=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,O.__extends)(t,e),t}(iO),iX=function(e){this.count=e};function iJ(e){switch(e){case n6.OK:return ri();case n6.CANCELLED:case n6.UNKNOWN:case n6.DEADLINE_EXCEEDED:case n6.RESOURCE_EXHAUSTED:case n6.INTERNAL:case n6.UNAVAILABLE:case n6.UNAUTHENTICATED:return!1;case n6.INVALID_ARGUMENT:case n6.NOT_FOUND:case n6.ALREADY_EXISTS:case n6.PERMISSION_DENIED:case n6.FAILED_PRECONDITION:case n6.ABORTED:case n6.OUT_OF_RANGE:case n6.UNIMPLEMENTED:case n6.DATA_LOSS:return!0;default:return ri()}}function i0(e){if(void 0===e)return rt("GRPC error has no .code"),n6.UNKNOWN;switch(e){case iW.OK:return n6.OK;case iW.CANCELLED:return n6.CANCELLED;case iW.UNKNOWN:return n6.UNKNOWN;case iW.DEADLINE_EXCEEDED:return n6.DEADLINE_EXCEEDED;case iW.RESOURCE_EXHAUSTED:return n6.RESOURCE_EXHAUSTED;case iW.INTERNAL:return n6.INTERNAL;case iW.UNAVAILABLE:return n6.UNAVAILABLE;case iW.UNAUTHENTICATED:return n6.UNAUTHENTICATED;case iW.INVALID_ARGUMENT:return n6.INVALID_ARGUMENT;case iW.NOT_FOUND:return n6.NOT_FOUND;case iW.ALREADY_EXISTS:return n6.ALREADY_EXISTS;case iW.PERMISSION_DENIED:return n6.PERMISSION_DENIED;case iW.FAILED_PRECONDITION:return n6.FAILED_PRECONDITION;case iW.ABORTED:return n6.ABORTED;case iW.OUT_OF_RANGE:return n6.OUT_OF_RANGE;case iW.UNIMPLEMENTED:return n6.UNIMPLEMENTED;case iW.DATA_LOSS:return n6.DATA_LOSS;default:return ri()}}(iq=iW||(iW={}))[iq.OK=0]="OK",iq[iq.CANCELLED=1]="CANCELLED",iq[iq.UNKNOWN=2]="UNKNOWN",iq[iq.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",iq[iq.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",iq[iq.NOT_FOUND=5]="NOT_FOUND",iq[iq.ALREADY_EXISTS=6]="ALREADY_EXISTS",iq[iq.PERMISSION_DENIED=7]="PERMISSION_DENIED",iq[iq.UNAUTHENTICATED=16]="UNAUTHENTICATED",iq[iq.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",iq[iq.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",iq[iq.ABORTED=10]="ABORTED",iq[iq.OUT_OF_RANGE=11]="OUT_OF_RANGE",iq[iq.UNIMPLEMENTED=12]="UNIMPLEMENTED",iq[iq.INTERNAL=13]="INTERNAL",iq[iq.UNAVAILABLE=14]="UNAVAILABLE",iq[iq.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i1=function(){function e(e,t){this.comparator=e,this.root=t||i4.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,i4.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,i4.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return -1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,n){return e.push(t+":"+n),!1}),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new i2(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new i2(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new i2(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new i2(this.root,e,this.comparator,!0)},e}(),i2=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var o=1;!e.isEmpty();)if(o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),i4=function(){function e(t,n,r,o,a){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=o?o:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,o,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=a?a:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,o=n(e,r.key);return(r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,o=this;if(0>n(t,o.key))o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(t,o.key)){if(o.right.isEmpty())return e.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){return Math.pow(2,this.check())<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ri();var e=this.left.check();if(e!==this.right.check())throw ri();return e+(this.isRed()?0:1)},e}();i4.EMPTY=null,i4.RED=!0,i4.BLACK=!1,i4.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw ri()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw ri()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw ri()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw ri()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw ri()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,o){return this},e.prototype.insert=function(e,t,n){return new i4(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var i3=function(){function e(e){this.comparator=e,this.data=new i1(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new i5(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new i5(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var o=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(o,a))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),i5=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),i6=new i1(rT.comparator),i8=new i1(rT.comparator),i9=new i1(rT.comparator),i7=new i3(rT.comparator);function oe(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=i7,r=0;r<e.length;r++){var o=e[r];n=n.add(o)}return n}var ot=new i3(ra),on=function(){function e(e,t,n,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,or.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(rc.min(),r,ot,i6,oe())},e}(),or=function(){function e(e,t,n,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(rm.EMPTY_BYTE_STRING,n,oe(),oe(),oe())},e}(),oi=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},oo=function(e,t){this.targetId=e,this.V=t},oa=function(e,t,n,r){void 0===n&&(n=rm.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},os=function(){function e(){this.S=0,this.D=ol(),this.C=rm.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=oe(),t=oe(),n=oe();return this.D.forEach(function(r,o){switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ri()}}),new or(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=ol()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),ou=function(){function e(e){this.W=e,this.G=new Map,this.H=i6,this.J=oc(),this.Y=new i3(ra)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var o=0,a=e.removedTargetIds;o<a.length;o++)r=a[o],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:ri()}})},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(e,r){n.st(r)&&t(r)})},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var o=r.target;if(rW(o)){if(0===n){var a=new rT(o.path);this.tt(t,a,rH.newNoDocument(a,rc.min()))}else 1===n||ri()}else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach(function(r,o){var a=t.ot(o);if(a){if(r.current&&rW(a.target)){var s=new rT(a.target.path);null!==t.H.get(s)||t.at(o,s)||t.tt(o,s,rH.newNoDocument(s,e))}r.$&&(n.set(o,r.M()),r.L())}});var r=oe();this.J.forEach(function(e,n){var o=!0;n.forEachWhile(function(e){var n=t.ot(e);return!n||2===n.purpose||(o=!1,!1)}),o&&(r=r.add(e))});var o=new on(e,n,this.Y,this.H,r);return this.H=i6,this.J=oc(),this.Y=new i3(ra),o},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new os,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new i3(ra),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||re("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new os),this.W.getRemoteKeysForTarget(e).forEach(function(n){t.tt(e,n,null)})},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function oc(){return new i1(rT.comparator)}function ol(){return new i1(rT.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oA={asc:"ASCENDING",desc:"DESCENDING"},od={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},of=function(e,t){this.databaseId=e,this.I=t};function oh(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function op(e,t){return e.I?t.toBase64():t.toUint8Array()}function og(e){var t;return e||ri(),rc.fromTimestamp(new ru((t=rb(e)).seconds,t.nanos))}function ov(e,t){return new rh(["projects",e.projectId,"databases",e.database]).child("documents").child(t).canonicalString()}function om(e){var t=rh.fromString(e);return oL(t)||ri(),t}function oy(e,t){return ov(e.databaseId,t.path)}function ob(e,t){var n=om(t);if(n.get(1)!==e.databaseId.projectId)throw new n8(n6.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new n8(n6.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new rT(oC(n))}function ow(e,t){return ov(e.databaseId,t)}function o_(e){var t=om(e);return 4===t.length?rh.emptyPath():oC(t)}function oE(e){return new rh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function oC(e){return e.length>4&&"documents"===e.get(4)||ri(),e.popFirst(5)}function oB(e,t,n){return{name:oy(e,t),fields:n.value.mapValue.fields}}function oI(e,t,n){var r=ob(e,t.name),o=og(t.updateTime),a=new rQ({mapValue:{fields:t.fields}}),s=rH.newFoundDocument(r,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function ox(e,t){var n,r,o,a;if(t instanceof iM)n={update:oB(e,t.key,t.value)};else if(t instanceof iY)n={delete:oy(e,t.key)};else if(t instanceof iP)n={update:oB(e,t.key,t.data),updateMask:(o=t.fieldMask,a=[],o.fields.forEach(function(e){return a.push(e.canonicalString())}),{fieldPaths:a})};else{if(!(t instanceof i$))return ri();n={verify:oy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(function(e){return function(e,t){var n=t.transform;if(n instanceof iw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof i_)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof iC)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof iI)return{fieldPath:t.field.canonicalString(),increment:n.A};throw ri()}(0,e)})),t.precondition.isNone||(n.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:oh(e,r.updateTime.toTimestamp())}:void 0!==r.exists?{exists:r.exists}:ri()),n}function oT(e,t){var n,r=t.currentDocument?void 0!==(n=t.currentDocument).updateTime?iD.updateTime(og(n.updateTime)):void 0!==n.exists?iD.exists(n.exists):iD.none():iD.none(),o=t.updateTransforms?t.updateTransforms.map(function(t){var n;return n=null,"setToServerValue"in t?("REQUEST_TIME"===t.setToServerValue||ri(),n=new iw):"appendMissingElements"in t?n=new i_(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new iC(t.removeAllFromArray.values||[]):"increment"in t?n=new iI(e,t.increment):ri(),new iS(rg.fromServerFormat(t.fieldPath),n)}):[];if(t.update){t.update.name;var a=ob(e,t.update.name),s=new rQ({mapValue:{fields:t.update.fields}});return t.updateMask?new iP(a,s,new rv((t.updateMask.fieldPaths||[]).map(function(e){return rg.fromServerFormat(e)})),r,o):new iM(a,s,r,o)}return t.delete?new iY(ob(e,t.delete),r):t.verify?new i$(ob(e,t.verify),r):ri()}function oS(e,t){return{documents:[ow(e,t.path)]}}function ok(e,t){var n,r={structuredQuery:{}},o=t.path;null!==t.collectionGroup?(r.parent=ow(e,o),r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r.parent=ow(e,o.popLast()),r.structuredQuery.from=[{collectionId:o.lastSegment()}]);var a=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(rU(e.value))return{unaryFilter:{field:oF(e.field),op:"IS_NAN"}};if(rP(e.value))return{unaryFilter:{field:oF(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rU(e.value))return{unaryFilter:{field:oF(e.field),op:"IS_NOT_NAN"}};if(rP(e.value))return{unaryFilter:{field:oF(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oF(e.field),op:od[e.op],value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);a&&(r.structuredQuery.where=a);var s=function(e){if(0!==e.length)return e.map(function(e){return{field:oF(e.field),direction:oA[e.dir]}})}(t.orderBy);s&&(r.structuredQuery.orderBy=s);var u=(n=t.limit,e.I||rB(n)?n:{value:n});return null!==u&&(r.structuredQuery.limit=u),t.startAt&&(r.structuredQuery.startAt=oN(t.startAt)),t.endAt&&(r.structuredQuery.endAt=oN(t.endAt)),r}function oD(e){var t,n,r=o_(e.parent),o=e.structuredQuery,a=o.from?o.from.length:0,s=null;if(a>0){1===a||ri();var u=o.from[0];u.allDescendants?s=u.collectionId:r=r.child(u.collectionId)}var c=[];o.where&&(c=function e(t){return t?void 0!==t.unaryFilter?[function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=oR(e.unaryFilter.field);return rq.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=oR(e.unaryFilter.field);return rq.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=oR(e.unaryFilter.field);return rq.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var o=oR(e.unaryFilter.field);return rq.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ri()}}(t)]:void 0!==t.fieldFilter?[rq.create(oR(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ri()}}(t.fieldFilter.op),t.fieldFilter.value)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e(t)}).reduce(function(e,t){return e.concat(t)}):ri():[]}(o.where));var l=[];o.orderBy&&(l=o.orderBy.map(function(e){return new r6(oR(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}));var A=null;o.limit&&(A=rB(n="object"==typeof(t=o.limit)?t.value:t)?null:n);var d=null;o.startAt&&(d=oO(o.startAt));var f=null;return o.endAt&&(f=oO(o.endAt)),new r7(r,s,l,c,A,"F",d,f)}function oN(e){return{before:e.before,values:e.position}}function oO(e){var t=!!e.before;return new r3(e.values||[],t)}function oF(e){return{fieldPath:e.canonicalString()}}function oR(e){return rg.fromServerFormat(e.fieldPath)}function oL(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t+="\x01\x01"),t=function(e,t){for(var n=t,r=e.length,o=0;o<r;o++){var a=e.charAt(o);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}(e.get(n),t);return t+"\x01\x01"}function oP(e){var t=e.length;if(t>=2||ri(),2===t)return"\x01"===e.charAt(0)&&"\x01"===e.charAt(1)||ri(),rh.emptyPath();for(var n=t-2,r=[],o="",a=0;a<t;){var s=e.indexOf("\x01",a);switch((s<0||s>n)&&ri(),e.charAt(s+1)){case"\x01":var u=e.substring(a,s),c=void 0;0===o.length?c=u:(c=o+=u,o=""),r.push(c);break;case"\x10":o+=e.substring(a,s)+"\0";break;case"\x11":o+=e.substring(a,s+1);break;default:ri()}a=s+2}return new rh(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oU=function(e,t){this.seconds=e,this.nanoseconds=t},oj=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};oj.store="owner",oj.key="owner";var oZ=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};oZ.store="mutationQueues",oZ.keyPath="userId";var oQ=function(e,t,n,r,o){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=o};oQ.store="mutations",oQ.keyPath="batchId",oQ.userMutationsIndex="userMutationsIndex",oQ.userMutationsKeyPath=["userId","batchId"];var oH=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,oM(t)]},e.key=function(e,t,n){return[e,oM(t),n]},e}();oH.store="documentMutations",oH.PLACEHOLDER=new oH;var oV=function(e,t){this.path=e,this.readTime=t},oK=function(e,t){this.path=e,this.version=t},oz=function(e,t,n,r,o,a){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=o,this.parentPath=a};oz.store="remoteDocuments",oz.readTimeIndex="readTimeIndex",oz.readTimeIndexPath="readTime",oz.collectionReadTimeIndex="collectionReadTimeIndex",oz.collectionReadTimeIndexPath=["parentPath","readTime"];var oG=function(e){this.byteSize=e};oG.store="remoteDocumentGlobal",oG.key="remoteDocumentGlobalKey";var oW=function(e,t,n,r,o,a,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=o,this.lastLimboFreeSnapshotVersion=a,this.query=s};oW.store="targets",oW.keyPath="targetId",oW.queryTargetsIndexName="queryTargetsIndex",oW.queryTargetsKeyPath=["canonicalId","targetId"];var oq=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};oq.store="targetDocuments",oq.keyPath=["targetId","path"],oq.documentTargetsIndex="documentTargetsIndex",oq.documentTargetsKeyPath=["path","targetId"];var oY=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};oY.key="targetGlobalKey",oY.store="targetGlobal";var o$=function(e,t){this.collectionId=e,this.parent=t};o$.store="collectionParents",o$.keyPath=["collectionId","parent"];var oX=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};oX.store="clientMetadata",oX.keyPath="clientId";var oJ=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};oJ.store="bundles",oJ.keyPath="bundleId";var o0=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};o0.store="namedQueries",o0.keyPath="name";var o1=(0,O.__spreadArray)((0,O.__spreadArray)([],(0,O.__spreadArray)((0,O.__spreadArray)([],(0,O.__spreadArray)((0,O.__spreadArray)([],(0,O.__spreadArray)((0,O.__spreadArray)([],[oZ.store,oQ.store,oH.store,oz.store,oW.store,oj.store,oY.store,oq.store]),[oX.store])),[oG.store])),[o$.store])),[oJ.store,o0.store]),o2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",o4=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},e}(),o3=function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})},o5=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&ri(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,o){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,o)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,o)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,o=0,a=!1;t.forEach(function(t){++r,t.next(function(){++o,a&&o===r&&e()},function(e){return n(e)})}),a=!0,o===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next(function(n){return n?e.resolve(n):t()})},o=0;o<t.length;o++)r(t[o]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,o){r.push(t.call(n,e,o))}),this.waitFor(r)},e}(),o6=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new o3,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new o7(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=ai(t.target.error);n.ft.reject(new o7(e,r))}}return e.open=function(t,n,r,o){try{return new e(n,t.transaction(o,r))}catch(e){throw new o7(n,e)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(re("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){return new at(this.transaction.objectStore(e))},e}(),o8=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,F.z$)())&&rt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return re("SimpleDb","Removing database:",e),an(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,F.z$)(),n=e._t(t),r=e.Et(t);return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||0<n&&n<10||0<r&&r<4.5)},e.gt=function(){var e;return void 0!==n3&&"YES"===(null===(e=n3.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i);return Number(t?t[1].split("_").slice(0,2).join("."):"-1")},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i);return Number(t?t[1].split(".").slice(0,2).join("."):"-1")},e.prototype.At=function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,O.__generator)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(re("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(t,r){var o=indexedDB.open(n.name,n.version);o.onsuccess=function(e){t(e.target.result)},o.onblocked=function(){r(new o7(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new n8(n6.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new o7(e,n))},o.onupgradeneeded=function(e){re("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,o.transaction,e.oldVersion,n.version).next(function(){re("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}})})},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,O.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c;return(0,O.__generator)(this,function(l){switch(l.label){case 0:o="readonly"===t,a=0,s=function(){var t,s,c,l,A;return(0,O.__generator)(this,function(d){switch(d.label){case 0:++a,d.label=1;case 1:return d.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=d.sent(),s=r(t=o6.open(u.db,e,o?"readonly":"readwrite",n)).catch(function(e){return t.abort(e),o5.reject(e)}).toPromise(),c={},s.catch(function(){}),[4,t.dt];case 3:return[2,(c.value=(d.sent(),s),c)];case 4:return A="FirebaseError"!==(l=d.sent()).name&&a<3,re("SimpleDb","Transaction failed with error:",l.message,"Retrying:",A),u.close(),A?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),o9=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return an(this.Pt.delete())},e}(),o7=function(e){function t(t,n){var r=this;return(r=e.call(this,n6.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,O.__extends)(t,e),t}(n8);function ae(e){return"IndexedDbTransactionError"===e.name}var at=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(re("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(re("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),an(n)},e.prototype.add=function(e){return re("SimpleDb","ADD",this.store.name,e,e),an(this.store.add(e))},e.prototype.get=function(e){var t=this;return an(this.store.get(e)).next(function(n){return void 0===n&&(n=null),re("SimpleDb","GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return re("SimpleDb","DELETE",this.store.name,e),an(this.store.delete(e))},e.prototype.count=function(){return re("SimpleDb","COUNT",this.store.name),an(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.kt=function(e,t){re("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,function(e,t,n){return n.delete()})},e.prototype.$t=function(e,t){t?n=e:(n={},t=e);var n,r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new o5(function(n,r){t.onerror=function(e){r(ai(e.target.error))},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},e.prototype.xt=function(e,t){var n=[];return new o5(function(r,o){e.onerror=function(e){o(e.target.error)},e.onsuccess=function(e){var o=e.target.result;if(o){var a=new o9(o),s=t(o.primaryKey,o.value,a);if(s instanceof o5){var u=s.catch(function(e){return a.done(),o5.reject(e)});n.push(u)}a.isDone?r():null===a.Dt?o.continue():o.continue(a.Dt)}else r()}}).next(function(){return o5.waitFor(n)})},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function an(e){return new o5(function(t,n){e.onsuccess=function(e){t(e.target.result)},e.onerror=function(e){n(ai(e.target.error))}})}var ar=!1;function ai(e){var t=o8._t((0,F.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new n8("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ar||(ar=!0,setTimeout(function(){throw r},0)),r}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ao=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,O.__extends)(t,e),t}(o4);function aa(e,t){return o8.It(e.Mt,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var as=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var o=this.mutations[r];o.key.isEqual(e.key)&&function(e,t,n){var r,o;e instanceof iM?(r=e.value.clone(),o=ij(e.fieldTransforms,t,n.transformResults),r.setAll(o),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()):e instanceof iP?function(e,t,n){if(iN(e.precondition,t)){var r=ij(e.fieldTransforms,t,n.transformResults),o=t.data;o.setAll(iU(e)),o.setAll(r),t.convertToFoundDocument(n.version,o).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}(o,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t,n=0,r=this.baseMutations;n<r.length;n++)(t=r[n]).key.isEqual(e.key)&&iF(t,e,this.localWriteTime);for(var o=0,a=this.mutations;o<a.length;o++)(t=a[o]).key.isEqual(e.key)&&iF(t,e,this.localWriteTime)},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(n){var r=e.get(n.key);t.applyToLocalView(r),r.isValidDocument()||r.convertToNoDocument(rc.min())})},e.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},oe())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&rs(this.mutations,e.mutations,function(e,t){return iR(e,t)})&&rs(this.baseMutations,e.baseMutations,function(e,t){return iR(e,t)})},e}(),au=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){t.mutations.length===r.length||ri();for(var o=i9,a=t.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new e(t,n,r,o)},e}(),ac=function(){function e(e,t,n,r,o,a,s){void 0===o&&(o=rc.min()),void 0===a&&(a=rc.min()),void 0===s&&(s=rm.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),al=function(e){this.Lt=e};function aA(e,t){if(t.document)return oI(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=rT.fromSegments(t.noDocument.path),r=ag(t.noDocument.readTime),o=rH.newNoDocument(n,r);return t.hasCommittedMutations?o.setHasCommittedMutations():o}if(t.unknownDocument){var a=rT.fromSegments(t.unknownDocument.path);return r=ag(t.unknownDocument.version),rH.newUnknownDocument(a,r)}return ri()}function ad(e,t,n){var r=af(n),o=t.key.path.popLast().toArray();if(t.isFoundDocument()){var a,s={name:oy(a=e.Lt,t.key),fields:t.data.value.mapValue.fields,updateTime:oh(a,t.version.toTimestamp())},u=t.hasCommittedMutations;return new oz(null,null,s,u,r,o)}if(t.isNoDocument()){var c=t.key.path.toArray(),l=ap(t.version);return u=t.hasCommittedMutations,new oz(null,new oV(c,l),null,u,r,o)}return t.isUnknownDocument()?new oz(new oK(t.key.path.toArray(),ap(t.version)),null,null,!0,r,o):ri()}function af(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function ah(e){var t=new ru(e[0],e[1]);return rc.fromTimestamp(t)}function ap(e){var t=e.toTimestamp();return new oU(t.seconds,t.nanoseconds)}function ag(e){var t=new ru(e.seconds,e.nanoseconds);return rc.fromTimestamp(t)}function av(e,t){for(var n=(t.baseMutations||[]).map(function(t){return oT(e.Lt,t)}),r=0;r<t.mutations.length-1;++r){var o=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];o.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var s=t.mutations.map(function(t){return oT(e.Lt,t)}),u=ru.fromMillis(t.localWriteTimeMs);return new as(t.batchId,u,n,s)}function am(e){var t,n,r=ag(e.readTime),o=void 0!==e.lastLimboFreeSnapshotVersion?ag(e.lastLimboFreeSnapshotVersion):rc.min();return void 0!==e.query.documents?(1===(n=e.query).documents.length||ri(),t=iu(ie(o_(n.documents[0])))):t=iu(oD(e.query)),new ac(t,e.targetId,0,e.lastListenSequenceNumber,r,o,rm.fromBase64String(e.resumeToken))}function ay(e,t){var n,r=ap(t.snapshotVersion),o=ap(t.lastLimboFreeSnapshotVersion);n=rW(t.target)?oS(e.Lt,t.target):ok(e.Lt,t.target);var a=t.resumeToken.toBase64();return new oW(t.targetId,rz(t.target),r,a,t.sequenceNumber,o,n)}function ab(e){var t=oD({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ic(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aw=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return a_(e).get(t).next(function(e){if(e)return{id:e.bundleId,createTime:ag(e.createTime),version:e.version}})},e.prototype.saveBundleMetadata=function(e,t){return a_(e).put({bundleId:t.id,createTime:ap(og(t.createTime)),version:t.version})},e.prototype.getNamedQuery=function(e,t){return aE(e).get(t).next(function(e){if(e)return{name:e.name,query:ab(e.bundledQuery),readTime:ag(e.readTime)}})},e.prototype.saveNamedQuery=function(e,t){return aE(e).put({name:t.name,readTime:ap(og(t.readTime)),bundledQuery:t.bundledQuery})},e}();function a_(e){return aa(e,oJ.store)}function aE(e){return aa(e,o0.store)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aC=function(){function e(){this.Bt=new aB}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),o5.resolve()},e.prototype.getCollectionParents=function(e,t){return o5.resolve(this.Bt.getEntries(t))},e}(),aB=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new i3(rh.comparator),o=!r.has(n);return this.index[t]=r.add(n),o},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new i3(rh.comparator)).toArray()},e}(),aI=function(){function e(){this.qt=new aB}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(function(){n.qt.add(t)});var a={collectionId:r,parent:oM(o)};return ax(e).put(a)}return o5.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[t+"\0",""],!1,!0);return ax(e).Nt(r).next(function(e){for(var r=0;r<e.length;r++){var o=e[r];if(o.collectionId!==t)break;n.push(oP(o.parent))}return n})},e}();function ax(e){return aa(e,o$.store)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aS=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(e,t,n){var r=e.store(oQ.store),o=e.store(oH.store),a=[],s=IDBKeyRange.only(n.batchId),u=0,c=r.$t({range:s},function(e,t,n){return u++,n.delete()});a.push(c.next(function(){1===u||ri()}));for(var l=[],A=0,d=n.mutations;A<d.length;A++){var f=d[A],h=oH.key(t,f.key.path,n.batchId);a.push(o.delete(h)),l.push(f.key)}return o5.waitFor(a).next(function(){return l})}function aD(e){var t;if(!e)return 0;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ri();t=e.noDocument}return JSON.stringify(t).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */aS.DEFAULT_COLLECTION_PERCENTILE=10,aS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,aS.DEFAULT=new aS(41943040,aS.DEFAULT_COLLECTION_PERCENTILE,aS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),aS.DISABLED=new aS(-1,0,0);var aN=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,o){return""!==t.uid||ri(),new e(t.isAuthenticated()?t.uid:"",n,r,o)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return aF(e).$t({index:oQ.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.addMutationBatch=function(e,t,n,r){var o=this,a=aR(e),s=aF(e);return s.add({}).next(function(u){"number"==typeof u||ri();for(var c,l,A,d,f=new as(u,t,n,r),h=(c=o.R,l=o.userId,A=f.baseMutations.map(function(e){return ox(c.Lt,e)}),d=f.mutations.map(function(e){return ox(c.Lt,e)}),new oQ(l,f.batchId,f.localWriteTime.toMillis(),A,d)),p=[],g=new i3(function(e,t){return ra(e.canonicalString(),t.canonicalString())}),v=0;v<r.length;v++){var m=r[v],y=oH.key(o.userId,m.key.path,u);g=g.add(m.key.path.popLast()),p.push(s.put(h)),p.push(a.put(y,oH.PLACEHOLDER))}return g.forEach(function(t){p.push(o.Ut.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(function(){o.Kt[u]=f.keys()}),o5.waitFor(p).next(function(){return f})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return aF(e).get(t).next(function(e){return e?(e.userId===n.userId||ri(),av(n.R,e)):null})},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?o5.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]),a=null;return aF(e).$t({index:oQ.userMutationsIndex,range:o},function(e,t,o){t.userId===n.userId&&(t.batchId>=r||ri(),a=av(n.R,t)),o.done()}).next(function(){return a})},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return aF(e).$t({index:oQ.userMutationsIndex,range:t,reverse:!0},function(e,t,r){n=t.batchId,r.done()}).next(function(){return n})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return aF(e).Nt(oQ.userMutationsIndex,n).next(function(e){return e.map(function(e){return av(t.R,e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=oH.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),a=[];return aR(e).$t({range:o},function(r,o,s){var u=r[0],c=r[1],l=r[2],A=oP(c);if(u===n.userId&&t.path.isEqual(A))return aF(e).get(l).next(function(e){if(!e)throw ri();e.userId===n.userId||ri(),a.push(av(n.R,e))});s.done()}).next(function(){return a})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new i3(ra),o=[];return t.forEach(function(t){var a=oH.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(a),u=aR(e).$t({range:s},function(e,o,a){var s=e[0],u=e[1],c=e[2],l=oP(u);s===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()});o.push(u)}),o5.waitFor(o).next(function(){return n.Wt(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,o=r.length+1,a=oH.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(a),u=new i3(ra);return aR(e).$t({range:s},function(e,t,a){var s=e[0],c=e[1],l=e[2],A=oP(c);s===n.userId&&r.isPrefixOf(A)?A.length===o&&(u=u.add(l)):a.done()}).next(function(){return n.Wt(e,u)})},e.prototype.Wt=function(e,t){var n=this,r=[],o=[];return t.forEach(function(t){o.push(aF(e).get(t).next(function(e){if(null===e)throw ri();e.userId===n.userId||ri(),r.push(av(n.R,e))}))}),o5.waitFor(o).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return ak(e.Mt,this.userId,t).next(function(r){return e.addOnCommittedListener(function(){n.Gt(t.batchId)}),o5.forEach(r,function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)})})},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return o5.resolve();var r=IDBKeyRange.lowerBound(oH.prefixForUser(t.userId)),o=[];return aR(e).$t({range:r},function(e,n,r){if(e[0]===t.userId){var a=oP(e[1]);o.push(a)}else r.done()}).next(function(){0===o.length||ri()})})},e.prototype.containsKey=function(e,t){return aO(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return aL(e).get(this.userId).next(function(e){return e||new oZ(t.userId,-1,"")})},e}();function aO(e,t,n){var r=oH.prefixForPath(t,n.path),o=r[1],a=IDBKeyRange.lowerBound(r),s=!1;return aR(e).$t({range:a,Ft:!0},function(e,n,r){var a=e[0],u=e[1];e[2],a===t&&u===o&&(s=!0),r.done()}).next(function(){return s})}function aF(e){return aa(e,oQ.store)}function aR(e){return aa(e,oH.store)}function aL(e){return aa(e,oZ.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aM=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),aP=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(n){var r=new aM(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(e){return rc.fromTimestamp(new ru(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(e){return e.highestListenSequenceNumber})},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next(function(o){return o.highestListenSequenceNumber=t,n&&(o.lastRemoteSnapshotVersion=n.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),r.Zt(e,o)})},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next(function(){return n.Xt(e).next(function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)})})},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return aU(e).delete(t.targetId)}).next(function(){return n.Xt(e)}).next(function(t){return t.targetCount>0||ri(),t.targetCount-=1,n.Zt(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,o=0,a=[];return aU(e).$t(function(s,u){var c=am(u);c.sequenceNumber<=t&&null===n.get(c.targetId)&&(o++,a.push(r.removeTargetData(e,c)))}).next(function(){return o5.waitFor(a)}).next(function(){return o})},e.prototype.forEachTarget=function(e,t){return aU(e).$t(function(e,n){t(am(n))})},e.prototype.Xt=function(e){return aj(e).get(oY.key).next(function(e){return null!==e||ri(),e})},e.prototype.Zt=function(e,t){return aj(e).put(oY.key,t)},e.prototype.te=function(e,t){return aU(e).put(ay(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next(function(e){return e.targetCount})},e.prototype.getTargetData=function(e,t){var n=rz(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),o=null;return aU(e).$t({range:r,index:oW.queryTargetsIndexName},function(e,n,r){var a=am(n);rG(t,a.target)&&(o=a,r.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,o=[],a=aZ(e);return t.forEach(function(t){var s=oM(t.path);o.push(a.put(new oq(n,s))),o.push(r.referenceDelegate.addReference(e,n,t))}),o5.waitFor(o)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,o=aZ(e);return o5.forEach(t,function(t){var a=oM(t.path);return o5.waitFor([o.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=aZ(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=aZ(e),o=oe();return r.$t({range:n,Ft:!0},function(e,t,n){var r=new rT(oP(e[1]));o=o.add(r)}).next(function(){return o})},e.prototype.containsKey=function(e,t){var n=oM(t.path),r=IDBKeyRange.bound([n],[n+"\0"],!1,!0),o=0;return aZ(e).$t({index:oq.documentTargetsIndex,Ft:!0,range:r},function(e,t,n){var r=e[0];e[1],0!==r&&(o++,n.done())}).next(function(){return o>0})},e.prototype.lt=function(e,t){return aU(e).get(t).next(function(e){return e?am(e):null})},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aU(e){return aa(e,oW.store)}function aj(e){return aa(e,oY.store)}function aZ(e){return aa(e,oq.store)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aQ(e){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(t){if(e.code!==n6.FAILED_PRECONDITION||e.message!==o2)throw e;return re("LocalStore","Unexpectedly lost primary lease"),[2]})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(e,t){var n=e[0],r=e[1],o=t[0],a=t[1],s=ra(n,o);return 0===s?ra(r,a):s}var aV=function(){function e(e){this.ne=e,this.buffer=new i3(aH),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();0>aH(t,n)&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),aK=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;re("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,O.__awaiter)(t,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ae(t=n.sent())?(re("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,aQ(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}})})})},e}(),az=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return o5.resolve(n5.o);var r=new aV(t);return this.ae.forEachTarget(e,function(e){return r.re(e.sequenceNumber)}).next(function(){return n.ae.le(e,function(e){return r.re(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return -1===this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector","Garbage collection skipped; disabled"),o5.resolve(aT)):this.getCacheSize(e).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),aT):n.fe(e,t)})},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,o,a,s,u,c,l=this,A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(t){return t>l.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),l.nthSequenceNumber(e,r)}).next(function(r){return n=r,s=Date.now(),l.removeTargets(e,n,t)}).next(function(t){return o=t,u=Date.now(),l.removeOrphanedDocuments(e,n)}).next(function(e){return c=Date.now(),n7()<=R.in.DEBUG&&re("LruGarbageCollector","LRU Garbage Collection\n	Counted targets in "+(a-A)+"ms\n	Determined least recently used "+r+" in "+(s-a)+"ms\n	Removed "+o+" targets in "+(u-s)+"ms\n	Removed "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-A)+"ms"),o5.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:e})})},e}(),aG=function(){function e(e,t){this.db=e,this.garbageCollector=new az(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(e){return t.next(function(t){return e+t})})},e.prototype.de=function(e){var t=0;return this.le(e,function(e){t++}).next(function(){return t})},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,function(e,n){return t(n)})},e.prototype.addReference=function(e,t,n){return aW(e,n)},e.prototype.removeReference=function(e,t,n){return aW(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return aW(e,t)},e.prototype._e=function(e,t){var n;return n=!1,aL(e).Ot(function(r){return aO(e,r,t).next(function(e){return e&&(n=!0),o5.resolve(!e)})}).next(function(){return n})},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[],a=0;return this.we(e,function(s,u){if(u<=t){var c=n._e(e,s).next(function(t){if(!t)return a++,r.getEntry(e,s).next(function(){return r.removeEntry(s),aZ(e).delete([0,oM(s.path)])})});o.push(c)}}).next(function(){return o5.waitFor(o)}).next(function(){return r.apply(e)}).next(function(){return a})},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return aW(e,t)},e.prototype.we=function(e,t){var n,r=aZ(e),o=n5.o;return r.$t({index:oq.documentTargetsIndex},function(e,r){var a=e[0];e[1];var s=r.path,u=r.sequenceNumber;0===a?(o!==n5.o&&t(new rT(oP(n)),o),o=u,n=s):o=n5.o}).next(function(){o!==n5.o&&t(new rT(oP(n)),o)})},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function aW(e,t){var n;return aZ(e).put((n=e.currentSequenceNumber,new oq(0,oM(t.path),n)))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aq=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0;r<n.length;r++){var o=n[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){rA(this.inner,function(t,n){for(var r=0;r<n.length;r++){var o=n[r];e(o[0],o[1])}})},e.prototype.isEmpty=function(){return rd(this.inner)},e}(),aY=function(){function e(){this.changes=new aq(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:rc.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:rH.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?o5.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),a$=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return a0(e).put(a1(t),n)},e.prototype.removeEntry=function(e,t){var n=a0(e),r=a1(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.me(e,r)})},e.prototype.getEntry=function(e,t){var n=this;return a0(e).get(a1(t)).next(function(e){return n.ye(t,e)})},e.prototype.ge=function(e,t){var n=this;return a0(e).get(a1(t)).next(function(e){return{document:n.ye(t,e),size:aD(e)}})},e.prototype.getEntries=function(e,t){var n=this,r=i6;return this.pe(e,t,function(e,t){var o=n.ye(e,t);r=r.insert(e,o)}).next(function(){return r})},e.prototype.Ee=function(e,t){var n=this,r=i6,o=new i1(rT.comparator);return this.pe(e,t,function(e,t){var a=n.ye(e,t);r=r.insert(e,a),o=o.insert(e,aD(t))}).next(function(){return{documents:r,Te:o}})},e.prototype.pe=function(e,t,n){if(t.isEmpty())return o5.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),o=t.getIterator(),a=o.getNext();return a0(e).$t({range:r},function(e,t,r){for(var s=rT.fromSegments(e);a&&0>rT.comparator(a,s);)n(a,null),a=o.getNext();a&&a.isEqual(s)&&(n(a,t),a=o.hasNext()?o.getNext():null),a?r.Ct(a.path.toArray()):r.done()}).next(function(){for(;a;)n(a,null),a=o.hasNext()?o.getNext():null})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,o=i6,a=t.path.length+1,s={};if(n.isEqual(rc.min())){var u=t.path.toArray();s.range=IDBKeyRange.lowerBound(u)}else{var c=t.path.toArray(),l=af(n);s.range=IDBKeyRange.lowerBound([c,l],!0),s.index=oz.collectionReadTimeIndex}return a0(e).$t(s,function(e,n,s){if(e.length===a){var u=aA(r.R,n);t.path.isPrefixOf(u.key.path)?ih(t,u)&&(o=o.insert(u.key,u)):s.done()}}).next(function(){return o})},e.prototype.newChangeBuffer=function(e){return new aX(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return aJ(e).get(oG.key).next(function(e){return e||ri(),e})},e.prototype.me=function(e,t){return aJ(e).put(oG.key,t)},e.prototype.ye=function(e,t){if(t){var n=aA(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(rc.min()))return n}return rH.newInvalidDocument(e)},e}(),aX=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new aq(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),r}return(0,O.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,o=new i3(function(e,t){return ra(e.canonicalString(),t.canonicalString())});return this.changes.forEach(function(a,s){var u=t.Ae.get(a);if(s.document.isValidDocument()){var c=ad(t.Ie.R,s.document,t.getReadTime(a));o=o.add(a.path.popLast());var l=aD(c);r+=l-u,n.push(t.Ie.addEntry(e,a,c))}else if(r-=u,t.trackRemovals){var A=ad(t.Ie.R,rH.newNoDocument(a,rc.min()),t.getReadTime(a));n.push(t.Ie.addEntry(e,a,A))}else n.push(t.Ie.removeEntry(e,a))}),o.forEach(function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))}),n.push(this.Ie.updateMetadata(e,r)),o5.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next(function(e){return n.Ae.set(t,e.size),e.document})},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next(function(e){var t=e.documents;return e.Te.forEach(function(e,t){n.Ae.set(e,t)}),t})},t}(aY);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aJ(e){return aa(e,oG.store)}function a0(e){return aa(e,oz.store)}function a1(e){return e.path.toArray()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a2=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var o=this;n<r&&n>=0&&r<=11||ri();var a=new o6("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(oj.store)}(e),e.createObjectStore(oZ.store,{keyPath:oZ.keyPath}),e.createObjectStore(oQ.store,{keyPath:oQ.keyPath,autoIncrement:!0}).createIndex(oQ.userMutationsIndex,oQ.userMutationsKeyPath,{unique:!0}),e.createObjectStore(oH.store),a4(e),function(e){e.createObjectStore(oz.store)}(e));var s=o5.resolve();return n<3&&r>=3&&(0!==n&&(e.deleteObjectStore(oq.store),e.deleteObjectStore(oW.store),e.deleteObjectStore(oY.store),a4(e)),s=s.next(function(){var e,t;return e=a.store(oY.store),t=new oY(0,0,rc.min().toTimestamp(),0),e.put(oY.key,t)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return a.store(oQ.store).Nt().next(function(t){e.deleteObjectStore(oQ.store),e.createObjectStore(oQ.store,{keyPath:oQ.keyPath,autoIncrement:!0}).createIndex(oQ.userMutationsIndex,oQ.userMutationsKeyPath,{unique:!0});var n=a.store(oQ.store),r=t.map(function(e){return n.put(e)});return o5.waitFor(r)})})),s=s.next(function(){!function(e){e.createObjectStore(oX.store,{keyPath:oX.keyPath})}(e)})),n<5&&r>=5&&(s=s.next(function(){return o.Re(a)})),n<6&&r>=6&&(s=s.next(function(){return function(e){e.createObjectStore(oG.store)}(e),o.be(a)})),n<7&&r>=7&&(s=s.next(function(){return o.ve(a)})),n<8&&r>=8&&(s=s.next(function(){return o.Pe(e,a)})),n<9&&r>=9&&(s=s.next(function(){var n;e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges"),(n=t.objectStore(oz.store)).createIndex(oz.readTimeIndex,oz.readTimeIndexPath,{unique:!1}),n.createIndex(oz.collectionReadTimeIndex,oz.collectionReadTimeIndexPath,{unique:!1})})),n<10&&r>=10&&(s=s.next(function(){return o.Ve(a)})),n<11&&r>=11&&(s=s.next(function(){(function(e){e.createObjectStore(oJ.store,{keyPath:oJ.keyPath})})(e),function(e){e.createObjectStore(o0.store,{keyPath:o0.keyPath})}(e)})),s},e.prototype.be=function(e){var t=0;return e.store(oz.store).$t(function(e,n){t+=aD(n)}).next(function(){var n=new oG(t);return e.store(oG.store).put(oG.key,n)})},e.prototype.Re=function(e){var t=this,n=e.store(oZ.store),r=e.store(oQ.store);return n.Nt().next(function(n){return o5.forEach(n,function(n){var o=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(oQ.userMutationsIndex,o).next(function(r){return o5.forEach(r,function(r){r.userId===n.userId||ri();var o=av(t.R,r);return ak(e,n.userId,o).next(function(){})})})})})},e.prototype.ve=function(e){var t=e.store(oq.store),n=e.store(oz.store);return e.store(oY.store).get(oY.key).next(function(e){var r=[];return n.$t(function(n,o){var a=new rh(n),s=[0,oM(a)];r.push(t.get(s).next(function(n){return n?o5.resolve():t.put(new oq(0,oM(a),e.highestListenSequenceNumber))}))}).next(function(){return o5.waitFor(r)})})},e.prototype.Pe=function(e,t){e.createObjectStore(o$.store,{keyPath:o$.keyPath});var n=t.store(o$.store),r=new aB,o=function(e){if(r.add(e)){var t=e.lastSegment(),o=e.popLast();return n.put({collectionId:t,parent:oM(o)})}};return t.store(oz.store).$t({Ft:!0},function(e,t){return o(new rh(e).popLast())}).next(function(){return t.store(oH.store).$t({Ft:!0},function(e,t){e[0];var n=e[1];return e[2],o(oP(n).popLast())})})},e.prototype.Ve=function(e){var t=this,n=e.store(oW.store);return n.$t(function(e,r){var o=am(r),a=ay(t.R,o);return n.put(a)})},e}();function a4(e){e.createObjectStore(oq.store,{keyPath:oq.keyPath}).createIndex(oq.documentTargetsIndex,oq.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(oW.store,{keyPath:oW.keyPath}).createIndex(oW.queryTargetsIndexName,oW.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(oY.store)}var a3="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",a5=function(){function e(t,n,r,o,a,s,u,c,l,A){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=a,this.window=s,this.document=u,this.De=l,this.Ce=A,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new n8(n6.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new aG(this,o),this.Le=n+"main",this.R=new al(c),this.Be=new o8(this.Le,11,new a2(this.R)),this.qe=new aP(this.referenceDelegate,this.R),this.Ut=new aI,this.Ue=new a$(this.R,this.Ut),this.Ke=new aw,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===A&&rt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new n8(n6.FAILED_PRECONDITION,a3);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new n5(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,O.__awaiter)(t,void 0,void 0,function(){return(0,O.__generator)(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(n){return(0,O.__awaiter)(t,void 0,void 0,function(){return(0,O.__generator)(this,function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,O.__awaiter)(t,void 0,void 0,function(){return(0,O.__generator)(this,function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return a8(t).put(new oX(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(n){return e.isPrimary&&!n?e.Xe(t).next(function(){return!1}):!!n&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(ae(t))return re("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return re("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},e.prototype.Je=function(e){var t=this;return a6(e).get(oj.key).next(function(e){return o5.resolve(t.tn(e))})},e.prototype.en=function(e){return a8(e).delete(this.clientId)},e.prototype.nn=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,o=this;return(0,O.__generator)(this,function(a){switch(a.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(e){var t=aa(e,oX.store);return t.Nt().next(function(e){var n=o.rn(e,18e5),r=e.filter(function(e){return -1===n.indexOf(e)});return o5.forEach(r,function(e){return t.delete(e.clientId)}).next(function(){return r})})}).catch(function(){return[]})]);case 1:if(e=a.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));a.label=2;case 2:return[2]}})})},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?o5.resolve(!0):a6(e).get(oj.key).next(function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new n8(n6.FAILED_PRECONDITION,a3);return!1}}return!(!t.networkEnabled||!t.inForeground)||a8(e).Nt().next(function(e){return void 0===t.rn(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,o=t.networkEnabled===e.networkEnabled;if(n||r&&o)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&re("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){var e=this;return(0,O.__generator)(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[oj.store,oX.store],function(t){var n=new ao(t,n5.o);return e.Xe(n).next(function(){return e.en(n)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},e.prototype.rn=function(e,t){var n=this;return e.filter(function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)})},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return a8(t).Nt().next(function(t){return e.rn(t,18e5).map(function(e){return e.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return aN.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r,o=this;return re("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",o1,function(a){return r=new ao(a,o.Ne?o.Ne.next():n5.o),"readwrite-primary"===t?o.Je(r).next(function(e){return!!e||o.Ye(r)}).next(function(t){if(!t)throw rt("Failed to obtain primary lease for action '"+e+"'."),o.isPrimary=!1,o.Se.enqueueRetryable(function(){return o.Me(!1)}),new n8(n6.FAILED_PRECONDITION,o2);return n(r)}).next(function(e){return o.Ze(r).next(function(){return e})}):o.dn(r).next(function(){return n(r)})}).then(function(e){return r.raiseOnCommittedEvent(),e})},e.prototype.dn=function(e){var t=this;return a6(e).get(oj.key).next(function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new n8(n6.FAILED_PRECONDITION,a3)})},e.prototype.Ze=function(e){var t=new oj(this.clientId,this.allowTabSynchronization,Date.now());return a6(e).put(oj.key,t)},e.yt=function(){return o8.yt()},e.prototype.Xe=function(e){var t=this,n=a6(e);return n.get(oj.key).next(function(e){return t.tn(e)?(re("IndexedDbPersistence","Releasing primary lease."),n.delete(oj.key)):o5.resolve()})},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(rt("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,F.G6)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return re("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return rt("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){rt("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function a6(e){return aa(e,oj.store)}function a8(e){return aa(e,oX.store)}function a9(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var a7=function(e,t){this.progress=e,this.wn=t},se=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.yn(e,t,r)})},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next(function(e){for(var t=0;t<n.length;t++)n[t].applyToLocalView(e);return e})},e.prototype.gn=function(e,t){e.forEach(function(e,n){for(var r=0;r<t.length;r++)t[r].applyToLocalView(n)})},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next(function(t){return n.En(e,t).next(function(){return t})})},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){return n.gn(t,e)})},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return rT.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length?this.Tn(e,t.path):ia(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new rT(t)).next(function(e){var t=i8;return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})},e.prototype.In=function(e,t,n){var r=this,o=t.collectionGroup,a=i8;return this.Ut.getCollectionParents(e,o).next(function(s){return o5.forEach(s,function(s){var u=new r7(s.child(o),null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt);return r.An(e,u,n).next(function(e){e.forEach(function(e,t){a=a.insert(e,t)})})}).next(function(){return a})})},e.prototype.An=function(e,t,n){var r,o,a=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next(function(n){return r=n,a._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(t){return o=t,a.Rn(e,o,r).next(function(e){r=e;for(var t=0;t<o.length;t++)for(var n=o[t],a=0,s=n.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=rH.newInvalidDocument(c),r=r.insert(c,l)),iF(u,l,n.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(e,n){ih(t,n)||(r=r.remove(e))}),r})},e.prototype.Rn=function(e,t,n){for(var r=oe(),o=0;o<t.length;o++)for(var a=0,s=t[o].mutations;a<s.length;a++){var u=s[a];u instanceof iP&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next(function(e){return e.forEach(function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))}),c})},e}(),st=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=oe(),o=oe(),a=0,s=n.docChanges;a<s.length;a++){var u=s[a];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}}return new e(t,n.fromCache,r,o)},e}(),sn=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var o=this;return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())||n.isEqual(rc.min())?this.Dn(e,t):this.Sn.pn(e,r).next(function(a){var s=o.Cn(t,a);return(it(t)||ir(t))&&o.Nn(t.limitType,s,r,n)?o.Dn(e,t):(n7()<=R.in.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),id(t)),o.Sn.getDocumentsMatchingQuery(e,t,n).next(function(e){return s.forEach(function(t){e=e.insert(t.key,t)}),e}))})},e.prototype.Cn=function(e,t){var n=new i3(ip(e));return t.forEach(function(t,r){ih(e,r)&&(n=n.add(r))}),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var o="F"===e?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return n7()<=R.in.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",id(t)),this.Sn.getDocumentsMatchingQuery(e,t,rc.min())},e}(),sr=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new i1(ra),this.Fn=new aq(function(e){return rz(e)},rG),this.$n=rc.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new se(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.kn)})},e}();function si(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o,a;return(0,O.__generator)(this,function(s){switch(s.label){case 0:return r=(n=e)._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(e){var a;return n._n.getAllMutationBatches(e).next(function(s){return a=s,r=n.persistence.getMutationQueue(t),o=new se(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)}).next(function(t){for(var n=[],r=[],s=oe(),u=0,c=a;u<c.length;u++){var l=c[u];n.push(l.batchId);for(var A=0,d=l.mutations;A<d.length;A++){var f=d[A];s=s.add(f.key)}}for(var h=0;h<t.length;h++){var p=t[h];r.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++){var m=v[g];s=s.add(m.key)}}return o.pn(e,s).next(function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return a=s.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),a)]}})})}function so(e){return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function sa(e,t,n,r,o){var a=oe();return n.forEach(function(e){return a=a.add(e)}),t.getEntries(e,a).next(function(e){var a=i6;return n.forEach(function(n,s){var u=e.get(n),c=(null==o?void 0:o.get(n))||r;s.isNoDocument()&&s.version.isEqual(rc.min())?(t.removeEntry(n,c),a=a.insert(n,s)):!u.isValidDocument()||s.version.compareTo(u.version)>0||0===s.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(s,c),a=a.insert(n,s)):re("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)}),a})}function ss(e,t){return e.persistence.runTransaction("Allocate target","readwrite",function(n){var r;return e.qe.getTargetData(n,t).next(function(o){return o?(r=o,o5.resolve(r)):e.qe.allocateTargetId(n).next(function(o){return r=new ac(t,o,0,n.currentSequenceNumber),e.qe.addTargetData(n,r).next(function(){return r})})})}).then(function(n){var r=e.kn.get(n.targetId);return(null===r||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.kn=e.kn.insert(n.targetId,n),e.Fn.set(t,n.targetId)),n})}function su(e,t,n){return(0,O.__awaiter)(this,void 0,void 0,function(){var r,o,a,s;return(0,O.__generator)(this,function(u){switch(u.label){case 0:o=(r=e).kn.get(t),a=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",a,function(e){return r.persistence.referenceDelegate.removeTarget(e,o)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!ae(s=u.sent()))throw s;return re("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}})})}function sc(e,t,n){var r=rc.min(),o=oe();return e.persistence.runTransaction("Execute query","readonly",function(a){var s,u;return(s=iu(t),void 0!==(u=e.Fn.get(s))?o5.resolve(e.kn.get(u)):e.qe.getTargetData(a,s)).next(function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,e.qe.getMatchingKeysForTargetId(a,t.targetId).next(function(e){o=e})}).next(function(){return e.xn.getDocumentsMatchingQuery(a,t,n?r:rc.min(),n?o:oe())}).next(function(e){return{documents:e,Bn:o}})})}function sl(e,t){var n=e.qe,r=e.kn.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",function(e){return n.lt(e,t).next(function(e){return e?e.target:null})})}function sA(e){return e.persistence.runTransaction("Get new document changes","readonly",function(t){var n,r,o,a,s,u;return n=e.On,r=e.$n,o=i6,a=af(r),s=a0(t),u=IDBKeyRange.lowerBound(a,!0),s.$t({index:oz.readTimeIndex,range:u},function(e,t){var r=aA(n.R,t);o=o.insert(r.key,r),a=t.readTime}).next(function(){return{wn:o,readTime:ah(a)}})}).then(function(t){var n=t.wn,r=t.readTime;return e.$n=r,n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sd=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return o5.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){return this.Qn.set(t.id,{id:t.id,version:t.version,createTime:og(t.createTime)}),o5.resolve()},e.prototype.getNamedQuery=function(e,t){return o5.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,{name:t.name,query:ab(t.bundledQuery),readTime:og(t.readTime)}),o5.resolve()},e}(),sf=function(){function e(){this.Wn=new i3(sh.Gn),this.zn=new i3(sh.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new sh(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.Yn(new sh(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.Zn=function(e){var t=this,n=new rT(new rh([])),r=new sh(n,e),o=new sh(n,e+1),a=[];return this.zn.forEachInRange([r,o],function(e){t.Yn(e),a.push(e.key)}),a},e.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new rT(new rh([])),n=new sh(t,e),r=new sh(t,e+1),o=oe();return this.zn.forEachInRange([n,r],function(e){o=o.add(e.key)}),o},e.prototype.containsKey=function(e){var t=new sh(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),sh=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return rT.comparator(e.key,t.key)||ra(e.ns,t.ns)},e.Hn=function(e,t){return ra(e.ns,t.ns)||rT.comparator(e.key,t.key)},e}(),sp=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new i3(sh.Gn)}return e.prototype.checkEmpty=function(e){return o5.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var o=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var a=new as(o,t,n,r);this._n.push(a);for(var s=0;s<r.length;s++){var u=r[s];this.rs=this.rs.add(new sh(u.key,o)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return o5.resolve(a)},e.prototype.lookupMutationBatch=function(e,t){return o5.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this.cs(t+1),r=n<0?0:n;return o5.resolve(this._n.length>r?this._n[r]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return o5.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return o5.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new sh(t,0),o=new sh(t,Number.POSITIVE_INFINITY),a=[];return this.rs.forEachInRange([r,o],function(e){var t=n.os(e.ns);a.push(t)}),o5.resolve(a)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new i3(ra);return t.forEach(function(e){var t=new sh(e,0),o=new sh(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,o],function(e){r=r.add(e.ns)})}),o5.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,o=n;rT.isDocumentKey(o)||(o=o.child(""));var a=new sh(new rT(o),0),s=new i3(ra);return this.rs.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.ns)),!0)},a),o5.resolve(this.us(s))},e.prototype.us=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.os(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this;0===this.hs(t.batchId,"removed")||ri(),this._n.shift();var r=this.rs;return o5.forEach(t.mutations,function(o){var a=new sh(o.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(function(){n.rs=r})},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new sh(t,0),r=this.rs.firstAfterOrEqual(n);return o5.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,o5.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),sg=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new i1(rT.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,o=this.docs.get(r),a=o?o.size:0,s=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:s,readTime:n}),this.size+=s-a,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return o5.resolve(n?n.document.clone():rH.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=i6;return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():rH.newInvalidDocument(e))}),o5.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=i6,o=new rT(t.path.child("")),a=this.docs.getIteratorFrom(o);a.hasNext();){var s=a.getNext(),u=s.key,c=s.value,l=c.document,A=c.readTime;if(!t.path.isPrefixOf(u.path))break;0>=A.compareTo(n)||ih(t,l)&&(r=r.insert(l.key,l.clone()))}return o5.resolve(r)},e.prototype.fs=function(e,t){return o5.forEach(this.docs,function(e){return t(e)})},e.prototype.newChangeBuffer=function(e){return new sv(this)},e.prototype.getSize=function(e){return o5.resolve(this.size)},e}(),sv=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,O.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach(function(r,o){o.document.isValidDocument()?n.push(t.Ie.addEntry(e,o.document,t.getReadTime(r))):t.Ie.removeEntry(r)}),o5.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(aY),sm=function(){function e(e){this.persistence=e,this.ds=new aq(function(e){return rz(e)},rG),this.lastRemoteSnapshotVersion=rc.min(),this.highestTargetId=0,this.ws=0,this._s=new sf,this.targetCount=0,this.ys=aM.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(e,n){return t(n)}),o5.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return o5.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return o5.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),o5.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),o5.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new aM(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,o5.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),o5.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,o5.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,o=0,a=[];return this.ds.forEach(function(s,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.ds.delete(s),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),o++)}),o5.waitFor(a).next(function(){return o})},e.prototype.getTargetCount=function(e){return o5.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return o5.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),o5.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(function(t){o.push(r.markPotentiallyOrphaned(e,t))}),o5.waitFor(o)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),o5.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return o5.resolve(n)},e.prototype.containsKey=function(e,t){return o5.resolve(this._s.containsKey(t))},e}(),sy=function(){function e(e,t){var n=this;this.gs={},this.Ne=new n5(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new sm(this),this.Ut=new aC,this.Ue=new sg(this.Ut,function(e){return n.referenceDelegate.ps(e)}),this.R=new al(t),this.Ke=new sd(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new sp(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;re("MemoryPersistence","Starting transaction:",e);var o=new sb(this.Ne.next());return this.referenceDelegate.Es(),n(o).next(function(e){return r.referenceDelegate.Ts(o).next(function(){return e})}).toPromise().then(function(e){return o.raiseOnCommittedEvent(),e})},e.prototype.Is=function(e,t){return o5.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(e,t)}}))},e}(),sb=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,O.__extends)(t,e),t}(o4),sw=function(){function e(e){this.persistence=e,this.As=new sf,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ri()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),o5.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),o5.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),o5.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach(function(e){return n.vs.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.vs.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return o5.forEach(this.vs,function(r){var o=rT.fromPath(r);return t.Ps(e,o).next(function(e){e||n.removeEntry(o)})}).next(function(){return t.Rs=null,n.apply(e)})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next(function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())})},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return o5.or([function(){return o5.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),s_=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(e,t){return"firestore_clients_"+e+"_"+t}function sC(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function sB(e,t){return"firestore_targets_"+e+"_"+t}s_.UNAUTHENTICATED=new s_(null),s_.GOOGLE_CREDENTIALS=new s_("google-credentials-uid"),s_.FIRST_PARTY=new s_("first-party-uid"),s_.MOCK_USER=new s_("mock-user");var sI=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var o,a=JSON.parse(r),s="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return s&&a.error&&(s="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(o=new n8(a.error.code,a.error.message)),s?new e(t,n,a.state,o):(rt("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),sx=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,o=JSON.parse(n),a="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(r=new n8(o.error.code,o.error.message)),a?new e(t,o.state,r):(rt("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),sT=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),o="object"==typeof r&&r.activeTargetIds instanceof Array,a=ot,s=0;o&&s<r.activeTargetIds.length;++s)o=rx(r.activeTargetIds[s]),a=a.add(r.activeTargetIds[s]);return o?new e(t,a):(rt("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),sS=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(rt("SharedClientState","Failed to parse online state: "+t),null)},e}(),sk=function(){function e(){this.activeTargetIds=ot}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){return JSON.stringify({activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()})},e}(),sD=function(){function e(e,t,n,r,o){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new i1(ra),this.started=!1,this.$s=[];var a=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Os=sE(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new sk),this.Ls=RegExp("^firestore_clients_"+a+"_([^_]*)$"),this.Bs=RegExp("^firestore_mutations_"+a+"_(\\d+)(?:_(.*))?$"),this.qs=RegExp("^firestore_targets_"+a+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks="firestore_bundle_loaded_"+this.persistenceKey,this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,o,a,s,u,c,l,A,d=this;return(0,O.__generator)(this,function(f){switch(f.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=f.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(o=this.getItem(sE(this.persistenceKey,r)))&&(a=sT.Vs(r,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)A=l[c],this.ks(A);return this.$s=[],this.window.addEventListener("pagehide",function(){return d.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach(function(n,r){r.activeTargetIds.has(e)&&(t=!0)}),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(sB(this.persistenceKey,e));if(n){var r=sx.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(sB(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.Hs(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return re("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){re("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){re("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this;if(e.storageArea===this.storage){if(re("SharedClientState","EVENT",e.key,e.newValue),e.key===this.Os)return void rt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,O.__awaiter)(t,void 0,void 0,function(){var t,n,r,o,a,s;return(0,O.__generator)(this,function(u){if(this.started){if(null!==e.key){if(this.Ls.test(e.key)){if(null==e.newValue)return t=this.ti(e.key),[2,this.ei(t,null)];if(n=this.ni(e.key,e.newValue))return[2,this.ei(n.clientId,n)]}else if(this.Bs.test(e.key)){if(null!==e.newValue&&(r=this.si(e.key,e.newValue)))return[2,this.ii(r)]}else if(this.qs.test(e.key)){if(null!==e.newValue&&(o=this.ri(e.key,e.newValue)))return[2,this.oi(o)]}else if(e.key===this.Us){if(null!==e.newValue&&(a=this.js(e.newValue)))return[2,this.Ws(a)]}else if(e.key===this.Ms)(s=function(e){var t=n5.o;if(null!=e)try{var n=JSON.parse(e);"number"==typeof n||ri(),t=n}catch(e){rt("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(e.newValue))!==n5.o&&this.sequenceNumberHandler(s);else if(e.key===this.Ks)return[2,this.syncEngine.ci()]}}else this.$s.push(e);return[2]})})})}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new sI(this.currentUser,e,t,n),o=sC(this.persistenceKey,this.currentUser,e);this.setItem(o,r.Ss())},e.prototype.Hs=function(e){var t=sC(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=sB(this.persistenceKey,e),o=new sx(e,t,n);this.setItem(r,o.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return sT.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),o=void 0!==n[2]?n[2]:null;return sI.Vs(new s_(o),r,t)},e.prototype.ri=function(e,t){var n=Number(this.qs.exec(e)[1]);return sx.Vs(n,t)},e.prototype.js=function(e){return sS.Vs(e)},e.prototype.ii=function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(re("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),o=this.Gs(this.Fs),a=this.Gs(r),s=[],u=[];return a.forEach(function(e){o.has(e)||s.push(e)}),o.forEach(function(e){a.has(e)||u.push(e)}),this.syncEngine.hi(s,u).then(function(){n.Fs=r})},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=ot;return e.forEach(function(e,n){t=t.unionWith(n.activeTargetIds)}),t},e}(),sN=function(){function e(){this.li=new sk,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new sk,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),sO=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),sF=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),sR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},sL=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),sM=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,O.__extends)(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise(function(o,a){var s=new nv;s.listenOnce(td.COMPLETE,function(){try{switch(s.getLastErrorCode()){case tA.NO_ERROR:var t=s.getResponseJson();re("Connection","XHR received:",JSON.stringify(t)),o(t);break;case tA.TIMEOUT:re("Connection",'RPC "'+e+'" timed out'),a(new n8(n6.DEADLINE_EXCEEDED,"Request time out"));break;case tA.HTTP_ERROR:var n=s.getStatus();if(re("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u,c=(u=r.status.toLowerCase().replace(/_/g,"-"),Object.values(n6).indexOf(u)>=0?u:n6.UNKNOWN);a(new n8(c,r.message))}else a(new n8(n6.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new n8(n6.UNAVAILABLE,"Connection failed."));break;default:ri()}}finally{re("Connection",'RPC "'+e+'" completed.')}});var u=JSON.stringify(r);s.send(t,"POST",u,n,15)})},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=new nX,o=ti(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new nl({})),this.ki(a.initMessageHeaders,t),(0,F.uI)()||(0,F.b$)()||(0,F.d)()||(0,F.w1)()||(0,F.Mn)()||(0,F.ru)()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");re("Connection","Creating WebChannel: "+s,a);var u=r.createWebChannel(s,a),c=!1,l=!1,A=new sL({Ei:function(e){l?re("Connection","Not sending because WebChannel is closed:",e):(c||(re("Connection","Opening WebChannel transport."),u.open(),c=!0),re("Connection","WebChannel sending:",e),u.send(e))},Ti:function(){return u.close()}}),d=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return d(u,tp.EventType.OPEN,function(){l||re("Connection","WebChannel transport opened.")}),d(u,tp.EventType.CLOSE,function(){l||(l=!0,re("Connection","WebChannel transport closed"),A.Vi())}),d(u,tp.EventType.ERROR,function(e){l||(l=!0,rn("Connection","WebChannel transport errored:",e),A.Vi(new n8(n6.UNAVAILABLE,"The operation could not be completed")))}),d(u,tp.EventType.MESSAGE,function(e){var t;if(!l){var n=e.data[0];n||ri();var r=n.error||(null===(t=n[0])||void 0===t?void 0:t.error);if(r){re("Connection","WebChannel received error:",r);var o=r.status,a=function(e){var t=iW[e];if(void 0!==t)return i0(t)}(o),s=r.message;void 0===a&&(a=n6.INTERNAL,s="Unknown error status: "+o+" with message "+r.message),l=!0,A.Vi(new n8(a,s)),u.close()}else re("Connection","WebChannel received:",n),A.Si(n)}}),d(o,tn.STAT_EVENT,function(e){e.stat===n4.PROXY?re("Connection","Detected buffering proxy"):e.stat===n4.NOPROXY&&re("Connection","Detected no buffering proxy")}),setTimeout(function(){A.Pi()},0),A},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var o=this.xi(e,t);re("RestConnection","Sending: ",o,n);var a={};return this.ki(a,r),this.Fi(e,o,a,n).then(function(e){return re("RestConnection","Received: ",e),e},function(t){throw rn("RestConnection",e+" failed with error: ",t,"url: ",o,"request:",n),t})},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=sR[e];return this.Di+"/v1/"+t+":"+n},e}());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(){return"undefined"!=typeof window?window:null}function sU(){return"undefined"!=typeof document?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(e){return new of(e,!0)}var sZ=function(){function e(e,t,n,r,o){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===o&&(o=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=o,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),o=Math.max(0,n-r);o>0&&re("ExponentialBackoff","Backing off for "+o+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,o,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),sQ=function(){function e(e,t,n,r,o,a){this.Se=e,this.zi=n,this.Hi=r,this.Ji=o,this.listener=a,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new sZ(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===n6.RESOURCE_EXHAUSTED?(rt(t.toString()),rt("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===n6.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}})})},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(t){e.Yi===n&&e.lr(t)},function(n){t(function(){var t=new n8(n6.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)})})},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){n(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(e){n(function(){return t.dr(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,O.__awaiter)(e,void 0,void 0,function(){return(0,O.__generator)(this,function(e){return this.state=0,this.start(),[2]})})})},e.prototype.dr=function(e){return re("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget(function(){return t.Yi===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),sH=function(e){function t(t,n,r,o,a){var s=this;return(s=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,a)||this).R=o,s}return(0,O.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r,o,a,s="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:ri(),u=t.targetChange.targetIds||[],c=(o=t.targetChange.resumeToken,e.I?(void 0===o||"string"==typeof o||ri(),rm.fromBase64String(o||"")):(void 0===o||o instanceof Uint8Array||ri(),rm.fromUint8Array(o||new Uint8Array))),l=(A=t.targetChange.cause)&&new n8(void 0===(a=A).code?n6.UNKNOWN:i0(a.code),a.message||"");n=new oa(s,u,c,l||null)}else if("documentChange"in t){t.documentChange,(s=t.documentChange).document,s.document.name,s.document.updateTime,u=ob(e,s.document.name),c=og(s.document.updateTime);var A=new rQ({mapValue:{fields:s.document.fields}});n=new oi((l=rH.newFoundDocument(u,c,A),s.targetIds||[]),s.removedTargetIds||[],l.key,l)}else if("documentDelete"in t)t.documentDelete,(s=t.documentDelete).document,u=ob(e,s.document),c=s.readTime?og(s.readTime):rc.min(),A=rH.newNoDocument(u,c),n=new oi([],l=s.removedTargetIds||[],A.key,A);else if("documentRemove"in t)t.documentRemove,(s=t.documentRemove).document,u=ob(e,s.document),n=new oi([],c=s.removedTargetIds||[],u,null);else{if(!("filter"in t))return ri();t.filter;var d=t.filter;d.targetId,u=new iX(s=d.count||0),n=new oo(c=d.targetId,u)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return rc.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?rc.min():t.readTime?og(t.readTime):rc.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t,n,r,o,a={};a.database=oE(this.R),a.addTarget=(t=this.R,(n=rW(r=e.target)?{documents:oS(t,r)}:{query:ok(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=op(t,e.resumeToken):e.snapshotVersion.compareTo(rc.min())>0&&(n.readTime=oh(t,e.snapshotVersion.toTimestamp())),n);var s=(this.R,null==(o=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ri()}}(0,e.purpose))?null:{"goog-listen-tags":o});s&&(a.labels=s),this.cr(a)},t.prototype.yr=function(e){var t={};t.database=oE(this.R),t.removeTarget=e,this.cr(t)},t}(sQ),sV=function(e){function t(t,n,r,o,a){var s=this;return(s=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,a)||this).R=o,s.gr=!1,s}return(0,O.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(e.streamToken||ri(),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t,n,r=(t=e.writeResults,n=e.commitTime,t&&t.length>0?(void 0!==n||ri(),t.map(function(e){var t;return(t=e.updateTime?og(e.updateTime):og(n)).isEqual(rc.min())&&(t=og(n)),new ik(t,e.transformResults||[])})):[]),o=og(e.commitTime);return this.listener.Tr(o,r)}return e.writeResults&&0!==e.writeResults.length&&ri(),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=oE(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map(function(e){return ox(t.R,e)})};this.cr(n)},t}(sQ),sK=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).credentials=t,o.Hi=n,o.R=r,o.Rr=!1,o}return(0,O.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new n8(n6.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(o){return r.Hi.Ni(e,t,n,o)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===n6.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new n8(n6.UNKNOWN,e.toString())})},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then(function(o){return r.Hi.$i(e,t,n,o)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===n6.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new n8(n6.UNKNOWN,e.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),sz=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(rt(t),this.Vr=!1):re("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),sG=function(e,t,n,r,o){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di(function(e){n.enqueueAndForget(function(){return(0,O.__awaiter)(a,void 0,void 0,function(){return(0,O.__generator)(this,function(e){switch(e.label){case 0:return s2(this)?(re("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:return(t=e).Or.add(4),[4,sq(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,sW(t)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})}),this.Br=new sz(n,r)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sW(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,O.__generator)(this,function(r){switch(r.label){case 0:if(!s2(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function sq(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,O.__generator)(this,function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function sY(e,t){e.$r.has(t.targetId)||(e.$r.set(t.targetId,t),s1(e)?s0(e):ua(e).er()&&sX(e,t))}function s$(e,t){var n=ua(e);e.$r.delete(t),n.er()&&sJ(e,t),0===e.$r.size&&(n.er()?n.ir():s2(e)&&e.Br.set("Unknown"))}function sX(e,t){e.qr.U(t.targetId),ua(e).mr(t)}function sJ(e,t){e.qr.U(t),ua(e).yr(t)}function s0(e){e.qr=new ou({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),ua(e).start(),e.Br.Sr()}function s1(e){return s2(e)&&!ua(e).tr()&&e.$r.size>0}function s2(e){return 0===e.Or.size}function s4(e){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(t){return e.$r.forEach(function(t,n){sX(e,t)}),[2]})})}function s3(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(n){return e.qr=void 0,s1(e)?(e.Br.Nr(t),s0(e)):e.Br.set("Unknown"),[2]})})}function s5(e,t,n){return(0,O.__awaiter)(this,void 0,void 0,function(){var r,o,a;return(0,O.__generator)(this,function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof oa&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o,a;return(0,O.__generator)(this,function(s){switch(s.label){case 0:n=t.cause,r=0,o=t.targetIds,s.label=1;case 1:return r<o.length?(a=o[r],e.$r.has(a)?[4,e.remoteSyncer.rejectListen(a,n)]:[3,3]):[3,5];case 2:s.sent(),e.$r.delete(a),e.qr.removeTarget(a),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(e,t)];case 2:case 4:return s.sent(),[3,5];case 3:return r=s.sent(),re("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,s6(e,r)];case 5:return[3,13];case 6:if(t instanceof oi?e.qr.X(t):t instanceof oo?e.qr.rt(t):e.qr.et(t),n.isEqual(rc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,so(e.localStore)];case 8:var u;return o=s.sent(),n.compareTo(o)>=0?[4,((u=e.qr.ut(n)).targetChanges.forEach(function(t,r){if(t.resumeToken.approximateByteSize()>0){var o=e.$r.get(r);o&&e.$r.set(r,o.withResumeToken(t.resumeToken,n))}}),u.targetMismatches.forEach(function(t){var n=e.$r.get(t);n&&(e.$r.set(t,n.withResumeToken(rm.EMPTY_BYTE_STRING,n.snapshotVersion)),sJ(e,t),sX(e,new ac(n.target,t,1,n.sequenceNumber)))}),e.remoteSyncer.applyRemoteEvent(u))]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return re("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,s6(e,a)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function s6(e,t,n){return(0,O.__awaiter)(this,void 0,void 0,function(){var r=this;return(0,O.__generator)(this,function(o){switch(o.label){case 0:if(!ae(t))throw t;return e.Or.add(1),[4,sq(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return so(e.localStore)}),e.asyncQueue.enqueueRetryable(function(){return(0,O.__awaiter)(r,void 0,void 0,function(){return(0,O.__generator)(this,function(t){switch(t.label){case 0:return re("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,sW(e)];case 2:return t.sent(),[2]}})})}),[2]}})})}function s8(e,t){return t().catch(function(n){return s6(e,n,t)})}function s9(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t,n,r,o,a;return(0,O.__generator)(this,function(s){var u,c,l;switch(s.label){case 0:n=us(t=e),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,s.label=1;case 1:if(!(s2(u=t)&&u.Fr.length<10))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,(c=t.localStore,l=r,c.persistence.runTransaction("Get next mutation batch","readonly",function(e){return void 0===l&&(l=-1),c._n.getNextMutationBatchAfterBatchId(e,l)}))];case 3:return null===(o=s.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=o.batchId,function(e,t){e.Fr.push(t);var n=us(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,o),[3,6]);case 4:return a=s.sent(),[4,s6(t,a)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return s7(t)&&ue(t),[2]}})})}function s7(e){return s2(e)&&!us(e).tr()&&e.Fr.length>0}function ue(e){us(e).start()}function ut(e){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(t){return us(e).Ar(),[2]})})}function un(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t,n,r,o;return(0,O.__generator)(this,function(a){for(t=us(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]})})}function ur(e,t,n){return(0,O.__awaiter)(this,void 0,void 0,function(){var r,o;return(0,O.__generator)(this,function(a){switch(a.label){case 0:return r=e.Fr.shift(),o=au.from(r,t,n),[4,s8(e,function(){return e.remoteSyncer.applySuccessfulWrite(o)})];case 1:return a.sent(),[4,s9(e)];case 2:return a.sent(),[2]}})})}function ui(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(n){switch(n.label){case 0:return t&&us(e).pr?[4,function(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,O.__generator)(this,function(o){switch(o.label){case 0:return iJ(r=t.code)&&r!==n6.ABORTED?(n=e.Fr.shift(),us(e).sr(),[4,s8(e,function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)})]):[3,3];case 1:return o.sent(),[4,s9(e)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return s7(e)&&ue(e),[2]}})})}function uo(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n;return(0,O.__generator)(this,function(r){switch(r.label){case 0:return n=e,t?(n.Or.delete(2),[4,sW(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,sq(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function ua(e){var t,n,r,o=this;return e.Ur||(e.Ur=(t=e.datastore,n=e.asyncQueue,r={Ii:s4.bind(null,e),Ri:s3.bind(null,e),_r:s5.bind(null,e)},t.br(),new sH(n,t.Hi,t.credentials,t.R,r)),e.Mr.push(function(t){return(0,O.__awaiter)(o,void 0,void 0,function(){return(0,O.__generator)(this,function(n){switch(n.label){case 0:return t?(e.Ur.sr(),s1(e)?s0(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:n.sent(),e.qr=void 0,n.label=3;case 3:return[2]}})})})),e.Ur}function us(e){var t,n,r,o=this;return e.Kr||(e.Kr=(t=e.datastore,n=e.asyncQueue,r={Ii:ut.bind(null,e),Ri:ui.bind(null,e),Ir:un.bind(null,e),Tr:ur.bind(null,e)},t.br(),new sV(n,t.Hi,t.credentials,t.R,r)),e.Mr.push(function(t){return(0,O.__awaiter)(o,void 0,void 0,function(){return(0,O.__generator)(this,function(n){switch(n.label){case 0:return t?(e.Kr.sr(),[4,s9(e)]):[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:n.sent(),e.Fr.length>0&&(re("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),n.label=4;case 4:return[2]}})})})),e.Kr}var uu=function(){function e(e,t,n,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new o3,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,o,a){var s=new e(t,n,Date.now()+r,o,a);return s.start(r),s},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new n8(n6.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function uc(e,t){if(rt("AsyncQueue",t+": "+e),ae(e))return new n8(n6.UNAVAILABLE,t+": "+e);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ul=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||rT.comparator(t.key,n.key)}:function(e,t){return rT.comparator(e.key,t.key)},this.keyedMap=i8,this.sortedSet=new i1(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e)||this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var o=n.getNext().key,a=r.getNext().key;if(!o.isEqual(a))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),uA=function(){function e(){this.Qr=new i1(rT.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):ri():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,n){e.push(n)}),e},e}(),ud=function(){function e(e,t,n,r,o,a,s,u){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=u}return e.fromInitialDocuments=function(t,n,r,o){var a=[];return n.forEach(function(e){a.push({type:0,doc:e})}),new e(t,n,ul.emptySet(n),a,r,o,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&il(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),uf=function(){this.Wr=void 0,this.listeners=[]},uh=function(){this.queries=new aq(function(e){return iA(e)},il),this.onlineState="Unknown",this.Gr=new Set};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o,a,s,u;return(0,O.__generator)(this,function(c){switch(c.label){case 0:if(n=e,r=t.query,o=!1,(a=n.queries.get(r))||(o=!0,a=new uf),!o)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=a,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return u=uc(c.sent(),"Initialization of query '"+id(t.query)+"' failed"),[2,void t.onError(u)];case 4:return n.queries.set(r,a),a.listeners.push(t),t.zr(n.onlineState),a.Wr&&t.Hr(a.Wr)&&uy(n),[2]}})})}function ug(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o,a,s;return(0,O.__generator)(this,function(u){return n=e,r=t.query,o=!1,(a=n.queries.get(r))&&(s=a.listeners.indexOf(t))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function uv(e,t){for(var n=!1,r=0;r<t.length;r++){var o=t[r],a=o.query,s=e.queries.get(a);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(o)&&(n=!0);s.Wr=o}}n&&uy(e)}function um(e,t,n){var r=e.queries.get(t);if(r)for(var o=0,a=r.listeners;o<a.length;o++)a[o].onError(n);e.queries.delete(t)}function uy(e){e.Gr.forEach(function(e){e.next()})}var ub=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var o=r[n];3!==o.type&&t.push(o)}e=new ud(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),a=!0):this.eo(e,this.onlineState)&&(this.no(e),a=!0),this.Xr=e,a},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=ud.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),uw=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),u_=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return ob(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?oI(this.R,e.document,!1):rH.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return og(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress={taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new u_(this.R),r=0;r<e.length;r++){var o=e[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||oe()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){var e,t,n,r,o;return(0,O.__generator)(this,function(a){switch(a.label){case 0:return[4,function(e,t,n,r){return(0,O.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c,l,A,d,f,h;return(0,O.__generator)(this,function(p){switch(p.label){case 0:for(o=e,a=oe(),s=i6,u=i9,c=0,l=n;c<l.length;c++)A=l[c],d=t.qn(A.metadata.name),A.document&&(a=a.add(d)),s=s.insert(d,t.Un(A)),u=u.insert(d,t.Kn(A.metadata.readTime));return f=o.On.newChangeBuffer({trackRemovals:!0}),[4,ss(o,iu(ie(rh.fromString("__bundle__/docs/"+r))))];case 1:return h=p.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",function(e){return sa(e,f,s,rc.min(),u).next(function(t){return f.apply(e),t}).next(function(t){return o.qe.removeMatchingKeysForTargetId(e,h.targetId).next(function(){return o.qe.addMatchingKeys(e,a,h.targetId)}).next(function(){return o.Mn.En(e,t)}).next(function(){return t})})})]}})})}(this.localStore,new u_(this.R),this.documents,this.ro.id)];case 1:e=a.sent(),t=this.co(this.documents),n=0,r=this.queries,a.label=2;case 2:return n<r.length?(o=r[n],[4,function(e,t,n){return void 0===n&&(n=oe()),(0,O.__awaiter)(this,void 0,void 0,function(){var r,o;return(0,O.__generator)(this,function(a){switch(a.label){case 0:return[4,ss(e,iu(ab(t.bundledQuery)))];case 1:return r=a.sent(),[2,(o=e).persistence.runTransaction("Save named query","readwrite",function(e){var a=og(t.readTime);if(r.snapshotVersion.compareTo(a)>=0)return o.Ke.saveNamedQuery(e,t);var s=r.withResumeToken(rm.EMPTY_BYTE_STRING,a);return o.kn=o.kn.insert(s.targetId,s),o.qe.updateTargetData(e,s).next(function(){return o.qe.removeMatchingKeysForTargetId(e,r.targetId)}).next(function(){return o.qe.addMatchingKeys(e,n,r.targetId)}).next(function(){return o.Ke.saveNamedQuery(e,t)})})]}})})}(this.localStore,o,t.get(o.name))]):[3,5];case 3:a.sent(),a.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new a7(Object.assign({},this.progress),e))]}})})}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uE=function(e){this.key=e},uC=function(e){this.key=e},uB=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=oe(),this.mutatedKeys=oe(),this.lo=ip(e),this.fo=new ul(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new uA,o=t?t.fo:this.fo,a=t?t.mutatedKeys:this.mutatedKeys,s=o,u=!1,c=it(this.query)&&o.size===this.query.limit?o.last():null,l=ir(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(function(e,t){var A=o.get(e),d=ih(n.query,t)?t:null,f=!!A&&n.mutatedKeys.has(A.key),h=!!d&&(d.hasLocalMutations||n.mutatedKeys.has(d.key)&&d.hasCommittedMutations),p=!1;A&&d?A.data.isEqual(d.data)?f!==h&&(r.track({type:3,doc:d}),p=!0):n.yo(A,d)||(r.track({type:2,doc:d}),p=!0,(c&&n.lo(d,c)>0||l&&0>n.lo(d,l))&&(u=!0)):!A&&d?(r.track({type:0,doc:d}),p=!0):A&&!d&&(r.track({type:1,doc:A}),p=!0,(c||l)&&(u=!0)),p&&(d?(s=s.add(d),a=h?a.add(e):a.delete(e)):(s=s.delete(e),a=a.delete(e)))}),it(this.query)||ir(this.query))for(;s.size>this.query.limit;){var A=it(this.query)?s.last():s.first();s=s.delete(A.key),a=a.delete(A.key),r.track({type:1,doc:A})}return{fo:s,mo:r,Nn:u,mutatedKeys:a}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,o=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var a=e.mo.jr();a.sort(function(e,t){var n,o,a;return n=e.type,o=t.type,(a=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ri()}})(n)-a(o)||r.lo(e.doc,t.doc)}),this.po(n);var s=t?this.Eo():[],u=0===this.ho.size&&this.current?1:0,c=u!==this.ao;return this.ao=u,0!==a.length||c?{snapshot:new ud(this.query,e.fo,o,a,e.mutatedKeys,0===u,c,!1),To:s}:{To:s}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new uA,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.uo=t.uo.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.uo=t.uo.delete(e)}),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=oe(),this.fo.forEach(function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))});var n=[];return t.forEach(function(t){e.ho.has(t)||n.push(new uC(t))}),this.ho.forEach(function(e){t.has(e)||n.push(new uE(e))}),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=oe();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return ud.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),uI=function(e,t,n){this.query=e,this.targetId=t,this.view=n},ux=function(e){this.key=e,this.bo=!1},uT=function(){function e(e,t,n,r,o,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.vo={},this.Po=new aq(function(e){return iA(e)},il),this.Vo=new Map,this.So=new Set,this.Do=new i1(rT.comparator),this.Co=new Map,this.No=new sf,this.xo={},this.ko=new Map,this.Fo=aM.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function uS(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o,a,s,u;return(0,O.__generator)(this,function(c){switch(c.label){case 0:return(a=(n=u1(e)).Po.get(t))?(r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),o=a.view.Ro(),[3,4]):[3,1];case 1:return[4,ss(n.localStore,iu(t))];case 2:return s=c.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,uk(n,t,r,"current"===u)];case 3:o=c.sent(),n.isPrimaryClient&&sY(n.remoteStore,s),c.label=4;case 4:return[2,o]}})})}function uk(e,t,n,r){return(0,O.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c,l;return(0,O.__generator)(this,function(A){switch(A.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,O.__awaiter)(this,void 0,void 0,function(){var o,a,s;return(0,O.__generator)(this,function(u){switch(u.label){case 0:return(o=t.view._o(n)).Nn?[4,sc(e.localStore,t.query,!1).then(function(e){var n=e.documents;return t.view._o(n,o)})]:[3,2];case 1:o=u.sent(),u.label=2;case 2:return a=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(o,e.isPrimaryClient,a),[2,(uH(e,t.targetId,s.To),s.snapshot)]}})})}(e,t,n,r)},[4,sc(e.localStore,t,!0)];case 1:return s=(a=new uB(t,(o=A.sent()).Bn))._o(o.documents),u=or.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=a.applyChanges(s,e.isPrimaryClient,u),uH(e,n,c.To),l=new uI(t,n,a),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}})})}function uD(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o;return(0,O.__generator)(this,function(a){switch(a.label){case 0:return r=(n=e).Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter(function(e){return!il(e,t)})),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,su(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),s$(n.remoteStore,r.targetId),uZ(n,r.targetId)}).catch(aQ)]):[3,3];case 1:a.sent(),a.label=2;case 2:return[3,5];case 3:return uZ(n,r.targetId),[4,su(n.localStore,r.targetId,!0)];case 4:a.sent(),a.label=5;case 5:return[2]}})})}function uN(e,t,n){return(0,O.__awaiter)(this,void 0,void 0,function(){var r,o,a;return(0,O.__generator)(this,function(s){var u,c,l,A,d,f,h;switch(s.label){case 0:r=u2(e),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,(u=r.localStore,l=ru.now(),A=t.reduce(function(e,t){return e.add(t.key)},oe()),u.persistence.runTransaction("Locally write mutations","readwrite",function(e){return u.Mn.pn(e,A).next(function(n){c=n;for(var r=[],o=0;o<t.length;o++){var a=t[o],s=function(e,t){for(var n=null,r=0,o=e.fieldTransforms;r<o.length;r++){var a=o[r],s=t.data.field(a.field),u=ib(a.transform,s||null);null!=u&&(null==n&&(n=rQ.empty()),n.set(a.field,u))}return n||null}(a,c.get(a.key));null!=s&&r.push(new iP(a.key,s,function e(t){var n=[];return rA(t.fields,function(t,r){var o=new rg([t]);if(rj(r)){var a=e(r.mapValue).fields;if(0===a.length)n.push(o);else for(var s=0;s<a.length;s++){var u=a[s];n.push(o.child(u))}}else n.push(o)}),new rv(n)}(s.value.mapValue),iD.exists(!0)))}return u._n.addMutationBatch(e,l,r,t)})}).then(function(e){return e.applyToLocalDocumentSet(c),{batchId:e.batchId,changes:c}}))];case 2:return o=s.sent(),r.sharedClientState.addPendingMutation(o.batchId),d=r,f=o.batchId,(h=d.xo[d.currentUser.toKey()])||(h=new i1(ra)),h=h.insert(f,n),d.xo[d.currentUser.toKey()]=h,[4,uK(r,o.changes)];case 3:return s.sent(),[4,s9(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return a=uc(s.sent(),"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function uO(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,O.__generator)(this,function(o){var a,s,u;switch(o.label){case 0:n=e,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,(a=n.localStore,s=t.snapshotVersion,u=a.kn,a.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var n=a.On.newChangeBuffer({trackRemovals:!0});u=a.kn;var r=[];t.targetChanges.forEach(function(t,n){var o=u.get(n);if(o){r.push(a.qe.removeMatchingKeys(e,t.removedDocuments,n).next(function(){return a.qe.addMatchingKeys(e,t.addedDocuments,n)}));var c=t.resumeToken;if(c.approximateByteSize()>0){var l=o.withResumeToken(c,s).withSequenceNumber(e.currentSequenceNumber);u=u.insert(n,l),l.resumeToken.approximateByteSize()>0||ri(),(0===o.resumeToken.approximateByteSize()||l.snapshotVersion.toMicroseconds()-o.snapshotVersion.toMicroseconds()>=3e8||t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size>0)&&r.push(a.qe.updateTargetData(e,l))}}});var o=i6;if(t.documentUpdates.forEach(function(n,o){t.resolvedLimboDocuments.has(n)&&r.push(a.persistence.referenceDelegate.updateLimboDocument(e,n))}),r.push(sa(e,n,t.documentUpdates,s,void 0).next(function(e){o=e})),!s.isEqual(rc.min())){var c=a.qe.getLastRemoteSnapshotVersion(e).next(function(t){return a.qe.setTargetsMetadata(e,e.currentSequenceNumber,s)});r.push(c)}return o5.waitFor(r).next(function(){return n.apply(e)}).next(function(){return a.Mn.En(e,o)}).next(function(){return o})}).then(function(e){return a.kn=u,e}))];case 2:return r=o.sent(),t.targetChanges.forEach(function(e,t){var r=n.Co.get(t);r&&(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1||ri(),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?r.bo||ri():e.removedDocuments.size>0&&(r.bo||ri(),r.bo=!1))}),[4,uK(n,r,t)];case 3:case 5:return o.sent(),[3,6];case 4:return[4,aQ(o.sent())];case 6:return[2]}})})}function uF(e,t,n){if(e.isPrimaryClient&&0===n||!e.isPrimaryClient&&1===n){var r,o,a=[];e.Po.forEach(function(e,n){var r=n.view.zr(t);r.snapshot&&a.push(r.snapshot)}),(r=e.eventManager).onlineState=t,o=!1,r.queries.forEach(function(e,n){for(var r=0,a=n.listeners;r<a.length;r++)a[r].zr(t)&&(o=!0)}),o&&uy(r),a.length&&e.vo._r(a),e.onlineState=t,e.isPrimaryClient&&e.sharedClientState.setOnlineState(t)}}function uR(e,t,n){return(0,O.__awaiter)(this,void 0,void 0,function(){var r,o,a,s,u,c;return(0,O.__generator)(this,function(l){switch(l.label){case 0:return(r=e).sharedClientState.updateQueryState(t,"rejected",n),(a=(o=r.Co.get(t))&&o.key)?(s=(s=new i1(rT.comparator)).insert(a,rH.newNoDocument(a,rc.min())),u=oe().add(a),c=new on(rc.min(),new Map,new i3(ra),s,u),[4,uO(r,c)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(a),r.Co.delete(t),uV(r),[3,4];case 2:return[4,su(r.localStore,t,!1).then(function(){return uZ(r,t,n)}).catch(aQ)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function uL(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o;return(0,O.__generator)(this,function(a){var s;switch(a.label){case 0:n=e,r=t.batch.batchId,a.label=1;case 1:return a.trys.push([1,4,,6]),[4,(s=n.localStore).persistence.runTransaction("Acknowledge batch","readwrite-primary",function(e){var n,r,o,a=t.batch.keys(),u=s.On.newChangeBuffer({trackRemovals:!0});return(r=(n=t.batch).keys(),o=o5.resolve(),r.forEach(function(r){o=o.next(function(){return u.getEntry(e,r)}).next(function(e){var o=t.docVersions.get(r);null!==o||ri(),0>e.version.compareTo(o)&&(n.applyToRemoteDocument(e,t),e.isValidDocument()&&u.addEntry(e,t.commitVersion))})}),o.next(function(){return s._n.removeMutationBatch(e,n)})).next(function(){return u.apply(e)}).next(function(){return s._n.performConsistencyCheck(e)}).next(function(){return s.Mn.pn(e,a)})})];case 2:return o=a.sent(),uj(n,r,null),uU(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,uK(n,o)];case 3:case 5:return a.sent(),[3,6];case 4:return[4,aQ(a.sent())];case 6:return[2]}})})}function uM(e,t,n){return(0,O.__awaiter)(this,void 0,void 0,function(){var r,o;return(0,O.__generator)(this,function(a){var s;switch(a.label){case 0:r=e,a.label=1;case 1:return a.trys.push([1,4,,6]),[4,(s=r.localStore).persistence.runTransaction("Reject batch","readwrite-primary",function(e){var n;return s._n.lookupMutationBatch(e,t).next(function(t){return null!==t||ri(),n=t.keys(),s._n.removeMutationBatch(e,t)}).next(function(){return s._n.performConsistencyCheck(e)}).next(function(){return s.Mn.pn(e,n)})})];case 2:return o=a.sent(),uj(r,t,n),uU(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,uK(r,o)];case 3:case 5:return a.sent(),[3,6];case 4:return[4,aQ(a.sent())];case 6:return[2]}})})}function uP(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o,a;return(0,O.__generator)(this,function(s){var u;switch(s.label){case 0:s2((n=e).remoteStore)||re("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,(u=n.localStore).persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return u._n.getHighestUnacknowledgedBatchId(e)})];case 2:return -1===(r=s.sent())?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return a=uc(s.sent(),"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}})})}function uU(e,t){(e.ko.get(t)||[]).forEach(function(e){e.resolve()}),e.ko.delete(t)}function uj(e,t,n){var r=e.xo[e.currentUser.toKey()];if(r){var o=r.get(t);o&&(n?o.reject(n):o.resolve(),r=r.remove(t)),e.xo[e.currentUser.toKey()]=r}}function uZ(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,o=e.Vo.get(t);r<o.length;r++){var a=o[r];e.Po.delete(a),n&&e.vo.Mo(a,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach(function(t){e.No.containsKey(t)||uQ(e,t)})}function uQ(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(s$(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),uV(e))}function uH(e,t,n){for(var r=0;r<n.length;r++){var o=n[r];o instanceof uE?(e.No.addReference(o.key,t),function(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(re("SyncEngine","New document in limbo: "+n),e.So.add(r),uV(e))}(e,o)):o instanceof uC?(re("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||uQ(e,o.key)):ri()}}function uV(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new rT(rh.fromString(t)),r=e.Fo.next();e.Co.set(r,new ux(n)),e.Do=e.Do.insert(n,r),sY(e.remoteStore,new ac(iu(ie(n.path)),r,2,n5.o))}}function uK(e,t,n){return(0,O.__awaiter)(this,void 0,void 0,function(){var r,o,a,s;return(0,O.__generator)(this,function(u){switch(u.label){case 0:return o=[],a=[],s=[],(r=e).Po.isEmpty()?[3,3]:(r.Po.forEach(function(e,u){s.push(r.Oo(u,t,n).then(function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,e.fromCache?"not-current":"current"),o.push(e);var t=st.Pn(u.targetId,e);a.push(t)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.vo._r(o),[4,function(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o,a,s,u,c,l,A;return(0,O.__generator)(this,function(d){switch(d.label){case 0:n=e,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return o5.forEach(t,function(t){return o5.forEach(t.bn,function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)}).next(function(){return o5.forEach(t.vn,function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)})})})})];case 2:return d.sent(),[3,4];case 3:if(!ae(r=d.sent()))throw r;return re("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(o=0,a=t;o<a.length;o++)u=(s=a[o]).targetId,s.fromCache||(l=(c=n.kn.get(u)).snapshotVersion,A=c.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(u,A));return[2]}})})}(r.localStore,a)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function uz(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,O.__generator)(this,function(o){var a;switch(o.label){case 0:return(n=e).currentUser.isEqual(t)?[3,3]:(re("SyncEngine","User change. New user:",t.toKey()),[4,si(n.localStore,t)]);case 1:return r=o.sent(),n.currentUser=t,(a=n).ko.forEach(function(e){e.forEach(function(e){e.reject(new n8(n6.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.ko.clear(),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,uK(n,r.Ln)];case 2:o.sent(),o.label=3;case 3:return[2]}})})}function uG(e,t){var n=e.Co.get(t);if(n&&n.bo)return oe().add(n.key);var r=oe(),o=e.Vo.get(t);if(!o)return r;for(var a=0;a<o.length;a++){var s=o[a],u=e.Po.get(s);r=r.unionWith(u.view.wo)}return r}function uW(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){return[2,sA((t=e).localStore).then(function(e){return uK(t,e)})]})})}function uq(e,t,n,r){return(0,O.__awaiter)(this,void 0,void 0,function(){var o,a;return(0,O.__generator)(this,function(s){switch(s.label){case 0:var u,c;return[4,(c=(u=(o=e).localStore)._n,u.persistence.runTransaction("Lookup mutation documents","readonly",function(e){return c.jt(e,t).next(function(t){return t?u.Mn.pn(e,t):o5.resolve(null)})}))];case 1:return null===(a=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,s9(o.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(uj(o,t,r||null),uU(o,t),function(e,t){e._n.Gt(t)}(o.localStore,t)):ri(),s.label=4;case 4:return[4,uK(o,a)];case 5:return s.sent(),[3,7];case 6:re("SyncEngine","Cannot apply mutation batch with id: "+t),s.label=7;case 7:return[2]}})})}function uY(e,t,n){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o,a,s,u,c,l,A,d,f,h,p,g;return(0,O.__generator)(this,function(v){switch(v.label){case 0:n=e,r=[],o=[],a=0,s=t,v.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(l=n.Vo.get(u))&&0!==l.length?[4,ss(n.localStore,iu(l[0]))]:[3,7]):[3,13];case 2:c=v.sent(),A=0,d=l,v.label=3;case 3:return A<d.length?(f=d[A],h=n.Po.get(f),[4,function(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o;return(0,O.__generator)(this,function(a){switch(a.label){case 0:return[4,sc((n=e).localStore,t.query,!0)];case 1:return r=a.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&uH(n,t.targetId,o.To),o)]}})})}(n,h)]):[3,6];case 4:(p=v.sent()).snapshot&&o.push(p.snapshot),v.label=5;case 5:return A++,[3,3];case 6:return[3,11];case 7:return[4,sl(n.localStore,u)];case 8:return g=v.sent(),[4,ss(n.localStore,g)];case 9:return c=v.sent(),[4,uk(n,u$(g),u,!1)];case 10:v.sent(),v.label=11;case 11:r.push(c),v.label=12;case 12:return a++,[3,1];case 13:return[2,(n.vo._r(o),r)]}})})}function u$(e){var t,n,r,o;return t=e.path,n=e.collectionGroup,r=e.orderBy,o=e.filters,new r7(t,n,r,o,e.limit,"F",e.startAt,e.endAt)}function uX(e){return e.localStore.persistence.fn()}function uJ(e,t,n,r){return(0,O.__awaiter)(this,void 0,void 0,function(){var o,a,s;return(0,O.__generator)(this,function(u){switch(u.label){case 0:return(o=e).$o?(re("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,sA(o.localStore)];case 3:return a=u.sent(),s=on.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,uK(o,a,s)];case 4:return u.sent(),[3,8];case 5:return[4,su(o.localStore,t,!0)];case 6:return u.sent(),uZ(o,t,r),[3,8];case 7:ri(),u.label=8;case 8:return[2]}})})}function u0(e,t,n){return(0,O.__awaiter)(this,void 0,void 0,function(){var r,o,a,s,u,c,l,A,d,f;return(0,O.__generator)(this,function(h){switch(h.label){case 0:if(!(r=u1(e)).$o)return[3,10];o=0,a=t,h.label=1;case 1:return o<a.length?(s=a[o],r.Vo.has(s)?(re("SyncEngine","Adding an already active target "+s),[3,5]):[4,sl(r.localStore,s)]):[3,6];case 2:return u=h.sent(),[4,ss(r.localStore,u)];case 3:return c=h.sent(),[4,uk(r,u$(u),c.targetId,!1)];case 4:h.sent(),sY(r.remoteStore,c),h.label=5;case 5:return o++,[3,1];case 6:l=function(e){return(0,O.__generator)(this,function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,su(r.localStore,e,!1).then(function(){s$(r.remoteStore,e),uZ(r,e)}).catch(aQ)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})},A=0,d=n,h.label=7;case 7:return A<d.length?(f=d[A],[5,l(f)]):[3,10];case 8:h.sent(),h.label=9;case 9:return A++,[3,7];case 10:return[2]}})})}function u1(e){return e.remoteStore.remoteSyncer.applyRemoteEvent=uO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uR.bind(null,e),e.vo._r=uv.bind(null,e.eventManager),e.vo.Mo=um.bind(null,e.eventManager),e}function u2(e){return e.remoteStore.remoteSyncer.applySuccessfulWrite=uL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uM.bind(null,e),e}var u4=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(t){switch(t.label){case 0:return this.R=sj(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){var t;return t=this.persistence,new sr(t,new sn,e.initialUser,this.R)},e.prototype.qo=function(e){return new sy(sw.bs,this.R)},e.prototype.Bo=function(e){return new sN},e.prototype.terminate=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},e}(),u3=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).Qo=t,o.cacheSizeBytes=n,o.forceOwnership=r,o.synchronizeTabs=!1,o}return(0,O.__extends)(t,e),t.prototype.initialize=function(t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,O.__generator)(this,function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){return[2,(t=e).persistence.runTransaction("Synchronize last document change read time","readonly",function(e){var t,n;return t=a0(e),n=rc.min(),t.$t({index:oz.readTimeIndex,reverse:!0},function(e,t,r){t.readTime&&(n=ah(t.readTime)),r.done()}).next(function(){return n})}).then(function(e){t.$n=e})]})})}(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,u2(this.Qo.syncEngine)];case 4:return r.sent(),[4,s9(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He(function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()})];case 6:return r.sent(),[2]}})})},t.prototype.Ko=function(e){var t;return t=this.persistence,new sr(t,new sn,e.initialUser,this.R)},t.prototype.Uo=function(e){return new aK(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var t=a9(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?aS.withCacheSize(this.cacheSizeBytes):aS.DEFAULT;return new a5(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,sP(),sU(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new sN},t}(u4),u5=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,O.__extends)(t,e),t.prototype.initialize=function(t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r=this;return(0,O.__generator)(this,function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof sD?(this.sharedClientState.syncEngine={ui:uq.bind(null,n),ai:uJ.bind(null,n),hi:u0.bind(null,n),fn:uX.bind(null,n),ci:uW.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He(function(e){return(0,O.__awaiter)(r,void 0,void 0,function(){return(0,O.__generator)(this,function(t){switch(t.label){case 0:return[4,function(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o,a,s,u,c,l;return(0,O.__generator)(this,function(A){var d;switch(A.label){case 0:return u1(n=e),u2(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,uY(n,r.toArray())]);case 1:return o=A.sent(),n.$o=!0,[4,uo(n.remoteStore,!0)];case 2:for(A.sent(),a=0,s=o;a<s.length;a++)u=s[a],sY(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach(function(e,t){n.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then(function(){return uZ(n,t),su(n.localStore,t,!0)}),s$(n.remoteStore,t)}),[4,l]);case 4:return A.sent(),[4,uY(n,c)];case 5:return A.sent(),(d=n).Co.forEach(function(e,t){s$(d.remoteStore,t)}),d.No.ts(),d.Co=new Map,d.Do=new i1(rT.comparator),n.$o=!1,[4,uo(n.remoteStore,!1)];case 6:A.sent(),A.label=7;case 7:return[2]}})})}(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}})})})];case 4:return o.sent(),[2]}})})},t.prototype.Bo=function(e){var t=sP();if(!sD.yt(t))throw new n8(n6.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=a9(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new sD(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(u3),u6=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n=this;return(0,O.__generator)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return uF(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=uz.bind(null,this.syncEngine),[4,uo(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.createEventManager=function(e){return new uh},e.prototype.createDatastore=function(e){var t=sj(e.databaseInfo.databaseId),n=new sM(e.databaseInfo);return new sK(e.credentials,n,t)},e.prototype.createRemoteStore=function(e){var t,n=this;return t=this.localStore,new sG(t,this.datastore,e.asyncQueue,function(e){return uF(n.syncEngine,e,0)},sF.yt()?new sF:new sO)},e.prototype.createSyncEngine=function(e,t){var n,r,o,a,s;return n=this.localStore,r=this.remoteStore,o=this.eventManager,a=this.sharedClientState,s=new uT(n,r,o,a,e.initialUser,e.maxConcurrentLimboResolutions),t&&(s.$o=!0),s},e.prototype.terminate=function(){return function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:return t=e,re("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,sq(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},e}(),u8=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),u9=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new o3,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))},function(e){return n.metadata.reject(e)})}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(e){return[2,this.metadata.promise]})})},e.prototype.Lo=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},e.prototype.Ho=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){var e,t,n;return(0,O.__generator)(this,function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(e=r.sent())?[2,null]:(isNaN(n=Number(t=this.zo.decode(e)))&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return[2,new uw(JSON.parse(r.sent()),e.length+n)]}})})},e.prototype.Zo=function(){return this.buffer.findIndex(function(e){return 123===e})},e.prototype.Jo=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:return 0>this.Zo()?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},e.prototype.Xo=function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},e.prototype.Yo=function(e){throw this.Go.cancel(),Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t,n=this;return(0,O.__generator)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new n8(n6.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o,a,s,u;return(0,O.__generator)(this,function(c){switch(c.label){case 0:return r=oE((n=e).R)+"/documents",o={documents:t.map(function(e){return oy(n.R,e)})},[4,n.$i("BatchGetDocuments",r,o)];case 1:return a=c.sent(),s=new Map,a.forEach(function(e){var t,r,o,a,u,c,l=(t=n.R,"found"in e?(e.found||ri(),e.found.name,e.found.updateTime,r=ob(t,e.found.name),o=og(e.found.updateTime),a=new rQ({mapValue:{fields:e.found.fields}}),rH.newFoundDocument(r,o,a)):"missing"in e?(e.missing||ri(),e.readTime||ri(),u=ob(t,e.missing),c=og(e.readTime),rH.newNoDocument(u,c)):ri());s.set(l.key.toString(),l)}),u=[],[2,(t.forEach(function(e){var t=s.get(e.toString());t||ri(),u.push(t)}),u)]}})})}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach(function(e){return n.recordVersion(e)}),t)]}})})},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new iY(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,O.__generator)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(t){e.delete(t.key.toString())}),e.forEach(function(e,n){var r=rT.fromPath(n);t.mutations.push(new i$(r,t.precondition(r)))}),[4,function(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o;return(0,O.__generator)(this,function(a){switch(a.label){case 0:return r=oE((n=e).R)+"/documents",o={writes:t.map(function(e){return ox(n.R,e)})},[4,n.Ni("Commit",r,o)];case 1:return a.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},e.prototype.recordVersion=function(e){if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ri();t=rc.min()}var t,n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new n8(n6.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?iD.updateTime(t):iD.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(rc.min()))throw new n8(n6.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return iD.updateTime(t)}return iD.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),u7=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new sZ(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,O.__awaiter)(e,void 0,void 0,function(){var e,t,n=this;return(0,O.__generator)(this,function(r){return e=new u9(this.datastore),(t=this.sc(e))&&t.then(function(t){n.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){n.deferred.resolve(t)}).catch(function(e){n.ic(e)})})}).catch(function(e){n.ic(e)}),[2]})})})},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!rB(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!iJ(t)}return!1},e}(),ce=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=s_.UNAUTHENTICATED,this.clientId=ro.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(e){return(0,O.__awaiter)(r,void 0,void 0,function(){return(0,O.__generator)(this,function(t){switch(t.label){case 0:return re("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}})})})}return e.prototype.getConfiguration=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new n8(n6.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new o3;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,O.__awaiter)(e,void 0,void 0,function(){var e;return(0,O.__generator)(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:n.sent(),n.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:n.sent(),n.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=uc(n.sent(),"Failed to shutdown persistence"),t.reject(e),[3,6];case 6:return[2]}})})}),t.promise},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o=this;return(0,O.__generator)(this,function(a){switch(a.label){case 0:return e.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=a.sent(),[4,t.initialize(n)];case 2:return a.sent(),r=n.initialUser,e.setCredentialChangeListener(function(e){return(0,O.__awaiter)(o,void 0,void 0,function(){return(0,O.__generator)(this,function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,si(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return e.terminate()}),e.offlineComponents=t,[2]}})})}function cn(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,O.__generator)(this,function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,cr(e)];case 1:return n=o.sent(),re("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener(function(e){return function(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,O.__generator)(this,function(o){switch(o.label){case 0:return(n=e).asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials"),r=s2(n),n.Or.add(3),[4,sq(n)];case 1:return o.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return o.sent(),n.Or.delete(3),[4,sW(n)];case 3:return o.sent(),[2]}})})}(t.remoteStore,e)}),e.onlineComponents=t,[2]}})})}function cr(e){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(re("FirestoreClient","Using default OfflineComponentProvider"),[4,ct(e,new u4)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}})})}function ci(e){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(re("FirestoreClient","Using default OnlineComponentProvider"),[4,cn(e,new u6)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}})})}function co(e){return cr(e).then(function(e){return e.persistence})}function ca(e){return cr(e).then(function(e){return e.localStore})}function cs(e){return ci(e).then(function(e){return e.remoteStore})}function cu(e){return ci(e).then(function(e){return e.syncEngine})}function cc(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,O.__generator)(this,function(r){switch(r.label){case 0:return[4,ci(e)];case 1:return[2,((n=(t=r.sent()).eventManager).onListen=uS.bind(null,t.syncEngine),n.onUnlisten=uD.bind(null,t.syncEngine),n)]}})})}function cl(e,t,n){var r=this;void 0===n&&(n={});var o=new o3;return e.asyncQueue.enqueueAndForget(function(){return(0,O.__awaiter)(r,void 0,void 0,function(){var r;return(0,O.__generator)(this,function(a){switch(a.label){case 0:return r=function(e,t,n,r,o){var a=new u8({next:function(a){t.enqueueAndForget(function(){return ug(e,s)});var u=a.docs.has(n);!u&&a.fromCache?o.reject(new n8(n6.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?o.reject(new n8(n6.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):o.resolve(a)},error:function(e){return o.reject(e)}}),s=new ub(ie(n.path),a,{includeMetadataChanges:!0,so:!0});return up(e,s)},[4,cc(e)];case 1:return[2,r.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}function cA(e,t,n){var r=this;void 0===n&&(n={});var o=new o3;return e.asyncQueue.enqueueAndForget(function(){return(0,O.__awaiter)(r,void 0,void 0,function(){var r;return(0,O.__generator)(this,function(a){switch(a.label){case 0:return r=function(e,t,n,r,o){var a=new ub(n,new u8({next:function(n){t.enqueueAndForget(function(){return ug(e,a)}),n.fromCache&&"server"===r.source?o.reject(new n8(n6.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):o.resolve(n)},error:function(e){return o.reject(e)}}),{includeMetadataChanges:!0,so:!0});return up(e,a)},[4,cc(e)];case 1:return[2,r.apply(void 0,[a.sent(),e.asyncQueue,t,n,o])]}})})}),o.promise}var cd=function(e,t,n,r,o,a,s,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.useFetchStreams=u},cf=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),ch=new Map,cp=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},cg=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(s_.UNAUTHENTICATED)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),cv=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable(function(){return t(n.token.user)})},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),cm=function(){function e(e){var t=this;this.currentUser=s_.UNAUTHENTICATED,this.oc=new o3,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var n=function(e){re("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(e){return n(e)}),setTimeout(function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(re("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.cc!==t?(re("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?("string"==typeof n.accessToken||ri(),new cp(n.accessToken,e.currentUser)):null}):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,O.__awaiter)(n,void 0,void 0,function(){return(0,O.__generator)(this,function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}})})})},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return null===e||"string"==typeof e||ri(),new s_(e)},e}(),cy=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=s_.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),cb=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new cy(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(s_.FIRST_PARTY)})},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(e,t,n){if(!n)throw new n8(n6.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function c_(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new n8(n6.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function cE(e,t,n,r){if(!0===t&&!0===r)throw new n8(n6.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function cC(e){if(!rT.isDocumentKey(e))throw new n8(n6.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function cB(e){if(rT.isDocumentKey(e))throw new n8(n6.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function cI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":ri()}function cx(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new n8(n6.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=cI(e);throw new n8(n6.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function cT(e,t){if(t<=0)throw new n8(n6.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cS=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new n8(n6.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new n8(n6.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,cE("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),ck=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cS({}),this._settingsFrozen=!1,e instanceof cf?(this._databaseId=e,this._credentials=new cg):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new n8(n6.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cf(e.options.projectId)}(e),this._credentials=new cm(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new n8(n6.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new n8(n6.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cS(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new cg;switch(e.type){case"gapi":var t=e.client;return"object"==typeof t&&null!==t&&t.auth&&t.auth.getAuthHeaderValueForFirstParty||ri(),new cb(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new n8(n6.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){var e;return(e=ch.get(this))&&(re("ComponentProvider","Removing Datastore"),ch.delete(this),e.terminate()),Promise.resolve()},e}(),cD=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new cO(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),cN=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),cO=function(e){function t(t,n,r){var o=this;return(o=e.call(this,t,n,ie(r))||this)._path=r,o.type="collection",o}return(0,O.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new cD(this.firestore,null,new rT(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(cN);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=(0,F.m9)(e),cw("collection","path",t),e instanceof ck)return cB(n=rh.fromString.apply(rh,(0,O.__spreadArray)([t],r))),new cO(e,null,n);if(!(e instanceof cD||e instanceof cO))throw new n8(n6.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cB(n=rh.fromString.apply(rh,(0,O.__spreadArray)([e.path],r)).child(rh.fromString(t))),new cO(e.firestore,null,n)}function cR(e,t){for(var n,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];if(e=(0,F.m9)(e),1==arguments.length&&(t=ro.u()),cw("doc","path",t),e instanceof ck)return cC(n=rh.fromString.apply(rh,(0,O.__spreadArray)([t],r))),new cD(e,null,new rT(n));if(!(e instanceof cD||e instanceof cO))throw new n8(n6.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return cC(n=e._path.child(rh.fromString.apply(rh,(0,O.__spreadArray)([t],r)))),new cD(e.firestore,e instanceof cO?e.converter:null,new rT(n))}function cL(e,t){return e=(0,F.m9)(e),t=(0,F.m9)(t),(e instanceof cD||e instanceof cO)&&(t instanceof cD||t instanceof cO)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function cM(e,t){return e=(0,F.m9)(e),t=(0,F.m9)(t),e instanceof cN&&t instanceof cN&&e.firestore===t.firestore&&il(e._query,t._query)&&e.converter===t.converter/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var cP=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new sZ(this,"async_queue_retry"),this.Ic=function(){var t=sU();t&&re("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=sU();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=sU();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var n=new o3;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.bc()})},e.prototype.bc=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){var e,t=this;return(0,O.__generator)(this,function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ae(e=n.sent()))throw e;return re("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),n.label=5;case 5:return[2]}})})},e.prototype.Rc=function(e){var t=this,n=this.dc.then(function(){return t.gc=!0,e().catch(function(e){var n;throw t.yc=e,t.gc=!1,rt("INTERNAL UNHANDLED ERROR: ",(n=e.message||"",e.stack&&(n=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),n)),e}).then(function(e){return t.gc=!1,e})});return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var o=uu.createAndSchedule(this,e,t,n,function(e){return r.vc(e)});return this.mc.push(o),o},e.prototype.Ac=function(){this.yc&&ri()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){var e;return(0,O.__generator)(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then(function(){t.mc.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.mc;n<r.length;n++){var o=r[n];if(o.skipDelay(),"all"!==e&&o.timerId===e)break}return t.Pc()})},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function cU(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var o=r[n];if(o in e&&"function"==typeof e[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new o3,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var cj=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new cP,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,O.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||cQ(this),this._firestoreClient.terminate()},t}(ck);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cZ(e){return e._firestoreClient||cQ(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function cQ(e){var t,n,r=e._freezeSettings(),o=(t=e._databaseId,new cd(t,(null===(n=e._app)||void 0===n?void 0:n.options.appId)||"",e._persistenceKey,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams));e._firestoreClient=new ce(e._credentials,e._queue,o)}function cH(e,t,n){var r=this,o=new o3;return e.asyncQueue.enqueue(function(){return(0,O.__awaiter)(r,void 0,void 0,function(){var r;return(0,O.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,4]),[4,ct(e,n)];case 1:return a.sent(),[4,cn(e,t)];case 2:return a.sent(),o.resolve(),[3,4];case 3:var s;if(!("FirebaseError"===(s=r=a.sent()).name?s.code===n6.FAILED_PRECONDITION||s.code===n6.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&s instanceof DOMException)||22===s.code||20===s.code||11===s.code))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),o.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return o.promise})}function cV(e){if(e._initialized||e._terminated)throw new n8(n6.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cK=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new n8(n6.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rg(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),cz=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(rm.fromBase64String(t))}catch(e){throw new n8(n6.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},e.fromUint8Array=function(t){return new e(rm.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),cG=function(e){this._methodName=e},cW=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new n8(n6.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new n8(n6.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return ra(this._lat,e._lat)||ra(this._long,e._long)},e}(),cq=/^__.*__$/,cY=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new iP(e,this.data,this.fieldMask,t,this.fieldTransforms):new iM(e,this.data,t,this.fieldTransforms)},e}(),c$=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new iP(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ri()}}var cJ=function(){function e(e,t,n,r,o,a){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===o&&this.Cc(),this.fieldTransforms=o||[],this.fieldMask=a||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return lc(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(cX(this.Nc)&&cq.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),c0=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||sj(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new cJ({Nc:e,methodName:t,qc:n,path:rg.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function c1(e){var t=e._freezeSettings(),n=sj(e._databaseId);return new c0(e._databaseId,!!t.ignoreUndefinedProperties,n)}function c2(e,t,n,r,o,a){void 0===a&&(a={});var s=e.Uc(a.merge||a.mergeFields?2:0,t,n,o);lo("Data must be an object, but it was:",s,r);var u,c,l=lr(r,s);if(a.merge)u=new rv(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){for(var A=[],d=0,f=a.mergeFields;d<f.length;d++){var h=la(t,f[d],n);if(!s.contains(h))throw new n8(n6.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");ll(A,h)||A.push(h)}u=new rv(A),c=s.fieldTransforms.filter(function(e){return u.covers(e.field)})}else u=null,c=s.fieldTransforms;return new cY(new rQ(l),u,c)}var c4=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,O.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(cG);function c3(e,t,n){return new cJ({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var c5=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,O.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new iS(e.path,new iw)},t.prototype.isEqual=function(e){return e instanceof t},t}(cG),c6=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,O.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=c3(this,e,!0),n=new i_(this.Kc.map(function(e){return ln(e,t)}));return new iS(e.path,n)},t.prototype.isEqual=function(e){return this===e},t}(cG),c8=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,O.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=c3(this,e,!0),n=new iC(this.Kc.map(function(e){return ln(e,t)}));return new iS(e.path,n)},t.prototype.isEqual=function(e){return this===e},t}(cG),c9=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return(0,O.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new iI(e.R,im(e.R,this.Qc));return new iS(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(cG);function c7(e,t,n,r){var o=e.Uc(1,t,n);lo("Data must be an object, but it was:",o,r);var a=[],s=rQ.empty();return rA(r,function(e,r){var u=lu(t,e,n);r=(0,F.m9)(r);var c=o.Oc(u);if(r instanceof c4)a.push(u);else{var l=ln(r,c);null!=l&&(a.push(u),s.set(u,l))}}),new c$(s,new rv(a),o.fieldTransforms)}function le(e,t,n,r,o,a){var s=e.Uc(1,t,n),u=[la(t,r,n)],c=[o];if(a.length%2!=0)throw new n8(n6.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<a.length;l+=2)u.push(la(t,a[l])),c.push(a[l+1]);for(var A=[],d=rQ.empty(),f=u.length-1;f>=0;--f)if(!ll(A,u[f])){var h=u[f],p=c[f];p=(0,F.m9)(p);var g=s.Oc(h);if(p instanceof c4)A.push(h);else{var v=ln(p,g);null!=v&&(A.push(h),d.set(h,v))}}return new c$(d,new rv(A),s.fieldTransforms)}function lt(e,t,n,r){return void 0===r&&(r=!1),ln(n,e.Uc(r?4:3,t))}function ln(e,t){if(li(e=(0,F.m9)(e)))return lo("Unsupported field value:",t,e),lr(e,t);if(e instanceof cG)return function(e,t){if(!cX(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,o=0;o<e.length;o++){var a=ln(e[o],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,F.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return im(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ru.fromDate(e);return{timestampValue:oh(t.R,n)}}if(e instanceof ru)return n=new ru(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:oh(t.R,n)};if(e instanceof cW)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof cz)return{bytesValue:op(t.R,e._byteString)};if(e instanceof cD){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:ov(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+cI(e))}(e,t)}function lr(e,t){var n={};return rd(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rA(e,function(e,r){var o=ln(r,t.kc(e));null!=o&&(n[e]=o)}),{mapValue:{fields:n}}}function li(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ru||e instanceof cW||e instanceof cz||e instanceof cD||e instanceof cG)}function lo(e,t,n){if(!li(n)||!("object"==typeof n&&null!==n&&(Object.getPrototypeOf(n)===Object.prototype||null===Object.getPrototypeOf(n)))){var r=cI(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function la(e,t,n){if((t=(0,F.m9)(t))instanceof cK)return t._internalPath;if("string"==typeof t)return lu(e,t);throw lc("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var ls=RegExp("[~\\*/\\[\\]]");function lu(e,t,n){if(t.search(ls)>=0)throw lc("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(cK.bind.apply(cK,(0,O.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(r){throw lc("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function lc(e,t,n,r,o){var a=r&&!r.isEmpty(),s=void 0!==o,u="Function "+t+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var c="";return(a||s)&&(c+=" (found",a&&(c+=" in field "+r),s&&(c+=" in document "+o),c+=")"),new n8(n6.INVALID_ARGUMENT,(u+=". ")+e+c)}function ll(e,t){return e.some(function(e){return e.isEqual(t)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lA=function(){function e(e,t,n,r,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=o}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new cD(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new ld(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(lf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),ld=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,O.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(lA);function lf(e,t){return"string"==typeof t?lu(e,t):t instanceof cK?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lh=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),lp=function(e){function t(t,n,r,o,a,s){var u=this;return(u=e.call(this,t,n,r,o,s)||this)._firestore=t,u._firestoreImpl=t,u.metadata=a,u}return(0,O.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new lg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(lf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(lA),lg=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,O.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(lp),lv=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new lh(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new lg(n._firestore,n._userDataWriter,r.key,r,new lh(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new n8(n6.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new lg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new lg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new lh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),o=-1,a=-1;return 0!==t.type&&(o=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:function(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ri()}}(t.type),doc:n,oldIndex:o,newIndex:a}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function lm(e,t){return e instanceof lp&&t instanceof lp?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof lv&&t instanceof lv&&e._firestore===t._firestore&&cM(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(e){if(ir(e)&&0===e.explicitOrderBy.length)throw new n8(n6.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lb=function(){};function lw(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++)e=t[r]._apply(e);return e}var l_=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).jc=t,o.Wc=n,o.Gc=r,o.type="where",o}return(0,O.__extends)(t,e),t.prototype._apply=function(e){var t,n,r=c1(e.firestore),o=function(e,t,n,r,o,a,s){if(o.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new n8(n6.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a+"' queries on FieldPath.documentId().");if("in"===a||"not-in"===a){lS(s,a);for(var u,c=[],l=0;l<s.length;l++){var A=s[l];c.push(lT(r,e,A))}u={arrayValue:{values:c}}}else u=lT(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||lS(s,a),u=lt(n,"where",s,"in"===a||"not-in"===a);var d=rq.create(o,a,u);return function(e,t){if(t.g()){var n=io(e);if(null!==n&&!n.isEqual(t.field))throw new n8(n6.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=ii(e);null!==r&&lk(e,t.field,r)}var o=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var o=r[n];if(t.indexOf(o.op)>=0)return o.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==o)throw o===t.op?new n8(n6.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new n8(n6.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+o.toString()+"' filters.")}(e,d),d}(e._query,0,r,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new cN(e.firestore,e.converter,(n=(t=e._query).filters.concat([o]),new r7(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)))},t}(lb),lE=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return(0,O.__extends)(t,e),t.prototype._apply=function(e){var t,n,r=function(e,t,n){if(null!==e.startAt)throw new n8(n6.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new n8(n6.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new r6(t,n);return function(e,t){if(null===ii(e)){var n=io(e);null!==n&&lk(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new cN(e.firestore,e.converter,(n=(t=e._query).explicitOrderBy.concat([r]),new r7(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)))},t}(lb),lC=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).type=t,o.Hc=n,o.Jc=r,o}return(0,O.__extends)(t,e),t.prototype._apply=function(e){return new cN(e.firestore,e.converter,ic(e._query,this.Hc,this.Jc))},t}(lb),lB=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).type=t,o.Yc=n,o.Xc=r,o}return(0,O.__extends)(t,e),t.prototype._apply=function(e){var t,n=lx(e,this.type,this.Yc,this.Xc);return new cN(e.firestore,e.converter,new r7((t=e._query).path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,n,t.endAt))},t}(lb),lI=function(e){function t(t,n,r){var o=this;return(o=e.call(this)||this).type=t,o.Yc=n,o.Xc=r,o}return(0,O.__extends)(t,e),t.prototype._apply=function(e){var t,n=lx(e,this.type,this.Yc,this.Xc);return new cN(e.firestore,e.converter,new r7((t=e._query).path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,n))},t}(lb);function lx(e,t,n,r){if(n[0]=(0,F.m9)(n[0]),n[0]instanceof lA)return function(e,t,n,r,o){if(!r)throw new n8(n6.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var a=[],s=0,u=is(e);s<u.length;s++){var c=u[s];if(c.field.isKeyField())a.push(rR(t,r.key));else{var l=r.data.field(c.field);if(rE(l))throw new n8(n6.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var A=c.field.canonicalString();throw new n8(n6.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+A+"' (used as the orderBy) does not exist.")}a.push(l)}}return new r3(a,o)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var o=c1(e.firestore);return function(e,t,n,r,o,a){var s=e.explicitOrderBy;if(o.length>s.length)throw new n8(n6.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],c=0;c<o.length;c++){var l=o[c];if(s[c].field.isKeyField()){if("string"!=typeof l)throw new n8(n6.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!ia(e)&&-1!==l.indexOf("/"))throw new n8(n6.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var A=e.path.child(rh.fromString(l));if(!rT.isDocumentKey(A))throw new n8(n6.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+A+"' is not because it contains an odd number of segments.");var d=new rT(A);u.push(rR(t,d))}else{var f=lt(n,r,l);u.push(f)}}return new r3(u,a)}(e._query,e.firestore._databaseId,o,t,n,r)}function lT(e,t,n){if("string"==typeof(n=(0,F.m9)(n))){if(""===n)throw new n8(n6.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ia(t)&&-1!==n.indexOf("/"))throw new n8(n6.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(rh.fromString(n));if(!rT.isDocumentKey(r))throw new n8(n6.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return rR(e,new rT(r))}if(n instanceof cD)return rR(e,n._key);throw new n8(n6.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+cI(n)+".")}function lS(e,t){if(!Array.isArray(e)||0===e.length)throw new n8(n6.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new n8(n6.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function lk(e,t,n){if(!n.isEqual(t))throw new n8(n6.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lD=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),rS(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rw(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(r_(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ri()}},e.prototype.convertObject=function(e,t){var n=this,r={};return rA(e.fields,function(e,o){r[e]=n.convertValue(o,t)}),r},e.prototype.convertGeoPoint=function(e){return new cW(rw(e.latitude),rw(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return rE(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(rC(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=rb(e);return new ru(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=rh.fromString(e);oL(n)||ri();var r=new cf(n.get(1),n.get(3)),o=new rT(n.popFirst(5));return r.isEqual(t)||rt("Document "+o+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),o},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var lO=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,O.__extends)(t,e),t.prototype.convertBytes=function(e){return new cz(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new cD(this.firestore,null,t)},t}(lD),lF=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=c1(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=lR(e,this._firestore),o=lN(r.converter,t,n),a=c2(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,iD.none())),this},e.prototype.update=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this._verifyNotCommitted();var a,s=lR(e,this._firestore);return a="string"==typeof(t=(0,F.m9)(t))||t instanceof cK?le(this._dataReader,"WriteBatch.update",s._key,t,n,r):c7(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,iD.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=lR(e,this._firestore);return this._mutations=this._mutations.concat(new iY(t._key,iD.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new n8(n6.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(e,t){if((e=(0,F.m9)(e)).firestore!==t)throw new n8(n6.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lL=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,O.__extends)(t,e),t.prototype.convertBytes=function(e){return new cz(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new cD(this.firestore,null,t)},t}(lD);function lM(e,t,n){e=cx(e,cD);var r=cx(e.firestore,cj),o=lN(e.converter,t,n);return lj(r,[c2(c1(r),"setDoc",e._key,o,null!==e.converter,n).toMutation(e._key,iD.none())])}function lP(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];e=cx(e,cD);var a=cx(e.firestore,cj),s=c1(a);return lj(a,[("string"==typeof(t=(0,F.m9)(t))||t instanceof cK?le(s,"updateDoc",e._key,t,n,r):c7(s,"updateDoc",e._key,t)).toMutation(e._key,iD.exists(!0))])}function lU(e){for(var t,n,r,o=[],a=1;a<arguments.length;a++)o[a-1]=arguments[a];e=(0,F.m9)(e);var s={includeMetadataChanges:!1},u=0;"object"!=typeof o[0]||cU(o[u])||(s=o[u],u++);var c,l,A,d={includeMetadataChanges:s.includeMetadataChanges};if(cU(o[u])){var f=o[u];o[u]=null===(t=f.next)||void 0===t?void 0:t.bind(f),o[u+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),o[u+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(e instanceof cD)l=cx(e.firestore,cj),A=ie(e._key.path),c={next:function(t){o[u]&&o[u](lZ(l,e,t))},error:o[u+1],complete:o[u+2]};else{var h=cx(e,cN);l=cx(h.firestore,cj),A=h._query;var p=new lL(l);c={next:function(e){o[u]&&o[u](new lv(l,p,h,e))},error:o[u+1],complete:o[u+2]},ly(e._query)}return function(e,t,n,r){var o=this,a=new u8(r),s=new ub(t,a,n);return e.asyncQueue.enqueueAndForget(function(){return(0,O.__awaiter)(o,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:return t=up,[4,cc(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}})})}),function(){a.Wo(),e.asyncQueue.enqueueAndForget(function(){return(0,O.__awaiter)(o,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:return t=ug,[4,cc(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}})})})}}(cZ(l),A,d,c)}function lj(e,t){return function(e,t){var n=this,r=new o3;return e.asyncQueue.enqueueAndForget(function(){return(0,O.__awaiter)(n,void 0,void 0,function(){var n;return(0,O.__generator)(this,function(o){switch(o.label){case 0:return n=uN,[4,cu(e)];case 1:return[2,n.apply(void 0,[o.sent(),t,r])]}})})}),r.promise}(cZ(e),t)}function lZ(e,t,n){var r=n.docs.get(t._key),o=new lL(e);return new lp(e,o,t._key,r,new lh(n.hasPendingWrites,n.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lQ=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,O.__extends)(t,e),t.prototype.get=function(t){var n=this,r=lR(t,this._firestore),o=new lL(this._firestore);return e.prototype.get.call(this,t).then(function(e){return new lp(n._firestore,o,r._key,e._document,new lh(!1,!1),r.converter)})},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=c1(e)}return e.prototype.get=function(e){var t=this,n=lR(e,this._firestore),r=new lO(this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return ri();var o=e[0];if(o.isFoundDocument())return new lA(t._firestore,r,o.key,o,n.converter);if(o.isNoDocument())return new lA(t._firestore,r,n._key,null,n.converter);throw ri()})},e.prototype.set=function(e,t,n){var r=lR(e,this._firestore),o=lN(r.converter,t,n),a=c2(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,n);return this._transaction.set(r._key,a),this},e.prototype.update=function(e,t,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var a,s=lR(e,this._firestore);return a="string"==typeof(t=(0,F.m9)(t))||t instanceof cK?le(this._dataReader,"Transaction.update",s._key,t,n,r):c7(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this},e.prototype.delete=function(e){var t=lR(e,this._firestore);return this._transaction.delete(t._key),this},e}());/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(){if("undefined"==typeof Uint8Array)throw new n8(n6.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function lV(){if("undefined"==typeof atob)throw new n8(n6.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var lK=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return lV(),new e(cz.fromBase64String(t))},e.fromUint8Array=function(t){return lH(),new e(cz.fromUint8Array(t))},e.prototype.toBase64=function(){return lV(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return lH(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),lz=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){var n,r,o,a,s;return n=e._delegate,r={forceOwnership:t},cV(n=cx(n,cj)),o=cZ(n),a=n._freezeSettings(),cH(o,s=new u6,new u3(s,a.cacheSizeBytes,null==r?void 0:r.forceOwnership))},e.prototype.enableMultiTabIndexedDbPersistence=function(e){var t,n,r,o;return cV(t=cx(t=e._delegate,cj)),n=cZ(t),r=t._freezeSettings(),cH(n,o=new u6,new u5(o,r.cacheSizeBytes))},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new n8(n6.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new o3;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,O.__awaiter)(t,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:return o8.yt()?(t=e+"main",[4,o8.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}})})}(a9(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise}(e._delegate)},e}(),lG=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof cf||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||rn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){void 0===r&&(r={});var o,a,s,u=(e=cx(e,ck))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==t&&rn("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},u),{host:t+":"+n,ssl:!1})),r.mockUserToken){if("string"==typeof r.mockUserToken)a=r.mockUserToken,s=s_.MOCK_USER;else{a=(0,F.Sg)(r.mockUserToken,null===(o=e._app)||void 0===o?void 0:o.options.projectId);var c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new n8(n6.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new s_(c)}e._credentials=new cv(new cp(a,s))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,O.__awaiter)(t,void 0,void 0,function(){var t,n;return(0,O.__generator)(this,function(r){switch(r.label){case 0:return[4,co(e)];case 1:return t=r.sent(),[4,cs(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),n.Or.delete(0),sW(n))]}})})})}(cZ(cx(this._delegate,cj)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,O.__awaiter)(t,void 0,void 0,function(){var t,n;return(0,O.__generator)(this,function(r){switch(r.label){case 0:return[4,co(e)];case 1:return t=r.sent(),[4,cs(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:return(t=e).Or.add(0),[4,sq(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}})})}(n))]}})})})}(cZ(cx(this._delegate,cj)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&cE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new o3;return e.asyncQueue.enqueueAndForget(function(){return(0,O.__awaiter)(t,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(r){switch(r.label){case 0:return t=uP,[4,cu(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}})})}),n.promise}(cZ(cx(this._delegate,cj)))},e.prototype.onSnapshotsInSync=function(e){var t;return function(e,t){var n=this,r=new u8(t);return e.asyncQueue.enqueueAndForget(function(){return(0,O.__awaiter)(n,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:return t=function(e,t){e.Gr.add(t),t.next()},[4,cc(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),e.asyncQueue.enqueueAndForget(function(){return(0,O.__awaiter)(n,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:return t=function(e,t){e.Gr.delete(t)},[4,cc(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}})})})}}(cZ(cx(this._delegate,cj)),cU(e)?e:{next:e})},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new n8(n6.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new l8(this,cF(this._delegate,e))}catch(e){throw lJ(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new lX(this,cR(this._delegate,e))}catch(e){throw lJ(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new l3(this,function(e,t){if(e=cx(e,ck),cw("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new n8(n6.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new cN(e,null,new r7(rh.emptyPath(),t))}(this._delegate,e))}catch(e){throw lJ(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t,n,r=this;return t=this._delegate,n=function(t){return e(new lq(r,t))},function(e,t){var n=this,r=new o3;return e.asyncQueue.enqueueAndForget(function(){return(0,O.__awaiter)(n,void 0,void 0,function(){var n;return(0,O.__generator)(this,function(o){switch(o.label){case 0:return[4,ci(e).then(function(e){return e.datastore})];case 1:return n=o.sent(),new u7(e.asyncQueue,n,t,r).run(),[2]}})})}),r.promise}(cZ(t),function(e){return n(new lQ(t,e))})},e.prototype.batch=function(){var e=this;return cZ(this._delegate),new lY(new lF(this._delegate,function(t){return lj(e._delegate,t)}))},e.prototype.loadBundle=function(e){throw new n8(n6.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new n8(n6.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),lW=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,O.__extends)(t,e),t.prototype.convertBytes=function(e){return new lK(new cz(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return lX.eu(t,this.firestore,null)},t}(lD),lq=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new lW(e)}return e.prototype.get=function(e){var t=this,n=cx(e,cD);return this._delegate.get(n).then(function(e){return new l2(t._firestore,new lp(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))})},e.prototype.set=function(e,t,n){var r=cx(e,cD);return n?(c_("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=cx(e,cD);return 2==arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,(0,O.__spreadArray)([s,t,n],o)),this},e.prototype.delete=function(e){var t=cx(e,cD);return this._delegate.delete(t),this},e}(),lY=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=cx(e,cD);return n?(c_("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=cx(e,cD);return 2==arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,(0,O.__spreadArray)([s,t,n],o)),this},e.prototype.delete=function(e){var t=cx(e,cD);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),l$=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new lg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new l4(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,o=r.get(t);o||(o=new WeakMap,r.set(t,o));var a=o.get(n);return a||(a=new e(t,new lW(t),n),o.set(n,a)),a},e}();l$.su=new WeakMap;var lX=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lW(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new n8(n6.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new cD(n._delegate,r,new rT(t)))},e.eu=function(t,n,r){return new e(n,new cD(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new l8(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new l8(this.firestore,cF(this._delegate,e))}catch(e){throw lJ(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,F.m9)(e))instanceof cD&&cL(this._delegate,e)},e.prototype.set=function(e,t){t=c_("DocumentReference.set",t);try{return t?lM(this._delegate,e,t):lM(this._delegate,e)}catch(e){throw lJ(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1==arguments.length?lP(this._delegate,e):lP.apply(void 0,(0,O.__spreadArray)([this._delegate,e,t],n))}catch(e){throw lJ(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){var e;return lj(cx((e=this._delegate).firestore,cj),[new iY(e._key,iD.none())])},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=l0(t),o=l1(t,function(t){return new l2(e.firestore,new lp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))});return lU(this._delegate,r,o)},e.prototype.get=function(e){var t,n,r,o,a,s,u,c,l=this;return("cache"===(null==e?void 0:e.source)?(t=cx(t=this._delegate,cD),r=cZ(n=cx(t.firestore,cj)),o=new lL(n),(function(e,t){var n=this,r=new o3;return e.asyncQueue.enqueueAndForget(function(){return(0,O.__awaiter)(n,void 0,void 0,function(){var n;return(0,O.__generator)(this,function(o){switch(o.label){case 0:return n=function(e,t,n){return(0,O.__awaiter)(this,void 0,void 0,function(){var r;return(0,O.__generator)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,e.persistence.runTransaction("read document","readonly",function(n){return e.Mn.mn(n,t)})];case 1:return(r=o.sent()).isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new n8(n6.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=uc(o.sent(),"Failed to get document '"+t+" from cache"),n.reject(r),[3,3];case 3:return[2]}})})},[4,ca(e)];case 1:return[2,n.apply(void 0,[o.sent(),t,r])]}})})}),r.promise})(r,t._key).then(function(e){return new lp(n,o,t._key,e,new lh(null!==e&&e.hasLocalMutations,!0),t.converter)})):"server"===(null==e?void 0:e.source)?(a=cx(a=this._delegate,cD),cl(cZ(s=cx(a.firestore,cj)),a._key,{source:"server"}).then(function(e){return lZ(s,a,e)})):(u=cx(u=this._delegate,cD),cl(cZ(c=cx(u.firestore,cj)),u._key).then(function(e){return lZ(c,u,e)}))).then(function(e){return new l2(l.firestore,new lp(l.firestore._delegate,l._userDataWriter,e._key,e._document,e.metadata,l._delegate.converter))})},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(l$.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function lJ(e,t,n){return e.message=e.message.replace(t,n),e}function l0(e){for(var t=0;t<e.length;t++){var n=e[t];if("object"==typeof n&&!cU(n))return n}return{}}function l1(e,t){var n,r,o;return{next:function(e){o.next&&o.next(t(e))},error:null===(n=(o=cU(e[0])?e[0]:cU(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}var l2=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new lX(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return lm(this._delegate,e._delegate)},e}(),l4=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,O.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(l2),l3=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new lW(e)}return e.prototype.where=function(t,n,r){try{var o;return new e(this.firestore,lw(this._delegate,(o=lf("where",t),new l_(o,n,r))))}catch(e){throw lJ(e,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{var r,o,a;return new e(this.firestore,lw(this._delegate,(r=n,void 0===r&&(r="asc"),o=r,a=lf("orderBy",t),new lE(a,o))))}catch(e){throw lJ(e,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,lw(this._delegate,(cT("limit",t),new lC("limit",t,"F"))))}catch(e){throw lJ(e,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,lw(this._delegate,(cT("limitToLast",t),new lC("limitToLast",t,"L"))))}catch(e){throw lJ(e,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lw(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new lB("startAt",e,!0)}).apply(void 0,t)))}catch(e){throw lJ(e,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lw(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new lB("startAfter",e,!1)}).apply(void 0,t)))}catch(e){throw lJ(e,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lw(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new lI("endBefore",e,!0)}).apply(void 0,t)))}catch(e){throw lJ(e,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,lw(this._delegate,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new lI("endAt",e,!1)}).apply(void 0,t)))}catch(e){throw lJ(e,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return cM(this._delegate,e._delegate)},e.prototype.get=function(e){var t,n,r,o,a,s,u,c,l,A,d,f,h=this;return("cache"===(null==e?void 0:e.source)?(t=cx(t=this._delegate,cN),r=cZ(n=cx(t.firestore,cj)),o=new lL(n),(function(e,t){var n=this,r=new o3;return e.asyncQueue.enqueueAndForget(function(){return(0,O.__awaiter)(n,void 0,void 0,function(){var n;return(0,O.__generator)(this,function(o){switch(o.label){case 0:return n=function(e,t,n){return(0,O.__awaiter)(this,void 0,void 0,function(){var r,o,a,s;return(0,O.__generator)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,sc(e,t,!0)];case 1:return o=(r=new uB(t,(s=u.sent()).Bn))._o(s.documents),a=r.applyChanges(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=uc(u.sent(),"Failed to execute query '"+t+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,ca(e)];case 1:return[2,n.apply(void 0,[o.sent(),t,r])]}})})}),r.promise})(r,t._query).then(function(e){return new lv(n,o,t,e)})):"server"===(null==e?void 0:e.source)?(a=cx(a=this._delegate,cN),u=cZ(s=cx(a.firestore,cj)),c=new lL(s),cA(u,a._query,{source:"server"}).then(function(e){return new lv(s,c,a,e)})):(l=cx(l=this._delegate,cN),d=cZ(A=cx(l.firestore,cj)),f=new lL(A),ly(l._query),cA(d,l._query).then(function(e){return new lv(A,f,l,e)}))).then(function(e){return new l6(h.firestore,new lv(h.firestore._delegate,h._userDataWriter,h._delegate,e._snapshot))})},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=l0(t),o=l1(t,function(t){return new l6(e.firestore,new lv(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))});return lU(this._delegate,r,o)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(l$.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),l5=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new l4(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),l6=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new l3(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new l4(e._firestore,t)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(e){return new l5(t._firestore,e)})},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach(function(r){e.call(t,new l4(n._firestore,r))})},e.prototype.isEqual=function(e){return lm(this._delegate,e._delegate)},e}(),l8=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,O.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new lX(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new lX(this.firestore,void 0===e?cR(this._delegate):cR(this._delegate,e))}catch(e){throw lJ(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t,n,r,o,a=this;return(n=cx((t=this._delegate).firestore,cj),r=cR(t),o=lN(t.converter,e),lj(n,[c2(c1(t.firestore),"addDoc",r._key,o,null!==t.converter,{}).toMutation(r._key,iD.exists(!1))]).then(function(){return r})).then(function(e){return new lX(a.firestore,e)})},t.prototype.isEqual=function(e){return cL(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(l$.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(l3),l9=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(cK.bind.apply(cK,(0,O.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(rg.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,F.m9)(e))instanceof cK&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),l7=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new c5("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new c4("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new c6("arrayUnion",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new c8("arrayRemove",e)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=new c9("increment",t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}(),Ae=n(32444),At={Firestore:lG,GeoPoint:cW,Timestamp:ru,Blob:lK,Transaction:lq,WriteBatch:lY,DocumentReference:lX,DocumentSnapshot:l2,Query:l3,QueryDocumentSnapshot:l4,QuerySnapshot:l6,CollectionReference:l8,FieldPath:l9,FieldValue:l7,setLogLevel:function(e){n9.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};!function(e,t){e.INTERNAL.registerComponent(new Ae.wA("firestore",function(e){return t(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},At)))}(r=N.Z,function(e,t){return new lG(e,new cj(e,t),new lz)}),r.registerVersion("@firebase/firestore","2.4.1");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ar=function(e){function t(n,r,o){var a=e.call(this,r)||this;return Object.setPrototypeOf(a,t.prototype),a.code=n,a.details=o,a}return(0,O.__extends)(t,e),t}(Error),Ai=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(function(e){return n.auth=e},function(){}),this.messaging||t.get().then(function(e){return n.messaging=e},function(){})}return e.prototype.getAuthToken=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){var e;return(0,O.__generator)(this,function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:if(!(e=t.sent()))return[2,void 0];return[2,e.accessToken];case 3:return t.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getInstanceIdToken=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},e.prototype.getContext=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}})})},e}();function Ao(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var Aa=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e)||!0===e||!1===e||"[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(function(e){return t.encode(e)});if("function"==typeof e||"object"==typeof e)return Ao(e,function(e){return t.encode(e)});throw Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw Error("Data cannot be decoded from JSON: "+e);return n;default:throw Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(e){return t.decode(e)}):"function"==typeof e||"object"==typeof e?Ao(e,function(e){return t.decode(e)}):e},e}(),As=function(){function e(e,t,n,r,o,a){var s=this;void 0===o&&(o="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=a,this.serializer=new Aa,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(s.deleteService())}},this.contextProvider=new Ai(t,n),this.cancelAllRequests=new Promise(function(e){s.deleteService=function(){return e()}});try{var u=new URL(o);this.customDomain=u.origin,this.region="us-central1"}catch(e){this.customDomain=null,this.region=o}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,O.__awaiter)(this,void 0,void 0,function(){var r,o,a;return(0,O.__generator)(this,function(s){switch(s.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=s.sent())&&(n["X-Firebase-AppCheck"]=r),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return o=s.sent(),[3,5];case 4:return s.sent(),[2,{status:0,json:null}];case 5:a=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,o.json()];case 7:return a=s.sent(),[3,9];case 8:return s.sent(),[3,9];case 9:return[2,{status:o.status,json:a}]}})})},e.prototype.getAppCheckToken=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){var e;return(0,O.__generator)(this,function(t){switch(t.label){case 0:if(!(e=this.appCheckProvider.getImmediate({optional:!0})))return[3,2];return[4,e.getToken()];case 1:return[2,t.sent().token];case 2:return[2,null]}})})},e.prototype.call=function(e,t,n){return(0,O.__awaiter)(this,void 0,void 0,function(){var r,o,a,s,u,c,l,A,d,f;return(0,O.__generator)(this,function(h){switch(h.label){case 0:return r=this._url(e),o={data:t=this.serializer.encode(t)},a={},[4,this.contextProvider.getContext()];case 1:var p,g,v;return(s=h.sent()).authToken&&(a.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=s.instanceIdToken),p=n.timeout||7e4,v=new Promise(function(e,t){g=setTimeout(function(){t(new Ar("deadline-exceeded","deadline-exceeded"))},p)}),c=(u={timer:g,promise:v}).timer,l=u.promise,[4,Promise.race([Au(c,this.postJSON(r,o,a)),l,Au(c,this.cancelAllRequests)])];case 2:if(!(A=h.sent()))throw new Ar("cancelled","Firebase Functions instance was deleted.");if(d=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),o=r,a=void 0;try{var s=t&&t.error;if(s){var u=s.status;if("string"==typeof u){if(!An[u])return new Ar("internal","internal");r=An[u],o=u}var c=s.message;"string"==typeof c&&(o=c),a=s.details,void 0!==a&&(a=n.decode(a))}}catch(e){}return"ok"===r?null:new Ar(r,o,a)}(A.status,A.json,this.serializer))throw d;if(!A.json)throw new Ar("internal","Response is not valid JSON object.");if(void 0===(f=A.json.data)&&(f=A.json.result),void 0===f)throw new Ar("internal","Response is missing data field.");return[2,{data:this.serializer.decode(f)}]}})})},e}();function Au(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n;return(0,O.__generator)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}})})}!/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){e.INTERNAL.registerComponent(new Ae.wA("functions",function(e,n){var r=n.instanceIdentifier,o=e.getProvider("app").getImmediate(),a=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new As(o,a,e.getProvider("messaging"),s,r,t)},"PUBLIC").setServiceProps({Functions:As}).setMultipleInstances(!0))}(N.Z,fetch.bind(self)),N.Z.registerVersion("@firebase/functions","0.6.16"),n(99688);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ac="firebasestorage.googleapis.com",Al="storageBucket",AA=function(e){function t(n,r){var o=e.call(this,Ad(n),"Firebase Storage: "+r+" ("+Ad(n)+")")||this;return o.customData={serverResponse:null},o._baseMessage=o.message,Object.setPrototypeOf(o,t.prototype),o}return(0,O.__extends)(t,e),t.prototype._codeEquals=function(e){return Ad(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(F.ZR);function Ad(e){return"storage/"+e}function Af(){return new AA("unknown","An unknown error occurred, please check the error payload for server response.")}function Ah(){return new AA("canceled","User canceled the upload/download.")}function Ap(){return new AA("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ag(e){return new AA("invalid-argument",e)}function Av(){return new AA("app-deleted","The Firebase app was deleted.")}function Am(e){return new AA("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ay(e,t){return new AA("invalid-format","String does not match format '"+e+"': "+t)}function Ab(e){throw new AA("internal-error","Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Aw={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},A_=function(e,t){this.data=e,this.contentType=t||null};function AE(e,t){switch(e){case Aw.RAW:return new A_(AC(t));case Aw.BASE64:case Aw.BASE64URL:return new A_(AB(e,t));case Aw.DATA_URL:var n;return new A_((n=new AI(t)).base64?AB(Aw.BASE64,n.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw Ay(Aw.DATA_URL,"Malformed data URL.")}return AC(t)}(n.rest),new AI(t).contentType)}throw Af()}function AC(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):(64512&r)==55296?n<e.length-1&&(64512&e.charCodeAt(n+1))==56320?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):(64512&r)==56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function AB(e,t){switch(e){case Aw.BASE64:var n,r,o=-1!==t.indexOf("-"),a=-1!==t.indexOf("_");if(o||a){var s=o?"-":"_";throw Ay(e,"Invalid character '"+s+"' found: is it base64url encoded?")}break;case Aw.BASE64URL:var u=-1!==t.indexOf("+"),c=-1!==t.indexOf("/");if(u||c){var s=u?"+":"/";throw Ay(e,"Invalid character '"+s+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/")}try{n=t,r=atob(n)}catch(t){throw Ay(e,"Invalid character found")}for(var l=new Uint8Array(r.length),A=0;A<r.length;A++)l[A]=r.charCodeAt(A);return l}var AI=function(e){this.base64=!1,this.contentType=null;var t,n=e.match(/^data:([^,]+)?,/);if(null===n)throw Ay(Aw.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=(t=";base64",r.length>=t.length&&r.substring(r.length-t.length)===t),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)},Ax={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function AT(e){switch(e){case"running":case"pausing":case"canceling":return Ax.RUNNING;case"paused":return Ax.PAUSED;case"success":return Ax.SUCCESS;case"canceled":return Ax.CANCELED;default:return Ax.ERROR}}(o=p||(p={}))[o.NO_ERROR=0]="NO_ERROR",o[o.NETWORK_ERROR=1]="NETWORK_ERROR",o[o.ABORT=2]="ABORT";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AS=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=p.NO_ERROR,this.sendPromise_=new Promise(function(t){e.xhr_.addEventListener("abort",function(){e.errorCode_=p.ABORT,t()}),e.xhr_.addEventListener("error",function(){e.errorCode_=p.NETWORK_ERROR,t()}),e.xhr_.addEventListener("load",function(){t()})})}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw Ab("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw Ab("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw Ab("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return -1}},e.prototype.getResponseText=function(){if(!this.sent_)throw Ab("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}(),Ak=function(){function e(){}return e.prototype.createConnection=function(){return new AS},e}(),AD=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(n){return new e(t,"")}if(""===r.path)return r;throw new AA("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,o="([A-Za-z0-9.\\-_]+)",a=RegExp("^gs://"+o+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),c=RegExp("^https?://"+u+"/v[A-Za-z0-9_]+/b/"+o+"/o(/([^?#]*).*)?$","i"),l=n===Ac?"(?:storage.googleapis.com|storage.cloud.google.com)":n,A=RegExp("^https?://"+l+"/"+o+"/([^?#]*)","i"),d=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:c,indices:{bucket:1,path:3},postModify:s},{regex:A,indices:{bucket:1,path:2},postModify:s}],f=0;f<d.length;f++){var h=d[f],p=h.regex.exec(t);if(p){var g=p[h.indices.bucket],v=p[h.indices.path];v||(v=""),r=new e(g,v),h.postModify(r);break}}if(null==r)throw new AA("invalid-url","Invalid URL '"+t+"'.");return r},e}(),AN=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function AO(e){return"string"==typeof e||e instanceof String}function AF(e){return AR()&&e instanceof Blob}function AR(){return"undefined"!=typeof Blob}function AL(e,t,n,r){if(r<t)throw Ag("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Ag("Invalid value for '"+e+"'. Expected "+n+" or less.")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(e,t){var n=t.match(/^(\w+):\/\/.+/),r=null==n?void 0:n[1],o=t;return null==r&&(o="https://"+t),o+"/v0"+e}function AP(e){var t=encodeURIComponent,n="?";for(var r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n.slice(0,-1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AU=function(){function e(e,t,n,r,o,a,s,u,c,l,A){var d=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=o.slice(),this.additionalRetryCodes_=a.slice(),this.callback_=s,this.errorCallback_=u,this.progressCallback_=l,this.timeout_=c,this.pool_=A,this.promise_=new Promise(function(e,t){d.resolve_=e,d.reject_=t,d.start_()})}return e.prototype.start_=function(){var e=this;function t(t,n){var r=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());void 0!==s?r(s):r()}catch(e){o(e)}else if(null!==a){var u=Af();u.serverResponse=a.getResponseText(),o(e.errorCallback_?e.errorCallback_(a,u):u)}else if(n.canceled){var u=e.appDelete_?Av():Ah();o(u)}else{var u=new AA("retry-limit-exceeded","Max retry time for operation exceeded, please try again.");o(u)}}this.canceled_?t(!1,new Aj(!1,null,!0)):this.backoffId_=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t,n){var r=1,o=null,a=!1,s=0,u=!1;function c(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];u||(u=!0,t.apply(null,e))}function l(t){o=setTimeout(function(){o=null,e(A,2===s)},t)}function A(e){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(!u){if(e||2===s||a){c.call.apply(c,(0,O.__spreadArray)([null,e],n));return}r<64&&(r*=2),1===s?(s=2,t=0):t=(r+Math.random())*1e3,l(t)}}var d=!1;function f(e){!d&&(d=!0,!u&&(null!==o?(e||(s=2),clearTimeout(o),l(0)):e||(s=1)))}return l(0),setTimeout(function(){a=!0,f(!0)},n),f}(function(t,n){if(n){t(!1,new Aj(!1,null,!0));return}var r=e.pool_.createConnection();function o(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(o),r.send(e.url_,e.method_,e.body_,e.headers_).then(function(){null!==e.progressCallback_&&r.removeUploadProgressListener(o),e.pendingConnection_=null;var n=r.getErrorCode()===p.NO_ERROR,a=r.getStatus();if(!n||e.isRetryStatusCode_(a)){t(!1,new Aj(!1,null,r.getErrorCode()===p.ABORT));return}t(!0,new Aj(-1!==e.successCodes_.indexOf(a),r))})},t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Aj=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function AZ(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==n){for(var r=new n,o=0;o<e.length;o++)r.append(e[o]);return r.getBlob()}if(AR())return new Blob(e);throw new AA("unsupported-environment","This browser doesn't seem to support creating Blobs")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AQ=function(){function e(e,t){var n=0,r="";AF(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(!AF(this.data_))return new e(new Uint8Array(this.data_.buffer,t,n-t),!0);var r,o=(r=this.data_).webkitSlice?r.webkitSlice(t,n):r.mozSlice?r.mozSlice(t,n):r.slice?r.slice(t,n):null;return null===o?null:new e(o)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(AR()){var r=t.map(function(t){return t instanceof e?t.data_:t});return new e(AZ.apply(null,r))}var o=t.map(function(e){return AO(e)?AE(Aw.RAW,e).data:e.data_}),a=0;o.forEach(function(e){a+=e.byteLength});var s=new Uint8Array(a),u=0;return o.forEach(function(e){for(var t=0;t<e.length;t++)s[u++]=e[t]}),new e(s,!0)},e.prototype.uploadData=function(){return this.data_},e}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AH(e){var t,n;try{t=JSON.parse(e)}catch(e){return null}return"object"!=typeof(n=t)||Array.isArray(n)?null:t}function AV(e){var t=e.lastIndexOf("/",e.length-2);return -1===t?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AK(e,t){return t}var Az=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||AK},AG=null;function AW(){if(AG)return AG;var e=[];e.push(new Az("bucket")),e.push(new Az("generation")),e.push(new Az("metageneration")),e.push(new Az("name","fullPath",!0));var t=new Az("name");t.xform=function(e,t){return!AO(t)||t.length<2?t:AV(t)},e.push(t);var n=new Az("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Az("timeCreated")),e.push(new Az("updated")),e.push(new Az("md5Hash",null,!0)),e.push(new Az("cacheControl",null,!0)),e.push(new Az("contentDisposition",null,!0)),e.push(new Az("contentEncoding",null,!0)),e.push(new Az("contentLanguage",null,!0)),e.push(new Az("contentType",null,!0)),e.push(new Az("metadata","customMetadata",!0)),AG=e}function Aq(e,t,n){var r=AH(t);return null===r?null:function(e,t,n){var r={};r.type="file";for(var o=n.length,a=0;a<o;a++){var s=n[a];r[s.local]=s.xform(r,t[s.server])}return Object.defineProperty(r,"ref",{get:function(){var t=new AD(r.bucket,r.fullPath);return e._makeStorageReference(t)}}),r}(e,r,n)}function AY(e,t){for(var n={},r=t.length,o=0;o<r;o++){var a=t[o];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A$="prefixes",AX="items",AJ=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(e){if(!e)throw Af()}function A1(e,t){return function(n,r){var o=Aq(e,r,t);return A0(null!==o),o}}function A2(e){return function(t,n){var r;return(r=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new AA("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new AA("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new AA("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new AA("unauthorized","User does not have permission to access '"+e.path+"'."):n).serverResponse=n.serverResponse,r}}function A4(e){var t=A2(e);return function(n,r){var o=t(n,r);return 404===n.getStatus()&&(o=new AA("object-not-found","Object '"+e.path+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function A3(e,t,n){var r=AM(t.fullServerUrl(),e.host),o=e.maxOperationRetryTime,a=new AJ(r,"GET",A1(e,n),o);return a.errorHandler=A4(t),a}function A5(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=t&&t.type()||"application/octet-stream"),r}var A6=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function A8(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){A0(!1)}return A0(!!n&&-1!==(t||["active"]).indexOf(n)),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var A9=function(e,t,n){"function"==typeof e||null!=t||null!=n?(this.next=e,this.error=t,this.complete=n):(this.next=e.next,this.error=e.error,this.complete=e.complete)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A7(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then(function(){return e.apply(void 0,t)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=AW(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise(function(e,t){r._resolve=e,r._reject=t,r._start()}),this._promise.then(null,function(){})}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],o=n[1];switch(t._state){case"running":e(r,o);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}})},e.prototype._createResumable=function(){var e=this;this._resolveToken(function(t,n){var r,o,a,s,u,c,l,A,d,f,h,p,g=(r=e._ref.storage,o=e._ref._location,a=e._mappings,s=e._blob,u=e._metadata,c=o.bucketOnlyServerUrl(),A={name:(l=A5(o,s,u)).fullPath},d=AM(c,r.host),f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+s.size(),"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},h=AY(l,a),(p=new AJ(d,"POST",function(e){var t;A8(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){A0(!1)}return A0(AO(t)),t},r.maxUploadRetryTime)).urlParams=A,p.headers=f,p.body=h,p.errorHandler=A2(o),p),v=e._ref.storage._makeRequest(g,t,n);e._request=v,v.getPromise().then(function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()},e._errorHandler)})},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken(function(n,r){var o,a,s,u,c=(o=e._ref.storage,a=e._ref._location,s=e._blob,(u=new AJ(t,"POST",function(e){var t=A8(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){A0(!1)}n||A0(!1);var r=Number(n);return A0(!isNaN(r)),new A6(r,s.size(),"final"===t)},o.maxUploadRetryTime)).headers={"X-Goog-Upload-Command":"query"},u.errorHandler=A2(a),u),l=e._ref.storage._makeRequest(c,n,r);e._request=l,l.getPromise().then(function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()},e._errorHandler)})},e.prototype._continueUpload=function(){var e=this,t=262144*this._chunkMultiplier,n=new A6(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(o,a){try{s=function(e,t,n,r,o,a,s,u){var c=new A6(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new AA("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=c.total-c.current,A=l;o>0&&(A=Math.min(A,o));var d=c.current,f=d+A,h={"X-Goog-Upload-Command":A===l?"upload, finalize":"upload","X-Goog-Upload-Offset":""+c.current},p=r.slice(d,f);if(null===p)throw Ap();var g=new AJ(n,"POST",function(e,n){var o,s=A8(e,["active","final"]),u=c.current+A,l=r.size();return o="final"===s?A1(t,a)(e,n):null,new A6(u,l,"final"===s,o)},t.maxUploadRetryTime);return g.headers=h,g.body=p.uploadData(),g.progressCallback=u||null,g.errorHandler=A2(e),g}(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(t){e._error=t,e._transition("error");return}var s,u=e._ref.storage._makeRequest(s,o,a);e._request=u,u.getPromise().then(function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()},e._errorHandler)})},e.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken(function(t,n){var r=A3(e._ref.storage,e._ref._location,e._mappings),o=e._ref.storage._makeRequest(r,t,n);e._request=o,o.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._transition("success")},e._metadataErrorHandler)})},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken(function(t,n){var r=function(e,t,n,r,o){var a=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+u;var c=A5(t,r,o),l="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+AY(c,n)+"\r\n--"+u+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",A=AQ.getBlob(l,r,"\r\n--"+u+"--");if(null===A)throw Ap();var d={name:c.fullPath},f=AM(a,e.host),h=e.maxUploadRetryTime,p=new AJ(f,"POST",A1(e,n),h);return p.urlParams=d,p.headers=s,p.body=A.uploadData(),p.errorHandler=A2(t),p}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),o=e._ref.storage._makeRequest(r,t,n);e._request=o,o.getPromise().then(function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")},e._errorHandler)})},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=Ah(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=AT(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var o=this,a=new A9(t,n,r);return this._addObserver(a),function(){o._removeObserver(a)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach(function(t){e._notifyObserver(t)})},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(AT(this._state)){case Ax.SUCCESS:A7(this._resolve.bind(null,this.snapshot))();break;case Ax.CANCELED:case Ax.ERROR:A7(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(AT(this._state)){case Ax.RUNNING:case Ax.PAUSED:e.next&&A7(e.next.bind(e,this.snapshot))();break;case Ax.SUCCESS:e.complete&&A7(e.complete.bind(e))();break;case Ax.CANCELED:case Ax.ERROR:default:e.error&&A7(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),dt=function(){function e(e,t){this._service=e,t instanceof AD?this._location=t:this._location=AD.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new AD(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return AV(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return -1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new AD(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Am(e)},e}();function dn(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,O.__generator)(this,function(o){switch(o.label){case 0:var a,s,u,c,l,A,d,f,h;return null!=t&&"number"==typeof t.maxResults&&AL("options.maxResults",1,1e3,t.maxResults),n=t||{},a=e.storage,s=e._location,u=n.pageToken,c=n.maxResults,l={},s.isRoot?l.prefix="":l.prefix=s.path+"/",l.delimiter="/",u&&(l.pageToken=u),c&&(l.maxResults=c),A=AM(s.bucketOnlyServerUrl(),a.host),d=a.maxOperationRetryTime,(h=new AJ(A,"GET",(f=s.bucket,function(e,t){var n,r=null===(n=AH(t))?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[A$])for(var o=0,a=n[A$];o<a.length;o++){var s=a[o].replace(/\/$/,""),u=e._makeStorageReference(new AD(t,s));r.prefixes.push(u)}if(n[AX])for(var c=0,l=n[AX];c<l.length;c++){var A=l[c],u=e._makeStorageReference(new AD(t,A.name));r.items.push(u)}return r}(a,f,n);return A0(null!==r),r}),d)).urlParams=l,h.errorHandler=A2(s),r=h,[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,o.sent().getPromise()]}})})}function dr(e,t){var n,r,o=(n=e._location.path,r=t.split("/").filter(function(e){return e.length>0}).join("/"),0===n.length?r:n+"/"+r),a=new AD(e._location.bucket,o);return new dt(e.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(e){return/^[A-Za-z]+:\/\//.test(e)}function da(e,t){var n=null==t?void 0:t[Al];return null==n?null:AD.makeFromBucketSpec(n,e)}var ds=function(){function e(e,t,n,r,o,a){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=Ac,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,null!=o?this._bucket=AD.makeFromBucketSpec(o,this._host):this._bucket=da(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=AD.makeFromBucketSpec(this._url,e):this._bucket=da(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){AL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){AL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){var e,t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:if(this._overrideAuthToken)return[2,this._overrideAuthToken];if(!(e=this._authProvider.getImmediate({optional:!0})))return[3,2];return[4,e.getToken()];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}})})},e.prototype._getAppCheckToken=function(){return(0,O.__awaiter)(this,void 0,void 0,function(){var e;return(0,O.__generator)(this,function(t){switch(t.label){case 0:if(!(e=this._appCheckProvider.getImmediate({optional:!0})))return[3,2];return[4,e.getToken()];case 1:return[2,t.sent().token];case 2:return[2,null]}})})},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(e){return e.cancel()}),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new dt(this,e)},e.prototype._makeRequest=function(e,t,n){var r,o,a,s,u,c,l,A=this;if(this._deleted)return new AN(Av());var d=(r=this._appId,o=this._pool,a=this._firebaseVersion,s=AP(e.urlParams),u=e.url+s,l=c=Object.assign({},e.headers),r&&(l["X-Firebase-GMPID"]=r),null!==t&&t.length>0&&(c.Authorization="Firebase "+t),c["X-Firebase-Storage-Version"]="webjs/"+(null!=a?a:"AppManager"),null!==n&&(c["X-Firebase-AppCheck"]=n),new AU(u,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,o));return this._requests.add(d),d.getPromise().then(function(){return A._requests.delete(d)},function(){return A._requests.delete(d)}),d},e.prototype.makeRequestWithTokens=function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t,n,r;return(0,O.__generator)(this,function(o){switch(o.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return n=(t=o.sent())[0],r=t[1],[2,this._makeRequest(e,n,r)]}})})},e}();function du(e,t){return function(e,t){if(!(t&&di(t)))return function e(t,n){if(t instanceof ds){if(null==t._bucket)throw new AA("no-default-bucket","No default bucket found. Did you set the '"+Al+"' property when initializing the app?");var r=new dt(t,t._bucket);return null!=n?e(r,n):r}return void 0!==n?dr(t,n):t}(e,t);if(e instanceof ds)return new dt(e,t);throw Ag("To use ref(service, url), the first argument must be a Storage instance.")}(e=(0,F.m9)(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dc=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),dl=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new dc(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then(function(t){if(e)return e(new dc(t,n,n._ref))},t)},e.prototype.on=function(e,t,n,r){var o=this,a=void 0;return t&&(a="function"==typeof t?function(e){return t(new dc(e,o,o._ref))}:{next:t.next?function(e){return t.next(new dc(e,o,o._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)},e}(),dA=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map(function(t){return new dd(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map(function(t){return new dd(t,e._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),dd=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){return new e(dr(this._delegate,t),this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){var n,r;return this._throwIfRoot("put"),new dl((n=this._delegate,(r=n=(0,F.m9)(n))._throwIfRoot("uploadBytesResumable"),new de(r,new AQ(e),t)),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Aw.RAW),this._throwIfRoot("putString");var r=AE(t,e),o=(0,O.__assign)({},n);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new dl(new de(this._delegate,new AQ(r.data,!0),o),this)},e.prototype.listAll=function(){var e,t,n=this;return(e=this._delegate,(function e(t,n,r){return(0,O.__awaiter)(this,void 0,void 0,function(){var o,a,s;return(0,O.__generator)(this,function(u){switch(u.label){case 0:return[4,dn(t,{pageToken:r})];case 1:if(o=u.sent(),(a=n.prefixes).push.apply(a,o.prefixes),(s=n.items).push.apply(s,o.items),!(null!=o.nextPageToken))return[3,3];return[4,e(t,n,o.nextPageToken)];case 2:u.sent(),u.label=3;case 3:return[2]}})})})(e=(0,F.m9)(e),t={prefixes:[],items:[]}).then(function(){return t})).then(function(e){return new dA(e,n.storage)})},e.prototype.list=function(e){var t,n,r=this;return(t=this._delegate,n=e||void 0,dn(t=(0,F.m9)(t),n)).then(function(e){return new dA(e,r.storage)})},e.prototype.getMetadata=function(){var e;return e=this._delegate,function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=A3(e.storage,e._location,AW()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}(e=(0,F.m9)(e))},e.prototype.updateMetadata=function(e){var t;return t=this._delegate,function(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n;return(0,O.__generator)(this,function(r){switch(r.label){case 0:var o,a,s,u,c,l,A;return e._throwIfRoot("updateMetadata"),o=e.storage,a=e._location,s=AW(),u=AM(a.fullServerUrl(),o.host),c=AY(t,s),l=o.maxOperationRetryTime,(A=new AJ(u,"PATCH",A1(o,s),l)).headers={"Content-Type":"application/json; charset=utf-8"},A.body=c,A.errorHandler=A4(a),n=A,[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=(0,F.m9)(t),e)},e.prototype.getDownloadURL=function(){var e;return e=this._delegate,function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:var r,o,a,s;return e._throwIfRoot("getDownloadURL"),r=e.storage,o=e._location,a=AW(),(s=new AJ(AM(o.fullServerUrl(),r.host),"GET",function(e,t){var n=Aq(r,t,a);return A0(null!==n),function(e,t,n){var r=AH(t);if(null===r||!AO(r.downloadTokens))return null;var o=r.downloadTokens;if(0===o.length)return null;var a=encodeURIComponent;return o.split(",").map(function(t){var r=e.bucket,o=e.fullPath;return AM("/b/"+a(r)+"/o/"+a(o),n)+AP({alt:"media",token:t})})[0]}(n,t,r.host)},r.maxOperationRetryTime)).errorHandler=A4(o),t=s,[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then(function(e){if(null===e)throw new AA("no-download-url","The given file does not have any download URLs.");return e})]}})})}(e=(0,F.m9)(e))},e.prototype.delete=function(){var e;return this._throwIfRoot("delete"),e=this._delegate,function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:var r,o,a;return e._throwIfRoot("deleteObject"),r=e.storage,(a=new AJ(AM((o=e._location).fullServerUrl(),r.host),"DELETE",function(e,t){},r.maxOperationRetryTime)).successCodes=[200,204],a.errorHandler=A4(o),t=a,[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}})})}(e=(0,F.m9)(e))},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Am(e)},e}(),df=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(di(e))throw Ag("ref() expected a child path but got a URL, use refFromURL instead.");return new dd(du(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!di(e))throw Ag("refFromURL() expected a full URL but got a child path, use ref() instead.");try{AD.makeFromUrl(e,this._delegate.host)}catch(e){throw Ag("refFromUrl() expected a valid full URL but got an invalid one.")}return new dd(du(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){var r,o,a,s;void 0===n&&(n={}),r=this._delegate,void 0===(o=n)&&(o={}),void 0===(a=o)&&(a={}),r.host="http://"+e+":"+t,(s=a.mockUserToken)&&(r._overrideAuthToken="string"==typeof s?s:(0,F.Sg)(s,r.app.options.projectId))},e}();(a=N.Z).INTERNAL.registerComponent(new Ae.wA("storage",function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate();return new df(r,new ds(r,e.getProvider("auth-internal"),e.getProvider("app-check-internal"),new Ak,n,N.Z.SDK_VERSION))},"PUBLIC").setServiceProps({TaskState:Ax,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:Aw,Storage:ds,Reference:dd}).setMultipleInstances(!0)),a.registerVersion("@firebase/storage","0.7.1");var dh=n(70015),dp="0.4.32",dg="w:"+dp,dv="FIS_v2",dm=((g={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',g["not-registered"]="Firebase Installation is not registered.",g["installation-not-found"]="Firebase Installation not found.",g["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',g["app-offline"]="Could not process request. Application offline.",g["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",g),dy=new F.LL("installations","Installations",dm);function db(e){return e instanceof F.ZR&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function d_(e){return{token:e.token,requestStatus:2,expiresIn:Number(e.expiresIn.replace("s","000")),creationTime:Date.now()}}function dE(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n;return(0,O.__generator)(this,function(r){switch(r.label){case 0:return[4,t.json()];case 1:return n=r.sent().error,[2,dy.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})]}})})}function dC(e){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey})}function dB(e,t){var n=t.refreshToken,r=dC(e);return r.append("Authorization",dv+" "+n),r}function dI(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:return[4,e()];case 1:if((t=n.sent()).status>=500&&t.status<600)return[2,e()];return[2,t]}})})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(e){return new Promise(function(t){setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dT=/^[cdef][\w-]{21}$/;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(e){return e.appName+"!"+e.appId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dk=new Map;function dD(e,t){var n,r=dS(e);dN(r,t),(n=dF())&&n.postMessage({key:r,fid:t}),dR()}function dN(e,t){var n,r,o=dk.get(e);if(o)try{for(var a=(0,O.__values)(o),s=a.next();!s.done;s=a.next())(0,s.value)(t)}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}var dO=null;function dF(){return!dO&&"BroadcastChannel"in self&&((dO=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){dN(e.data.key,e.data.fid)}),dO}function dR(){0===dk.size&&dO&&(dO.close(),dO=null)}var dL="firebase-installations-store",dM=null;function dP(){return dM||(dM=(0,dh.openDb)("firebase-installations-database",1,function(e){0===e.oldVersion&&e.createObjectStore(dL)})),dM}function dU(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o,a;return(0,O.__generator)(this,function(s){switch(s.label){case 0:return n=dS(e),[4,dP()];case 1:return[4,(o=(r=s.sent().transaction(dL,"readwrite")).objectStore(dL)).get(n)];case 2:return a=s.sent(),[4,o.put(t,n)];case 3:return s.sent(),[4,r.complete];case 4:return s.sent(),a&&a.fid===t.fid||dD(e,t.fid),[2,t]}})})}function dj(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,O.__generator)(this,function(r){switch(r.label){case 0:return t=dS(e),[4,dP()];case 1:return[4,(n=r.sent().transaction(dL,"readwrite")).objectStore(dL).delete(t)];case 2:return r.sent(),[4,n.complete];case 3:return r.sent(),[2]}})})}function dZ(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o,a,s;return(0,O.__generator)(this,function(u){switch(u.label){case 0:return n=dS(e),[4,dP()];case 1:return[4,(o=(r=u.sent().transaction(dL,"readwrite")).objectStore(dL)).get(n)];case 2:if(void 0!==(s=t(a=u.sent())))return[3,4];return[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,r.complete];case 7:return u.sent(),s&&(!a||a.fid!==s.fid)&&dD(e,s.fid),[2,s]}})})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dQ(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t,n,r;return(0,O.__generator)(this,function(o){switch(o.label){case 0:return[4,dZ(e,function(n){var r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(dy.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n;return(0,O.__generator)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),[4,/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){var n=t.fid;return(0,O.__awaiter)(this,void 0,void 0,function(){var t,r,o,a;return(0,O.__generator)(this,function(s){switch(s.label){case 0:return t=dw(e),r={method:"POST",headers:dC(e),body:JSON.stringify({fid:n,authVersion:dv,appId:e.appId,sdkVersion:dg})},[4,dI(function(){return fetch(t,r)})];case 1:if(!(o=s.sent()).ok)return[3,3];return[4,o.json()];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:d_(a.authToken)}];case 3:return[4,dE("Create Installation",o)];case 4:throw s.sent()}})})}(e,t)];case 1:return[2,dU(e,r.sent())];case 2:if(!(db(n=r.sent())&&409===n.customData.serverCode))return[3,4];return[4,dj(e)];case 3:return r.sent(),[3,6];case 4:return[4,dU(e,{fid:t.fid,registrationStatus:0})];case 5:r.sent(),r.label=6;case 6:throw n;case 7:return[2]}})})}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t,n,r,o;return(0,O.__generator)(this,function(a){switch(a.label){case 0:return[4,dH(e)];case 1:t=a.sent(),a.label=2;case 2:if(1!==t.registrationStatus)return[3,5];return[4,dx(100)];case 3:return a.sent(),[4,dH(e)];case 4:return t=a.sent(),[3,2];case 5:if(0!==t.registrationStatus)return[3,7];return[4,dQ(e)];case 6:if(r=(n=a.sent()).installationEntry,o=n.registrationPromise)return[2,o];return[2,r];case 7:return[2,t]}})})}(e)}:{installationEntry:t}}(e,dV(n||{fid:function(){try{var e,t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var n=(e=t,btoa(String.fromCharCode.apply(String,(0,O.__spreadArray)([],(0,O.__read)(e)))).replace(/\+/g,"-").replace(/\//g,"_").substr(0,22));return dT.test(n)?n:""}catch(e){return""}}(),registrationStatus:0}));return t=r.registrationPromise,r.installationEntry})];case 1:if(""!==(n=o.sent()).fid)return[3,3];return r={},[4,t];case 2:return[2,(r.installationEntry=o.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}})})}function dH(e){return dZ(e,function(e){if(!e)throw dy.create("installation-not-found");return dV(e)})}function dV(e){return 1===e.registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dK(e,t){return void 0===t&&(t=!1),(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o;return(0,O.__generator)(this,function(a){switch(a.label){case 0:return[4,dZ(e.appConfig,function(r){if(!dG(r))throw dy.create("not-registered");var o,a,s,u,c=r.authToken;if(!t&&2===(o=c).requestStatus&&(a=o,!((s=Date.now())<a.creationTime)&&!(a.creationTime+a.expiresIn<s+36e5)))return r;if(1===c.requestStatus)return n=function(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r;return(0,O.__generator)(this,function(o){switch(o.label){case 0:return[4,dz(e.appConfig)];case 1:n=o.sent(),o.label=2;case 2:if(1!==n.authToken.requestStatus)return[3,5];return[4,dx(100)];case 3:return o.sent(),[4,dz(e.appConfig)];case 4:return n=o.sent(),[3,2];case 5:if(0===(r=n.authToken).requestStatus)return[2,dK(e,t)];return[2,r]}})})}(e,t),r;if(!navigator.onLine)throw dy.create("app-offline");var l=(u={requestStatus:1,requestTime:Date.now()},(0,O.__assign)((0,O.__assign)({},r),{authToken:u}));return n=function(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o;return(0,O.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,8]),[4,/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,O.__awaiter)(this,void 0,void 0,function(){var e,o,a,s,u;return(0,O.__generator)(this,function(c){switch(c.label){case 0:var l;return l=t.fid,e=dw(n)+"/"+l+"/authTokens:generate",o=dB(n,t),(a=r.getImmediate({optional:!0}))&&o.append("x-firebase-client",a.getPlatformInfoString()),s={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:dg}})},[4,dI(function(){return fetch(e,s)})];case 1:if(!(u=c.sent()).ok)return[3,3];return[4,u.json()];case 2:return[2,d_(c.sent())];case 3:return[4,dE("Generate Auth Token",u)];case 4:throw c.sent()}})})}(e,t)];case 1:return n=a.sent(),r=(0,O.__assign)((0,O.__assign)({},t),{authToken:n}),[4,dU(e.appConfig,r)];case 2:return a.sent(),[2,n];case 3:if(!(db(o=a.sent())&&(401===o.customData.serverCode||404===o.customData.serverCode)))return[3,5];return[4,dj(e.appConfig)];case 4:return a.sent(),[3,7];case 5:return r=(0,O.__assign)((0,O.__assign)({},t),{authToken:{requestStatus:0}}),[4,dU(e.appConfig,r)];case 6:a.sent(),a.label=7;case 7:throw o;case 8:return[2]}})})}(e,l),l})];case 1:if(r=a.sent(),!n)return[3,3];return[4,n];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return[2,o]}})})}function dz(e){return dZ(e,function(e){var t;if(!dG(e))throw dy.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?(0,O.__assign)((0,O.__assign)({},e),{authToken:{requestStatus:0}}):e})}function dG(e){return void 0!==e&&2===e.registrationStatus}function dW(e){return dy.create("missing-app-config-values",{valueName:e})}(s=N.Z).INTERNAL.registerComponent(new Ae.wA("installations",function(e){var t=e.getProvider("app").getImmediate(),n={appConfig:/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){if(!e||!e.options)throw dW("App Configuration");if(!e.name)throw dW("App Name");try{for(var t,n,r=(0,O.__values)(["projectId","apiKey","appId"]),o=r.next();!o.done;o=r.next()){var a=o.value;if(!e.options[a])throw dW(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:e.getProvider("platform-logger")};return{app:t,getId:function(){return(/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t,n,r;return(0,O.__generator)(this,function(o){switch(o.label){case 0:return[4,dQ(e.appConfig)];case 1:return n=(t=o.sent()).installationEntry,(r=t.registrationPromise)?r.catch(console.error):dK(e).catch(console.error),[2,n.fid]}})})}(n))},getToken:function(e){return(/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){return void 0===t&&(t=!1),(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(n){switch(n.label){case 0:return[4,function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t;return(0,O.__generator)(this,function(n){switch(n.label){case 0:return[4,dQ(e)];case 1:if(!(t=n.sent().registrationPromise))return[3,3];return[4,t];case 2:n.sent(),n.label=3;case 3:return[2]}})})}(e.appConfig)];case 1:return n.sent(),[4,dK(e,t)];case 2:return[2,n.sent().token]}})})}(n,e))},delete:function(){return(/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){return(0,O.__awaiter)(this,void 0,void 0,function(){var t,n;return(0,O.__generator)(this,function(r){switch(r.label){case 0:return[4,dZ(t=e.appConfig,function(e){if(!e||0!==e.registrationStatus)return e})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw dy.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw dy.create("app-offline");case 3:return[4,/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o;return(0,O.__generator)(this,function(a){switch(a.label){case 0:var s;return s=t.fid,n=dw(e)+"/"+s,r={method:"DELETE",headers:dB(e,t)},[4,dI(function(){return fetch(n,r)})];case 1:if((o=a.sent()).ok)return[3,3];return[4,dE("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}(t,n)];case 4:return r.sent(),[4,dj(t)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n))},onIdChange:function(e){var t,r,o,a;return r=t=n.appConfig,dF(),o=dS(r),(a=dk.get(o))||(a=new Set,dk.set(o,a)),a.add(e),function(){var n,r;n=dS(t),(r=dk.get(n))&&(r.delete(e),0===r.size&&dk.delete(n),dR())}}}},"PUBLIC")),s.registerVersion("@firebase/installations",dp);var dq="https://www.googletagmanager.com/gtag/js";(u=v||(v={})).EVENT="event",u.SET="set",u.CONFIG="config",(c=m||(m={})).ADD_SHIPPING_INFO="add_shipping_info",c.ADD_PAYMENT_INFO="add_payment_info",c.ADD_TO_CART="add_to_cart",c.ADD_TO_WISHLIST="add_to_wishlist",c.BEGIN_CHECKOUT="begin_checkout",c.CHECKOUT_PROGRESS="checkout_progress",c.EXCEPTION="exception",c.GENERATE_LEAD="generate_lead",c.LOGIN="login",c.PAGE_VIEW="page_view",c.PURCHASE="purchase",c.REFUND="refund",c.REMOVE_FROM_CART="remove_from_cart",c.SCREEN_VIEW="screen_view",c.SEARCH="search",c.SELECT_CONTENT="select_content",c.SELECT_ITEM="select_item",c.SELECT_PROMOTION="select_promotion",c.SET_CHECKOUT_OPTION="set_checkout_option",c.SHARE="share",c.SIGN_UP="sign_up",c.TIMING_COMPLETE="timing_complete",c.VIEW_CART="view_cart",c.VIEW_ITEM="view_item",c.VIEW_ITEM_LIST="view_item_list",c.VIEW_PROMOTION="view_promotion",c.VIEW_SEARCH_RESULTS="view_search_results";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dY=new R.Yd("@firebase/analytics"),d$=((y={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",y["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",y["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",y["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",y["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",y["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",y["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",y["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',y["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',y),dX=new F.LL("analytics","Analytics",d$),dJ=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}()),d0=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach(function(e){return e()})},e}(),d1={},d2=[],d4={},d3="dataLayer",d5="gtag",d6=!1,d8="analytics";(l=N.Z).INTERNAL.registerComponent(new Ae.wA(d8,function(e){return function(e,t){!function(){var e=[];if((0,F.ru)()&&e.push("This is a browser extension environment."),(0,F.zI)()||e.push("Cookies are not available."),e.length>0){var t=e.map(function(e,t){return"("+(t+1)+") "+e}).join(" "),n=dX.create("invalid-analytics-context",{errorInfo:t});dY.warn(n.message)}}();var n=e.options.appId;if(!n)throw dX.create("no-app-id");if(!e.options.apiKey){if(e.options.measurementId)dY.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.');else throw dX.create("no-api-key")}if(null!=d1[n])throw dX.create("already-exists",{id:n});if(!d6){r=d3,o=[],Array.isArray(window[r])?o=window[r]:window[r]=o;var r,o,a,s,u,c,l=(a=d3,s=d5,u=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[a].push(arguments)},window[s]&&"function"==typeof window[s]&&(u=window[s]),window[s]=(c=u,function(e,t,n){return(0,O.__awaiter)(this,void 0,void 0,function(){var r;return(0,O.__generator)(this,function(o){switch(o.label){case 0:if(o.trys.push([0,6,,7]),e!==v.EVENT)return[3,2];return[4,function(e,t,n,r,o){return(0,O.__awaiter)(this,void 0,void 0,function(){var a,s,u,c,l,A,d;return(0,O.__generator)(this,function(f){switch(f.label){case 0:if(f.trys.push([0,4,,5]),a=[],!(o&&o.send_to))return[3,2];return Array.isArray(s=o.send_to)||(s=[s]),[4,Promise.all(n)];case 1:for(l=0,u=f.sent(),c=function(e){var n=u.find(function(t){return t.measurementId===e}),r=n&&t[n.appId];if(!r)return a=[],"break";a.push(r)},A=s;l<A.length&&"break"!==c(A[l]);l++);f.label=2;case 2:return 0===a.length&&(a=Object.values(t)),[4,Promise.all(a)];case 3:return f.sent(),e(v.EVENT,r,o||{}),[3,5];case 4:return d=f.sent(),dY.error(d),[3,5];case 5:return[2]}})})}(c,d1,d2,t,n)];case 1:case 3:return o.sent(),[3,5];case 2:if(e!==v.CONFIG)return[3,4];return[4,function(e,t,n,r,o,a){return(0,O.__awaiter)(this,void 0,void 0,function(){var s,u,c;return(0,O.__generator)(this,function(l){switch(l.label){case 0:s=r[o],l.label=1;case 1:if(l.trys.push([1,7,,8]),!s)return[3,3];return[4,t[s]];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:if(!(u=l.sent().find(function(e){return e.measurementId===o})))return[3,6];return[4,t[u.appId]];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),dY.error(c),[3,8];case 8:return e(v.CONFIG,o,a),[2]}})})}(c,d1,d2,d4,t,n)];case 4:c(v.SET,t),o.label=5;case 5:return[3,7];case 6:return r=o.sent(),dY.error(r),[3,7];case 7:return[2]}})})}),{gtagCore:u,wrappedGtag:window[s]}),A=l.wrappedGtag,d=l.gtagCore;w=A,b=d,d6=!0}return d1[n]=function(e,t,n,r,o,a){return(0,O.__awaiter)(this,void 0,void 0,function(){var s,u,c,l,A,d;return(0,O.__generator)(this,function(f){switch(f.label){case 0:return(s=function(e,t,n){return void 0===t&&(t=dJ),(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o,a,s,u,c=this;return(0,O.__generator)(this,function(l){if(r=(n=e.options).appId,o=n.apiKey,a=n.measurementId,!r)throw dX.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:r}];throw dX.create("no-api-key")}return s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new d0,setTimeout(function(){return(0,O.__awaiter)(c,void 0,void 0,function(){return(0,O.__generator)(this,function(e){return u.abort(),[2]})})},6e4),[2,function e(t,n,r,o){var a=n.throttleEndTimeMillis,s=n.backoffCount;return void 0===o&&(o=dJ),(0,O.__awaiter)(this,void 0,void 0,function(){var n,u,c,l,A,d,f;return(0,O.__generator)(this,function(h){switch(h.label){case 0:n=t.appId,u=t.measurementId,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,new Promise(function(e,t){var n=setTimeout(e,Math.max(a-Date.now(),0));r.addEventListener(function(){clearTimeout(n),t(dX.create("fetch-throttle",{throttleEndTimeMillis:a}))})})];case 2:return h.sent(),[3,4];case 3:if(c=h.sent(),u)return dY.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+u+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:n,measurementId:u}];throw c;case 4:return h.trys.push([4,6,,7]),[4,function(e){var t;return(0,O.__awaiter)(this,void 0,void 0,function(){var n,r,o,a,s;return(0,O.__generator)(this,function(u){switch(u.label){case 0:return n=e.appId,r={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":e.apiKey})},[4,fetch("https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),r)];case 1:if(!(200!==(o=u.sent()).status&&304!==o.status))return[3,6];a="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,o.json()];case 3:return(null===(t=(s=u.sent()).error)||void 0===t?void 0:t.message)&&(a=s.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw dX.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a});case 6:return[2,o.json()]}})})}(t)];case 5:return l=h.sent(),o.deleteThrottleMetadata(n),[2,l];case 6:if(!function(e){if(!(e instanceof F.ZR)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(A=h.sent())){if(o.deleteThrottleMetadata(n),u)return dY.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+u+' provided in the "measurementId" field in the local Firebase config. ['+A.message+"]"),[2,{appId:n,measurementId:u}];throw A}return d=503===Number(A.customData.httpStatus)?(0,F.$s)(s,o.intervalMillis,30):(0,F.$s)(s,o.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:s+1},o.setThrottleMetadata(n,f),dY.debug("Calling attemptFetch again in "+d+" millis"),[2,e(t,f,r,o)];case 7:return[2]}})})}({appId:r,apiKey:o,measurementId:a},s,u,t)]})})}(e)).then(function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&dY.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(e){return dY.error(e)}),t.push(s),[4,Promise.all([s,/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){return(0,O.__awaiter)(this,void 0,void 0,function(){var e;return(0,O.__generator)(this,function(t){switch(t.label){case 0:if((0,F.hl)())return[3,1];return dY.warn(dX.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1];case 1:return t.trys.push([1,3,,4]),[4,(0,F.eu)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),dY.warn(dX.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}})})})().then(function(e){return e?r.getId():void 0})])];case 1:if(c=(u=f.sent())[0],l=u[1],!function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(dq))return r}return null}()){var h,p;h=c.measurementId,(p=document.createElement("script")).src=dq+"?l="+a+"&id="+h,p.async=!0,document.head.appendChild(p)}return o("js",new Date),(d={}).origin="firebase",d.update=!0,A=d,null!=l&&(A.firebase_id=l),o(v.CONFIG,c.measurementId,A),[2,c.measurementId]}})})}(e,d2,d4,t,b,d3),{app:e,logEvent:function(e,t,r){/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(e,t,n,r,o){return(0,O.__awaiter)(this,void 0,void 0,function(){var a,s;return(0,O.__generator)(this,function(u){switch(u.label){case 0:if(!(o&&o.global))return[3,1];return e(v.EVENT,n,r),[2];case 1:return[4,t];case 2:a=u.sent(),s=(0,O.__assign)((0,O.__assign)({},r),{send_to:a}),e(v.EVENT,n,s),u.label=3;case 3:return[2]}})})})(w,d1[n],e,t,r).catch(function(e){return dY.error(e)})},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,O.__awaiter)(this,void 0,void 0,function(){var o;return(0,O.__generator)(this,function(a){switch(a.label){case 0:if(!(r&&r.global))return[3,1];return e(v.SET,{screen_name:n}),[2,Promise.resolve()];case 1:return[4,t];case 2:o=a.sent(),e(v.CONFIG,o,{update:!0,screen_name:n}),a.label=3;case 3:return[2]}})})})(w,d1[n],e,t).catch(function(e){return dY.error(e)})},setUserId:function(e,t){(function(e,t,n,r){return(0,O.__awaiter)(this,void 0,void 0,function(){var o;return(0,O.__generator)(this,function(a){switch(a.label){case 0:if(!(r&&r.global))return[3,1];return e(v.SET,{user_id:n}),[2,Promise.resolve()];case 1:return[4,t];case 2:o=a.sent(),e(v.CONFIG,o,{update:!0,user_id:n}),a.label=3;case 3:return[2]}})})})(w,d1[n],e,t).catch(function(e){return dY.error(e)})},setUserProperties:function(e,t){(function(e,t,n,r){return(0,O.__awaiter)(this,void 0,void 0,function(){var o,a,s,u,c;return(0,O.__generator)(this,function(l){switch(l.label){case 0:if(!(r&&r.global))return[3,1];for(a=0,o={},s=Object.keys(n);a<s.length;a++)o["user_properties."+(u=s[a])]=n[u];return e(v.SET,o),[2,Promise.resolve()];case 1:return[4,t];case 2:c=l.sent(),e(v.CONFIG,c,{update:!0,user_properties:n}),l.label=3;case 3:return[2]}})})})(w,d1[n],e,t).catch(function(e){return dY.error(e)})},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,O.__awaiter)(this,void 0,void 0,function(){var n;return(0,O.__generator)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}})})})(d1[n],e).catch(function(e){return dY.error(e)})},INTERNAL:{delete:function(){return delete d1[n],Promise.resolve()}}}}(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:function(e){if(d6)throw dX.create("already-initialized");e.dataLayerName&&(d3=e.dataLayerName),e.gtagName&&(d5=e.gtagName)},EventName:m,isSupported:function(){return(0,O.__awaiter)(this,void 0,void 0,function(){return(0,O.__generator)(this,function(e){switch(e.label){case 0:if((0,F.ru)()||!(0,F.zI)()||!(0,F.hl)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,F.eu)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}})})}})),l.INTERNAL.registerComponent(new Ae.wA("analytics-internal",function(e){try{return{logEvent:e.getProvider(d8).getImmediate().logEvent}}catch(e){throw dX.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),l.registerVersion("@firebase/analytics","0.6.18");var d9="0.4.18",d7="FB-PERF-TRACE-MEASURE",fe="_wt_",ft="_fcp",fn="_fid",fr="@firebase/performance/config",fi="@firebase/performance/configexpire",fo="Performance",fa=((_={})["trace started"]="Trace {$traceName} was started before.",_["trace stopped"]="Trace {$traceName} is not running.",_["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",_["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",_["no window"]="Window is not available.",_["no app id"]="App id is not available.",_["no project id"]="Project id is not available.",_["no api key"]="Api key is not available.",_["invalid cc log"]="Attempted to queue invalid cc event",_["FB not default"]="Performance can only start when Firebase app instance is the default one.",_["RC response not ok"]="RC response is not ok",_["invalid attribute name"]="Attribute name {$attributeName} is invalid.",_["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",_["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",_["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",_),fs=new F.LL("performance",fo,fa),fu=new R.Yd(fo);fu.logLevel=R.in.INFO;var fc=function(){function e(e){if(this.window=e,!e)throw fs.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,F.hl)()||(fu.info("IndexedDB is not supported by current browswer"),!1):(fu.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){this.PerformanceObserver&&new this.PerformanceObserver(function(e){for(var n=0,r=e.getEntries();n<r.length;n++)t(r[n])}).observe({entryTypes:[e]})},e.getInstance=function(){return void 0===E&&(E=new e(C)),E},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(e,t){var n=e.length-t.length;if(n<0||n>1)throw fs.create("invalid String merger input");for(var r=[],o=0;o<e.length;o++)r.push(e.charAt(o)),t.length>o&&r.push(t.charAt(o));return r.join("")}var fA=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=fl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=fl("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw fs.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw fs.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw fs.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===B&&(B=new e),B},e}();(A=x||(x={}))[A.UNKNOWN=0]="UNKNOWN",A[A.VISIBLE=1]="VISIBLE",A[A.HIDDEN=2]="HIDDEN";var fd=["firebase_","google_","ga_"],ff=RegExp("^[a-zA-Z]\\w*$");function fh(){switch(fc.getInstance().document.visibilityState){case"visible":return x.VISIBLE;case"hidden":return x.HIDDEN;default:return x.UNKNOWN}}var fp={loggingEnabled:!0};function fg(e){if(!e)return e;var t=fA.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=fp.loggingEnabled,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=fv(t.tracesSamplingRate),t.logNetworkAfterSampling=fv(t.networkRequestsSamplingRate),e}function fv(e){return Math.random()<=e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fm=1;function fy(){var e;return fm=2,T=T||(e=fc.getInstance().document,new Promise(function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()})).then(function(){var e;return(e=fA.getInstance().installationsService.getId()).then(function(e){I=e}),e}).then(function(e){var t,n;return(t=function(){var e=fc.getInstance().localStorage;if(e){var t=e.getItem(fi);if(t&&Number(t)>Date.now()){var n=e.getItem(fr);if(n)try{return JSON.parse(n)}catch(e){return}}}}())?(fg(t),Promise.resolve()):((n=fA.getInstance().installationsService.getToken()).then(function(e){}),n).then(function(t){return fetch(new Request("https://firebaseremoteconfig.googleapis.com/v1/projects/"+fA.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+fA.getInstance().getApiKey(),{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:fA.getInstance().getAppId(),app_version:d9,sdk_version:"0.0.1"})})).then(function(e){if(e.ok)return e.json();throw fs.create("RC response not ok")})}).catch(function(){fu.info("Could not fetch config, will use default configs")}).then(fg).then(function(e){var t;return t=fc.getInstance().localStorage,void(e&&t&&(t.setItem(fr,JSON.stringify(e)),t.setItem(fi,String(Date.now()+36e5*fA.getInstance().configTimeToLive))))},function(){})}).then(function(){fm=3},function(){fm=3})}var fb=3,fw=[],f_=!1;function fE(e,t){!S&&(S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e){if(!e.eventTime||!e.message)throw fs.create("invalid cc log");fw=(0,O.__spreadArray)((0,O.__spreadArray)([],fw),[e])}({message:fI.apply(void 0,e),eventTime:Date.now()})}),S(e,t)}function fC(e){var t=fA.getInstance();(t.instrumentationEnabled||!e.isAuto)&&(t.dataCollectionEnabled||e.isAuto)&&fc.getInstance().requiredApisAvailable()&&(!e.isAuto||fh()===x.VISIBLE)&&(3===fm?fB(e):fy().then(function(){return fB(e)},function(){return fB(e)}))}function fB(e){if(I){var t=fA.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout(function(){return fE(e,1)},0)}}function fI(e,t){var n,r,o;return 0===t?(n={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},JSON.stringify({application_info:fx(),network_request_metric:n})):(r={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs},0!==Object.keys(e.counters).length&&(r.counters=e.counters),0!==Object.keys(o=e.getAttributes()).length&&(r.custom_attributes=o),JSON.stringify({application_info:fx(),trace_metric:r}))}function fx(){var e;return{google_app_id:fA.getInstance().getAppId(),app_instance_id:I,web_app_info:{sdk_version:d9,page_url:fc.getInstance().getUrl(),service_worker_status:"serviceWorker"in(e=fc.getInstance().navigator)?e.serviceWorker.controller?2:3:1,visibility_state:fh(),effective_connection_type:function(){var e=fc.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}()},application_process_state:0}}var fT=["_fp",ft,fn],fS=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=fc.getInstance(),this.randomId=Math.floor(1e6*Math.random()),!this.isAuto&&(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||d7+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw fs.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw fs.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),fC(this)},e.prototype.record=function(e,t,n){if(e<=0)throw fs.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw fs.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,O.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,o=Object.keys(n.metrics);r<o.length;r++){var a=o[r];isNaN(Number(n.metrics[a]))||(this.counters[a]=Number(Math.floor(n.metrics[a])))}fC(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){var n,r;if(n=this.name,0!==e.length&&!(e.length>100)&&(n&&n.startsWith(fe)&&fT.indexOf(e)>-1||!e.startsWith("_")))this.counters[e]=((r=Math.floor(t))<t&&fu.info("Metric value should be an Integer, setting the value as : "+r+"."),r);else throw fs.create("invalid custom metric name",{customMetricName:e})},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n=0!==e.length&&!(e.length>40)&&!fd.some(function(t){return e.startsWith(t)})&&!!e.match(ff),r=0!==t.length&&t.length<=100;if(n&&r){this.customAttributes[e]=t;return}if(!n)throw fs.create("invalid attribute name",{attributeName:e});if(!r)throw fs.create("invalid attribute value",{attributeValue:t})},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,O.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor((t.startTime+this.api.getTimeOrigin())*1e3))},e.createOobTrace=function(t,n,r){var o=fc.getInstance().getUrl();if(o){var a=new e(fe+o,!0),s=Math.floor(1e3*fc.getInstance().getTimeOrigin());if(a.setStartTime(s),t&&t[0]&&(a.setDuration(Math.floor(1e3*t[0].duration)),a.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),a.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),a.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd))),n){var u=n.find(function(e){return"first-paint"===e.name});u&&u.startTime&&a.putMetric("_fp",Math.floor(1e3*u.startTime));var c=n.find(function(e){return"first-contentful-paint"===e.name});c&&c.startTime&&a.putMetric(ft,Math.floor(1e3*c.startTime)),r&&a.putMetric(fn,Math.floor(1e3*r))}fC(a)}},e.createUserTimingTrace=function(t){fC(new e(t,!1,t))},e}();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(e){if(e&&void 0!==e.responseStart){var t=fc.getInstance().getTimeOrigin(),n=Math.floor((e.startTime+t)*1e3),r=e.responseStart?Math.floor((e.responseStart-e.startTime)*1e3):void 0,o=Math.floor((e.responseEnd-e.startTime)*1e3);!function(e){var t=fA.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],o=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==o&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout(function(){return fE(e,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:n,timeToResponseInitiatedUs:r,timeToResponseCompletedUs:o})}}function fD(){I&&(setTimeout(function(){return function(){var e=fc.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout(function(){fS.createOobTrace(t,n),r=void 0},5e3);e.onFirstInputDelay(function(e){r&&(clearTimeout(r),fS.createOobTrace(t,n,e))})}else fS.createOobTrace(t,n)}()},0),setTimeout(function(){return function(){for(var e=fc.getInstance(),t=e.getEntriesByType("resource"),n=0;n<t.length;n++)fk(t[n]);e.setupObserver("resource",fk)}()},0),setTimeout(function(){return function(){for(var e=fc.getInstance(),t=e.getEntriesByType("measure"),n=0;n<t.length;n++)fN(t[n]);e.setupObserver("measure",fN)}()},0))}function fN(e){var t=e.name;t.substring(0,d7.length)!==d7&&fS.createUserTimingTrace(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fO=function(){function e(e){this.app=e,fc.getInstance().requiredApisAvailable()&&(0,F.eu)().then(function(e){e&&(f_||(function e(t){setTimeout(function(){if(0!==fb){var t,n,r;if(!fw.length)return e(1e4);n=(t=fw.splice(0,1e3)).map(function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}),(r={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:fA.getInstance().logSource,log_event:n},fetch(fA.getInstance().getFlTransportFullUrl(),{method:"POST",body:JSON.stringify(r)}).then(function(e){return e.ok||fu.info("Call to Firebase backend failed."),e.json()}).then(function(n){var r=Number(n.nextRequestWaitMillis),o=1e4;isNaN(r)||(o=Math.max(r,o));var a=n.logResponseDetails;Array.isArray(a)&&a.length>0&&"RETRY_REQUEST_LATER"===a[0].responseAction&&(fw=(0,O.__spreadArray)((0,O.__spreadArray)([],t),fw),fu.info("Retry transport request later.")),fb=3,e(o)})).catch(function(){fw=(0,O.__spreadArray)((0,O.__spreadArray)([],t),fw),fb--,fu.info("Tries left: "+fb+"."),e(1e4)})}},t)}(5500),f_=!0),fy().then(fD,fD))}).catch(function(e){fu.info("Environment doesn't support IndexedDB: "+e)})}return e.prototype.trace=function(e){return new fS(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return fA.getInstance().instrumentationEnabled},set:function(e){fA.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return fA.getInstance().dataCollectionEnabled},set:function(e){fA.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();d=N.Z,f=function(e,t){if("[DEFAULT]"!==e.name)throw fs.create("FB not default");if("undefined"==typeof window)throw fs.create("no window");return C=window,fA.getInstance().firebaseAppInstance=e,fA.getInstance().installationsService=t,new fO(e)},d.INTERNAL.registerComponent(new Ae.wA("performance",function(e){return f(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())},"PUBLIC")),d.registerVersion("@firebase/performance",d9);var fF="Cypress"in window,fR=D.wC.emulatorEnabled,fL=D.wC.performanceEnabled,fM=(h="[DEFAULT]",k.Z.apps.find(function(e){return e.name===h})||k.Z.initializeApp(D.wC,h)),fP=fM.auth(),fU=fM.firestore(),fj=fM.database(),fZ=fM.functions(),fQ=fM.storage();k.Z.firestore.setLogLevel(D.wC.logLevel),k.Z.database.enableLogging("debug"===D.wC.logLevel),fL&&fM.performance(),fU.settings({merge:!0,ignoreUndefinedProperties:!0,experimentalForceLongPolling:fF||fR,experimentalAutoDetectLongPolling:!(fF||fR)}),fR&&(fP.useEmulator("http://localhost:5001"),fZ.useEmulator("localhost",5002),fU.useEmulator("localhost",5003),fj.useEmulator("localhost",5004),fQ.useEmulator("localhost",5006));var fH=k.Z,fV=k.Z.firestore.Timestamp;k.Z.firestore.FieldValue},10186:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r,o=(r=n(10097).RZ,{get autoDiagramRequests(){return r.collection("auto-diagram-requests")},get aiOutlineRequests(){return r.collection("ai-outline-requests")},get paywallEventUsage(){return r.collection("paywall-event-usage")},get users(){return r.collection("users")},get teams(){return r.collection("teams")},get profiles(){return r.collection("profiles")},get workspaces(){return r.collection("workspaces")},get workspaceVersions(){return r.collection("workspace-versions")},get templates(){return r.collection("templates")},get visitedWorkspaces(){return r.collection("visited-workspaces")},get templateCategories(){return r.collection("template-categories")},get workspaceIndexes(){return r.collection("workspace-indexes")},get workspaceIndexStatuses(){return r.collection("workspace-index-statuses")},get invites(){return r.collection("invites")},get publicEmailDomains(){return r.collection("public-email-domains")},get canvasLinks(){return r.collection("canvas-links")},get knownPeople(){return r.collection("known-people")},get commentThreads(){return r.collection("comment-threads")},get gitHubLogins(){return r.collection("gitHub-logins")},get gitHubRepositoryOperationStatuses(){return r.collection("gitHub-repository-sync-statuses")},get notionTokens(){return r.collection("notion-tokens")},get weeklyEmailSummaries(){return r.collection("pending-weekly-email-summaries")},get fileViews(){return r.collection("file-views")},get canvasCatalogs(){return r.collection("canvas-catalogs")},get scheduledEmails(){return r.collection("scheduled-emails")},aiOutlineRequest:function(e){return this.aiOutlineRequests.doc(e)},autoDiagramRequest:function(e){return this.autoDiagramRequests.doc(e)},paywallEvent:function(e){return this.paywallEventUsage.doc(e)},config:function(e){return r.doc("config/".concat(e))},publicEmailDomain:function(e){return this.publicEmailDomains.doc(e)},canvasLink:function(e){return this.canvasLinks.doc(e)},user:function(e){return this.users.doc(e)},profile:function(e){return this.profiles.doc(e)},knownPerson:function(e){return this.knownPeople.doc(e)},userTeams:function(e){return this.user(e).collection("teams")},userTeam:function(e,t){return this.user(e).collection("teams").doc(t)},userCoachmarks:function(e){return this.user(e).collection("coachmarks")},userActivations:function(e){return this.user(e).collection("activations")},userEventLog:function(e){return this.user(e).collection("eventLog")},team:function(e){return this.teams.doc(e)},teamMembers:function(e){return this.team(e).collection("members")},teamMember:function(e,t){return this.teamMembers(e).doc(t)},teamEventLog:function(e){return this.team(e).collection("eventLog")},teamGitHubOrganizations:function(e){return this.team(e).collection("gitHubOrganizations")},teamGitHubOrganization:function(e,t){return this.teamGitHubOrganizations(e).doc(t)},teamGitHubRepositories:function(e,t){return this.teamGitHubOrganization(e,t).collection("repositories")},teamGitHubRepository:function(e,t,n){return this.teamGitHubRepositories(e,t).doc(n)},visitedWorkspace:function(e,t){return this.visitedWorkspaces.doc("".concat(e,":").concat(t))},teamFolders:function(e){return this.team(e).collection("folders")},teamFolder:function(e,t){return this.teamFolders(e).doc(t)},invite:function(e){return this.invites.doc(e)},workspace:function(e){return this.workspaces.doc(e)},template:function(e){return this.templates.doc(e)},workspaceIndex:function(e){return this.workspaceIndexes.doc(e)},workspaceIndexStatus:function(e){return this.workspaceIndexStatuses.doc(e)},workspaceMembers:function(e){return this.workspace(e).collection("members")},workspaceMember:function(e,t){return this.workspaceMembers(e).doc(t)},workspaceCollaborators:function(e){return this.workspace(e).collection("collaborators")},workspaceCollaborator:function(e,t){return this.workspaceCollaborators(e).doc(t)},commentThread:function(e){return this.commentThreads.doc(e)},threadComments:function(e){return this.commentThread(e).collection("comments")},gitHubLogin:function(e){return this.gitHubLogins.doc(e)},gitHubRepositoryOperationStatus:function(e){return this.gitHubRepositoryOperationStatuses.doc(e)},notionToken:function(e,t){return t?this.notionTokens.doc("temporary:".concat(e)):this.notionTokens.doc(e)},emailSummaryForTeam:function(e){return this.weeklyEmailSummaries.doc(e)},canvasCatalog:function(e){return this.canvasCatalogs.doc(e)},canvasCatalogItems:function(e){return this.canvasCatalog(e).collection("items")},canvasCatalogItem:function(e,t){return this.canvasCatalogItems(e).doc(t)},scheduledEmail:function(e){return this.scheduledEmails.doc(e)}})},34899:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(64920);function o(e,t,n){return(0,r.A)(e,t,n)}},64920:function(e,t,n){"use strict";n.d(t,{A:function(){return a},o:function(){return s}});var r=n(87394),o=n(50930);function a(e,t){var n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=a.limit,u=a.orderBy,c=e,l=!0,A=!1,d=void 0;try{for(var f,h=Object.entries(t)[Symbol.iterator]();!(l=(f=h.next()).done);l=!0){var p,g=(0,r.Z)(f.value,2),v=g[0],m=g[1];void 0!==m&&(c=Array.isArray(m)?(p=c).where.apply(p,[v].concat((0,o.Z)(m))):c.where(v,"==",m))}}catch(e){A=!0,d=e}finally{try{l||null==h.return||h.return()}finally{if(A)throw d}}return s&&(c=c.limit(s)),u&&(c=(n=c).orderBy.apply(n,(0,o.Z)(u))),c}function s(e,t){return e.filter(function(e){return Object.entries(t).every(function(t){var n=(0,r.Z)(t,2),o=n[0],a=n[1],s=e[o];if(Array.isArray(a)){var u=(0,r.Z)(a,2),c=u[0],l=u[1];switch(c){case"==":return e[o]===l;case"!=":return e[o]!==l;case"array-contains":return Array.isArray(s)&&s.includes(l);case"in":return Array.isArray(l)&&l.includes(s);case"not-in":return!Array.isArray(l)||!l.includes(s);case"array-contains-any":return Array.isArray(s)&&Array.isArray(l)&&l.some(function(e){return s.includes(e)});case">":return s>l;case">=":return s>=l;case"<":return s<l;case"<=":return s<=l;default:return!1}}return e[o]===a})})}},99669:function(e,t,n){"use strict";n.d(t,{J:function(){return l},m:function(){return c}});var r=n(90581),o=n(66140),a=n(19179),s=a.jU&&a.IU?window.localStorage:null,u=function(e){var t=e.name,n=e.version,r=e.storeName;return"".concat(t,"/").concat(n,"/").concat(r,"/")},c=/*#__PURE__*/function(){function e(t){(0,r.Z)(this,e),this._keyPrefix=u(t)}var t=e.prototype;return t.setItem=function(e,t){var n="".concat(this._keyPrefix).concat(e);null==t?null==s||s.removeItem(n):null==s||s.setItem(n,JSON.stringify(t))},t.getItem=function(e){var t,n=null==s?void 0:s.getItem("".concat(this._keyPrefix).concat(e));if(null==n)return null;try{t=JSON.parse(n)}catch(n){console.warn('Localstorage.getItem("'.concat(e,'") - ').concat(n.message)),t=null}return t},t.removeItem=function(e){null==s||s.removeItem("".concat(this._keyPrefix).concat(e))},t.clear=function(){null==s||s.clear()},e}(),l=new c(o.Wc)},37578:function(e,t,n){"use strict";function r(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}n.d(t,{e:function(){return Q}});let o=r(),a=/[&<>"']/,s=RegExp(a.source,"g"),u=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,c=RegExp(u.source,"g"),l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},A=e=>l[e];function d(e,t){if(t){if(a.test(e))return e.replace(s,A)}else if(u.test(e))return e.replace(c,A);return e}let f=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function h(e){return e.replace(f,(e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):"")}let p=/(^|[^\[])\^/g;function g(e,t){e="string"==typeof e?e:e.source,t=t||"";let n={replace:(t,r)=>(r=(r=r.source||r).replace(p,"$1"),e=e.replace(t,r),n),getRegex:()=>new RegExp(e,t)};return n}let v=/[^\w:]/g,m=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function y(e,t,n){if(e){let e;try{e=decodeURIComponent(h(n)).replace(v,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!m.test(n)&&(n=function(e,t){b[" "+e]||(w.test(e)?b[" "+e]=e+"/":b[" "+e]=I(e,"/",!0));let n=-1===(e=b[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(_,"$1")+t:"/"!==t.charAt(0)?e+t:n?t:e.replace(E,"$1")+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}let b={},w=/^[^:]+:\/*[^/]*$/,_=/^([^:]+:)[\s\S]*$/,E=/^([^:]+:\/*[^/]*)[\s\S]*$/,C={exec:function(){}};function B(e,t){let n=e.replace(/\|/g,(e,t,n)=>{let r=!1,o=t;for(;--o>=0&&"\\"===n[o];)r=!r;return r?"|":" |"}).split(/ \|/),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function I(e,t,n){let r=e.length;if(0===r)return"";let o=0;for(;o<r;){let a=e.charAt(r-o-1);if(a!==t||n){if(a!==t&&n)o++;else break}else o++}return e.slice(0,r-o)}function x(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function T(e,t,n,r){let o=t.href,a=t.title?d(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){r.state.inLink=!0;let e={type:"link",raw:n,href:o,title:a,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,e}return{type:"image",raw:n,href:o,title:a,text:d(s)}}class S{constructor(e){this.options=e||o}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:I(e,"\n")}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let e=t[0],n=function(e,t){let n=e.match(/^(\s+)(?:```)/);if(null===n)return t;let r=n[1];return t.split("\n").map(e=>{let t=e.match(/^\s+/);if(null===t)return e;let[n]=t;return n.length>=r.length?e.slice(r.length):e}).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){let t=I(e,"#");this.options.pedantic?e=t.trim():(!t||/ $/.test(t))&&(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;let r=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:r,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,o,a,s,u,c,l,A,d,f,h;let p=t[1].trim(),g=p.length>1,v={type:"list",raw:"",ordered:g,start:g?+p.slice(0,-1):"",loose:!1,items:[]};p=g?`\\d{1,9}\\${p.slice(-1)}`:`\\${p}`,this.options.pedantic&&(p=g?p:"[*+-]");let m=RegExp(`^( {0,3}${p})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(h=!1,!(!(t=m.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),l=t[2].split("\n",1)[0].replace(/^\t+/,e=>" ".repeat(3*e.length)),A=e.split("\n",1)[0],this.options.pedantic?(a=2,f=l.trimLeft()):(a=(a=t[2].search(/[^ ]/))>4?1:a,f=l.slice(a),a+=t[1].length),u=!1,!l&&/^ *$/.test(A)&&(n+=A+"\n",e=e.substring(A.length+1),h=!0),!h){let t=RegExp(`^ {0,${Math.min(3,a-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),r=RegExp(`^ {0,${Math.min(3,a-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),o=RegExp(`^ {0,${Math.min(3,a-1)}}(?:\`\`\`|~~~)`),s=RegExp(`^ {0,${Math.min(3,a-1)}}#`);for(;e&&(A=d=e.split("\n",1)[0],this.options.pedantic&&(A=A.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(o.test(A)||s.test(A)||t.test(A)||r.test(e)));){if(A.search(/[^ ]/)>=a||!A.trim())f+="\n"+A.slice(a);else{if(u||l.search(/[^ ]/)>=4||o.test(l)||s.test(l)||r.test(l))break;f+="\n"+A}u||A.trim()||(u=!0),n+=d+"\n",e=e.substring(d.length+1),l=A.slice(a)}}!v.loose&&(c?v.loose=!0:/\n *\n *$/.test(n)&&(c=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(f))&&(o="[ ] "!==r[0],f=f.replace(/^\[[ xX]\] +/,"")),v.items.push({type:"list_item",raw:n,task:!!r,checked:o,loose:!1,text:f}),v.raw+=n}v.items[v.items.length-1].raw=n.trimRight(),v.items[v.items.length-1].text=f.trimRight(),v.raw=v.raw.trimRight();let y=v.items.length;for(s=0;s<y;s++)if(this.lexer.state.top=!1,v.items[s].tokens=this.lexer.blockTokens(v.items[s].text,[]),!v.loose){let e=v.items[s].tokens.filter(e=>"space"===e.type),t=e.length>0&&e.some(e=>/\n.*\n/.test(e.raw));v.loose=t}if(v.loose)for(s=0;s<y;s++)v.items[s].loose=!0;return v}}html(e){let t=this.rules.block.html.exec(e);if(t){let e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){let n=this.options.sanitizer?this.options.sanitizer(t[0]):d(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){let t=this.rules.block.def.exec(e);if(t){let e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:r}}}table(e){let t=this.rules.block.table.exec(e);if(t){let e={type:"table",header:B(t[1]).map(e=>({text:e})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){let n,r,o,a;e.raw=t[0];let s=e.align.length;for(n=0;n<s;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(n=0,s=e.rows.length;n<s;n++)e.rows[n]=B(e.rows[n],e.header.length).map(e=>({text:e}));for(r=0,s=e.header.length;r<s;r++)e.header[r].tokens=this.lexer.inline(e.header[r].text);for(r=0,s=e.rows.length;r<s;r++)for(o=0,a=e.rows[r];o<a.length;o++)a[o].tokens=this.lexer.inline(a[o].text);return e}}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:d(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):d(t[0]):t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;let t=I(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{let e=function(e,t){if(-1===e.indexOf(")"))return -1;let n=e.length,r=0,o=0;for(;o<n;o++)if("\\"===e[o])o++;else if("("===e[o])r++;else if(")"===e[o]&&--r<0)return o;return -1}(t[2],"()");if(e>-1){let n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],r="";if(this.options.pedantic){let e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],r=e[3])}else r=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),T(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:r?r.replace(this.rules.inline._escapes,"$1"):r},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(!(e=t[e.toLowerCase()])){let e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return T(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;let o=r[1]||r[2]||"";if(!o||o&&(""===n||this.rules.inline.punctuation.exec(n))){let n=r[0].length-1,o,a,s=n,u=0,c="*"===r[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+n);null!=(r=c.exec(t));){if(!(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6]))continue;if(a=o.length,r[3]||r[4]){s+=a;continue}if((r[5]||r[6])&&n%3&&!((n+a)%3)){u+=a;continue}if((s-=a)>0)continue;a=Math.min(a,a+s+u);let t=e.slice(0,n+r.index+(r[0].length-o.length)+a);if(Math.min(n,a)%2){let e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}let c=t.slice(2,-2);return{type:"strong",raw:t,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," "),n=/[^ ]/.test(e),r=/^ /.test(e)&&/ $/.test(e);return n&&r&&(e=e.substring(1,e.length-1)),e=d(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){let n=this.rules.inline.autolink.exec(e);if(n){let e,r;return r="@"===n[2]?"mailto:"+(e=d(this.options.mangle?t(n[1]):n[1])):e=d(n[1]),{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,r;if("@"===n[2])r="mailto:"+(e=d(this.options.mangle?t(n[0]):n[0]));else{let t;do t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(t!==n[0]);e=d(n[0]),r="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:r,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){let n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):d(n[0]):n[0]:d(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}let k={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:C,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};k._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,k._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,k.def=g(k.def).replace("label",k._label).replace("title",k._title).getRegex(),k.bullet=/(?:[*+-]|\d{1,9}[.)])/,k.listItemStart=g(/^( *)(bull) */).replace("bull",k.bullet).getRegex(),k.list=g(k.list).replace(/bull/g,k.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+k.def.source+")").getRegex(),k._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",k._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,k.html=g(k.html,"i").replace("comment",k._comment).replace("tag",k._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),k.paragraph=g(k._paragraph).replace("hr",k.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k._tag).getRegex(),k.blockquote=g(k.blockquote).replace("paragraph",k.paragraph).getRegex(),k.normal={...k},k.gfm={...k.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},k.gfm.table=g(k.gfm.table).replace("hr",k.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k._tag).getRegex(),k.gfm.paragraph=g(k._paragraph).replace("hr",k.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",k.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",k._tag).getRegex(),k.pedantic={...k.normal,html:g("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",k._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:C,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:g(k.normal._paragraph).replace("hr",k.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",k.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};let D={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:C,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:C,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function N(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function O(e){let t="",n,r,o=e.length;for(n=0;n<o;n++)r=e.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),t+="&#"+r+";";return t}D._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",D.punctuation=g(D.punctuation).replace(/punctuation/g,D._punctuation).getRegex(),D.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,D.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,D._comment=g(k._comment).replace("(?:-->|$)","-->").getRegex(),D.emStrong.lDelim=g(D.emStrong.lDelim).replace(/punct/g,D._punctuation).getRegex(),D.emStrong.rDelimAst=g(D.emStrong.rDelimAst,"g").replace(/punct/g,D._punctuation).getRegex(),D.emStrong.rDelimUnd=g(D.emStrong.rDelimUnd,"g").replace(/punct/g,D._punctuation).getRegex(),D._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,D._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,D._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,D.autolink=g(D.autolink).replace("scheme",D._scheme).replace("email",D._email).getRegex(),D._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,D.tag=g(D.tag).replace("comment",D._comment).replace("attribute",D._attribute).getRegex(),D._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,D._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,D._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,D.link=g(D.link).replace("label",D._label).replace("href",D._href).replace("title",D._title).getRegex(),D.reflink=g(D.reflink).replace("label",D._label).replace("ref",k._label).getRegex(),D.nolink=g(D.nolink).replace("ref",k._label).getRegex(),D.reflinkSearch=g(D.reflinkSearch,"g").replace("reflink",D.reflink).replace("nolink",D.nolink).getRegex(),D.normal={...D},D.pedantic={...D.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:g(/^!?\[(label)\]\((.*?)\)/).replace("label",D._label).getRegex(),reflink:g(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",D._label).getRegex()},D.gfm={...D.normal,escape:g(D.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},D.gfm.url=g(D.gfm.url,"i").replace("email",D.gfm._extended_email).getRegex(),D.breaks={...D.gfm,br:g(D.br).replace("{2,}","*").getRegex(),text:g(D.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class F{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||o,this.options.tokenizer=this.options.tokenizer||new S,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={block:k.normal,inline:D.normal};this.options.pedantic?(t.block=k.pedantic,t.inline=D.pedantic):this.options.gfm&&(t.block=k.gfm,this.options.breaks?t.inline=D.breaks:t.inline=D.gfm),this.tokenizer.rules=t}static get rules(){return{block:k,inline:D}}static lex(e,t){return new F(t).lex(e)}static lexInline(e,t){return new F(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,r,o,a;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,(e,t,n)=>t+"    ".repeat(n.length));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),(r=t[t.length-1])&&("paragraph"===r.type||"text"===r.type)?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if((n=this.tokenizer.fences(e))||(n=this.tokenizer.heading(e))||(n=this.tokenizer.hr(e))||(n=this.tokenizer.blockquote(e))||(n=this.tokenizer.list(e))||(n=this.tokenizer.html(e))){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),(r=t[t.length-1])&&("paragraph"===r.type||"text"===r.type)?(r.raw+="\n"+n.raw,r.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if((n=this.tokenizer.table(e))||(n=this.tokenizer.lheading(e))){e=e.substring(n.raw.length),t.push(n);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let t,n=1/0,r=e.slice(1);this.options.extensions.startBlock.forEach(function(e){"number"==typeof(t=e.call({lexer:this},r))&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(o=e.substring(0,n+1))}if(this.state.top&&(n=this.tokenizer.paragraph(o))){r=t[t.length-1],a&&"paragraph"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),a=o.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===r.type?(r.raw+="\n"+n.raw,r.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,o,a,s,u;let c=e;if(this.tokens.links){let e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(a=this.tokenizer.rules.inline.reflinkSearch.exec(c));)e.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,a.index)+"["+x("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(a=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,a.index)+"["+x("a",a[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(a=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,a.index+a[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(s||(u=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(r=>!!(n=r.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),(r=t[t.length-1])&&"text"===n.type&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if((n=this.tokenizer.emStrong(e,c,u))||(n=this.tokenizer.codespan(e))||(n=this.tokenizer.br(e))||(n=this.tokenizer.del(e))||(n=this.tokenizer.autolink(e,O))||!this.state.inLink&&(n=this.tokenizer.url(e,O))){e=e.substring(n.raw.length),t.push(n);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let t,n=1/0,r=e.slice(1);this.options.extensions.startInline.forEach(function(e){"number"==typeof(t=e.call({lexer:this},r))&&t>=0&&(n=Math.min(n,t))}),n<1/0&&n>=0&&(o=e.substring(0,n+1))}if(n=this.tokenizer.inlineText(o,N)){e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(u=n.raw.slice(-1)),s=!0,(r=t[t.length-1])&&"text"===r.type?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(e){let t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw Error(t)}}return t}}class R{constructor(e){this.options=e||o}code(e,t,n){let r=(t||"").match(/\S*/)[0];if(this.options.highlight){let t=this.options.highlight(e,r);null!=t&&t!==e&&(n=!0,e=t)}return(e=e.replace(/\n$/,"")+"\n",r)?'<pre><code class="'+this.options.langPrefix+d(r)+'">'+(n?e:d(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:d(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,r){if(this.options.headerIds){let o=this.options.headerPrefix+r.slug(n);return`<h${t} id="${o}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){let r=t?"ol":"ul";return"<"+r+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+r+">\n"}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){let n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=y(this.options.sanitize,this.options.baseUrl,e)))return n;let r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"}image(e,t,n){if(null===(e=y(this.options.sanitize,this.options.baseUrl,e)))return n;let r=`<img src="${e}" alt="${n}"`;return t&&(r+=` title="${t}"`),r+=this.options.xhtml?"/>":">"}text(e){return e}}class L{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class M{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do n=e+"-"+ ++r;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){let n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class P{constructor(e){this.options=e||o,this.options.renderer=this.options.renderer||new R,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new L,this.slugger=new M}static parse(e,t){return new P(t).parse(e)}static parseInline(e,t){return new P(t).parseInline(e)}parse(e,t=!0){let n="",r,o,a,s,u,c,l,A,d,f,p,g,v,m,y,b,w,_,E,C=e.length;for(r=0;r<C;r++){if(f=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[f.type]&&(!1!==(E=this.options.extensions.renderers[f.type].call({parser:this},f))||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type))){n+=E||"";continue}switch(f.type){case"space":continue;case"hr":n+=this.renderer.hr();continue;case"heading":n+=this.renderer.heading(this.parseInline(f.tokens),f.depth,h(this.parseInline(f.tokens,this.textRenderer)),this.slugger);continue;case"code":n+=this.renderer.code(f.text,f.lang,f.escaped);continue;case"table":for(o=0,A="",l="",s=f.header.length;o<s;o++)l+=this.renderer.tablecell(this.parseInline(f.header[o].tokens),{header:!0,align:f.align[o]});for(A+=this.renderer.tablerow(l),d="",s=f.rows.length,o=0;o<s;o++){for(a=0,c=f.rows[o],l="",u=c.length;a<u;a++)l+=this.renderer.tablecell(this.parseInline(c[a].tokens),{header:!1,align:f.align[a]});d+=this.renderer.tablerow(l)}n+=this.renderer.table(A,d);continue;case"blockquote":d=this.parse(f.tokens),n+=this.renderer.blockquote(d);continue;case"list":for(o=0,p=f.ordered,g=f.start,v=f.loose,s=f.items.length,d="";o<s;o++)b=(y=f.items[o]).checked,w=y.task,m="",y.task&&(_=this.renderer.checkbox(b),v?y.tokens.length>0&&"paragraph"===y.tokens[0].type?(y.tokens[0].text=_+" "+y.tokens[0].text,y.tokens[0].tokens&&y.tokens[0].tokens.length>0&&"text"===y.tokens[0].tokens[0].type&&(y.tokens[0].tokens[0].text=_+" "+y.tokens[0].tokens[0].text)):y.tokens.unshift({type:"text",text:_}):m+=_),m+=this.parse(y.tokens,v),d+=this.renderer.listitem(m,w,b);n+=this.renderer.list(d,p,g);continue;case"html":n+=this.renderer.html(f.text);continue;case"paragraph":n+=this.renderer.paragraph(this.parseInline(f.tokens));continue;case"text":for(d=f.tokens?this.parseInline(f.tokens):f.text;r+1<C&&"text"===e[r+1].type;)d+="\n"+((f=e[++r]).tokens?this.parseInline(f.tokens):f.text);n+=t?this.renderer.paragraph(d):d;continue;default:{let e='Token with "'+f.type+'" type was not found.';if(this.options.silent){console.error(e);return}throw Error(e)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",r,o,a,s=e.length;for(r=0;r<s;r++){if(o=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(!1!==(a=this.options.extensions.renderers[o.type].call({parser:this},o))||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type))){n+=a||"";continue}switch(o.type){case"escape":case"text":n+=t.text(o.text);break;case"html":n+=t.html(o.text);break;case"link":n+=t.link(o.href,o.title,this.parseInline(o.tokens,t));break;case"image":n+=t.image(o.href,o.title,o.text);break;case"strong":n+=t.strong(this.parseInline(o.tokens,t));break;case"em":n+=t.em(this.parseInline(o.tokens,t));break;case"codespan":n+=t.codespan(o.text);break;case"br":n+=t.br();break;case"del":n+=t.del(this.parseInline(o.tokens,t));break;default:{let e='Token with "'+o.type+'" type was not found.';if(this.options.silent){console.error(e);return}throw Error(e)}}}return n}}class U{constructor(e){this.options=e||o}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}function j(e,t){return(n,r,o)=>{var a,s,u,c;"function"==typeof r&&(o=r,r=null);let l={...r},A=(a=(r={...Z.defaults,...l}).silent,s=r.async,u=o,e=>{if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",a){let t="<p>An error occurred:</p><pre>"+d(e.message+"",!0)+"</pre>";if(s)return Promise.resolve(t);if(u){u(null,t);return}return t}if(s)return Promise.reject(e);if(u){u(e);return}throw e});if(null==n)return A(Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return A(Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if((c=r)&&c.sanitize&&!c.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),r.hooks&&(r.hooks.options=r),o){let a;let s=r.highlight;try{r.hooks&&(n=r.hooks.preprocess(n)),a=e(n,r)}catch(e){return A(e)}let u=function(e){let n;if(!e)try{r.walkTokens&&Z.walkTokens(a,r.walkTokens),n=t(a,r),r.hooks&&(n=r.hooks.postprocess(n))}catch(t){e=t}return r.highlight=s,e?A(e):o(null,n)};if(!s||s.length<3||(delete r.highlight,!a.length))return u();let c=0;return Z.walkTokens(a,function(e){"code"===e.type&&(c++,setTimeout(()=>{s(e.text,e.lang,function(t,n){if(t)return u(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),0==--c&&u()})},0))}),void(0===c&&u())}if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(n):n).then(t=>e(t,r)).then(e=>r.walkTokens?Promise.all(Z.walkTokens(e,r.walkTokens)).then(()=>e):e).then(e=>t(e,r)).then(e=>r.hooks?r.hooks.postprocess(e):e).catch(A);try{r.hooks&&(n=r.hooks.preprocess(n));let o=e(n,r);r.walkTokens&&Z.walkTokens(o,r.walkTokens);let a=t(o,r);return r.hooks&&(a=r.hooks.postprocess(a)),a}catch(e){return A(e)}}}function Z(e,t,n){return j(F.lex,P.parse)(e,t,n)}function Q(e){var t=Z(e,{gfm:!0,xhtml:!0,breaks:!0,baseUrl:""});return new DOMParser().parseFromString(t,"text/html").body}Z.options=Z.setOptions=function(e){return Z.defaults={...Z.defaults,...e},o=Z.defaults,Z},Z.getDefaults=r,Z.defaults=o,Z.use=function(...e){let t=Z.defaults.extensions||{renderers:{},childTokens:{}};e.forEach(e=>{let n={...e};if(n.async=Z.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach(e=>{if(!e.name)throw Error("extension name required");if(e.renderer){let n=t.renderers[e.name];n?t.renderers[e.name]=function(...t){let r=e.renderer.apply(this,t);return!1===r&&(r=n.apply(this,t)),r}:t.renderers[e.name]=e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}e.childTokens&&(t.childTokens[e.name]=e.childTokens)}),n.extensions=t),e.renderer){let t=Z.defaults.renderer||new R;for(let n in e.renderer){let r=t[n];t[n]=(...o)=>{let a=e.renderer[n].apply(t,o);return!1===a&&(a=r.apply(t,o)),a}}n.renderer=t}if(e.tokenizer){let t=Z.defaults.tokenizer||new S;for(let n in e.tokenizer){let r=t[n];t[n]=(...o)=>{let a=e.tokenizer[n].apply(t,o);return!1===a&&(a=r.apply(t,o)),a}}n.tokenizer=t}if(e.hooks){let t=Z.defaults.hooks||new U;for(let n in e.hooks){let r=t[n];U.passThroughHooks.has(n)?t[n]=o=>{if(Z.defaults.async)return Promise.resolve(e.hooks[n].call(t,o)).then(e=>r.call(t,e));let a=e.hooks[n].call(t,o);return r.call(t,a)}:t[n]=(...o)=>{let a=e.hooks[n].apply(t,o);return!1===a&&(a=r.apply(t,o)),a}}n.hooks=t}if(e.walkTokens){let t=Z.defaults.walkTokens;n.walkTokens=function(n){let r=[];return r.push(e.walkTokens.call(this,n)),t&&(r=r.concat(t.call(this,n))),r}}Z.setOptions(n)})},Z.walkTokens=function(e,t){let n=[];for(let r of e)switch(n=n.concat(t.call(Z,r)),r.type){case"table":for(let e of r.header)n=n.concat(Z.walkTokens(e.tokens,t));for(let e of r.rows)for(let r of e)n=n.concat(Z.walkTokens(r.tokens,t));break;case"list":n=n.concat(Z.walkTokens(r.items,t));break;default:Z.defaults.extensions&&Z.defaults.extensions.childTokens&&Z.defaults.extensions.childTokens[r.type]?Z.defaults.extensions.childTokens[r.type].forEach(function(e){n=n.concat(Z.walkTokens(r[e],t))}):r.tokens&&(n=n.concat(Z.walkTokens(r.tokens,t)))}return n},Z.parseInline=j(F.lexInline,P.parseInline),Z.Parser=P,Z.parser=P.parse,Z.Renderer=R,Z.TextRenderer=L,Z.Lexer=F,Z.lexer=F.lex,Z.Tokenizer=S,Z.Slugger=M,Z.Hooks=U,Z.parse=Z,Z.options,Z.setOptions,Z.use,Z.walkTokens,Z.parseInline,P.parse,F.lex},89960:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var r=n(42838),o=n(70865),a=n(15902),s=n(70621),u=n(67640),c=n(83202),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,o.Z)({},t);if((0,r.Z)(e,s.tk)){if(e.isCaptured)return;e.isCaptured=!0,Object.assign(n,e.data)}(0,r.Z)(e,c.bS)&&Object.assign(n,{code:e.code});var l,d=(0,r.Z)(e,Error)?e.message:"string"==typeof e?e:"object"==typeof e&&null!==e&&"message"in e?e.message:"Unknown error";if(!function(e,t){if((0,r.Z)(e,s.tk)&&(e.isCaptured||e.statusCode<500)||(0,r.Z)(e,s.WH)||(0,r.Z)(e,a.zO)||(0,r.Z)(e,a.sv))return!0;var n=t.toLowerCase();return!!A.some(function(e){return n.includes(e)})}(e,d)){var f=(0,r.Z)(e,Error)?e.stack:Error().stack,h=(0,r.Z)(e,c.bS)&&e.code===c.bS.Codes.Normalize;u.Z.post("logging",{type:h?"crash":"error",message:d,error:e,location:"app",stack:f,cause:(0,r.Z)(e,Error)?e.cause:void 0,causeStack:(0,r.Z)(e,Error)?null===(l=e.cause)||void 0===l?void 0:l.stack:void 0,errorData:n})}},A=["permission_denied","missing or insufficient permissions","client is offline","internal assertion failed","[waiter]","too many errors","parse error","loop completed with undelivered notifications"]},50389:function(e,t,n){"use strict";n.d(t,{GX:function(){return u},H0:function(){return s},aX:function(){return c},pc:function(){return a}});var r=n(70599),o=n(20097);function a(e){var t=null==e?void 0:e.role;return t===o.i.Admin||t===o.i.Member}function s(e){return(null==e?void 0:e.role)===o.i.Admin}function u(e,t,n){return!!t&&null!=e&&!!e.length&&e.some(function(e){return e.id===t&&(!n||n(e))})}function c(e){var t,n;return(null!==(n=null==e?void 0:null===(t=e.plan)||void 0===t?void 0:t.planType)&&void 0!==n?n:r.k9.Free)===r.k9.Free}},84754:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var r=n(90581);function o(e,t,n){if(!t.has(e))throw TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function a(e,t){var n=o(e,t,"get");return n.get?n.get.call(e):n.value}function s(e,t,n){var r=o(e,t,"set");return!function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=n}}(e,r,n),n}var u=/*#__PURE__*/new WeakMap,c=Symbol.toStringTag,l=/*#__PURE__*/function(){function e(){var t;(0,r.Z)(this,e),t={writable:!0,value:void 0},function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(this,u),u.set(this,t),this[c]="ClearableWeakMap",s(this,u,new WeakMap)}var t=e.prototype;return t.clear=function(){s(this,u,new WeakMap)},t.delete=function(e){return a(this,u).delete(e)},t.get=function(e){return a(this,u).get(e)},t.has=function(e){return a(this,u).has(e)},t.set=function(e,t){return a(this,u).set(e,t),this},e}()},97847:function(e,t,n){"use strict";n.d(t,{QY:function(){return a},i8:function(){return o},y7:function(){return s}});var r=n(56818);function o(e,t){return!t||e.version>t.version||e.version===t.version&&e.versionNonce<t.versionNonce?e:t}function a(e){return!!e&&!e.isDeleted&&!((0,r.h4)(e)&&!e.threadId)}function s(e){var t={},n=[],r=0,o=!0,s=!1,u=void 0;try{for(var c,l=e[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var A=c.value;n.push(A),a(A)&&(t[A.id]=r++)}}catch(e){s=!0,u=e}finally{try{o||null==l.return||l.return()}finally{if(s)throw u}}return{syncableElements:n,zIndexMap:t}}},3635:function(e,t){"use strict";t.Z=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}},19179:function(e,t,n){"use strict";n.d(t,{IU:function(){return a},IY:function(){return h},Jf:function(){return d},Nq:function(){return u},W6:function(){return f},b1:function(){return s},cK:function(){return o},jU:function(){return c},zT:function(){return A}});var r=n(70865);function o(e){return!!e&&(!!["INPUT","TEXTAREA","SELECT"].includes(e.tagName)||!!(e.contentEditable&&"true"===e.contentEditable))}var a=function(){try{return void 0!==window.localStorage}catch(e){return!1}}(),s="ontouchstart"in window;function u(){return!!window.document&&!!window.document.createElement}var c=u(),l={behavior:"smooth",block:"end",inline:"nearest"};function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e&&setTimeout(function(){e.scrollIntoView((0,r.Z)({},l,t))},n)}function d(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function f(e,t){if(!e)return!1;for(var n=e.parentElement;n;){if(n.hasAttribute(t))return!0;n=n.parentElement}return!1}function h(e,t){if(!e)return!1;for(var n=e.parentElement;n;){if(n===t)return!0;n=n.parentElement}return!1}},61490:function(e,t,n){"use strict";n.d(t,{VS:function(){return a}});var r=n(70865),o=n(40199);function a(e,t){return(0,o.backOff)(e,(0,r.Z)({numOfAttempts:5,maxDelay:1e3,retry:function(e,t){return(null==e?void 0:e.code)==="internal"&&(console.info("".concat(t,"/5 Attempt failed, retrying..")),!0)}},t))}n(61049)},88218:function(e,t,n){"use strict";n.d(t,{ZP:function(){return o},u6:function(){return a}});var r=/\.(?:aero|asia|ac|cat|coop|edu|gov|int|jobs|mil|museum|post|sch|tel|travel|xxx)(?:\.[a-z]{2,3})?$/;function o(e){return e.split("@")[1]}function a(e){var t,n;return(null==e?void 0:e.email)&&(null==e?void 0:e.emailVerified)&&(t=e.email)&&(n=o(t),!(r.test(n)||t.includes("@gmail")||t.includes("@duck.com")||t.includes(".edu")||t.includes(".ac.")||t.includes(".sch.")||t.includes("@yahoo")||t.includes("mail.ru")||t.includes("qq.com")||t.includes("@hotmail")||t.includes("@googlemail")||t.includes("@outlook")||t.includes("proton.me")||t.includes("protonmail")||t.includes("icloud")||t.includes("@me.com")||t.includes("naver")||t.includes("onmicrosoft.com")||t.includes("@live.co")||t.includes("mozmail.com")||t.includes("gmx.de")||t.includes("yandex")||t.includes("live.com")||t.includes("@web.de")||t.includes("yopmail")||t.includes("gufum")||t.includes("passmail")||t.includes("mailinator")||t.includes("@hey.com")||s.test(t)))?o(e.email):""}var s=/\D+\d{3,5}@/},6901:function(e,t,n){"use strict";n.d(t,{ED:function(){return a},IJ:function(){return o},Um:function(){return r}});var r="undefined"!=typeof navigator&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),o="undefined"!=typeof navigator&&/Linux/.test(navigator.platform),a="undefined"!=typeof navigator&&/Win/i.test(navigator.platform)},20954:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var r=n(90581),o=n(42838),a=n(2784);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,a.useState)(),r=n[0],o=n[1],s=(0,a.useMemo)(function(){return c.fromEl(e)},[e]),u=t.scrollTargetId,l=t.resizeTarget;return(0,a.useEffect)(function(){if(s)return o(s.bounds),s.subscribe(o)},[s]),(0,a.useEffect)(function(){if(u)return null==s?void 0:s.listenForScroll(u)},[s,u]),(0,a.useEffect)(function(){if(l)return null==s?void 0:s.listenForResize(l)},[s,l]),r}var u=new WeakMap,c=/*#__PURE__*/function(){function e(t){var n=this;(0,r.Z)(this,e),this.el=t,this._cbs=[],this._scrollListenerCount=0,this._resizeListenerCount=0,this._hasBeenTriggered=!1,this._onScroll=function(){n._setBounds()},this._stopListeningForResize=function(){if(n._resizeListenerCount--,0===n._resizeListenerCount&&n._resizeTarget){var e;null===(e=n._resizeObserver)||void 0===e||e.unobserve(n._resizeTarget)}},this._stopListeningForScroll=function(){if(n._scrollListenerCount--,0===n._scrollListenerCount&&n._scrollTarget){var e;null===(e=n._resizeObserver)||void 0===e||e.unobserve(n._scrollTarget),n._scrollTarget.removeEventListener("scroll",n._onScroll)}},this._destroy=function(){var e;null===(e=n._resizeObserver)||void 0===e||e.disconnect(),n._scrollListenerCount,n._stopListeningForScroll(),window.removeEventListener("resize",n._setBounds),u.delete(n.el)},this._setBounds=function(){!1===n._hasBeenTriggered&&(n._hasBeenTriggered=!0,n.bounds=n._getBounds(),n._cbs.forEach(function(e){return e(n.bounds)}),requestAnimationFrame(function(){n._hasBeenTriggered=!1}))},this.bounds=this._getBounds(),(0,o.Z)(this.el,HTMLElement)&&(this._resizeObserver=new ResizeObserver(function(e){(null==e?void 0:e[0])&&n._setBounds()}),this._resizeObserver.observe(this.el)),window.addEventListener("resize",this._setBounds)}var t=e.prototype;return t.subscribe=function(e){var t=this;return this._cbs.push(e),function(){t._cbs=t._cbs.filter(function(t){return t!==e}),0===t._cbs.length&&t._destroy()}},t.listenForScroll=function(e){var t=this;if(0===this._scrollListenerCount){var n,r=document.getElementById(e);r?(this._scrollTarget=r,r.addEventListener("scroll",this._onScroll),null===(n=this._resizeObserver)||void 0===n||n.observe(r)):console.warn("No scroll target found",e)}return this._scrollListenerCount++,function(){return t._stopListeningForScroll()}},t.listenForResize=function(e){var t,n=this;return 0===this._resizeListenerCount&&(this._resizeTarget=e,null===(t=this._resizeObserver)||void 0===t||t.observe(e)),this._resizeListenerCount++,function(){return n._stopListeningForResize()}},t._getBounds=function(){return this.el.getBoundingClientRect()},e}();c.fromEl=function(e){if(e)return u.has(e)||u.set(e,new c(e)),u.get(e)}},45594:function(e,t,n){"use strict";function r(e,t){var n=e.pathname,r=new URLSearchParams(e.query);r.delete(t),e.replace({pathname:n,query:r.toString()},void 0,{shallow:!0})}function o(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.pathname,a=new URLSearchParams(e.query);a.set(t,n),r?e.push({pathname:o,query:a.toString()},void 0,{shallow:!0}):e.replace({pathname:o,query:a.toString()},void 0,{shallow:!0})}n.d(t,{Xi:function(){return o},iO:function(){return r},rj:function(){return a},yT:function(){return s}});var a=function(e){if(!e)return a(window.location.pathname);var t=e.split("/"),n=""===t[0]?1:0;if("integration"===t[n]){var r=t[n+1],o=t[n+2];return"".concat(r,":").concat(o)}return"workspace"!==t[n]?null:t[n+1]},s=function(e){return e?a(e.pathname):null}},24618:function(e,t,n){"use strict";n.d(t,{VK:function(){return Z},bJ:function(){return P},BX:function(){return M},jW:function(){return L},pA:function(){return U},Fb:function(){return j},Mh:function(){return N}});var r=n(70865),o=n(94707),a=n(82808),s=n(47864),u=n(83746),c=n(97674),l=n(17407),A=n(1118),d=n(67394),f=n(62355),h=n(59126),p=n(11348);function g(e,t){return Math.pow(2,e)*t}var v=n(45455),m=/*#__PURE__*/n.n(v),y=n(35120),b=n(99054),w=n(77984),_=n(47009),E=n(90581),C=n(21218),B=n(39309),I=n(9947),x=n(17080),T={leading:!0,trailing:!1},S=/*#__PURE__*/function(){function e(t,n,r,o,a){(0,E.Z)(this,e),this._duration=t,this._compare=n,this._scheduler=r,this._leading=o,this._trailing=a}return e.prototype.call=function(e,t){return t.subscribe(new k(e,this._duration,this._compare,this._scheduler,this._leading,this._trailing))},e}(),k=/*#__PURE__*/function(e){(0,C.Z)(n,e);var t=(0,B.Z)(n);function n(e,r,o,a,s,u){var c;return(0,E.Z)(this,n),(c=t.call(this,e)).destination=e,c._duration=r,c._compare=o,c._scheduler=a,c._leading=s,c._trailing=u,c._hasTrailingValue=!1,c}var r=n.prototype;return r._next=function(e){this._prevValue&&!this._compare(this._prevValue,e)?(this.clearThrottle(),this.add(this._throttled=this._scheduler.schedule(D,this._duration,{subscriber:this})),this.destination.next(e)):this._throttled?this._trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this._throttled=this._scheduler.schedule(D,this._duration,{subscriber:this})),this._leading?this.destination.next(e):this._trailing&&(this._trailingValue=e,this._hasTrailingValue=!0)),this._prevValue=e},r._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},r.clearThrottle=function(){var e=this._throttled;e&&(this._trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=void 0,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this._throttled=void 0)},n}(x.Lv);function D(e){e.subscriber.clearThrottle()}var N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I.z,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T;return function(o){return o.lift(new S(e,t,n,!!r.leading,!!r.trailing))}};function O(e){return null!=e}function F(e){return null!=e}function R(e){return e.every(F)}function L(){return function(e){return e.pipe((0,b.h)(O))}}function M(){return function(e){return e.pipe((0,b.h)(F))}}function P(){return function(e){return e.pipe((0,b.h)(R))}}function U(e){return function(t){return t.pipe((0,w.U)(function(t){return m()(t)?e:t}))}}function j(e){return function(t){return t.pipe((0,_.K)(function(t){return"permission-denied"===t.code?(0,y.of)(e):(0,u._)(t)}))}}function Z(e){return function(t){var n,v,m,y,b,w,_,E,C,B,I,x,T;return t.pipe((m=(v="number"==typeof(n=(0,r.Z)({initialInterval:100,maxRetries:5,maxInterval:1e3,resetOnSuccess:!0},e))?{initialInterval:n}:n).initialInterval,b=void 0===(y=v.maxRetries)?1/0:y,_=void 0===(w=v.maxInterval)?1/0:w,C=void 0===(E=v.shouldRetry)?function(){return!0}:E,I=void 0!==(B=v.resetOnSuccess)&&B,T=void 0===(x=v.backoffDelay)?g:x,function(e){return(0,o.P)(function(){var t,n=0;return e.pipe((t=function(e){var t,r;return e.pipe((t=function(e){var t=n++;return(0,a.s)(function(){return t<b&&C(e)},(0,s.H)(Math.min(T(t,m),_)),(0,u._)(e))},(0,h.m)(void 0)?(0,f.z)(t,r,1):(0,f.z)(t,1)))},(0,A.e)(function(e,n){var r,o,a=!1,s=function(){r=e.subscribe((0,d.x)(n,void 0,void 0,function(e){o||(o=new l.x,(0,c.Xf)(t(o)).subscribe((0,d.x)(n,function(){return r?s():a=!0}))),o&&o.next(e)})),a&&(r.unsubscribe(),r=null,a=!1,s())};s()})),(0,p.b)(function(){I&&(n=0)}))})}))}}},42389:function(e,t,n){"use strict";n.d(t,{BS:function(){return f},_1:function(){return h}});var r=n(42838),o=n(50930),a=n(10732),s=n(83746),u=n(47009);function c(e){var t=e?e():Error("observable thrown from context:");return function(e){return e.pipe((0,u.K)(function(e){return(0,s._)(function(){var n=Error("Rethrowing observable error"),o=Error(t.message);if(o.stack=t.stack,o.cause=n,(0,r.Z)(e,Error))return e.cause=o,e;var a=Error((null!=e?e:"unknown").toString());return a.cause=o,a})}))}}function l(e){try{return JSON.stringify(e)}catch(e){return"{}"}}var A=function(e){var t,n,r,o=JSON.parse(l(e));return null==o?void 0:null===(t=o._delegate)||void 0===t?void 0:null===(n=t._key)||void 0===n?void 0:null===(r=n.path)||void 0===r?void 0:r.segments},d=function(e){var t,n,r,o=JSON.parse(l(e));return null==o?void 0:null===(t=o._delegate)||void 0===t?void 0:null===(n=t._query)||void 0===n?void 0:null===(r=n.path)||void 0===r?void 0:r.segments};function f(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.BS.apply(void 0,(0,o.Z)(t)).pipe(c(function(){var e=JSON.stringify(d(t[0]));return Error("Thrown from firestore collection ".concat(e))}))}function h(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return a._1.apply(void 0,(0,o.Z)(t)).pipe(c(function(){var e=JSON.stringify(A(t[0]));return Error("Thrown from firestore doc ".concat(e))}))}},85117:function(e,t){"use strict";var n=Object.prototype.hasOwnProperty;t.Z=function(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++){var s=r[a];if(!n.call(t,s)||e[s]!==t[s])return!1}return!0}},68193:function(e,t,n){"use strict";function r(e){var t=!1;return function(){t||(t=!0,requestAnimationFrame(function(){t=!1,e()}))}}n.d(t,{q:function(){return r}})},51914:function(e,t,n){"use strict";n.d(t,{Cj:function(){return d},vb:function(){return h}});var r=n(87394),o=/(?:http|ftp|ws)s?:\/\/|www\./i,a=/[\w@:%.+~#=-]/,s=/\.\w{2,}/,u=/\/[\w()@:%+.~/-]*/,c=/\?\S+/,l=/#\S+/,A=RegExp("(?:"+"(?:".concat(o.source,")\\w(?:").concat(a.source,"{0,64}[^./?#])?(?:").concat(s.source,"(?:").concat(/:\d+/.source,")?)?")+"|"+"\\w".concat(a.source,"{0,64}\\.(?:").concat(/aero|app|asia|blog|by|cat|cc|club|coop|cu|do|engineering|fun|gu|help|id|ir|is|jobs|kp|law|loan|md|me|menu|mil|mobi|museum|name|online|party|pl|post|pro|sd|sh|shop|site|so|space|sy|tel|top|travel|ve|vip|wang|wtf|xin|xxx|xyz|com|net|org|edu|gov|info|co|ly|io|biz|int|ac|ad|ae|af|ag|ai|al|am|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bw|bz|ca|cd|cf|cg|ch|ci|ck|cl|cm|cn|cr|cv|cw|cx|cy|cz|de|dj|dk|dm|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gw|gy|hk|hm|hn|hr|ht|hu|ie|il|im|in|iq|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ma|mc|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pm|pn|pr|ps|pt|pw|qa|re|ro|rs|ru|rw|sa|sb|sc|se|sg|si|sk|sl|sm|sn|sr|ss|st|su|sv|sx|sz|tc|td|tg|th|tj|tk|tl|tm|tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw/i.source,")")+")"+"(?:".concat(u.source,")?(?:").concat(c.source,")?(?:").concat(l.source,")?"),"i"),d=RegExp("(?:"+"(?:".concat(o.source,")\\w(?:").concat(a.source,"{0,64}[^./?#])?(?:").concat(s.source,")?")+"|"+"\\w".concat(a.source,"{0,64}\\.(?:").concat(/com|org|net|gov|edu|io|dev|app/i.source,")")+")"+"(?:".concat(u.source,")?(?:").concat(c.source,")?(?:").concat(l.source,")?"),"i"),f=RegExp("^(?:".concat(A.source,")$"),"i");RegExp(A.source,"gi");var h=function(e,t){var n=e,o=n.includes("?");return o||(n+="?"),Object.entries(t).map(function(e,t){var a=(0,r.Z)(e,2),s=a[0],u=a[1];(t>0||o)&&(n+="&"),n+="".concat(s,"=").concat(u.toString())}),encodeURIComponent(n)};t.ZP=function(e){return!!e.length&&f.test(e)}},89813:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(98788),o=n(22970);function a(e){return s.apply(this,arguments)}function s(){return(s=(0,r.Z)(function(e){return(0,o.__generator)(this,function(t){return[2,new Promise(function(t){setTimeout(t,e)})]})})).apply(this,arguments)}},39202:function(e,t,n){"use strict";n.d(t,{g:function(){return y}});var r,o,a,s,u,c,l,A=n(98788),d=n(70865),f=n(96670),h=n(22970),p=n(41962),g=n(89960),v=n(99669);(r=l||(l={}))[r.Failed=0]="Failed",r[r.Initialized=1]="Initialized",r[r.Initializing=2]="Initializing",r[r.NotInitialized=3]="NotInitialized";var m="optimizely-data-file",y=(s=l.NotInitialized,u=function(e){return(0,d.Z)({teamId:a.teamId},e||{})},{initialize:(c=(0,A.Z)(function(e,t){var n,r;return(0,h.__generator)(this,function(u){switch(u.label){case 0:if(a=e,s=l.Initializing,(n=v.J.getItem(m))&&(s=l.Initialized),r=null==(o=p.ZP.createInstance((0,f.Z)((0,d.Z)({},t),{datafile:n})))?void 0:o.onReady({timeout:2e3}).then(function(e){var t=e.success;if(e.reason,t){s=l.Initialized;var n,r=null===(n=null==o?void 0:o.getOptimizelyConfig())||void 0===n?void 0:n.getDatafile();r&&v.J.setItem(m,r)}else s=l.Failed}).catch(function(e){return(0,g.T)(e)}),!(s!==l.Initialized))return[3,2];return[4,r];case 1:u.sent(),u.label=2;case 2:return[2]}})}),function(e,t){return c.apply(this,arguments)}),isInitialized:function(){return s===l.Initialized},isFeatureEnabled:function(e,t){return s===l.Initialized&&(b?w[e]:o.isFeatureEnabled(e,a.userId,u(t)))},getFeatureVariables:function(e,t){return s!==l.Initialized?null:o.getAllFeatureVariables(e,a.userId,u(t))},updateUserContext:function(e){return a=(0,d.Z)({},a,e)}});window&&(window.optimizelyService=y);var b=!!(null==window?void 0:window.Cypress),w={excalidrawstyles:!0,get_started_checklist:!0,pr_bot:!0,git_diagram:!0}},92458:function(e,t,n){"use strict";n.d(t,{B:function(){return u},R:function(){return c}});var r=n(2784),o=n(19696),a=n(89813),s=n(39202),u=function(e,t){var n,a,u,c,l=(0,r.useState)(!1),A=l[0],d=l[1];(0,r.useEffect)(function(){A?s.g.updateUserContext(e):(d("pending"),s.g.initialize(e,t).finally(function(){d(!0)}))},[A,t,e]);var f=(n=e.areTeamsEmpty,a=e.areTeamsLoaded,u=e.isUserAnonymous,c=e.teamId,!!(e.userId||u)&&!!(c||n||a));return(0,r.useEffect)(function(){f&&A&&(0,o.N)()},[f,A]),f&&!0===A},c=function(){var e=(0,r.useState)(),t=e[0],n=e[1];return(0,r.useEffect)(function(){t||n(Promise.race([s.g.initialize({isUserAnonymous:!0,userId:"",teamId:""},{logLevel:4,sdkKey:"X8uGG684qRdkxfjg7yDEx",datafileOptions:{autoUpdate:!1,updateInterval:void 0,urlTemplate:"/api/optimizely/datafile"}}),(0,a.Z)(1e3)]))},[t]),t}},8018:function(e){e.exports={authFlowFormError:"AuthFlowFormError_authFlowFormError__23he9"}},42762:function(e){e.exports={authFlowViewLayout:"AuthFlowViewLayout_authFlowViewLayout__LsuXS",content:"AuthFlowViewLayout_content__KcAPm",footer:"AuthFlowViewLayout_footer__uwOHC",eraserLogo:"AuthFlowViewLayout_eraserLogo__gVBCx",label:"AuthFlowViewLayout_label__QbLU8"}},98025:function(e){e.exports={authFormLayout:"AuthFormLayout_authFormLayout__Djnmv"}},71481:function(e){e.exports={authViewActionButtons:"AuthViewActionButtons_authViewActionButtons__EVu76"}},57597:function(e){e.exports={joinTeamSelection:"JoinTeamSelection_joinTeamSelection__iUDrv",team:"JoinTeamSelection_team__wCu6U",selected:"JoinTeamSelection_selected__ktt71"}},65181:function(e){e.exports={ssoButtons:"SSOButtons_ssoButtons__cszRd",buttonSize:"SSOButtons_buttonSize__23Wez",button:"SSOButtons_button__VaO1C",halfWidthButton:"SSOButtons_halfWidthButton__o0Lwd"}},56860:function(e){e.exports={resetPassword:"SignInForm_resetPassword__t7x9q"}},70520:function(e){e.exports={signInView:"SignInView_signInView__2T3vn",signInForm:"SignInView_signInForm__1tDK0",resetPasswordForm:"SignInView_resetPasswordForm__Z8f_D",ssoButtons:"SignInView_ssoButtons__gMo6A"}},86066:function(e){e.exports={signUpView:"SignUpView_signUpView__bl4VM",ssoButtons:"SignUpView_ssoButtons__RxV8o",signInLink:"SignUpView_signInLink__7zpHb"}},90910:function(e){e.exports={teamJoinModal:"TeamJoinModal_teamJoinModal__Hx3BH",teams:"TeamJoinModal_teams__klxDh",buttons:"TeamJoinModal_buttons__o4L_r"}},21902:function(e){e.exports={container:"thirdPartySso_container__eytk7",formContainer:"thirdPartySso_formContainer__WO3WJ",button:"thirdPartySso_button__RQzH9"}},24292:function(e){e.exports={errorCtaButton:"ErrorCtaButton_errorCtaButton__MPzRm",isOutline:"ErrorCtaButton_isOutline__Xe57B"}},14052:function(e){e.exports={errorViewLayout:"ErrorViewLayout_errorViewLayout__9aibB",content:"ErrorViewLayout_content__5wmOa",label:"ErrorViewLayout_label__7Z0e6",footer:"ErrorViewLayout_footer__qjgTF"}},40819:function(e){e.exports={container:"HelpCenter_container__Mzr5Z",stickyLeft:"HelpCenter_stickyLeft__bzLd_",stickyRight:"HelpCenter_stickyRight__eGxTp",isOpen:"HelpCenter_isOpen__iuNL2",icon:"HelpCenter_icon__zhG_4",label:"HelpCenter_label___4Xfj",helpButton:"HelpCenter_helpButton__MNdc7"}},19705:function(e){e.exports={navContainer:"KeyboardShortcutsModal_navContainer__pvr9U",navHeader:"KeyboardShortcutsModal_navHeader__kMcmC",noResults:"KeyboardShortcutsModal_noResults__6ok9l",searchInput:"KeyboardShortcutsModal_searchInput__VILUz",shortcutsTable:"KeyboardShortcutsModal_shortcutsTable__TqLNI",table:"KeyboardShortcutsModal_table__r6UNv",shortcutDivider:"KeyboardShortcutsModal_shortcutDivider__vmw_t"}},27846:function(e){e.exports={logo:"EraserLogo_logo__fK1pd",horizontal:"EraserLogo_horizontal__WCaYh",vertical:"EraserLogo_vertical__x_CZ_",icon:"EraserLogo_icon__cN4mR",text:"EraserLogo_text__NlOor"}},98850:function(e){e.exports={container:"ShareWorkspace_container__Go1SK",header:"ShareWorkspace_header__iFLdu",qrCodeButton:"ShareWorkspace_qrCodeButton__KHBZR",userList:"ShareWorkspace_userList___ZJo6",userRow:"ShareWorkspace_userRow__4i_AD",info:"ShareWorkspace_info__ZzZjS",accessBadge:"ShareWorkspace_accessBadge__tQeL8"}},46966:function(e){e.exports={minimalPageLayout:"MinimalPageLayout_minimalPageLayout__zOfvH",eraserLogo:"MinimalPageLayout_eraserLogo__7bMLE",content:"MinimalPageLayout_content__igL6T"}},31592:function(e){e.exports={dashboardPage:"Layout_dashboardPage__TrfNE",dashboardBody:"Layout_dashboardBody___RXU1",renamingFolder:"Layout_renamingFolder___rSYx",item:"Layout_item__IRAae",titleRowContent:"Layout_titleRowContent__P_XE9",gutterColumn:"Layout_gutterColumn__p0pUk",alignCenter:"Layout_alignCenter__NuTPx",alignEnd:"Layout_alignEnd__1k18D",headerAuthorPadding:"Layout_headerAuthorPadding__RtKNi",authorPadding:"Layout_authorPadding__mfop4"}},39323:function(e){e.exports={topNav:"LayoutHeader_topNav__wkTMq",topNavTab:"LayoutHeader_topNavTab__1Vd9N",active:"LayoutHeader_active__aZ58d",tableContainer:"LayoutHeader_tableContainer__gsNuX",topNavShortcut:"LayoutHeader_topNavShortcut__JAgnZ"}},23513:function(e){e.exports={wrapper:"Notepad_wrapper__3t9j_",container:"Notepad_container__C0YbN",absolute:"Notepad_absolute__Z3TsM",containerHintPhantom:"Notepad_containerHintPhantom__uLHCF",customScrollbar:"Notepad_customScrollbar__olo4S",notepad:"Notepad_notepad__6sYUU",skeletonTitle:"Notepad_skeletonTitle__YD7B2",skeletonBody:"Notepad_skeletonBody___LfPX",measurer:"Notepad_measurer__Otdpo"}},36976:function(e){e.exports={validPerson:"Mentions_validPerson__cy4GH",editorMention:"Mentions_editorMention__ZYYyU",personDisplay:"Mentions_personDisplay__s9d6U",avatar:"Mentions_avatar__4bw3j",label:"Mentions_label__4lm7Y",isSelected:"Mentions_isSelected__RnL7t",isDarkMode:"Mentions_isDarkMode__FcpWt",isHighlighted:"Mentions_isHighlighted__Lao5V",dropdownAnchor:"Mentions_dropdownAnchor__q_PRJ",dropdownContainer:"Mentions_dropdownContainer___Mkiy",commentMention:"Mentions_commentMention__jaaNA",display:"Mentions_display__NWzLk",autoCompleteDropDown:"Mentions_autoCompleteDropDown__GmhUA",dropdownPopper:"Mentions_dropdownPopper__Y7nIB",hidden:"Mentions_hidden__oYE87",placeholder:"Mentions_placeholder__GzP7W"}},1031:function(e){e.exports={workspaceLimitCard:"WorkspaceLimitCard_workspaceLimitCard__Fu5ce",progressWrapper:"WorkspaceLimitCard_progressWrapper__VZx6O",progress:"WorkspaceLimitCard_progress__oiqV0",upgradeBtn:"WorkspaceLimitCard_upgradeBtn__t9EWY"}},14413:function(e){e.exports={container:"ssoErrorChecker_container__gvLKD",rerouting:"ssoErrorChecker_rerouting__S06GM",joinTable:"ssoErrorChecker_joinTable__QXbf_",joinTableTeamName:"ssoErrorChecker_joinTableTeamName__TWrmc"}},67499:function(e){e.exports={authModal:"Auth_authModal__II_vq"}},75594:function(e){e.exports={item:"TableHeadItem_item__OO2Pa",headItem:"TableHeadItem_headItem__cQyJD",headItemActive:"TableHeadItem_headItemActive__r7pow",headItemSortable:"TableHeadItem_headItemSortable__X8LU5"}},17371:function(e){e.exports={tableHeader:"TableHeader_tableHeader__07mhD",noBorder:"TableHeader_noBorder__p3lKv"}},98156:function(e){e.exports={container:"Toast_container__SU4wE",warning:"Toast_warning__xRuZJ",loading:"Toast_loading__YQi8x",error:"Toast_error__hh2r_",success:"Toast_success__XpEen",blank:"Toast_blank___krRd"}},47200:function(e){e.exports={isDragging:"DragAndDropStyles_isDragging__luYEl",isDroppingWorkspaceTableFolder:"DragAndDropStyles_isDroppingWorkspaceTableFolder__8wlB7",folderTarget:"DragAndDropStyles_folderTarget__IMNH1",droppingBorderBefore:"DragAndDropStyles_droppingBorderBefore__G9tY8",isFirst:"DragAndDropStyles_isFirst__0hlFH",droppingBorderAfter:"DragAndDropStyles_droppingBorderAfter__90I6V",isLast:"DragAndDropStyles_isLast__y37jj"}},94999:function(e){e.exports={member:"Member_member___gkVf",avatar:"Member_avatar__T6cem",name:"Member_name__NSu5d"}},13529:function(e){e.exports={members:"MembersList_members___um72",skeleton:"MembersList_skeleton__FcoKf",name:"MembersList_name__sINBT"}},60706:function(e){e.exports={container:"MembersPile_container__AaFkf",avatars:"MembersPile_avatars__6t_0l","align-start":"MembersPile_align-start__ohH52","align-end":"MembersPile_align-end__NC_K_",avatarContainer:"MembersPile_avatarContainer__QzTlZ",avatar:"MembersPile_avatar__Qs_Ri",userAvatar:"MembersPile_userAvatar__Xz8hg"}},26486:function(e){e.exports={moreMembers:"MoreMembers_moreMembers__0FxIH",listPopper:"MoreMembers_listPopper__lobmm",members:"MoreMembers_members__Lvscx",memberName:"MoreMembers_memberName__b1WDg",skeleton:"MoreMembers_skeleton__j785S",name:"MoreMembers_name__UiEqV"}},94280:function(e){e.exports={listItem:"MoveModalListItem_listItem__AforP",checkMark:"MoveModalListItem_checkMark__IIDqm",isActive:"MoveModalListItem_isActive___Isup"}},8911:function(e){e.exports={newTemplateCard:"NewTemplateCard_newTemplateCard__LgAa0",disabled:"NewTemplateCard_disabled__BUDwV",newTemplateCardTitle:"NewTemplateCard_newTemplateCardTitle__7CdDE"}},58241:function(e){e.exports={templateCard:"TemplateCard_templateCard__BX_u1",disabled:"TemplateCard_disabled__ZgS_e",fallbackContainer:"TemplateCard_fallbackContainer__YiRnE",imageContainer:"TemplateCard_imageContainer__w34Ie",tooltip:"TemplateCard_tooltip__P_bXe",titleWrapper:"TemplateCard_titleWrapper__G_skP",title:"TemplateCard_title__L_HbR",renameInput:"TemplateCard_renameInput__NCAI_"}},15673:function(e){e.exports={metadataContent:"TemplateMetadata_metadataContent__2fEM8",avatar:"TemplateMetadata_avatar__uZZ5J",avatarName:"TemplateMetadata_avatarName__fJI5x"}},96237:function(e){e.exports={successToastWrapper:"TemplateSuccessToast_successToastWrapper__bUgoI"}},38814:function(e){e.exports={modalRoot:"CommandKModal_modalRoot__5Incc",modalWrapper:"CommandKModal_modalWrapper__SKvBF",searchInput:"CommandKModal_searchInput__uthGN",content:"CommandKModal_content__dRTWu",fullSearchSuggestion:"CommandKModal_fullSearchSuggestion__YS_R_",contentWrapper:"CommandKModal_contentWrapper__ixwqc"}},57200:function(e){e.exports={root:"CommandKListEntry_root__1XNHr",rootActive:"CommandKListEntry_rootActive__cV4CB"}},86378:function(e){e.exports={shortcuts:"CommandKModalFooter_shortcuts__ItpvZ",keys:"CommandKModalFooter_keys__mocIL",modeWrapper:"CommandKModalFooter_modeWrapper__YCqnb",menu:"CommandKModalFooter_menu__cXMYX",toggleButton:"CommandKModalFooter_toggleButton__y0kPO",toggleRoot:"CommandKModalFooter_toggleRoot__j1Mvq",toggleTitle:"CommandKModalFooter_toggleTitle__XMn_I"}},74803:function(e){e.exports={root:"ContextModalPill_root__VY5Ck",light:"ContextModalPill_light__NNuqK"}},62441:function(e){e.exports={root:"CommandKCategorySection_root__okYLV",title:"CommandKCategorySection_title__pZcLS"}},26378:function(e){e.exports={subCategory:"CommandKCommand_subCategory__M3vc2",subCategoryChevron:"CommandKCommand_subCategoryChevron__NomIU",itemEndContent:"CommandKCommand_itemEndContent__SUswd"}},19101:function(e){e.exports={notFoundWrapper:"CommandScreen_notFoundWrapper__iYHFZ",item:"CommandScreen_item__MKs6o",itemSubTitle:"CommandScreen_itemSubTitle__9te_C",itemIcon:"CommandScreen_itemIcon__P0__6"}},27202:function(e){e.exports={skeletonWrapper:"CommandScreenSkeleton_skeletonWrapper__KL5DV",isActive:"CommandScreenSkeleton_isActive__dd1rL",description:"CommandScreenSkeleton_description__LchFQ"}},12614:function(e){e.exports={icon:"GoToFileEntry_icon__JGGOK"}},69713:function(e){e.exports={fullSearchSuggestion:"GoToFileScreen_fullSearchSuggestion__0oMU0"}},79941:function(e){e.exports={skeletonWrapper:"GoToFileSkeleton_skeletonWrapper__lNrEh",isActive:"GoToFileSkeleton_isActive__4JhL2",folder:"GoToFileSkeleton_folder__YmdXl"}},24344:function(e){e.exports={helpTitle:"HelpScreen_helpTitle__7AfMC",item:"HelpScreen_item__Nn7m4"}},45369:function(e){e.exports={folderSelect:"FolderActions_folderSelect__JhXmp"}},83264:function(e){e.exports={dashboardHeader:"DashboardHeader_dashboardHeader__RR10i",dashboardHeaderTitle:"DashboardHeader_dashboardHeaderTitle__MRmm0",dashboardHeaderTools:"DashboardHeader_dashboardHeaderTools__NVJvd"}},64001:function(e){e.exports={searchBar:"DashboardHeaderTools_searchBar__ydsM1",rightMargin10:"DashboardHeaderTools_rightMargin10__b3kAa",noMargin:"DashboardHeaderTools_noMargin__GEXUl"}},56820:function(e){e.exports={folderTitleRoot:"FolderView_folderTitleRoot__Dyoc3",folderDropdown:"FolderView_folderDropdown__slHzm",iconTooltip:"FolderView_iconTooltip__uMCyu",newFolderIcon:"FolderView_newFolderIcon__Zsg3s",disabledFolderIcon:"FolderView_disabledFolderIcon__I2V_4"}},53047:function(e){e.exports={getStartedChecklist:"GetStartedChecklist_getStartedChecklist__FHd5m",header:"GetStartedChecklist_header__8aaft",threeDotMenu:"GetStartedChecklist_threeDotMenu__CEekJ",progressBadge:"GetStartedChecklist_progressBadge__c8dRA",toggleBtnWrapper:"GetStartedChecklist_toggleBtnWrapper__5G4rk",toggleBtn:"GetStartedChecklist_toggleBtn__sVcEe",progressWrapper:"GetStartedChecklist_progressWrapper__Fc_HR",progressBar:"GetStartedChecklist_progressBar__rk_VW",checklist:"GetStartedChecklist_checklist__rWUMN",setup:"GetStartedChecklist_setup__Zo_pJ",checklistItem:"GetStartedChecklist_checklistItem__OkGLB",arrow:"GetStartedChecklist_arrow__Yn6K0",isComplete:"GetStartedChecklist_isComplete__aAzhS",allCompletedView:"GetStartedChecklist_allCompletedView__YBeda",contentWrap:"GetStartedChecklist_contentWrap__QwgI1",hideBtn:"GetStartedChecklist_hideBtn__UclMd",isCollapsed:"GetStartedChecklist_isCollapsed__BxzLa"}},91983:function(e){e.exports={container:"MoveToFolderModal_container___ygsY",buttonGroup:"MoveToFolderModal_buttonGroup__qnhgt",button:"MoveToFolderModal_button__SUwES",folderList:"MoveToFolderModal_folderList__jQf2r"}},34006:function(e){e.exports={input:"RenamingField_input__jd2SB"}},93664:function(e){e.exports={mobileHeader:"MobileDashboard_mobileHeader__X_XY5",toggleButton:"MobileDashboard_toggleButton__vteHM",searchContainer:"MobileDashboard_searchContainer__45hEA",searchContainerActive:"MobileDashboard_searchContainerActive__I_VZa"}},72397:function(e){e.exports={searchContainer:"CompactSearchBar_searchContainer__RyRTC",focused:"CompactSearchBar_focused__9waIS",searchIcon:"CompactSearchBar_searchIcon__mdwDC",input:"CompactSearchBar_input__t4Qs_",shortcut:"CompactSearchBar_shortcut__g84ar"}},25947:function(e){e.exports={container:"NotFound_container__9bRyf",title:"NotFound_title__E9GnI",text:"NotFound_text__8uD5w"}},84979:function(e){e.exports={tableHeader:"Search_tableHeader__jZSv_",noBorder:"Search_noBorder__4vemY",headerPadding:"Search_headerPadding__zP2u_",alignRight:"Search_alignRight__L40uD",matches:"Search_matches__yN5kJ",matchBlock:"Search_matchBlock__TvWPH",matchIcon:"Search_matchIcon__7iZoj",matchBody:"Search_matchBody__9QUDL",matchFoundIn:"Search_matchFoundIn__4LS3w",matchContent:"Search_matchContent__pqE1f",searchRow:"Search_searchRow__laOHU",isFocused:"Search_isFocused___dKBj",divider:"Search_divider__JZdV5",highlight:"Search_highlight__VYEsV",fileRowMinimal:"Search_fileRowMinimal__qUdfB",searchPadding:"Search_searchPadding__W2ZFb",searchHeader:"Search_searchHeader___M9rq",searchBar:"Search_searchBar__gc4k3",searchInput:"Search_searchInput__a5xn1",searchIcon:"Search_searchIcon__5l0_X"}},24289:function(e){e.exports={container:"Sidebar_container__8a9Qq",mobileSidebar:"Sidebar_mobileSidebar__t_ufQ",mobileSidebarOpen:"Sidebar_mobileSidebarOpen__hjUpD",sidebarOverlay:"Sidebar_sidebarOverlay__60BEN",sidebarMenuContainer:"Sidebar_sidebarMenuContainer__mxUuq",topSection:"Sidebar_topSection__cDHlE",shortcut:"Sidebar_shortcut__AuqLQ",topSectionTab:"Sidebar_topSectionTab__wZMEy",topSectionTabContent:"Sidebar_topSectionTabContent__QmyHz",viewingHistoryIcon:"Sidebar_viewingHistoryIcon___HQUS",foldersWrapper:"Sidebar_foldersWrapper__MyiOf",listContainer:"Sidebar_listContainer__FyWdD"}},53122:function(e){e.exports={root:"SidebarAccordionButton_root__d8XPG",expanded:"SidebarAccordionButton_expanded__9T0e_"}},18001:function(e){e.exports={renamingFolder:"SidebarFolder_renamingFolder__pzqqr",nested:"SidebarFolder_nested__sQpVE",subfolderTooltip:"SidebarFolder_subfolderTooltip__VI1mX",disabled:"SidebarFolder_disabled__NkGLQ",newFolderIcon:"SidebarFolder_newFolderIcon__ul94_",folderName:"SidebarFolder_folderName__Bk_wE"}},605:function(e){e.exports={foldersList:"SidebarFoldersList_foldersList__NSb3Z",noMarginTop:"SidebarFoldersList_noMarginTop__Qdj3q"}},73064:function(e){e.exports={root:"SidebarFooter_root__3hDwv",inviteButton:"SidebarFooter_inviteButton__r_O7i",footerTabsContainer:"SidebarFooter_footerTabsContainer__6mjLI",pricingPlanTabContainer:"SidebarFooter_pricingPlanTabContainer__bQzd_",gitHubLabelContainer:"SidebarFooter_gitHubLabelContainer__imBtl",gitHubBadge:"SidebarFooter_gitHubBadge__FBK2h"}},52365:function(e){e.exports={integrationsList:"SidebarGitHubList_integrationsList__NjG4t",badgeWrapper:"SidebarGitHubList_badgeWrapper__mv_6C",badge:"SidebarGitHubList_badge__HDHkz",repositoryName:"SidebarGitHubList_repositoryName__OJ_MH"}},34315:function(e){e.exports={sidebarMenuContainer:"SidebarMenu_sidebarMenuContainer__r_xY7",buttonsContainer:"SidebarMenu_buttonsContainer__0homq",currentTeam:"SidebarMenu_currentTeam__ENd5F",currentTeamLogo:"SidebarMenu_currentTeamLogo__k9Bqm",currentTeamName:"SidebarMenu_currentTeamName__zEoKQ",sidebarDropdown:"SidebarMenu_sidebarDropdown__W__sM",sidebarDropdownCaret:"SidebarMenu_sidebarDropdownCaret__SPUDV"}},26514:function(e){e.exports={accordionContainer:"SidebarNestedFolder_accordionContainer__gRsDN",parentFolder:"SidebarNestedFolder_parentFolder___Melt",childFolders:"SidebarNestedFolder_childFolders__0DBO2",slideIn:"SidebarNestedFolder_slideIn__Juasb",renamingFolder:"SidebarNestedFolder_renamingFolder__xNBXi"}},9563:function(e){e.exports={sectionTitle:"SidebarSectionTitle_sectionTitle___h2QG",iconButton:"SidebarSectionTitle_iconButton__8Zmzl",icon:"SidebarSectionTitle_icon__FH9cj",tooltipRoot:"SidebarSectionTitle_tooltipRoot__L5XyN"}},46402:function(e){e.exports={root:"SidebarTab_root__iCpoz",large:"SidebarTab_large__X_YCP",medium:"SidebarTab_medium__MnGco",small:"SidebarTab_small__ZGVOY",active:"SidebarTab_active__3fpyF",fullWidth:"SidebarTab_fullWidth__HCP7X",icon:"SidebarTab_icon__f47EC",content:"SidebarTab_content__Rj57P",shortcut:"SidebarTab_shortcut__UICv5"}},84771:function(e){e.exports={buttonsRoot:"NewFileButton_buttonsRoot__7z1CZ",leftButton:"NewFileButton_leftButton__W7RWi",rightButton:"NewFileButton_rightButton__udvd8",leftButtonSplit:"NewFileButton_leftButtonSplit__bKmUt",newFileText:"NewFileButton_newFileText__GaHy8",shortcut:"NewFileButton_shortcut__zcaFi",popper:"NewFileButton_popper__yRvIW"}},45026:function(e){e.exports={repositoryWrapper:"NewGitHubFileModal_repositoryWrapper__sO4H4",repositoryLabel:"NewGitHubFileModal_repositoryLabel__sswpX",toggleRoot:"NewGitHubFileModal_toggleRoot__aXF3z",dropdownToggleRoot:"NewGitHubFileModal_dropdownToggleRoot__qKAvf",dropdownMenu:"NewGitHubFileModal_dropdownMenu__RKE56"}},97023:function(e){e.exports={failedPayment:"BillingActions_failedPayment__EmG8l"}},21949:function(e){e.exports={root:"FixedSizeButton_root__Aqz_I",mainButton:"FixedSizeButton_mainButton__C66_M",hiddenButton:"FixedSizeButton_hiddenButton__GOse9"}},23616:function(e){e.exports={bulletListItemIcon:"PaymentPlanBulletList_bulletListItemIcon__ST3Cd",benefitsContainer:"PaymentPlanBulletList_benefitsContainer__RQoil",featureList:"PaymentPlanBulletList_featureList__0oNsQ",secondaryFeatureList:"PaymentPlanBulletList_secondaryFeatureList___uKFW",bulletListItemDescription:"PaymentPlanBulletList_bulletListItemDescription__SbHkH",isHighlighted:"PaymentPlanBulletList_isHighlighted__PP5uO"}},74762:function(e){e.exports={root:"PaymentPlanCard_root__7qFiE",isDarkMode:"PaymentPlanCard_isDarkMode__V2_fF",isCurrent:"PaymentPlanCard_isCurrent__4ZPm1",content:"PaymentPlanCard_content__O_pn4",badge:"PaymentPlanCard_badge__Bkkjl"}},40145:function(e){e.exports={container:"PaymentPlanInternal_container__1SRkb",title:"PaymentPlanInternal_title__0FlBm",link:"PaymentPlanInternal_link__2o_Hp",buttonContainer:"PaymentPlanInternal_buttonContainer__RKagk",priceTagContainer:"PaymentPlanInternal_priceTagContainer__MLhuG"}},99944:function(e){e.exports={tooltipRoot:"PaymentPlanLimitBar_tooltipRoot__lqWwm",progressBar:"PaymentPlanLimitBar_progressBar__0NzZS"}},5406:function(e){e.exports={priceTag:"PriceTag_priceTag__NF6R0",priceTagNumber:"PriceTag_priceTagNumber__E05_S",priceTagText:"PriceTag_priceTagText__A7HwZ",smallSemiBold:"PriceTag_smallSemiBold__vz9yQ"}},1607:function(e){e.exports={modalRoot:"SettingsModal_modalRoot__TA9Un",container:"SettingsModal_container__a5xNF",paneContainer:"SettingsModal_paneContainer__1JUaW",pane:"SettingsModal_pane__g_e7G",titleSlot:"SettingsModal_titleSlot___KmbJ"}},95153:function(e){e.exports={dragArea:"ImageUpload_dragArea__TETOc",title:"ImageUpload_title__miq_z",browseBtn:"ImageUpload_browseBtn__LRI60",description:"ImageUpload_description__JuDB5",notes:"ImageUpload_notes__JF_av",highlightOutline:"ImageUpload_highlightOutline__FHsQT"}},1551:function(e){e.exports={sideBarRoot:"SettingsModalSidebar_sideBarRoot__lFOQC",sideBarHeader:"SettingsModalSidebar_sideBarHeader__x40s6",svgAutoHeight:"SettingsModalSidebar_svgAutoHeight__sUh_S"}},79658:function(e){e.exports={root:"ApiTokenRow_root__aTVBG",label:"ApiTokenRow_label__jVbzo",token:"ApiTokenRow_token__Cg7Iq",inputField:"ApiTokenRow_inputField___RaeC",copyButton:"ApiTokenRow_copyButton__h3Gtp"}},88219:function(e){e.exports={subtitle:"ApiTokensPane_subtitle__hpjR6",tokensContainer:"ApiTokensPane_tokensContainer__I4BhS",emptyTokenContainer:"ApiTokensPane_emptyTokenContainer__oC_9d",label:"ApiTokensPane_label__uRQt2",inputField:"ApiTokensPane_inputField__wNPAC"}},72888:function(e){e.exports={subTitle:"AppearancePane_subTitle__bVZag",keyboardShortcuts:"AppearancePane_keyboardShortcuts__wczc_",radioCardsWrapper:"AppearancePane_radioCardsWrapper__CjNzx",radioCard:"AppearancePane_radioCard__tg8Yo",checked:"AppearancePane_checked__Iof_V",dark:"AppearancePane_dark__6ZvKW",labelWrapper:"AppearancePane_labelWrapper__2CnaT",labelTitle:"AppearancePane_labelTitle__fh2qL",labelDescription:"AppearancePane_labelDescription__iXSKR",imageWrapper:"AppearancePane_imageWrapper___5BWV",image:"AppearancePane_image__Kr68j",hidden:"AppearancePane_hidden__ii1by"}},31783:function(e){e.exports={icon:"CustomIcon_icon__vJvEE",iconImg:"CustomIcon_iconImg__yoj7A",hidden:"CustomIcon_hidden__eCTic",iconImgSkeleton:"CustomIcon_iconImgSkeleton__OOL45",iconInfo:"CustomIcon_iconInfo__MQmfx",skeleton:"CustomIcon_skeleton__gnIoa",iconLabel:"CustomIcon_iconLabel__zTEq4",iconName:"CustomIcon_iconName__Jtq6c",iconAuthor:"CustomIcon_iconAuthor__Hish0",iconDropdown:"CustomIcon_iconDropdown__F5wZs",deleteOption:"CustomIcon_deleteOption__wrYE9",fileInput:"CustomIcon_fileInput__dFPPC"}},39418:function(e){e.exports={wrapper:"CustomIconsPane_wrapper__vbUjR",noMargin:"CustomIconsPane_noMargin__fwI7T"}},19013:function(e){e.exports={wrapper:"IconsList_wrapper__YBTXn",sidebar:"IconsList_sidebar__O8FTk",list:"IconsList_list__iFXbV",description:"IconsList_description__ziurX",notes:"IconsList_notes__8ICE4",noIcons:"IconsList_noIcons__3zQNk",search:"IconsList_search__1C_e_",searchInput:"IconsList_searchInput__07YUc",searchIcon:"IconsList_searchIcon__oiY2h",searchHotkey:"IconsList_searchHotkey__iLUqo",listContainer:"IconsList_listContainer__BtEFL",limitIndicator:"IconsList_limitIndicator__3Nhc7",spinnerContainer:"IconsList_spinnerContainer__4K_Bb"}},91625:function(e){e.exports={upgradePlanPane:"UpgradePane_upgradePlanPane__nkmGn",description:"UpgradePane_description__Lsi6U"}},67857:function(e){e.exports={organizationHeaderRoot:"GitHubOrganizationHeader_organizationHeaderRoot___7toP",organizationLogo:"GitHubOrganizationHeader_organizationLogo__QEbTz",organzationInfo:"GitHubOrganizationHeader_organzationInfo__m49R9",organizationName:"GitHubOrganizationHeader_organizationName__t0XXm",organizationLink:"GitHubOrganizationHeader_organizationLink__rF560",removeOrganizationButton:"GitHubOrganizationHeader_removeOrganizationButton__9gtJd",organizationSubtitle:"GitHubOrganizationHeader_organizationSubtitle__OIeCD"}},75217:function(e){e.exports={listWrapper:"GitHubRepositoryList_listWrapper__TRMfg",repositoryListButtons:"GitHubRepositoryList_repositoryListButtons__WDA0m",repositoryListWrapper:"GitHubRepositoryList_repositoryListWrapper__kt_bt",repositoryList:"GitHubRepositoryList_repositoryList___bbcG",repositoryListItem:"GitHubRepositoryList_repositoryListItem__E3c8p",repositoryLink:"GitHubRepositoryList_repositoryLink__l9Yqg",searchBar:"GitHubRepositoryList_searchBar__u4661",inactive:"GitHubRepositoryList_inactive__GA3mC",note:"GitHubRepositoryList_note__GxZaI",suspension:"GitHubRepositoryList_suspension__eST7J",link:"GitHubRepositoryList_link__6oiEG"}},27405:function(e){e.exports={root:"GitHubSettingsPane_root__9IA9h",organizationWrapper:"GitHubSettingsPane_organizationWrapper__zXY3J",buttonIcon:"GitHubSettingsPane_buttonIcon__L_ZME",divider:"GitHubSettingsPane_divider__qz1aG"}},60411:function(e){e.exports={wrapper:"ImageToDiagramPane_wrapper__RVZiP",subtitle:"ImageToDiagramPane_subtitle__QIOfa"}},34577:function(e){e.exports={form:"PasswordForm_form__kS1wj",row:"PasswordForm_row__f5sfb",label:"PasswordForm_label__SQDtC",readonlyValue:"PasswordForm_readonlyValue__xEr9y",link:"PasswordForm_link__EL60x",input:"PasswordForm_input__F08af",buttonGroup:"PasswordForm_buttonGroup__HRESL",submitButton:"PasswordForm_submitButton__Q5Yr1"}},99975:function(e){e.exports={row:"PersonalInformationForm_row__VoZFs",label:"PersonalInformationForm_label__TV_EG",input:"PersonalInformationForm_input__KszCg",providerEmail:"PersonalInformationForm_providerEmail__SLpn_",readonlyValue:"PersonalInformationForm_readonlyValue__GuOFB",changeButton:"PersonalInformationForm_changeButton__vqaGJ",buttonGroup:"PersonalInformationForm_buttonGroup__YAjd3"}},91852:function(e){e.exports={root:"ProfilePane_root__HLIrY",profileInfoSide:"ProfilePane_profileInfoSide__e1pFb",profilePictureSide:"ProfilePane_profilePictureSide__EaxKe",gettingStartedRow:"ProfilePane_gettingStartedRow__Q7PAr",label:"ProfilePane_label__gTXru",separator:"ProfilePane_separator__dbam3",gettingStartedDescription:"ProfilePane_gettingStartedDescription__i80cf"}},65227:function(e){e.exports={avatar:"ProfilePicture_avatar___yI2v",uploadButton:"ProfilePicture_uploadButton__dfDa2",selected:"ProfilePicture_selected__EQoYo"}},53017:function(e){e.exports={root:"SettingsSection_root__6Ytpo",title:"SettingsSection_title__ZYuJg",settingRows:"SettingsSection_settingRows__Xcpum",settingRow:"SettingsSection_settingRow__y5hWK",settingTitleContainer:"SettingsSection_settingTitleContainer__SC8hY",settingTitle:"SettingsSection_settingTitle__hzErl",description:"SettingsSection_description__cVhYl",domain:"SettingsSection_domain__qLfI_",inviteLinkContainer:"SettingsSection_inviteLinkContainer__leGO4",link:"SettingsSection_link__CowVE",copyButton:"SettingsSection_copyButton__Q9egU",linkLoading:"SettingsSection_linkLoading___9mlB"}},27401:function(e){e.exports={container:"TeamMembersPane_container__U6p4A",centered:"TeamMembersPane_centered__pQrLf",preamble:"TeamMembersPane_preamble__JbEJk",body:"TeamMembersPane_body__Ah161",leftHalf:"TeamMembersPane_leftHalf__L1p1E",rightHalf:"TeamMembersPane_rightHalf__fC_FM",settingsSubtext:"TeamMembersPane_settingsSubtext__pkG_c",inviteInputContainer:"TeamMembersPane_inviteInputContainer__nPVSF",membersListContainer:"TeamMembersPane_membersListContainer__AD1gK",userList:"TeamMembersPane_userList__ZVplh",userRow:"TeamMembersPane_userRow__qVAOz",accessBadge:"TeamMembersPane_accessBadge__MM_gv",manageLink:"TeamMembersPane_manageLink__fsYwJ"}},76897:function(e){e.exports={teamRow:"TeamSettingsPane_teamRow__kFk_2",subHeader:"TeamSettingsPane_subHeader__fMl27",teamRowName:"TeamSettingsPane_teamRowName__8CARl",teamRowField:"TeamSettingsPane_teamRowField__eOKEe",teamRowInput:"TeamSettingsPane_teamRowInput___pr2c",teamRowDropdown:"TeamSettingsPane_teamRowDropdown__R7bQj",teamRowBadge:"TeamSettingsPane_teamRowBadge__pFLfs",description:"TeamSettingsPane_description__enJEX",dangerZone:"TeamSettingsPane_dangerZone__KAsBR",dangerTitle:"TeamSettingsPane_dangerTitle__DWCNx",dangerMessage:"TeamSettingsPane_dangerMessage__E6Tpu",deletionWarning:"TeamSettingsPane_deletionWarning__6HFaj"}},11406:function(e){e.exports={form:"ssoForm_form__gZjRJ",table:"ssoForm_table__1oXGF",infoText:"ssoForm_infoText__MumJm"}},54242:function(e){e.exports={usagePaneRoot:"UsagePane_usagePaneRoot__SG02P",usageItem:"UsagePane_usageItem__NpkYi",usageItemLimitBar:"UsagePane_usageItemLimitBar__aR9HQ",bar:"UsagePane_bar__CRrIS",usageItemPeriod:"UsagePane_usageItemPeriod__HP7zz",usageItemDescription:"UsagePane_usageItemDescription___T6MO"}},94127:function(e){e.exports={root:"TemplatesModal_root__vD81W"}},73705:function(e){e.exports={closeButton:"AllTemplatesScreen_closeButton__jrQSo",titleWrapper:"AllTemplatesScreen_titleWrapper__3uOPw",title:"AllTemplatesScreen_title__Pn8WU",titleTools:"AllTemplatesScreen_titleTools__YZccQ",searchBar:"AllTemplatesScreen_searchBar__2U2lh",contentWrapper:"AllTemplatesScreen_contentWrapper__OnNQL",templateCard:"AllTemplatesScreen_templateCard__rS9mx"}},34823:function(e){e.exports={root:"TemplatePreviewScreen_root__4B2c5",headerWrapper:"TemplatePreviewScreen_headerWrapper__SUx4O",navigationWrapper:"TemplatePreviewScreen_navigationWrapper__ImmE8",previousIcon:"TemplatePreviewScreen_previousIcon__lzrVq",metadataWrapper:"TemplatePreviewScreen_metadataWrapper__7Mk5q",controlsWrapper:"TemplatePreviewScreen_controlsWrapper__iIVuK",previewWrapper:"TemplatePreviewScreen_previewWrapper__GcSGY",previewImage:"TemplatePreviewScreen_previewImage__HZlxx"}},68870:function(e){e.exports={skeleton:"Avatar_skeleton__d_c9U",avatar:"Avatar_avatar___nyMi",fallback:"Avatar_fallback__5_gH8",hasImage:"Avatar_hasImage__xMLHW",isTransparent:"Avatar_isTransparent__WHnAE"}},11163:function(e){e.exports={badge:"Badge_badge__Bm5vD",opacity:"Badge_opacity__N5rb2",inverted:"Badge_inverted__kaCFX",primary:"Badge_primary___7lc_",secondary:"Badge_secondary__TtmIs",success:"Badge_success__uw_NO"}},36544:function(e){e.exports={breadCrumbsRoot:"BreadCrumb_breadCrumbsRoot__nhFj_",breadCrumbRoot:"BreadCrumb_breadCrumbRoot__sSAG_",breadCrumb:"BreadCrumb_breadCrumb__1BBNv",disabled:"BreadCrumb_disabled__zee0L",clickable:"BreadCrumb_clickable__SctW1"}},77322:function(e){e.exports={button:"Button_button__fNS_E",leftIcon:"Button_leftIcon__JKaKw",iconOnly:"Button_iconOnly__qT4xR",tooltipWrapper:"Button_tooltipWrapper__QMAeG",spinnerWrapper:"Button_spinnerWrapper__JB4Wv","variant--reversed":"Button_variant--reversed__uSNSK","variant--reversed-danger":"Button_variant--reversed-danger__4tAm_","variant--outline":"Button_variant--outline__mLyuZ","variant--outline-regular":"Button_variant--outline-regular__D2RCV","x-large":"Button_x-large__JIN_Y",large:"Button_large__DUVaK",small:"Button_small__rvXZZ","x-small":"Button_x-small__Zky_7",tiny:"Button_tiny__cbC3L",isLoading:"Button_isLoading__lufw5",regular:"Button_regular__eMnxK",selected:"Button_selected__G2hIk","outline-regular":"Button_outline-regular__D_ei7","relief-grey":"Button_relief-grey__KNuvo",reversed:"Button_reversed__Yd8T5",transparent:"Button_transparent__FI2_6","transparent-success":"Button_transparent-success__A6Bm6","transparent-regular":"Button_transparent-regular__z0Cq_",danger:"Button_danger__AoS1X","reversed-danger":"Button_reversed-danger__nBmyV",outline:"Button_outline__uZAW4",subtle:"Button_subtle__7yXs3",focus:"Button_focus__oDt0l",dark:"Button_dark__NCyth",light:"Button_light__p9Dmo"}},74025:function(e){e.exports={buttonGroup:"ButtonGroup_buttonGroup__JsPHv",autoWidth:"ButtonGroup_autoWidth__upITY"}},65421:function(e){e.exports={confirmationModal:"ConfirmationModal_confirmationModal___lZAR",description:"ConfirmationModal_description__JtwEX",actions:"ConfirmationModal_actions__nJb6_",actionBtn:"ConfirmationModal_actionBtn__b_ECH"}},8350:function(e){e.exports={uploadBtn:"UploadButton_uploadBtn__qLJSR",fileInput:"UploadButton_fileInput__9s71N"}},36689:function(e){e.exports={dots:"Dots_dots__104zg"}},35266:function(e){e.exports={toggle:"Dropdown_toggle__waP_7",isFocused:"Dropdown_isFocused__KCFaZ",isDisabled:"Dropdown_isDisabled__VJ6x7",isSubMenu:"Dropdown_isSubMenu__Qih7v","variant--grey":"Dropdown_variant--grey__mTIAZ",caretIcon:"Dropdown_caretIcon__Byzw_",rightElement:"Dropdown_rightElement__qb3cl","variant--lightGrey":"Dropdown_variant--lightGrey__6Hc_X","variant--lightGreyContrast":"Dropdown_variant--lightGreyContrast__po3l6","variant--transparent":"Dropdown_variant--transparent__KkfGu","variant--input":"Dropdown_variant--input__XlPW7",popupToggle:"Dropdown_popupToggle__JbX6o",content:"Dropdown_content__0oQUo",hasCaret:"Dropdown_hasCaret__i2Jsx",icon:"Dropdown_icon__3dHle",isOpen:"Dropdown_isOpen__W5Mlk",title:"Dropdown_title__C64eP",popper:"Dropdown_popper__eyiza",divider:"Dropdown_divider__DvcJe","size--medium":"Dropdown_size--medium__dKrTh","size--large":"Dropdown_size--large__MZ0W0",transparent:"Dropdown_transparent__3AlZO",wrapper:"Dropdown_wrapper__cpBhb",list:"Dropdown_list__wqzXY","spacing--none":"Dropdown_spacing--none__FVP8z","spacing--small":"Dropdown_spacing--small__E5gSq","spacing--medium":"Dropdown_spacing--medium__Az_SC",searchNotFound:"Dropdown_searchNotFound__3BKdw",threeDotsDropdown:"Dropdown_threeDotsDropdown__y7str",threeDotsDropdownToggle:"Dropdown_threeDotsDropdownToggle__KxgPz",hint:"Dropdown_hint__7Zn5H",shortcut:"Dropdown_shortcut__WzlMY"}},85950:function(e){e.exports={emptyStateRoot:"EmptyState_emptyStateRoot__sGyRy",emptyStateContent:"EmptyState_emptyStateContent__p8jlG",primaryIcon:"EmptyState_primaryIcon__lBiCX",iconTray:"EmptyState_iconTray__JFcIH",textSection:"EmptyState_textSection__3Vhlt",bottom:"EmptyState_bottom__PLtMO",media:"EmptyState_media__tNP_f"}},28695:function(e){e.exports={infoBlock:"Info_infoBlock__nwhG3","variant--lightGrey":"Info_variant--lightGrey__2xxy8","variant--error":"Info_variant--error__RMDR_","variant--warning":"Info_variant--warning___c9xc","variant--primary":"Info_variant--primary__NGRnG"}},81625:function(e){e.exports={videoContainer:"Video_videoContainer__7W1xv",overlay:"Video_overlay__aBxkZ",player:"Video_player__f0YHx",button:"Video_button__5U5aI"}},71946:function(e){e.exports={inputLabel:"InputLabel_inputLabel__X_cPh",label:"InputLabel_label__efXfL",required:"InputLabel_required__4gcFS",field:"InputLabel_field__2O8kZ",explanation:"InputLabel_explanation__NsNKv",error:"InputLabel_error__Tflqu"}},28121:function(e){e.exports={hidden:"KnownPeopleAutocompleteDropdown_hidden__UMyrh",dropdownPopper:"KnownPeopleAutocompleteDropdown_dropdownPopper__6vxvS",popperListBox:"KnownPeopleAutocompleteDropdown_popperListBox__DQh18"}},75391:function(e){e.exports={knownPersonInfoMedium:"KnownPersonInfo_knownPersonInfoMedium__NpVEC",knownPersonInfoSmall:"KnownPersonInfo_knownPersonInfoSmall__9LsaN",knownPersonInfo:"KnownPersonInfo_knownPersonInfo__eUUNA",guest:"KnownPersonInfo_guest__HQztF",memberMedium:"KnownPersonInfo_memberMedium__Z_unh",memberSmall:"KnownPersonInfo_memberSmall__GMu8l",member:"KnownPersonInfo_member__uaOs7",avatarMedium:"KnownPersonInfo_avatarMedium__d_KHu",avatarSmall:"KnownPersonInfo_avatarSmall__o8uIT",labelMedium:"KnownPersonInfo_labelMedium__noin7",labelSmall:"KnownPersonInfo_labelSmall__gvOC6",label:"KnownPersonInfo_label__DPEQc",email:"KnownPersonInfo_email__21hlz",isActive:"KnownPersonInfo_isActive__oarJs"}},47837:function(e){e.exports={link:"ExternalLink_link__tkNBC"}},36421:function(e){e.exports={link:"PrimaryLink_link__1EuA8"}},5021:function(e){e.exports={listBox:"ListBox_listBox__R1cIs"}},22298:function(e){e.exports={root:"ListEntry_root__LgMus",disableHover:"ListEntry_disableHover__9x1s3",isActive:"ListEntry_isActive__Y62iI",content:"ListEntry_content__ShHpq",backIcon:"ListEntry_backIcon__YKFq1",icon:"ListEntry_icon__mbIH5",forwardIcon:"ListEntry_forwardIcon__oPabT",title:"ListEntry_title__6OpPl",mainTitle:"ListEntry_mainTitle__wkT8S",fitWidth:"ListEntry_fitWidth__oIZj5",secondaryTitle:"ListEntry_secondaryTitle__7X04O",subTitle:"ListEntry_subTitle__VwQBg"}},7971:function(e){e.exports={skeleton:"MemberAvatar_skeleton___Nnzn",avatar:"MemberAvatar_avatar__Q48lu"}},52305:function(e){e.exports={modal:"Modal_modal__1M1kH",fadeIn:"Modal_fadeIn__1NgSR",isDarkMode:"Modal_isDarkMode__VrR_T",dialog:"Modal_dialog__XFB9y",addTopPadding:"Modal_addTopPadding__g4idB",large:"Modal_large__EM_E1",xl:"Modal_xl__iDkch",hasBottomGradient:"Modal_hasBottomGradient__EWfij",closeBtn:"Modal_closeBtn__zXnGe",closeBtnCross:"Modal_closeBtnCross__QDkyj",closeBtnText:"Modal_closeBtnText__NVWq3",header:"Modal_header__UA9ac",content:"Modal_content__CFXie",titleSeparator:"Modal_titleSeparator__08CBv",body:"Modal_body__fBVW_",bg:"Modal_bg__2jwqw",left:"Modal_left__JFTtd",right:"Modal_right__fjpib",bottomGradient:"Modal_bottomGradient__vBvtj"}},16593:function(e){e.exports={popper:"Popper_popper__EEixQ",arrow:"Popper_arrow__gcKtu",fade:"Popper_fade__KFvfV"}},59211:function(e){e.exports={option:"Option_option__6NPoM",row:"Option_row__ezIZ0",paddingLarge:"Option_paddingLarge__nHdJT",isLoading:"Option_isLoading__d3jnY",disabled:"Option_disabled__V1duV",selected:"Option_selected__w8jci",checkbox:"Option_checkbox__sz6P4","selected-primary":"Option_selected-primary__1DHU3","selected-grey":"Option_selected-grey__sf6cw",content:"Option_content__MtPVs",icon:"Option_icon___Fyzv",right:"Option_right__4w8dx",explanation:"Option_explanation__4Jrqf",marginLeft:"Option_marginLeft__kQX2m"}},87042:function(e){e.exports={toggler:"Popup_toggler__V5BaU",disabled:"Popup_disabled__9QS6_",menu:"Popup_menu__uNwra",isSubmenu:"Popup_isSubmenu__k8VV5"}},6956:function(e){e.exports={progressBar:"ProgressBar_progressBar__QWO3D",progress:"ProgressBar_progress___FpDF",withColor:"ProgressBar_withColor__RZ07O"}},96296:function(e){e.exports={searchContainer:"SearchInput_searchContainer__Md0dD",shortcut:"SearchInput_shortcut__4FID7"}},43664:function(e){e.exports={spinner:"Spinner_spinner__l0kTa",inline:"Spinner_inline__DxoPR",fancySpinner:"Spinner_fancySpinner__vsDoa"}},56706:function(e){e.exports={switch:"Switch_switch__I7mM2",disabled:"Switch_disabled__LgSvu",presentation:"Switch_presentation___PJZr",slider:"Switch_slider__dCMx9",sliderDot:"Switch_sliderDot__OaaCD",label:"Switch_label__ypNsH",labelLeft:"Switch_labelLeft__fsSGS",input:"Switch_input__UaOW_"}},9717:function(e){e.exports={label:"TextArea_label__ABrbp",textarea:"TextArea_textarea__O24bQ",disabled:"TextArea_disabled__g_NOx",fadeRightSideOfInput:"TextArea_fadeRightSideOfInput__2q7gy"}},73149:function(e){e.exports={button:"TextInput_button__y0jnx",errorIcon:"TextInput_errorIcon___6_lM",textInput:"TextInput_textInput__XA9JQ",small:"TextInput_small__oKZKC",medium:"TextInput_medium__MAwSm",large:"TextInput_large__7lIg4",hasButton:"TextInput_hasButton__6Dgu2",fadeRightSideOfInput:"TextInput_fadeRightSideOfInput__6SKGe",disabled:"TextInput_disabled__4_mWW",readOnly:"TextInput_readOnly__aF8MB",lockIcon:"TextInput_lockIcon__xDrPR"}},26772:function(e){e.exports={tooltip:"tooltip_tooltip__H_xAF",mainText:"tooltip_mainText__PcaGo",shortcut:"tooltip_shortcut__vrw6N",subText:"tooltip_subText__zDmVo"}},95343:function(e){e.exports={information:"Typography_information__v1Vpp",muted:"Typography_muted__m6zU9",error:"Typography_error__ChBjL",small:"Typography_small__Rmt27",semiBold:"Typography_semiBold__J9oKI",bold:"Typography_bold__YkqAg",medium:"Typography_medium__aRf_F",explanation:"Typography_explanation__HyACK",h3:"Typography_h3__xtqxm",h4:"Typography_h4__z_NvV",h5:"Typography_h5__DxDFI"}},146:function(e){e.exports={user:"UserInfo_user__3qRBh",content:"UserInfo_content__THSwn"}},16216:function(e){e.exports={shortcut:"ShortcutKeys_shortcut__YUJIb",inline:"ShortcutKeys_inline__xqzMC",shortcutKey:"ShortcutKeys_shortcutKey__DCXaM",text:"ShortcutKeys_text__56IdZ",pill:"ShortcutKeys_pill__Z5okF",darkBackground:"ShortcutKeys_darkBackground__vRIgg"}},83030:function(e){e.exports={sideMenuContainer:"Slate_sideMenuContainer__AJAWz",sideMenuChild:"Slate_sideMenuChild__rgt0A","comment-button":"Slate_comment-button__KhYUz","ai-outline-button":"Slate_ai-outline-button__0oxCm"}},31858:function(){},48538:function(){},76498:function(){},84912:function(){},17459:function(){},79827:function(){},97653:function(){},83167:function(){},25237:function(e,t,n){e.exports=n(95805)},97729:function(e,t,n){e.exports=n(75913)},39097:function(e,t,n){e.exports=n(90162)},5632:function(e,t,n){e.exports=n(93642)},50962:function(e,t,n){"use strict";n.d(t,{LI:function(){return u},_o:function(){return a},kL:function(){return s}});var r=n(2784),o=n(17407);function a(){return new o.x}function s(e){var t=(0,r.useRef)(!0),n=(0,r.useRef)(null);return t.current&&(t.current=!1,n.current=e()),n}var u="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect},34394:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var r=n(39739),o=n(68594),a=n(59126),s=n(56130),u=n(2784),c=n(50962);function l(e,t){return function(e,t,n){if(t&&(t instanceof o.y||(0,a.m)(t.lift)&&(0,a.m)(t.subscribe))){var r=(0,u.useState)(function(){return t instanceof s.X||void 0!==t.value?t.value:"function"==typeof n?n():n}),l=r[0],A=r[1];return e(t,A),(0,u.useDebugValue)(l),l}var d=(0,u.useState)(n),f=d[0],A=d[1],h=(0,c.kL)(c._o),p=(0,c.kL)(function(){return t(h.current,f)}).current,g=(0,u.useRef)(function(e){return h.current.next(e)}).current;return e(p,A),(0,u.useDebugValue)(f),[f,g]}(r.m,e,t)}},20810:function(e,t,n){"use strict";n.d(t,{m:function(){return s}});var r=n(56130),o=n(50962),a=n(2784);function s(e,t){return function(e,t,n){if(!n)return(0,o.kL)(t).current;var s=(0,o.kL)(function(){return new r.X(n)}),u=(0,o.kL)(function(){return t(s.current)}),c=(0,a.useRef)(!0);return e(function(){if(c.current){c.current=!1;return}s.current.next(n)},n),u.current}(a.useEffect,e,t)}},39739:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(2784),o=n(50962);function a(e,t,n,a){var s,u,c,l;return s=r.useEffect,u=[e,t,n,a],c=(0,r.useRef)(u),l=(0,r.useRef)(),(0,o.LI)(function(){c.current=u}),s(function(){var e=c.current[0],t=e.subscribe({next:function(t){if(e===c.current[0]){var n,r=(null===(n=c.current[1])||void 0===n?void 0:n.next)||c.current[1];if(r)return r(t)}},error:function(t){if(e===c.current[0]){var n,r=(null===(n=c.current[1])||void 0===n?void 0:n.error)||c.current[2];if(r)return r(t);console.error(t)}},complete:function(){if(e===c.current[0]){var t,n=(null===(t=c.current[1])||void 0===t?void 0:t.complete)||c.current[3];if(n)return n()}}});return l.current=t,function(){t.unsubscribe()}},[u[0]]),l}},34406:function(e){var t,n,r,o=e.exports={};function a(){throw Error("setTimeout has not been defined")}function s(){throw Error("clearTimeout has not been defined")}function u(e){if(t===setTimeout)return setTimeout(e,0);if((t===a||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:a}catch(e){t=a}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var c=[],l=!1,A=-1;function d(){l&&r&&(l=!1,r.length?c=r.concat(c):A=-1,c.length&&f())}function f(){if(!l){var e=u(d);l=!0;for(var t=c.length;t;){for(r=c,c=[];++A<t;)r&&r[A].run();A=-1,t=c.length}r=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||u(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}},97375:function(e,t){"use strict";var n,r=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function a(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){var o,s,u=[];for(s in"string"!=typeof(t=t||"")&&(t="?"),e)if(r.call(e,s)){if(!(o=e[s])&&(null===o||o===n||isNaN(o))&&(o=""),s=a(s),o=a(o),null===s||null===o)continue;u.push(s+"="+o)}return u.length?t+u.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var a=o(t[1]),s=o(t[2]);null===a||null===s||a in r||(r[a]=s)}return r}},65089:function(e,t,n){/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */let r;e.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:n.g):e=>(r||(r=Promise.resolve())).then(e).catch(e=>setTimeout(()=>{throw e},0))},11929:function(e,t,n){"use strict";n.d(t,{UK:function(){return h}});var r=n(2784);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}/*#__PURE__*/"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),/*#__PURE__*/"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator"))),"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect;var a={status:"not-requested",loading:!1,result:void 0,error:void 0},s={status:"loading",loading:!0,result:void 0,error:void 0},u=function(){},c={initialState:function(e){return e&&e.executeOnMount?s:a},executeOnMount:!0,executeOnUpdate:!0,setLoading:function(e){return s},setResult:function(e,t){return{status:"success",loading:!1,result:e,error:void 0}},setError:function(e,t){return{status:"error",loading:!1,result:void 0,error:e}},onSuccess:u,onError:u},l=function(e){var t=(0,r.useState)(function(){return e.initialState(e)}),n=t[0],a=t[1],s=(0,r.useCallback)(function(){return a(e.initialState(e))},[a,e]),u=(0,r.useCallback)(function(){return a(e.setLoading(n))},[n,a]),c=(0,r.useCallback)(function(t){return a(e.setResult(t,n))},[n,a]),l=(0,r.useCallback)(function(t){return a(e.setError(t,n))},[n,a]),A=(0,r.useCallback)(function(e){return a(o({},n,{},e))},[n,a]);return{value:n,set:a,merge:A,reset:s,setLoading:u,setResult:c,setError:l}},A=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),function(){return e.current}},d=function(){var e=(0,r.useRef)(null);return{set:function(t){return e.current=t},get:function(){return e.current},is:function(t){return e.current===t}}},f=function(e,t,n){var a=o({},c,{},n),s=(0,r.useState)(null),u=s[0],f=s[1],h=l(a),p=A(),g=d(),v=function(e){return p()&&g.is(e)},m=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=e.apply(void 0,n);return(f(n),o instanceof Promise)?(g.set(o),h.setLoading(),o.then(function(e){v(o)&&h.setResult(e),a.onSuccess(e,{isCurrent:function(){return g.is(o)}})},function(e){v(o)&&h.setError(e),a.onError(e,{isCurrent:function(){return g.is(o)}})}),o):(h.setResult(o),Promise.resolve(o))},y=!p();return(0,r.useEffect)(function(){y?a.executeOnMount&&m.apply(void 0,t):a.executeOnUpdate&&m.apply(void 0,t)},t),o({},h.value,{set:h.set,merge:h.merge,reset:h.reset,execute:m,currentPromise:g.get(),currentParams:u})},h=function(e,t){return f(e,[],o({},t,{executeOnMount:!1,executeOnUpdate:!1}))}},78435:function(e){var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,o="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,a){try{return function e(a,s){if(a===s)return!0;if(a&&s&&"object"==typeof a&&"object"==typeof s){var u,c,l,A;if(a.constructor!==s.constructor)return!1;if(Array.isArray(a)){if((u=a.length)!=s.length)return!1;for(c=u;0!=c--;)if(!e(a[c],s[c]))return!1;return!0}if(n&&a instanceof Map&&s instanceof Map){if(a.size!==s.size)return!1;for(A=a.entries();!(c=A.next()).done;)if(!s.has(c.value[0]))return!1;for(A=a.entries();!(c=A.next()).done;)if(!e(c.value[1],s.get(c.value[0])))return!1;return!0}if(r&&a instanceof Set&&s instanceof Set){if(a.size!==s.size)return!1;for(A=a.entries();!(c=A.next()).done;)if(!s.has(c.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(s)){if((u=a.length)!=s.length)return!1;for(c=u;0!=c--;)if(a[c]!==s[c])return!1;return!0}if(a.constructor===RegExp)return a.source===s.source&&a.flags===s.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===s.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===s.toString();if((u=(l=Object.keys(a)).length)!==Object.keys(s).length)return!1;for(c=u;0!=c--;)if(!Object.prototype.hasOwnProperty.call(s,l[c]))return!1;if(t&&a instanceof Element)return!1;for(c=u;0!=c--;)if(("_owner"!==l[c]&&"__v"!==l[c]&&"__o"!==l[c]||!a.$$typeof)&&!e(a[l[c]],s[l[c]]))return!1;return!0}return a!=a&&s!=s}(e,a)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},66866:function(e,t){"use strict";/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=60103,r=60106,o=60107,a=60108,s=60114,u=60109,c=60110,l=60112,A=60113,d=60120,f=60115,h=60116;if("function"==typeof Symbol&&Symbol.for){var p=Symbol.for;n=p("react.element"),p("react.portal"),p("react.fragment"),p("react.strict_mode"),p("react.profiler"),p("react.provider"),p("react.context"),p("react.forward_ref"),p("react.suspense"),p("react.suspense_list"),p("react.memo"),p("react.lazy"),p("react.block"),p("react.server.block"),p("react.fundamental"),p("react.debug_trace_mode"),p("react.legacy_hidden")}t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}},48570:function(e,t,n){"use strict";e.exports=n(66866)},51992:function(e,t,n){"use strict";Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"yB",{enumerable:!0,get:function(){return o.default}});var r=a(n(68334)),o=a(n(98432));function a(e){return e&&e.__esModule?e:{default:e}}},98432:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(n(2784)),s=n(82887),u=n(68334);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var f=/*#__PURE__*/function(e){var t;function n(){var e;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),e=A(n).apply(this,arguments),e&&("object"===l(e)||"function"==typeof e)?e:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)}return!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(n,e),t=[{key:"render",value:function(){var e=this.props,t=e.color,n=e.highlightColor,r=e.children,o=/*#__PURE__*/(0,s.css)(".react-loading-skeleton{background-color:",t,";background-image:linear-gradient( 90deg,",t,",",n,",",t," );};label:SkeletonTheme;");return(0,s.jsx)("div",{css:o},r)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(n.prototype,t),n}(a.Component);t.default=f,r="defaultProps",o={color:u.defaultBaseColor,highlightColor:u.defaultHighlightColor},r in f?Object.defineProperty(f,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):f[r]=o},68334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=d,t.skeletonStyles=t.skeletonKeyframes=t.defaultHighlightColor=t.defaultBaseColor=void 0,(r=n(2784))&&r.__esModule;var r,o=n(82887);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(){var e,t,n=(e=["\n  0% {\n    background-position: -200px 0;\n  }\n  ","\n  100% {\n    background-position: calc(200px + 100%) 0;\n  }\n"],t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}})));return s=function(){return n},n}var u="#eee";t.defaultBaseColor=u;var c="#f5f5f5";t.defaultHighlightColor=c;var l=function(e,t){return(0,o.keyframes)(s(),t>0?"".concat(Math.floor(1/(e+t)*e*100),"% {\n    background-position: calc(200px + 100%) 0;\n  }"):void 0)};t.skeletonKeyframes=l;var A=/*#__PURE__*/(0,o.css)("background-color:",u,";background-image:linear-gradient( 90deg,",u,",",c,",",u," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");function d(e){for(var t=e.count,n=e.duration,r=e.width,s=e.wrapper,u=e.height,c=e.circle,d=e.delay,f=e.style,h=e.className,p=[],g=0;g<t;g++){var v={};null!==r&&(v.width=r),null!==u&&(v.height=u),null!==r&&null!==u&&c&&(v.borderRadius="50%");var m="react-loading-skeleton";h&&(m+=" "+h),p.push((0,o.jsx)("span",{key:g,className:m,css:/*#__PURE__*/(0,o.css)(A," animation:",l(n,d)," ",n+d,"s ease-in-out infinite;label:Skeleton;"),style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(n,!0).forEach(function(t){var r;r=n[t],t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},f,{},v)},"‌"))}return(0,o.jsx)("span",null,s?p.map(function(e,t){return(0,o.jsx)(s,{key:t},e,"‌")}):p)}t.skeletonStyles=A,d.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}},89473:function(e,t,n){"use strict";var r=n(97209),o=n(2784),a=n(28316),s=n(80594),u=n(98357);function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=/*#__PURE__*/c(r),A=/*#__PURE__*/function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}(o),d=/*#__PURE__*/c(s),f=/*#__PURE__*/c(u),h=function(e,t){return(h=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},p=function(){return(p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},g=function(e,t,n,r){switch(t){case"debounce":return d.default(e,n,r);case"throttle":return f.default(e,n,r);default:return e}},v=function(e){return"function"==typeof e},m=function(){return"undefined"==typeof window},y=function(e){return e instanceof Element||e instanceof HTMLDocument},b=function(e,t,n,r){return function(o){var a=o.width,s=o.height;t(function(t){return(t.width!==a||t.height!==s)&&(t.width!==a||r)&&(t.height!==s||n)?(e&&v(e)&&e(a,s),{width:a,height:s}):t})}},w=(function(e){function t(t){var n=e.call(this,t)||this;n.cancelHandler=function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)},n.attachObserver=function(){var e=n.props,t=e.targetRef,r=e.observerOptions;if(!m()){t&&t.current&&(n.targetRef.current=t.current);var o=n.getElement();!o||n.observableElement&&n.observableElement===o||(n.observableElement=o,n.resizeObserver.observe(o,r))}},n.getElement=function(){var e=n.props,t=e.querySelector,r=e.targetDomEl;if(m())return null;if(t)return document.querySelector(t);if(r&&y(r))return r;if(n.targetRef&&y(n.targetRef.current))return n.targetRef.current;var o=a.findDOMNode(n);if(!o)return null;switch(n.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return o;default:return o.parentElement}},n.createResizeHandler=function(e){var t=n.props,r=t.handleWidth,o=void 0===r||r,a=t.handleHeight,s=void 0===a||a,u=t.onResize;if(o||s){var c=b(u,n.setState.bind(n),o,s);e.forEach(function(e){var t=e&&e.contentRect||{},r=t.width,o=t.height;n.skipOnMount||m()||c({width:r,height:o}),n.skipOnMount=!1})}},n.getRenderType=function(){var e=n.props,t=e.render,r=e.children;return v(t)?"renderProp":v(r)?"childFunction":o.isValidElement(r)?"child":Array.isArray(r)?"childArray":"parent"};var r=t.skipOnMount,s=t.refreshMode,u=t.refreshRate,c=t.refreshOptions;return n.state={width:void 0,height:void 0},n.skipOnMount=r,n.targetRef=o.createRef(),n.observableElement=null,m()||(n.resizeHandler=g(n.createResizeHandler,s,void 0===u?1e3:u,c),n.resizeObserver=new l.default(n.resizeHandler)),n}(function(e,t){function n(){this.constructor=e}h(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){m()||(this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var e,t=this.props,n=t.render,r=t.children,a=t.nodeType,s=this.state,u={width:s.width,height:s.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return n&&n(u);case"childFunction":return(e=r)(u);case"child":if((e=r).type&&"string"==typeof e.type){u.targetRef;var c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)0>t.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}(u,["targetRef"]);return o.cloneElement(e,c)}return o.cloneElement(e,u);case"childArray":return(e=r).map(function(e){return!!e&&o.cloneElement(e,u)});default:return A.createElement(void 0===a?"div":a,null)}}}(o.PureComponent),m()?o.useEffect:o.useLayoutEffect);t.NB=function(e){void 0===e&&(e={});var t=e.skipOnMount,n=e.refreshMode,r=e.refreshRate,a=void 0===r?1e3:r,s=e.refreshOptions,u=e.handleWidth,c=void 0===u||u,A=e.handleHeight,d=void 0===A||A,f=e.targetRef,h=e.observerOptions,v=e.onResize,y=o.useRef(void 0!==t&&t),_=o.useRef(null),E=null!=f?f:_,C=o.useRef(),B=o.useState({width:void 0,height:void 0}),I=B[0],x=B[1];return w(function(){if(!m()){var e=b(v,x,c,d);C.current=g(function(t){(c||d)&&t.forEach(function(t){var n=t&&t.contentRect||{},r=n.width,o=n.height;y.current||m()||e({width:r,height:o}),y.current=!1})},n,a,s);var t=new l.default(C.current);return E.current&&t.observe(E.current,h),function(){t.disconnect();var e=C.current;e&&e.cancel&&e.cancel()}}},[n,a,s,c,d,v,h,E.current]),p({ref:E},I)}},69904:function(e,t,n){"use strict";var r=n(2784);t.Z=function(e){(0,r.useEffect)(e,[])}},11837:function(e,t,n){"use strict";/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */n(4079);var r=n(2784),o=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var a=Symbol.for;o=a("react.element"),t.Fragment=a("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,A=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(A=t.ref),t)u.call(t,r)&&!c.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:A,props:a,_owner:s.current}}t.jsx=l,t.jsxs=l},52322:function(e,t,n){"use strict";e.exports=n(11837)},2732:function(e,t,n){"use strict";let r;n.d(t,{FV:function(){return id},Wh:function(){return ic},Zl:function(){return ih},_8:function(){return ig},cn:function(){return il},rb:function(){return ip},sJ:function(){return iA}});var o,a,s=n(2784),u=n(28316),c=function(e){return!!e&&"function"==typeof e.then},l=function(e,t){if(null!=e)return e;throw Error(null!=t?t:"Got unexpected null or undefined")};class A{}let d=new A,f={valueMaybe(){},valueOrThrow(){throw Error(`Loadable expected value, but in "${this.state}" state`)},errorMaybe(){},errorOrThrow(){throw Error(`Loadable expected error, but in "${this.state}" state`)},promiseMaybe(){},promiseOrThrow(){throw Error(`Loadable expected promise, but in "${this.state}" state`)},is(e){return e.state===this.state&&e.contents===this.contents},map(e){if("hasError"===this.state)return this;if("hasValue"===this.state)try{let t=e(this.contents);return c(t)?g(t.then(e=>({__value:e}))):h(t)}catch(t){return c(t)?g(t.next(()=>e(this.contents))):p(t)}if("loading"===this.state)return g(this.contents.then(t=>({__value:e(t.__value)})).catch(t=>{if(c(t))return t.then(()=>e(this.contents));throw t}));throw Error("Invalid Loadable state")}};function h(e){return Object.freeze({state:"hasValue",contents:e,...f,getValue(){return this.contents},toPromise(){return Promise.resolve(this.contents)},valueMaybe(){return this.contents},valueOrThrow(){return this.contents}})}function p(e){return Object.freeze({state:"hasError",contents:e,...f,getValue(){throw this.contents},toPromise(){return Promise.reject(this.contents)},errorMaybe(){return this.contents},errorOrThrow(){return this.contents}})}function g(e){return Object.freeze({state:"loading",contents:e,...f,getValue(){throw this.contents.then(({__value:e})=>e)},toPromise(){return this.contents.then(({__value:e})=>e)},promiseMaybe(){return this.contents.then(({__value:e})=>e)},promiseOrThrow(){return this.contents.then(({__value:e})=>e)}})}var v={loadableWithValue:h,loadableWithError:p,loadableWithPromise:g,loadableLoading:function(){return g(new Promise(()=>{}))},loadableAll:function(e){return e.every(e=>"hasValue"===e.state)?h(e.map(e=>e.contents)):e.some(e=>"hasError"===e.state)?p(l(e.find(e=>"hasError"===e.state),"Invalid loadable passed to loadableAll").contents):g(Promise.all(e.map(e=>e.contents)).then(e=>({__value:e})))},Canceled:A,CANCELED:d};let m=null!==(a=s.useMutableSource)&&void 0!==a?a:s.unstable_useMutableSource;var y={mutableSourceExists:function(){return m&&!("undefined"!=typeof window&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)},useMutableSource:m};let{mutableSourceExists:b}=y,w=new Map().set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function _(e){var t;return!!("recoil_early_rendering_2021"!==e||b())&&null!==(t=w.get(e))&&void 0!==t&&t}_.setPass=e=>{w.set(e,!0)},_.setFail=e=>{w.set(e,!1)};var E=function(e,t,{error:n}={}){return null},C={setByAddingToSet:function(e,t){let n=new Set(e);return n.add(t),n},setByDeletingFromSet:function(e,t){let n=new Set(e);return n.delete(t),n},mapBySettingInMap:function(e,t,n){let r=new Map(e);return r.set(t,n),r},mapByUpdatingInMap:function(e,t,n){let r=new Map(e);return r.set(t,n(r.get(t))),r},mapByDeletingFromMap:function(e,t){let n=new Map(e);return n.delete(t),n},mapByDeletingMultipleFromMap:function(e,t){let n=new Map(e);return t.forEach(e=>n.delete(e)),n}},B=function*(e,t){let n=0;for(let r of e)t(r,n++)&&(yield r)},I=function(e,t){return function*(){let n=0;for(let r of e)yield t(r,n++)}()},x=function(e,...t){};function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S{constructor(e){T(this,"key",void 0),this.key=e}}class k extends S{}class D extends S{}var N=/*#__PURE__*/Object.freeze({__proto__:null,AbstractRecoilValue:S,RecoilState:k,RecoilValueReadOnly:D,isRecoilValue:function(e){return e instanceof k||e instanceof D}});class O{}let F=new O,R=new Map,L=new Map;class M extends Error{}let P=new Map;function U(e){return P.get(e)}var j={nodes:R,recoilValues:L,registerNode:function(e){R.has(e.key)&&console.warn(`Duplicate atom key "${e.key}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`),R.set(e.key,e);let t=null==e.set?new N.RecoilValueReadOnly(e.key):new N.RecoilState(e.key);return L.set(e.key,t),t},getNode:function(e){let t=R.get(e);if(null==t)throw new M(`Missing definition for RecoilValue: "${e}""`);return t},getNodeMaybe:function(e){return R.get(e)},deleteNodeConfigIfPossible:function(e){var t,n;if(!_("recoil_memory_managament_2020"))return;let r=R.get(e);(null==r?void 0:null===(t=r.shouldDeleteConfigOnRelease)||void 0===t?void 0:t.call(r))&&(R.delete(e),null===(n=U(e))||void 0===n||n(),P.delete(e))},setConfigDeletionHandler:function(e,t){_("recoil_memory_managament_2020")&&(void 0===t?P.delete(e):P.set(e,t))},getConfigDeletionHandler:U,recoilValuesForKeys:function(e){return I(e,e=>l(L.get(e)))},NodeMissingError:M,DefaultValue:O,DEFAULT_VALUE:F,RecoilValueNotReady:class extends Error{constructor(e){super(`Tried to set the value of Recoil selector ${e} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}};class Z{}var Q={RetentionZone:Z,retentionZone:function(){return new Z}};let{setByAddingToSet:H}=C,{getNode:V,getNodeMaybe:K,recoilValuesForKeys:z}=j,{RetentionZone:G}=Q,W=Object.freeze(new Set);class q extends Error{}function Y(e,t,n,r){let o=e.getState();if(o.nodeCleanupFunctions.has(n))return;let a=V(n),s=function(e,t,n){if(!_("recoil_memory_managament_2020"))return()=>void 0;let{nodesRetainedByZone:r}=e.getState().retention;function o(e){let n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof G)o(n);else if(Array.isArray(n))for(let e of n)o(e);return()=>{if(!_("recoil_memory_managament_2020"))return;let r=e.getState().retention.nodesRetainedByZone;function o(e){let n=r.get(e);n&&n.delete(t),n&&0===n.size&&r.delete(e)}if(n instanceof G)o(n);else if(Array.isArray(n))for(let e of n)o(e)}}(e,n,a.retainedBy),u=a.init(e,t,r);o.nodeCleanupFunctions.set(n,()=>{u(),s()})}function $(e,t,n){return V(n).peek(e,t)}function X(e,t,n){let r=new Set,o=Array.from(n),a=e.getGraph(t.version);for(let e=o.pop();e;e=o.pop()){var s;for(let t of(r.add(e),null!==(s=a.nodeToNodeSubscriptions.get(e))&&void 0!==s?s:W))r.has(t)||o.push(t)}return r}var J={getNodeLoadable:function(e,t,n){return Y(e,t,n,"get"),V(n).get(e,t)},peekNodeLoadable:$,setNodeValue:function(e,t,n,r){let o=V(n);if(null==o.set)throw new q(`Attempt to set read-only RecoilValue: ${n}`);let a=o.set;return Y(e,t,n,"set"),a(e,t,r)},cleanUpNode:function(e,t){var n;let r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,n){var r;let o=K(t);return null==o||null===(r=o.invalidate)||void 0===r||r.call(o,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:H(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,n){var r,o,a;let s=e.getState(),u=e.getGraph(t.version),c=s.knownAtoms.has(n)?"atom":s.knownSelectors.has(n)?"selector":void 0,l=B(X(e,t,new Set([n])),e=>e!==n);return{loadable:$(e,t,n),isActive:s.knownAtoms.has(n)||s.knownSelectors.has(n),isSet:"selector"!==c&&t.atomValues.has(n),isModified:t.dirtyAtoms.has(n),type:c,deps:z(null!==(r=u.nodeDeps.get(n))&&void 0!==r?r:[]),subscribers:{nodes:z(l),components:I(null!==(o=null===(a=s.nodeToComponentSubscriptions.get(n))||void 0===a?void 0:a.values())&&void 0!==o?o:[],([e])=>({name:e}))}}},getDownstreamNodes:X,initializeNodeIfNewToStore:Y};let{CANCELED:ee}=v,{getDownstreamNodes:et,getNodeLoadable:en,setNodeValue:er}=J,{getNodeMaybe:ei}=j,{DefaultValue:eo,RecoilValueNotReady:ea}=j,{AbstractRecoilValue:es,RecoilState:eu,RecoilValueReadOnly:ec,isRecoilValue:el}=N;function eA(e,t,n){"hasValue"===n.state&&n.contents instanceof eo?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function ed(e,t){e.replaceState(n=>{let r=ep(n);for(let n of t)!function(e,t,n){if("set"===n.type){let{recoilValue:r,valueOrUpdater:o}=n,a=function(e,t,{key:n},r){if("function"!=typeof r)return r;{let o=en(e,t,n);if("loading"===o.state)throw new ea(n);if("hasError"===o.state)throw o.contents;return r(o.contents)}}(e,t,r,o);for(let[n,o]of er(e,t,r.key,a).entries())eA(t,n,o)}else if("setLoadable"===n.type){let{recoilValue:{key:e},loadable:r}=n;eA(t,e,r)}else if("markModified"===n.type){let{recoilValue:{key:e}}=n;t.dirtyAtoms.add(e)}else if("setUnvalidated"===n.type){var r;let{recoilValue:{key:e},unvalidatedValue:o}=n,a=ei(e);null==a||null===(r=a.invalidate)||void 0===r||r.call(a,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,o),t.dirtyAtoms.add(e)}else E(`Unknown action ${n.type}`)}(e,r,n);return eg(e,r),r})}function ef(e,t){if(eh.length){let n=eh[eh.length-1],r=n.get(e);r||n.set(e,r=[]),r.push(t)}else ed(e,[t])}let eh=[];function ep(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function eg(e,t){for(let o of et(e,t,t.dirtyAtoms)){var n,r;null===(n=ei(o))||void 0===n||null===(r=n.invalidate)||void 0===r||r.call(n,t)}}function ev(e,t,n){ef(e,{type:"set",recoilValue:t,valueOrUpdater:n})}let em=0;var ey={RecoilValueReadOnly:ec,AbstractRecoilValue:es,RecoilState:eu,getRecoilValueAsLoadable:function(e,{key:t},n=e.getState().currentTree){var r,o;let a=e.getState();n.version===a.currentTree.version||n.version===(null===(r=a.nextTree)||void 0===r?void 0:r.version)||n.version===(null===(o=a.previousTree)||void 0===o?void 0:o.version)||E("Tried to read from a discarded tree");let s=en(e,n,t);return"loading"===s.state&&s.contents.catch(()=>ee),s},setRecoilValue:ev,setRecoilValueLoadable:function(e,t,n){if(n instanceof eo)return ev(e,t,n);ef(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){ef(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){ef(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,{key:t},n,r=null){let o=em++,a=e.getState();if(a.nodeToComponentSubscriptions.has(t)||a.nodeToComponentSubscriptions.set(t,new Map),l(a.nodeToComponentSubscriptions.get(t)).set(o,[null!=r?r:"<not captured>",n]),_("recoil_early_rendering_2021")){let r=e.getState().nextTree;r&&r.dirtyAtoms.has(t)&&n(r)}return{release:()=>{let n=e.getState(),r=n.nodeToComponentSubscriptions.get(t);if(void 0===r||!r.has(o)){E(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`);return}r.delete(o),0===r.size&&n.nodeToComponentSubscriptions.delete(t)}}},isRecoilValue:el,applyAtomValueWrites:function(e,t){let n=e.clone();return t.forEach((e,t)=>{"hasValue"===e.state&&e.contents instanceof eo?n.delete(t):n.set(t,e)}),n},batchStart:function(){let e=new Map;return eh.push(e),()=>{for(let[t,n]of e)ed(t,n);eh.pop()!==e&&E("Incorrect order of batch popping")}},writeLoadableToTreeState:eA,invalidateDownstreams:eg,copyTreeState:ep,invalidateDownstreams_FOR_TESTING:eg};let{unstable_batchedUpdates:eb}=u,{unstable_batchedUpdates:ew}={unstable_batchedUpdates:eb},{batchStart:e_}=ey,{unstable_batchedUpdates:eE}={unstable_batchedUpdates:ew},eC=eE;var eB={getBatcher:()=>eC,setBatcher:e=>{eC=e},batchUpdates:e=>{eC(()=>{let t=()=>void 0;try{t=e_(),e()}finally{t()}})}},eI=function(e,t){t()},ex=function(e,...t){let n=new Set;i:for(let r of e){for(let e of t)if(e.has(r))continue i;n.add(r)}return n},eT=function(e,t){let n=new Map;return e.forEach((e,r)=>{n.set(r,t(e,r))}),n};function eS(e,t,n){let{nodeDeps:r,nodeToNodeSubscriptions:o}=t;e.forEach((e,t)=>{let a=r.get(t);a&&n&&a!==n.nodeDeps.get(t)||(r.set(t,new Set(e)),(null==a?e:ex(e,a)).forEach(e=>{o.has(e)||o.set(e,new Set),l(o.get(e)).add(t)}),a&&ex(a,e).forEach(e=>{if(!o.has(e))return;let n=l(o.get(e));n.delete(t),0===n.size&&o.delete(e)}))})}var ek={addToDependencyMap:function(e,t,n){n.has(e)||n.set(e,new Set),l(n.get(e)).add(t)},cloneGraph:function(e){return{nodeDeps:eT(e.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:eT(e.nodeToNodeSubscriptions,e=>new Set(e))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},mergeDepsIntoDependencyMap:function(e,t){e.forEach((e,n)=>{t.has(n)||t.set(n,new Set);let r=l(t.get(n));e.forEach(e=>r.add(e))})},saveDependencyMapToStore:function(e,t,n){var r,o,a,s,u;let c=t.getState();n===c.currentTree.version||n===(null===(r=c.nextTree)||void 0===r?void 0:r.version)||n===(null===(o=c.previousTree)||void 0===o?void 0:o.version)||E("Tried to save dependencies to a discarded tree");let l=t.getGraph(n);if(eS(e,l),n===(null===(a=c.previousTree)||void 0===a?void 0:a.version)&&eS(e,t.getGraph(c.currentTree.version),l),n===(null===(s=c.previousTree)||void 0===s?void 0:s.version)||n===c.currentTree.version){let n=null===(u=c.nextTree)||void 0===u?void 0:u.version;void 0!==n&&eS(e,t.getGraph(n),l)}}},eD=(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r={},o=function(e){return function(){return e}},a=n.hash=function(e){var n=void 0===e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,o=0,a=e.length;o<a;++o)r=(r<<5)-r+e.charCodeAt(o)|0;return r},s=function(e,t){return t>>>e&31},u=function(e){return 1<<e},c=function(e,t){var n;return n=e&t-1,n-=n>>1&1431655765,n=(n=(858993459&n)+(n>>2&858993459))+(n>>4)&252645135,n+=n>>8,127&(n+=n>>16)},l=function(e,t,n,r){var o=r;if(!e){var a=r.length;o=Array(a);for(var s=0;s<a;++s)o[s]=r[s]}return o[t]=n,o},A=function(e,t,n){var r=n.length-1,o=0,a=0,s=n;if(e)o=a=t;else for(s=Array(r);o<t;)s[a++]=n[o++];for(++o;o<=r;)s[a++]=n[o++];return e&&(s.length=r),s},d=function(e,t,n,r){var o=r.length;if(e){for(var a=o;a>=t;)r[a--]=r[a];return r[t]=n,r}for(var s=0,u=0,c=Array(o+1);s<t;)c[u++]=r[s++];for(c[t]=n;s<o;)c[++u]=r[s++];return c},f={__hamt_isEmpty:!0},h=function(e){return e===f||e&&e.__hamt_isEmpty},p=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:C}},g=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:B}},v=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:I}},m=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:x}},y=function(e,t,n,r,o){for(var a=[],s=r,u=0,c=0;s;++c)1&s&&(a[c]=o[u++]),s>>>=1;return a[t]=n,m(e,u+1,a)},b=function(e,t,n,r){for(var o=Array(t-1),a=0,s=0,u=0,c=r.length;u<c;++u)if(u!==n){var l=r[u];l&&!h(l)&&(o[a++]=l,s|=1<<u)}return v(e,s,o)},w=function e(t,n,r,o,a,c){if(r===a)return g(t,r,[c,o]);var l=s(n,r),A=s(n,a);return v(t,u(l)|u(A),l===A?[e(t,n+5,r,o,a,c)]:l<A?[o,c]:[c,o])},_=function(e,t,n,o,a,s,u,c){for(var d=a.length,f=0;f<d;++f){var h=a[f];if(n(u,h.key)){var g=h.value,v=s(g);if(v===g)return a;if(v===r)return--c.value,A(e,f,a);return l(e,f,p(t,o,u,v),a)}}var m=s();return m===r?a:(++c.value,l(e,d,p(t,o,u,m),a))},E=function(e,t){return e===t.edit},C=function(e,t,n,o,a,s,u){if(t(s,this.key)){var c=o(this.value);return c===this.value?this:c===r?(--u.value,f):E(e,this)?(this.value=c,this):p(e,a,s,c)}var l=o();return l===r?this:(++u.value,w(e,n,this.hash,this,a,p(e,a,s,l)))},B=function(e,t,n,o,a,s,u){if(a===this.hash){var c=_(E(e,this),e,t,this.hash,this.children,o,s,u);return c===this.children?this:c.length>1?g(e,this.hash,c):c[0]}var l=o();return l===r?this:(++u.value,w(e,n,this.hash,this,a,p(e,a,s,l)))},I=function(e,t,n,r,o,a,p){var g,m=this.mask,b=this.children,w=s(n,o),_=u(w),C=c(m,_),B=m&_,I=B?b[C]:f,x=I._modify(e,t,n+5,r,o,a,p);if(I===x)return this;var T=E(e,this),S=m,k=void 0;if(B&&h(x)){if(!(S&=~_))return f;if(b.length<=2&&((g=b[1^C])===f||1===g.type||2===g.type))return b[1^C];k=A(T,C,b)}else if(B||h(x))k=l(T,C,x,b);else{if(b.length>=16)return y(e,w,x,m,b);S|=_,k=d(T,C,x,b)}return T?(this.mask=S,this.children=k,this):v(e,S,k)},x=function(e,t,n,r,o,a,u){var c=this.size,A=this.children,d=s(n,o),p=A[d],g=(p||f)._modify(e,t,n+5,r,o,a,u);if(p===g)return this;var v=E(e,this),y=void 0;if(h(p)&&!h(g))++c,y=l(v,d,g,A);else if(!h(p)&&h(g)){if(--c<=8)return b(e,c,d,A);y=l(v,d,f,A)}else y=l(v,d,g,A);return v?(this.size=c,this.children=y,this):m(e,c,y)};function T(e,t,n,r,o){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=o}f._modify=function(e,t,n,o,a,s,u){var c=o();return c===r?f:(++u.value,p(e,a,s,c))},T.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new T(this._editable,this._edit,this._config,e,t)};var S=n.tryGetHash=function(e,t,n,r){for(var o=r._root,a=0,l=r._config.keyEq;;)switch(o.type){case 1:return l(n,o.key)?o.value:e;case 2:if(t===o.hash)for(var A=o.children,d=0,f=A.length;d<f;++d){var h=A[d];if(l(n,h.key))return h.value}return e;case 3:var p=u(s(a,t));if(o.mask&p){o=o.children[c(o.mask,p)],a+=5;break}return e;case 4:if(o=o.children[s(a,t)]){a+=5;break}return e;default:return e}};T.prototype.tryGetHash=function(e,t,n){return S(e,t,n,this)};var k=n.tryGet=function(e,t,n){return S(e,n._config.hash(t),t,n)};T.prototype.tryGet=function(e,t){return k(e,t,this)};var D=n.getHash=function(e,t,n){return S(void 0,e,t,n)};T.prototype.getHash=function(e,t){return D(e,t,this)},n.get=function(e,t){return S(void 0,t._config.hash(e),e,t)},T.prototype.get=function(e,t){return k(t,e,this)};var N=n.has=function(e,t,n){return S(r,e,t,n)!==r};T.prototype.hasHash=function(e,t){return N(e,t,this)};var O=n.has=function(e,t){return N(t._config.hash(e),e,t)};T.prototype.has=function(e){return O(e,this)};var F=function(e,t){return e===t};n.make=function(e){return new T(0,0,{keyEq:e&&e.keyEq||F,hash:e&&e.hash||a},f,0)},n.empty=n.make();var R=n.isEmpty=function(e){return e&&!!h(e._root)};T.prototype.isEmpty=function(){return R(this)};var L=n.modifyHash=function(e,t,n,r){var o={value:r._size},a=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,o);return r.setTree(a,o.value)};T.prototype.modifyHash=function(e,t,n){return L(n,e,t,this)};var M=n.modify=function(e,t,n){return L(e,n._config.hash(t),t,n)};T.prototype.modify=function(e,t){return M(t,e,this)};var P=n.setHash=function(e,t,n,r){return L(o(n),e,t,r)};T.prototype.setHash=function(e,t,n){return P(e,t,n,this)};var U=n.set=function(e,t,n){return P(n._config.hash(e),e,t,n)};T.prototype.set=function(e,t){return U(e,t,this)};var j=o(r),Z=n.removeHash=function(e,t,n){return L(j,e,t,n)};T.prototype.removeHash=T.prototype.deleteHash=function(e,t){return Z(e,t,this)};var Q=n.remove=function(e,t){return Z(t._config.hash(e),e,t)};T.prototype.remove=T.prototype.delete=function(e){return Q(e,this)};var H=n.beginMutation=function(e){return new T(e._editable+1,e._edit+1,e._config,e._root,e._size)};T.prototype.beginMutation=function(){return H(this)};var V=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};T.prototype.endMutation=function(){return V(this)};var K=n.mutate=function(e,t){var n=H(t);return e(n),V(n)};T.prototype.mutate=function(e){return K(e,this)};var z=function(e){return e&&G(e[0],e[1],e[2],e[3],e[4])},G=function(e,t,n,r,o){for(;n<e;){var a=t[n++];if(a&&!h(a))return W(a,r,[e,t,n,r,o])}return z(o)},W=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return G(r.length,r,0,t,n);default:return z(n)}},q={done:!0};function Y(e){this.v=e}Y.prototype.next=function(){if(!this.v)return q;var e=this.v;return this.v=z(e.rest),e},Y.prototype[Symbol.iterator]=function(){return this};var $=function(e,t){return new Y(W(e._root,t))},X=function(e){return[e.key,e.value]},J=n.entries=function(e){return $(e,X)};T.prototype.entries=T.prototype[Symbol.iterator]=function(){return J(this)};var ee=function(e){return e.key},et=n.keys=function(e){return $(e,ee)};T.prototype.keys=function(){return et(this)};var en=function(e){return e.value},er=n.values=T.prototype.values=function(e){return $(e,en)};T.prototype.values=function(){return er(this)};var ei=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var o=[r.children],a=void 0;a=o.pop();)for(var s=0,u=a.length;s<u;){var c=a[s++];c&&c.type&&(1===c.type?t=e(t,c.value,c.key):o.push(c.children))}return t};T.prototype.fold=function(e,t){return ei(e,t,this)};var eo=n.forEach=function(e,t){return ei(function(n,r,o){return e(r,o,t)},null,t)};T.prototype.forEach=function(e){return eo(e,this)};var ea=n.count=function(e){return e._size};T.prototype.count=function(){return ea(this)},Object.defineProperty(T.prototype,"size",{get:T.prototype.count}),e.exports?e.exports=n:undefined.hamt=n}(o={exports:{}},o.exports),o.exports);class eN{constructor(e){T(this,"_map",void 0),this._map=new Map(null==e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return eF(this)}toMap(){return new Map(this._map)}}class eO{constructor(e){if(T(this,"_hamt",eD.empty.beginMutation()),e instanceof eO){let t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(let[t,n]of e.entries())this._hamt.set(t,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return eF(this)}toMap(){return new Map(this._hamt)}}function eF(e){return _("recoil_hamt_2020")?new eO(e):new eN(e)}var eR=/*#__PURE__*/Object.freeze({__proto__:null,persistentMap:{persistentMap:eF}.persistentMap});let{graph:eL}=ek,{persistentMap:eM}=eR,eP=0,eU=()=>eP++;function ej(){let e=eU();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:eM(),nonvalidatedAtoms:eM()}}var eZ={makeEmptyTreeState:ej,makeEmptyStoreState:function(){let e=ej();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(e.version,eL()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:eU},eQ=function(...e){let t=new Set;for(let n of e)for(let e of n)t.add(e);return t},eH=function(e,t,n){let r=e.entries(),o=r.next();for(;!o.done;){let a=o.value;if(t.call(n,a[1],a[0],e))return!0;o=r.next()}return!1};let{cleanUpNode:eV}=J,{deleteNodeConfigIfPossible:eK,getNode:ez}=j,{RetentionZone:eG}=Q,eW=new Set;function eq(e,t){let n=e.getState(),r=n.currentTree;if(n.nextTree){E("releaseNodesNowOnCurrentTree should only be called at the end of a batch");return}let o=new Set;for(let e of t)if(e instanceof eG)for(let t of function(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:eW}(n,e))o.add(t);else o.add(e);for(let t of function(e,t){let n=e.getState(),r=n.currentTree,o=e.getGraph(r.version),a=new Set,s=new Set;return function t(u){var c,A;let d=new Set;for(let t of function(e,t,n,r,o){let a=e.getGraph(t.version),s=[],u=new Set;for(;n.size>0;)(function e(t){if(r.has(t)||o.has(t)){n.delete(t);return}if(u.has(t))return;let c=a.nodeToNodeSubscriptions.get(t);if(c)for(let t of c)e(t);u.add(t),n.delete(t),s.push(t)})(l(n.values().next().value));return s}(e,r,u,a,s)){if("recoilRoot"===ez(t).retainedBy||(null!==(c=n.retention.referenceCounts.get(t))&&void 0!==c?c:0)>0||eY(t).some(e=>n.retention.referenceCounts.get(e))){s.add(t);continue}let e=o.nodeToNodeSubscriptions.get(t);if(e&&eH(e,e=>s.has(e))){s.add(t);continue}a.add(t),d.add(t)}let f=new Set;for(let e of d)for(let t of null!==(A=o.nodeDeps.get(e))&&void 0!==A?A:eW)a.has(t)||f.add(t);f.size&&t(f)}(t),a}(e,o))!function(e,t,n){var r,o;if(!_("recoil_memory_managament_2020"))return;eV(e,n);let a=e.getState();for(let e of(a.knownAtoms.delete(n),a.knownSelectors.delete(n),a.nodeTransactionSubscriptions.delete(n),a.retention.referenceCounts.delete(n),eY(n)))null===(r=a.retention.nodesRetainedByZone.get(e))||void 0===r||r.delete(n);t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);let s=a.graphsByVersion.get(t.version);if(s){let e=s.nodeDeps.get(n);if(void 0!==e)for(let t of(s.nodeDeps.delete(n),e))null===(o=s.nodeToNodeSubscriptions.get(t))||void 0===o||o.delete(n);s.nodeToNodeSubscriptions.delete(n)}eK(n)}(e,r,t)}function eY(e){let t=ez(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof eG?[t]:t}function e$(e,t){_("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),function(e,t){let n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):eq(e,new Set([t]))}(e,t))}var eX={updateRetainCount:function(e,t,n){var r;if(!_("recoil_memory_managament_2020"))return;let o=e.getState().retention.referenceCounts,a=(null!==(r=o.get(t))&&void 0!==r?r:0)+n;0===a?e$(e,t):o.set(t,a)},updateRetainCountToZero:e$,releaseScheduledRetainablesNow:function(e){if(!_("recoil_memory_managament_2020"))return;let t=e.getState();eq(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}},eJ=function*(e){for(let t of e)for(let e of t)yield e},e0={isSSR:"undefined"==typeof window,isReactNative:"undefined"!=typeof navigator&&"ReactNative"===navigator.product};let{isSSR:e1}=e0,{batchUpdates:e2}=eB,{initializeNodeIfNewToStore:e4,peekNodeInfo:e3}=J,{graph:e5}=ek,{DEFAULT_VALUE:e6,recoilValues:e8,recoilValuesForKeys:e9}=j,{AbstractRecoilValue:e7,getRecoilValueAsLoadable:te,setRecoilValue:tt,setUnvalidatedRecoilValue:tn}=ey,{updateRetainCount:tr}=eX,{getNextTreeStateVersion:ti,makeEmptyStoreState:to}=eZ;class ta{constructor(e){for(let t of(T(this,"_store",void 0),T(this,"_refCount",0),T(this,"getLoadable",e=>(this.checkRefCount_INTERNAL(),te(this._store,e))),T(this,"getPromise",e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise())),T(this,"getNodes_UNSTABLE",e=>{if(this.checkRefCount_INTERNAL(),(null==e?void 0:e.isModified)===!0)return(null==e?void 0:e.isInitialized)===!1?[]:e9(this._store.getState().currentTree.dirtyAtoms);let t=this._store.getState().knownAtoms,n=this._store.getState().knownSelectors;return(null==e?void 0:e.isInitialized)==null?e8.values():!0===e.isInitialized?e9(eJ([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):B(e8.values(),({key:e})=>!t.has(e)&&!n.has(e))}),T(this,"getInfo_UNSTABLE",({key:e})=>(this.checkRefCount_INTERNAL(),e3(this._store,this._store.getState().currentTree,e))),T(this,"map",e=>{this.checkRefCount_INTERNAL();let t=new tc(this,e2);return e(t),tu(t.getStore_INTERNAL())}),T(this,"asyncMap",async e=>{this.checkRefCount_INTERNAL();let t=new tc(this,e2);return await e(t),tu(t.getStore_INTERNAL())}),this._store={getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{let n=e.graphsByVersion;if(n.has(t))return l(n.get(t));let r=e5();return n.set(t,r),r},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Error("Cannot subscribe to Snapshots")}},this._store.getState().nodeCleanupFunctions.keys()))e4(this._store,e.currentTree,t,"get"),tr(this._store,t,1);this.retain(),this.autorelease_INTERNAL()}retain(){if(!_("recoil_memory_managament_2020"))return()=>void 0;this._refCount++;let e=!1;return()=>{e||(e=!0,this.release_INTERNAL())}}autorelease_INTERNAL(){_("recoil_memory_managament_2020")&&(e1||window.setTimeout(()=>this.release_INTERNAL(),0))}release_INTERNAL(){_("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}checkRefCount_INTERNAL(){_("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}getID_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}}function ts(e,t,n=!1){let r=e.getState(),o=n?ti():t.version;return{currentTree:n?{version:o,stateID:o,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(o,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function tu(e,t="current"){let n=e.getState();return new ta(ts(e,"current"===t?n.currentTree:l(n.previousTree)))}class tc extends ta{constructor(e,t){super(ts(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0)),T(this,"_batch",void 0),T(this,"set",(e,t)=>{this.checkRefCount_INTERNAL();let n=this.getStore_INTERNAL();this._batch(()=>{tr(n,e.key,1),tt(this.getStore_INTERNAL(),e,t)})}),T(this,"reset",e=>{this.checkRefCount_INTERNAL();let t=this.getStore_INTERNAL();this._batch(()=>{tr(t,e.key,1),tt(this.getStore_INTERNAL(),e,e6)})}),T(this,"setUnvalidatedAtomValues_DEPRECATED",e=>{this.checkRefCount_INTERNAL();let t=this.getStore_INTERNAL();e2(()=>{for(let[n,r]of e.entries())tr(t,n,1),tn(t,new e7(n),r)})}),this._batch=t}}var tl=/*#__PURE__*/Object.freeze({__proto__:null,Snapshot:ta,MutableSnapshot:tc,freshSnapshot:function(e){let t=new ta(to());return null!=e?t.map(e):t},cloneSnapshot:tu});let{getNextTreeStateVersion:tA,makeEmptyStoreState:td}=eZ,{cleanUpNode:tf,getDownstreamNodes:th,setNodeValue:tp,setUnvalidatedAtomValue_DEPRECATED:tg}=J,{graph:tv}=ek,{cloneGraph:tm}=ek,{applyAtomValueWrites:ty}=ey,{releaseScheduledRetainablesNow:tb}=eX,{freshSnapshot:tw}=tl,{useCallback:t_,useContext:tE,useEffect:tC,useMemo:tB,useRef:tI,useState:tx}=s;function tT(){throw Error("This component must be used inside a <RecoilRoot> component.")}let tS=Object.freeze({getState:tT,replaceState:tT,getGraph:tT,subscribeToTransactions:tT,addTransactionMetadata:tT}),tk=!1;function tD(e){if(tk)throw Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");let t=e.getState();if(null===t.nextTree){_("recoil_memory_managament_2020")&&_("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&tb(e);let n=t.currentTree.version,r=tA();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,tm(l(t.graphsByVersion.get(n))))}}let tN=s.createContext({current:tS}),tO=()=>tE(tN),tF=s.createContext(null);function tR(e,t,n){for(let r of th(e,n,n.dirtyAtoms)){let e=t.nodeToComponentSubscriptions.get(r);if(e)for(let[t,[r,o]]of e)o(n)}}function tL(e){let t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(let[n,o]of t.nodeTransactionSubscriptions)if(r.has(n))for(let[t,n]of o)n(e);for(let[n,r]of t.transactionSubscriptions)r(e);(!_("recoil_early_rendering_2021")||t.suspendedComponentResolvers.size)&&(tR(e,t,n),t.suspendedComponentResolvers.forEach(e=>e()),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach(e=>e(n)),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function tM({setNotifyBatcherOfChange:e}){let t=tO(),[n,r]=tx([]);return e(()=>r({})),tC(()=>{eI("Batcher",()=>{!function(e){let t=e.current.getState();t.commitDepth++;try{let{nextTree:n}=t;if(null===n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,tL(e.current),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):E("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,_("recoil_memory_managament_2020")&&tb(e.current)}finally{t.commitDepth--}}(t)})}),tC(()=>()=>{e(()=>{})},[e]),null}let tP=0;function tU({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:r}){var o;let a;let u=tI(null),c=t_(e=>{u.current=e},[u]),A=null!==(o=s.createMutableSource)&&void 0!==o?o:s.unstable_createMutableSource,d=null!=n?n:{getState:()=>a.current,replaceState:e=>{let t;let n=f.current.getState();tD(f.current);let r=l(n.nextTree);try{tk=!0,t=e(r)}finally{tk=!1}t!==r&&(n.nextTree=t,_("recoil_early_rendering_2021")&&tR(d,n,t),l(u.current)())},getGraph:e=>{let t=a.current.graphsByVersion;if(t.has(e))return l(t.get(e));let n=tv();return t.set(e,n),n},subscribeToTransactions:(e,t)=>{if(null==t){let{transactionSubscriptions:t}=f.current.getState(),n=tP++;return t.set(n,e),{release:()=>{t.delete(n)}}}{let{nodeTransactionSubscriptions:n}=f.current.getState();n.has(t)||n.set(t,new Map);let r=tP++;return l(n.get(t)).set(r,e),{release:()=>{let e=n.get(t);e&&(e.delete(r),0===e.size&&n.delete(t))}}}},addTransactionMetadata:e=>{for(let t of(tD(f.current),Object.keys(e)))l(f.current.getState().nextTree).transactionMetadata[t]=e[t]}},f=tI(d),h=tB(()=>A?A(a,()=>a.current.currentTree.version):null,[A,a=tI(null!=e?function(e,t){let n=td();return t({set:(t,r)=>{let o=n.currentTree,a=tp(e,o,t.key,r),s=new Set(a.keys()),u=o.nonvalidatedAtoms.clone();for(let e of s)u.delete(e);n.currentTree={...o,dirtyAtoms:eQ(o.dirtyAtoms,s),atomValues:ty(o.atomValues,a),nonvalidatedAtoms:u}},setUnvalidatedAtomValues:e=>{e.forEach((e,t)=>{n.currentTree=tg(n.currentTree,t,e)})}}),n}(d,e):null!=t?tw().map(t).getStore_INTERNAL().getState():td())]);return tC(()=>()=>{for(let e of f.current.getState().knownAtoms)tf(f.current,e)},[]),/*#__PURE__*/s.createElement(tN.Provider,{value:f},/*#__PURE__*/s.createElement(tF.Provider,{value:h},/*#__PURE__*/s.createElement(tM,{setNotifyBatcherOfChange:c}),r))}var tj={useStoreRef:tO,useRecoilMutableSource:function(){let e=tE(tF);return null==e&&x("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},RecoilRoot:function(e){let{override:t,...n}=e,r=tO();return!1===t&&r.current!==tS?e.children:/*#__PURE__*/s.createElement(tU,n)},notifyComponents_FOR_TESTING:tR,sendEndOfBatchNotifications_FOR_TESTING:tL};let{loadableWithValue:tZ}=v,{DEFAULT_VALUE:tQ,getNode:tH}=j,{copyTreeState:tV,getRecoilValueAsLoadable:tK,invalidateDownstreams:tz,writeLoadableToTreeState:tG}=ey;function tW(e){return"atom"===tH(e.key).nodeType}class tq{constructor(e,t){T(this,"_store",void 0),T(this,"_treeState",void 0),T(this,"_changes",void 0),T(this,"get",e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!tW(e))throw Error("Reading selectors within atomicUpdate is not supported");let t=tK(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;if("hasError"===t.state)throw t.contents;throw Error(`Expected Recoil atom ${e.key} to have a value, but it is in a loading state.`)}),T(this,"set",(e,t)=>{if(!tW(e))throw Error("Setting selectors within atomicUpdate is not supported");if("function"==typeof t){let n=this.get(e);this._changes.set(e.key,t(n))}else this._changes.set(e.key,t)}),T(this,"reset",e=>{this.set(e,tQ)}),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;let e=tV(this._treeState);for(let[t,n]of this._changes)tG(e,t,tZ(n));return tz(this._store,e),e}}var tY=/*#__PURE__*/Object.freeze({__proto__:null,atomicUpdater:function(e){return t=>{e.replaceState(n=>{let r=new tq(e,n);return t(r),r.newTreeState_INTERNAL()})}}}),t$=function(e,t){let n=new Map;for(let[r,o]of e)t(o,r)&&n.set(r,o);return n},tX=function(e,t){let n=new Set;for(let r of e)t(r)&&n.add(r);return n},tJ=function(e,t){if(!e)throw Error(t)},t0=function(...e){let t=new Map;for(let n=0;n<e.length;n++){let r;let o=e[n].keys();for(;!(r=o.next()).done;)t.set(r.value,e[n].get(r.value))}return t},t1=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0};let{useRef:t2}=s;var t4=function(){return t2(),"<component name not available>"};let{atomicUpdater:t3}=tY,{batchUpdates:t5}=eB,{DEFAULT_VALUE:t6,getNode:t8,nodes:t9}=j,{useRecoilMutableSource:t7,useStoreRef:ne}=tj,{isRecoilValue:nt}=N,{AbstractRecoilValue:nn,getRecoilValueAsLoadable:nr,setRecoilValue:ni,setRecoilValueLoadable:no,setUnvalidatedRecoilValue:na,subscribeToRecoilValue:ns}=ey,{updateRetainCount:nu}=eX,{RetentionZone:nc}=Q,{Snapshot:nl,cloneSnapshot:nA}=tl,{setByAddingToSet:nd}=C,{isSSR:nf}=e0,{mutableSourceExists:nh,useMutableSource:np}=y,{useCallback:ng,useEffect:nv,useMemo:nm,useRef:ny,useState:nb}=s;function nw(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state)throw new Promise(e=>{n.current.getState().suspendedComponentResolvers.add(e)});if("hasError"===e.state)throw e.contents;throw Error(`Invalid value of loadable atom "${t.key}"`)}function n_(e){return(_("recoil_memory_managament_2020")&&nD(e),nh())?function(e){let t=ne(),n=ng(()=>{var n;let r=t.current,o=r.getState();return nr(r,e,_("recoil_early_rendering_2021")&&null!==(n=o.nextTree)&&void 0!==n?n:o.currentTree)},[t,e]),r=ng(()=>n(),[n]),o=t4(),a=ng((r,a)=>ns(t.current,e,()=>{if(!_("recoil_suppress_rerender_in_callback"))return a();let e=n();u.current.is(e)||a(),u.current=e},o).release,[t,e,o,n]),s=np(t7(),r,a),u=ny(s);return nv(()=>{u.current=s}),s}(e):function(e){let t=ne(),[n,r]=nb([]),o=t4();nv(()=>{let n=t.current,a=n.getState(),u=ns(n,e,t=>{var o;if(!_("recoil_suppress_rerender_in_callback"))return r([]);let a=nr(n,e,n.getState().currentTree);(null===(o=s.current)||void 0===o?void 0:o.is(a))||r(a),s.current=a},o);if(a.nextTree)n.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{s.current=null,r([])});else{var c;if(!_("recoil_suppress_rerender_in_callback"))return r([]);let t=nr(n,e,n.getState().currentTree);(null===(c=s.current)||void 0===c?void 0:c.is(t))||r(t),s.current=t}return u.release},[o,e,t]);let a=nr(t.current,e),s=ny(a);return nv(()=>{s.current=a}),a}(e)}function nE(e){let t=ne();return nw(n_(e),e,t)}function nC(e){let t=ne();return ng(n=>{ni(t.current,e,n)},[t,e])}function nB(e){let t=ne();nv(()=>t.current.subscribeToTransactions(e).release,[e,t])}function nI(e){let t=eT(t$(e.atomValues.toMap(),(e,t)=>{let n=t8(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state}),e=>e.contents);return t0(e.nonvalidatedAtoms.toMap(),t)}function nx(e){let t=ny();return nv(()=>{t.current=e}),t.current}function nT(){let e=ne();return ng(t=>{var n;let r=e.current.getState(),o=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,a=t.getStore_INTERNAL().getState().currentTree;t5(()=>{let n=new Set;for(let e of[o.atomValues.keys(),a.atomValues.keys()])for(let t of e){var r,s;(null===(r=o.atomValues.get(t))||void 0===r?void 0:r.contents)!==(null===(s=a.atomValues.get(t))||void 0===s?void 0:s.contents)&&t8(t).shouldRestoreFromSnapshots&&n.add(t)}n.forEach(t=>{no(e.current,new nn(t),a.atomValues.has(t)?l(a.atomValues.get(t)):t6)}),e.current.replaceState(e=>({...e,stateID:t.getID_INTERNAL()}))})},[e])}class nS{}let nk=new nS;function nD(e){if(_("recoil_memory_managament_2020"))return function(e){let t=(Array.isArray(e)?e:[e]).map(e=>e instanceof nc?e:e.key),n=ne();nv(()=>{if(!_("recoil_memory_managament_2020"))return;let e=n.current;if(r.current&&!nf)window.clearTimeout(r.current),r.current=null;else for(let n of t)nu(e,n,1);return()=>{for(let n of t)nu(e,n,-1)}},[n,...t]);let r=ny(),o=nx(t);if(!nf&&(void 0===o||!t1(o,t))){let e=n.current;for(let n of t)nu(e,n,1);if(o)for(let t of o)nu(e,t,-1);r.current&&window.clearTimeout(r.current),r.current=window.setTimeout(()=>{for(let n of(r.current=null,t))nu(e,n,-1)},12e4)}}(e)}let{peekNodeInfo:nN}=J,{useStoreRef:nO}=tj,{RecoilRoot:nF,useStoreRef:nR}=tj,{useMemo:nL}=s,{isReactNative:nM,isSSR:nP}=e0;var nU=function(e,t={allowFunctions:!1}){return function e(t,n,r){if("string"==typeof t&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((null==n?void 0:n.allowFunctions)!==!0)throw Error("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(null===t)return"null";if("object"!=typeof t){var o;return null!==(o=JSON.stringify(t))&&void 0!==o?o:""}if(c(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((t,r)=>e(t,n,r.toString()))}]`;if("function"==typeof t.toJSON)return e(t.toJSON(r),n,r);if(t instanceof Map){let o={};for(let[r,a]of t)o["string"==typeof r?r:e(r,n)]=a;return e(o,n,r)}return t instanceof Set?e(Array.from(t).sort((t,r)=>e(t,n).localeCompare(e(r,n))),n,r):void 0!==Symbol&&null!=t[Symbol.iterator]&&"function"==typeof t[Symbol.iterator]?e(Array.from(t),n,r):`{${Object.keys(t).filter(e=>void 0!==t[e]).sort().map(r=>`${e(r,n)}:${e(t[r],n,r)}`).join(",")}}`}(e,t)};let nj=(e,t,n)=>{var r;if(null==e)return;if(null==n||null===(r=n.onNodeVisit)||void 0===r||r.call(n,e),"leaf"===e.type)return e;let o=t(e.nodeKey);return nj(e.branches.get(o),t,n)},nZ=(e,t,n,r,o,a)=>{var s;let u;if(null==e){if(0===t.length)u={type:"leaf",value:r,parent:n,branchKey:o};else{let[e,...s]=t,[c,l]=e;(u={type:"branch",nodeKey:c,parent:n,branches:new Map,branchKey:o}).branches.set(l,nZ(null,s,u,r,l,a))}}else if(u=e,t.length){let[n,...o]=t,[s,u]=n;"branch"===e.type&&e.nodeKey===s||tJ(!1),e.branches.set(u,nZ(e.branches.get(u),o,e,r,u,a))}return null==a||null===(s=a.onNodeVisit)||void 0===s||s.call(a,u),u},nQ=(e,t,n)=>n?(n.branches.delete(t.branchKey),nH(e,n,n.parent)):e===t,nH=(e,t,n)=>n?(0===t.branches.size&&n.branches.delete(t.branchKey),nH(e,n,n.parent)):e===t,nV=e=>"leaf"===e.type?1:Array.from(e.branches.values()).reduce((e,t)=>e+nV(t),0);var nK=/*#__PURE__*/Object.freeze({__proto__:null,TreeCache:{TreeCache:class{constructor(e){var t,n,r;T(this,"_numLeafs",void 0),T(this,"_root",void 0),T(this,"_onHit",void 0),T(this,"_onSet",void 0),T(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=null!==(t=null==e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(n=null==e?void 0:e.onSet)&&void 0!==n?n:()=>{},this._mapNodeValue=null!==(r=null==e?void 0:e.mapNodeValue)&&void 0!==r?r:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}getLeafNode(e,t){return nj(this.root(),t=>this._mapNodeValue(e(t)),{onNodeVisit:e=>{null==t||t.onNodeVisit(e),"leaf"===e.type&&this._onHit(e)}})}set(e,t,n){let r;let o=nZ(this.root(),e.map(([e,t])=>[e,this._mapNodeValue(t)]),null,t,null,{onNodeVisit:e=>{null==n||n.onNodeVisit(e),"leaf"===e.type&&(r=e)}});this.root()||(this._root=o),this._numLeafs++,this._onSet(l(r))}delete(e){if(!this.root())return!1;let t=l(this.root());return!!nQ(t,e,e.parent)&&(e!==t&&("branch"!==t.type||t.branches.size)?this._numLeafs-=nV(e):(this._root=null,this._numLeafs=0),!0)}clear(){this._numLeafs=0,this._root=null}}}.TreeCache}),nz=/*#__PURE__*/Object.freeze({__proto__:null,LRUCache:{LRUCache:class{constructor(e){var t;T(this,"_maxSize",void 0),T(this,"_size",void 0),T(this,"_head",void 0),T(this,"_tail",void 0),T(this,"_map",void 0),T(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){let t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}set(e,t){let n=this._keyMapper(e);this._map.get(n)&&this.delete(e);let r=this.head(),o={key:e,right:r,left:null,value:t};r?r.left=o:this._tail=o,this._map.set(n,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){let e=this.tail();e&&this.delete(e.key)}delete(e){let t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;let n=l(this._map.get(t)),r=n.right,o=n.left;r&&(r.left=n.left),o&&(o.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=o),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}}.LRUCache});let{LRUCache:nG}=nz,{TreeCache:nW}=nK;var nq=function(e,t=e=>e){let n=new nG({maxSize:e}),r=new nW({mapNodeValue:t,onHit:e=>{n.set(e,!0)},onSet:t=>{let o=n.tail();n.set(t,!0),o&&r.size()>e&&r.delete(o.key)}});return r};let{TreeCache:nY}=nK,n$={equality:"reference",eviction:"keep-all",maxSize:1/0},{CANCELED:nX,Canceled:nJ,loadableWithError:n0,loadableWithPromise:n1,loadableWithValue:n2}=v,{getNodeLoadable:n4,peekNodeLoadable:n3,setNodeValue:n5}=J,{saveDependencyMapToStore:n6}=ek,{DEFAULT_VALUE:n8,RecoilValueNotReady:n9,getConfigDeletionHandler:n7,registerNode:re}=j,{isRecoilValue:rt}=N,{AbstractRecoilValue:rn}=N,{setRecoilValueLoadable:rr}=ey,{retainedByOptionWithDefault:ri}=eX,{cloneSnapshot:ro}=tl,{startPerfBlock:ra}={startPerfBlock:function(e){return()=>null}},rs=[],ru=new Map,rc=(r=0,()=>r++);var rl=function(e){let{key:t,get:n,cachePolicy_UNSTABLE:r}=e,o=null!=e.set?e.set:void 0,a=function({equality:e=n$.equality,eviction:t=n$.eviction,maxSize:n=n$.maxSize}=n$){return function(e,t,n){switch(e){case"keep-all":return new nY({mapNodeValue:n});case"lru":return nq(l(t),n);case"most-recent":return nq(1,n)}throw Error(`Unrecognized eviction policy ${e}`)}(t,n,function(e){switch(e){case"reference":return e=>e;case"value":return e=>nU(e)}throw Error(`Unrecognized equality policy ${e}`)}(e))}(null!=r?r:{equality:"reference",eviction:"keep-all"}),s=ri(e.retainedBy_UNSTABLE),u=new Map,A=0;function d(){return!_("recoil_memory_managament_2020")||A>0}function f(e){return u.has(e)||u.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}),l(u.get(e))}function h(e){return A++,e.getState().knownSelectors.add(t),()=>{A--,e.getState().knownSelectors.delete(t),u.delete(e)}}function p(){return void 0!==n7(t)&&!d()}function g(e,t,n){if("loading"===t.state){let t=ru.get(n);null==t&&ru.set(n,t=new Set),t.add(e)}}function v(e,t,n){let r=e.getState().knownSelectors.has(n);if(r&&t.atomValues.has(n))return l(t.atomValues.get(n));let o=n4(e,t,n);return"loading"!==o.state&&r&&t.atomValues.set(n,o),o}function m(e,n,r,o,a){return n.then(n=>{if(!d())return k(e,a),nX;if(n instanceof nJ)return E("Selector was released while it had dependencies"),nX;let{__key:o,__value:s}=null!=n?n:{},u=!0;null!=o&&(r.atomValues.set(o,n2(s)),u=!1);let c=C(e,r);if(c&&"hasValue"===c.state)return T(c,e),{__value:c.contents,__key:t};if(!D(e,a)){var l;let e=I(r);if((null==e?void 0:null===(l=e.latestLoadable)||void 0===l?void 0:l.state)==="loading")return e.latestLoadable.contents}let[A,f]=w(e,r,a,u);if(D(e,a)&&S(f,e,a),N(A),"loading"!==A.state&&(O(r,B(f),A),b(e,r,new Set(f.keys()),a),y(e,A,a)),"hasError"===A.state)throw A.contents;return"hasValue"===A.state?{__value:A.contents,__key:t}:A.contents}).catch(t=>{if(!d())return k(e,a),nX;let n=n0(t);throw O(r,B(o),n0(t)),b(e,r,new Set(o.keys()),a),y(e,n,a),t})}function y(e,n,r){D(e,r)&&(T(n,e),function(e,n){let r=ru.get(n);if(void 0!==r){for(let n of r)rr(n,new rn(t),e);ru.delete(n)}}(n,r))}function b(e,n,r,o){var a,s,u,c,l,A,d;(D(e,o)||n.version===(null===(a=e.getState())||void 0===a?void 0:null===(s=a.currentTree)||void 0===s?void 0:s.version)||n.version===(null===(u=e.getState())||void 0===u?void 0:null===(c=u.nextTree)||void 0===c?void 0:c.version))&&n6(new Map([[t,r]]),e,null!==(l=null===(A=e.getState())||void 0===A?void 0:null===(d=A.nextTree)||void 0===d?void 0:d.version)&&void 0!==l?l:e.getState().currentTree.version)}function w(e,r,o,a=!1){let s,u;let l=ra(t),A=!1,f=new Map,h=new Set;function p(t){let{key:n}=t;h.add(n),b(e,r,h,o);let s=a?n4(e,r,n):v(e,r,n);if(N(s),f.set(n,s),"hasValue"===s.state)return s.contents;throw s.contents}b(e,r,h,o);let g=!1;try{(s=n({get:p,getCallback:t=>(...n)=>{if(!g)throw Error("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");let r=t({snapshot:ro(e)});if("function"!=typeof r)throw Error("getCallback() expects a function that returns a function.");return r(...n)}}),s=rt(s)?p(s):s,g=!0,c(s))?s=s.then(n=>{if(!d())return k(e,o),nX;let a=n2(n);return O(r,B(f),a),b(e,r,new Set(f.keys()),o),y(e,a,o),{__value:n,__key:t}}).catch(t=>{if(!d())return k(e,o),nX;if(D(e,o)&&S(f,e,o),c(t))return m(e,t,r,f,o);let n=n0(t);throw O(r,B(f),n),b(e,r,new Set(f.keys()),o),y(e,n,o),t}).finally(l):l()}catch(t){c(s=t)?s=m(e,s,r,f,o).finally(l):(A=!0,l())}return N(u=A?n0(s):c(s)?n1(s):n2(s)),[u,f]}function C(e,n){let r=new Set,o=f(e),s=a.get(t=>("string"!=typeof t&&tJ(!1),v(e,n,t).contents),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==t&&"string"==typeof e.nodeKey&&r.add(e.nodeKey)}});return s&&b(e,n,r,o.latestExecutionId),s}function B(e){return Array.from(e.entries()).map(([e,t])=>[e,t.contents])}function I(e){var t;let[,n]=null!==(t=Array.from(u.entries()).find(([t,n])=>null!=n.latestLoadable&&null!=n.latestExecutionId&&!function(e,t){var n,r;let o=f(e),a=null!==(n=o.depValuesDiscoveredSoFarDuringAsyncWork)&&void 0!==n?n:new Map,s=Array((null!==(r=x.get(t.version))&&void 0!==r?r:new Map).entries()),u=x.has(t.version)&&s.length===a.size&&s.every(([e,t])=>a.get(e)===t);return null!=a&&t.version!==o.stateVersion&&!u&&(x.set(t.version,new Map(a)),Array.from(a).some(([n,r])=>v(e,t,n).contents!==r.contents))}(t,e)))&&void 0!==t?t:[];return n}let x=new Map;function T(e,t,n,r,o){let a=f(t);"loading"===e.state?(a.depValuesDiscoveredSoFarDuringAsyncWork=n,a.latestExecutionId=r,a.latestLoadable=e,a.stateVersion=null==o?void 0:o.version):(a.depValuesDiscoveredSoFarDuringAsyncWork=null,a.latestExecutionId=null,a.latestLoadable=null,a.stateVersion=null)}function S(e,t,n){let r=f(t);D(t,n)&&(r.depValuesDiscoveredSoFarDuringAsyncWork=e)}function k(e,t){D(e,t)&&u.delete(e)}function D(e,t){return t===f(e).latestExecutionId}function N(e){"loading"!==e.state&&e.contents}function O(e,n,r){e.atomValues.set(t,r),a.set(n,r)}function F(e,t){return a.get(n=>{"string"!=typeof n&&tJ(!1);let r=n3(e,t,n);return null==r?void 0:r.contents})}function R(e,n){return function(e){if(rs.includes(t))return n0(Error(`Recoil selector has circular dependencies: ${rs.slice(rs.indexOf(t)).join(" → ")}`));rs.push(t);try{return e()}finally{rs.pop()}}(()=>(function(e,t){let n=C(e,t);if(null!=n)return T(n,e),n;let r=I(t);return r?(g(e,l(r.latestLoadable),l(r.latestExecutionId)),l(r.latestLoadable)):function(e,t){var n;let r=rc(),[o,a]=w(e,t,r);return T(o,e,a,r,t),n=B(a),"loading"!==o.state&&O(t,n,o),g(e,o,r),o}(e,t)})(e,n))}function L(e){e.atomValues.delete(t)}return null!=o?re({key:t,nodeType:"selector",peek:F,get:R,set:(e,t,n)=>{let r=!1,a=new Map;function s({key:n}){if(r)throw Error("Recoil: Async selector sets are not currently supported.");let o=v(e,t,n);if(N(o),"hasValue"===o.state)return o.contents;if("loading"===o.state)throw new n9(n);throw o.contents}function u(n,o){if(r)throw Error("Recoil: Async selector sets are not currently supported.");let u="function"==typeof o?o(s(n)):o;n5(e,t,n.key,u).forEach((e,t)=>a.set(t,e))}let l=o({set:u,get:s,reset:function(e){u(e,n8)}},n);if(void 0!==l)throw c(l)?Error("Recoil: Async selector sets are not currently supported."):Error("Recoil: selector set should be a void function.");return r=!0,a},init:h,invalidate:L,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:s}):re({key:t,nodeType:"selector",peek:F,get:R,init:h,invalidate:L,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:s})};let{loadableWithError:rA,loadableWithPromise:rd,loadableWithValue:rf}=v,{DEFAULT_VALUE:rh,DefaultValue:rp,getConfigDeletionHandler:rg,registerNode:rv,setConfigDeletionHandler:rm}=j,{isRecoilValue:ry}=N,{markRecoilValueModified:rb,setRecoilValue:rw,setRecoilValueLoadable:r_}=ey,{retainedByOptionWithDefault:rE}=eX;var rC=/*#__PURE__*/Object.freeze({__proto__:null,MapCache:{MapCache:class{constructor(e){var t;T(this,"_map",void 0),T(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null==e?void 0:e.mapKey)&&void 0!==t?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}}.MapCache});let{LRUCache:rB}=nz,{MapCache:rI}=rC,rx={equality:"reference",eviction:"none",maxSize:1/0},{setConfigDeletionHandler:rT}=j,{setConfigDeletionHandler:rS}=j,rk=0;var rD=function(e){var t,n;let r=function({equality:e=rx.equality,eviction:t=rx.eviction,maxSize:n=rx.maxSize}=rx){return function(e,t,n){switch(e){case"keep-all":return new rI({mapKey:n});case"lru":return new rB({mapKey:n,maxSize:l(t)});case"most-recent":return new rB({mapKey:n,maxSize:1})}throw Error(`Unrecognized eviction policy ${e}`)}(t,n,function(e){switch(e){case"reference":return e=>e;case"value":return e=>nU(e)}throw Error(`Unrecognized equality policy ${e}`)}(e))}({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;let o;let a=r.get(t);if(null!=a)return a;let s=`${e.key}__selectorFamily/${null!==(n=nU(t,{allowFunctions:!0}))&&void 0!==n?n:"void"}/${rk++}`,u=n=>e.get(t)(n),c=e.cachePolicy_UNSTABLE,l="function"==typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;if(null!=e.set){let n=e.set;o=rl({key:s,get:u,set:(e,r)=>n(t)(e,r),cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l})}else o=rl({key:s,get:u,cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l});return r.set(t,o),rS(o.key,()=>{r.delete(t)}),o}};rD({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}}),rD({key:"__error",get:e=>()=>{throw Error(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});let{loadableWithError:rN,loadableWithPromise:rO,loadableWithValue:rF}=v;function rR(e,t){let n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(let[o,a]of t.entries())try{n[o]=e(a)}catch(e){r[o]=e}return[n,r]}function rL(e){return null!=e&&!c(e)}function rM(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map(t=>e[t])}function rP(e){return null!=e&&"object"==typeof e&&e.hasOwnProperty("__value")?e.__value:e}function rU(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((e,n,r)=>({...e,[n]:t[r]}),{})}function rj(e,t,n){return rU(e,n.map((e,n)=>null==e?rF(t[n]):c(e)?rO(e):rN(e)))}let rZ=rD({key:"__waitForNone",get:e=>({get:t})=>{let[n,r]=rR(t,rM(e));return rj(e,n,r)},dangerouslyAllowMutability:!0}),rQ=rD({key:"__waitForAny",get:e=>({get:t})=>{let[n,r]=rR(t,rM(e));return r.some(e=>!c(e))?rj(e,n,r):new Promise(t=>{for(let[o,a]of r.entries())c(a)&&a.then(a=>{n[o]=rP(a),r[o]=void 0,t(rj(e,n,r))}).catch(a=>{r[o]=a,t(rj(e,n,r))})})},dangerouslyAllowMutability:!0}),rH=rD({key:"__waitForAll",get:e=>({get:t})=>{let[n,r]=rR(t,rM(e));if(r.every(e=>null==e))return rU(e,n);let o=r.find(rL);if(null!=o)throw o;return Promise.all(r).then(t=>rU(e,t.map((e,t)=>void 0===e?n[t]:e).map(rP)))},dangerouslyAllowMutability:!0}),rV=rD({key:"__waitForAllSettled",get:e=>({get:t})=>{let[n,r]=rR(t,rM(e));return r.every(e=>!c(e))?rj(e,n,r):Promise.all(r.map((e,t)=>c(e)?e.then(e=>{n[t]=rP(e),r[t]=void 0}).catch(e=>{n[t]=void 0,r[t]=e}):null)).then(()=>rj(e,n,r))},dangerouslyAllowMutability:!0}),rK=rD({key:"__noWait",get:e=>({get:t})=>{try{return rF(t(e))}catch(e){return c(e)?rO(e):rN(e)}},dangerouslyAllowMutability:!0}),{batchUpdates:rz,setBatcher:rG}=eB,{DefaultValue:rW}=j,{RecoilRoot:rq}=tj,{isRecoilValue:rY}=N,{retentionZone:r$}=Q,{freshSnapshot:rX}=tl,{useGotoRecoilSnapshot:rJ,useRecoilCallback:r0,useRecoilSnapshot:r1,useRecoilState:r2,useRecoilStateLoadable:r4,useRecoilTransaction:r3,useRecoilTransactionObserver:r5,useRecoilValue:r6,useRecoilValueLoadable:r8,useResetRecoilState:r9,useRetain:r7,useSetRecoilState:ie,useSetUnvalidatedAtomValues:it,useTransactionObservation_DEPRECATED:ir}={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useGotoRecoilSnapshot:nT,useRecoilCallback:function(e,t){let n=ne(),r=nT();return ng((...t)=>{function o(e,t){ni(n.current,e,t)}function a(e){ni(n.current,e,t6)}let s=nA(n.current),u=t3(n.current),c=nk;return t5(()=>{let n="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!=typeof e)throw Error(n);let l=e({set:o,reset:a,snapshot:s,gotoSnapshot:r,transact_UNSTABLE:u});if("function"!=typeof l)throw Error(n);c=l(...t)}),c instanceof nS&&tJ(!1),c},null!=t?[...t,n]:void 0)},useRecoilInterface:function(){let e=ne(),[t,n]=nb([]),r=ny(new Set);r.current=new Set;let o=ny(new Set),a=ny(new Map),s=ng(e=>{let t=a.current.get(e);t&&(t.release(),a.current.delete(e))},[a]),u=t4();return nv(()=>{let t=e.current;function c(e,t){a.current.has(t)&&n([])}ex(r.current,o.current).forEach(e=>{if(a.current.has(e)){x(`Double subscription to RecoilValue "${e}"`);return}let n=ns(t,new nn(e),t=>{c(t,e)},u);a.current.set(e,n),t.getState().nextTree?t.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{c(t.getState(),e)}):c(t.getState(),e)}),ex(o.current,r.current).forEach(e=>{s(e)}),o.current=r.current}),nv(()=>{let e=a.current;return()=>e.forEach((e,t)=>s(t))},[s]),nm(()=>{function t(t){return n=>{ni(e.current,t,n)}}function n(t){var n;r.current.has(t.key)||(r.current=nd(r.current,t.key));let o=e.current.getState();return nr(e.current,t,_("recoil_early_rendering_2021")&&null!==(n=o.nextTree)&&void 0!==n?n:o.currentTree)}function o(t){return nw(n(t),t,e)}return{getRecoilValue:o,getRecoilValueLoadable:n,getRecoilState:function(e){return[o(e),t(e)]},getRecoilStateLoadable:function(e){return[n(e),t(e)]},getSetRecoilState:t,getResetRecoilState:function(t){return()=>ni(e.current,t,t6)}}},[r,e])},useRecoilSnapshot:function(){let e=ne(),[t,n]=nb(()=>nA(e.current)),r=nx(t),o=ny();return nv(()=>(o.current&&!nf&&window.clearTimeout(o.current),t.retain()),[t]),nB(ng(e=>n(nA(e)),[])),r===t||nf||(o.current&&(null==r||r.release_INTERNAL(),window.clearTimeout(o.current)),t.retain(),o.current=window.setTimeout(()=>{t.release_INTERNAL(),o.current=null},12e4)),t},useRecoilState:function(e){return[nE(e),nC(e)]},useRecoilStateLoadable:function(e){return[n_(e),nC(e)]},useRecoilTransaction:function(e,t){let n=ne();return nm(()=>(...t)=>{t3(n.current)(n=>{e(n)(...t)})},null!=t?[...t,n]:void 0)},useRecoilTransactionObserver:function(e){nB(ng(t=>{e({snapshot:nA(t,"current"),previousSnapshot:nA(t,"previous")})},[e]))},useRecoilValue:nE,useRecoilValueLoadable:n_,useRetain:nD,useResetRecoilState:function(e){let t=ne();return ng(()=>{ni(t.current,e,t6)},[t,e])},useSetRecoilState:nC,useSetUnvalidatedAtomValues:function(){let e=ne();return(t,n={})=>{t5(()=>{e.current.addTransactionMetadata(n),t.forEach((t,n)=>na(e.current,new nn(n),t))})}},useTransactionObservation_DEPRECATED:function(e){nB(ng(t=>{let n=t.getState().previousTree,r=t.getState().currentTree;n||(E("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),n=t.getState().currentTree);let o=nI(r),a=nI(n),s=eT(t9,e=>{var t,n,r,o;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(o=e.persistence_UNSTABLE)||void 0===o?void 0:o.backButton)&&void 0!==r&&r}}}),u=tX(r.dirtyAtoms,e=>o.has(e)||a.has(e));e({atomValues:o,previousAtomValues:a,atomInfo:s,modifiedAtoms:u,transactionMetadata:{...r.transactionMetadata}})},[e]))},useTransactionSubscription_DEPRECATED:nB},{noWait:ii,waitForAll:io,waitForAllSettled:ia,waitForAny:is,waitForNone:iu}={waitForNone:rZ,waitForAny:rQ,waitForAll:rH,waitForAllSettled:rV,noWait:rK};var ic=rq,il=function e(t){let{default:n,...r}=t;return ry(n)?function(t){let n=e({...t,default:rh,persistence_UNSTABLE:void 0===t.persistence_UNSTABLE?void 0:{...t.persistence_UNSTABLE,validator:e=>e instanceof rp?e:l(t.persistence_UNSTABLE).validator(e,rh)},effects_UNSTABLE:t.effects_UNSTABLE}),r=rl({key:`${t.key}__withFallback`,get:({get:e})=>{let r=e(n);return r instanceof rp?t.default:r},set:({set:e},t)=>e(n,t),dangerouslyAllowMutability:t.dangerouslyAllowMutability});return rm(r.key,rg(t.key)),r}({...r,default:n}):function(e){let t;let{key:n,persistence_UNSTABLE:r}=e,o=rE(e.retainedBy_UNSTABLE),a=0,s=c(e.default)?rd(e.default.then(e=>(s=rf(e),{__key:n,__value:e})).catch(e=>{throw s=rA(e),e})):rf(e.default),u=new Map,A=rv({key:n,nodeType:"atom",peek:function(e,r){var o,a,u;return null!==(o=null!==(a=r.atomValues.get(n))&&void 0!==a?a:null===(u=t)||void 0===u?void 0:u[1])&&void 0!==o?o:s},get:function(e,o){if(o.atomValues.has(n))return l(o.atomValues.get(n));if(!o.nonvalidatedAtoms.has(n))return s;{if(null!=t)return t;if(null==r)return x(`Tried to restore a persisted value for atom ${n} but it has no persistence settings.`),s;let e=o.nonvalidatedAtoms.get(n),a=r.validator(e,rh);return t=a instanceof rp?s:rf(a)}},set:function(e,r,o){if(r.atomValues.has(n)){let e=l(r.atomValues.get(n));if("hasValue"===e.state&&o===e.contents)return new Map}else if(!r.nonvalidatedAtoms.has(n)&&o instanceof rp)return new Map;return t=void 0,new Map().set(n,rf(o))},init:function(t,r,o){var l,d,f;a++;let h=t.getState().knownAtoms.has(n);if(t.getState().knownAtoms.add(n),"loading"===s.state){let e=()=>{var e;(null!==(e=t.getState().nextTree)&&void 0!==e?e:t.getState().currentTree).atomValues.has(n)||rb(t,A)};s.contents.then(e).catch(e)}let p=rh,g=null;if(null!=e.effects_UNSTABLE&&!h){let r=!0,a=e=>n=>{if(r){let t=p instanceof rp||c(p)?"hasValue"===s.state?s.contents:rh:p;c(p="function"==typeof n?n(t):n)&&(p=p.then(t=>(g={effect:e,value:t},t)))}else{if(c(n))throw Error("Setting atoms to async values is not implemented.");"function"!=typeof n&&(g={effect:e,value:n}),rw(t,A,"function"==typeof n?t=>{let r=n(t);return g={effect:e,value:r},r}:n)}},f=e=>()=>a(e)(rh),h=e=>r=>{t.subscribeToTransactions(t=>{var o,a,u,c,l;let{currentTree:A,previousTree:d}=t.getState();d||(E("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),d=A);let f=null!==(o=A.atomValues.get(n))&&void 0!==o?o:s;if("hasValue"===f.state){let t=f.contents,o=null!==(a=d.atomValues.get(n))&&void 0!==a?a:s,A="hasValue"===o.state?o.contents:rh;(null===(u=g)||void 0===u?void 0:u.effect)!==e||(null===(c=g)||void 0===c?void 0:c.value)!==t?r(t,A):(null===(l=g)||void 0===l?void 0:l.effect)===e&&(g=null)}},n)};for(let n of null!==(l=e.effects_UNSTABLE)&&void 0!==l?l:[]){let e=n({node:A,trigger:o,setSelf:a(n),resetSelf:f(n),onSet:h(n)});null!=e&&u.set(t,[...null!==(d=u.get(t))&&void 0!==d?d:[],e])}r=!1}if(!(p instanceof rp)){let e=c(p)?rd(function(e,t){let r=t.then(t=>{var o,a;return(null===(a=(null!==(o=e.getState().nextTree)&&void 0!==o?o:e.getState().currentTree).atomValues.get(n))||void 0===a?void 0:a.contents)===r&&rw(e,A,t),{__key:n,__value:t}}).catch(t=>{var o,a;throw(null===(a=(null!==(o=e.getState().nextTree)&&void 0!==o?o:e.getState().currentTree).atomValues.get(n))||void 0===a?void 0:a.contents)===r&&r_(e,A,rA(t)),t});return r}(t,p)):rf(p);r.atomValues.set(n,e),null===(f=t.getState().nextTree)||void 0===f||f.atomValues.set(n,e)}return()=>{var e;a--,null===(e=u.get(t))||void 0===e||e.forEach(e=>e()),u.delete(t),t.getState().knownAtoms.delete(n)}},invalidate:function(){t=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==rg(n)&&a<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:o});return A}({...r,default:n})},iA=r6,id=r2,ih=ie,ip=r9,ig=r0},57245:function(e){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},97209:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some(function(e,r){return e[0]===t&&(n=r,!0)}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var o=r[n];e.call(t,o[1],o[0])}},t}()}(),o="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,a=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(a):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},u=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,o=0;function a(){n&&(n=!1,e()),r&&c()}function u(){s(a)}function c(){var e=Date.now();if(n){if(e-o<2)return;r=!0}else n=!0,r=!1,setTimeout(u,20);o=e}return c}(this.refresh.bind(this),0)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter(function(e){return e.gatherActive(),e.hasActive()});return e.forEach(function(e){return e.broadcastActive()}),e.length>0},e.prototype.connect_=function(){o&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){o&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;u.some(function(e){return!!~n.indexOf(e)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),A=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var o=r[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||a},f=v(0,0,0,0);function h(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(t,n){return t+h(e["border-"+n+"-width"])},0)}var g="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function v(e,t,n,r){return{x:e,y:t,width:n,height:r}}var m=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=function(e){if(!o)return f;if(g(e)){var t;return v(0,0,(t=e.getBBox()).width,t.height)}return function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=d(e).getComputedStyle(e),o=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var o=r[n],a=e["padding-"+o];t[o]=h(a)}return t}(r),a=o.left+o.right,s=o.top+o.bottom,u=h(r.width),c=h(r.height);if("border-box"===r.boxSizing&&(Math.round(u+a)!==t&&(u-=p(r,"left","right")+a),Math.round(c+s)!==n&&(c-=p(r,"top","bottom")+s)),e!==d(e).document.documentElement){var l=Math.round(u+a)-t,A=Math.round(c+s)-n;1!==Math.abs(l)&&(u-=l),1!==Math.abs(A)&&(c-=A)}return v(o.left,o.top,u,c)}(e)}(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),y=function(e,t){var n,r,o,a,s,u=(n=t.x,r=t.y,o=t.width,a=t.height,A(s=Object.create(("undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object).prototype),{x:n,y:r,width:o,height:a,top:r,right:n+o,bottom:a+r,left:n}),s);A(this,{target:e,contentRect:u})},b=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!=typeof e)throw TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new m(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(e){return new y(e.target,e.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),w="undefined"!=typeof WeakMap?new WeakMap:new r,_=function e(t){if(!(this instanceof e))throw TypeError("Cannot call a class as a function.");if(!arguments.length)throw TypeError("1 argument required, but only 0 present.");var n=new b(t,l.getInstance(),this);w.set(this,n)};["observe","unobserve","disconnect"].forEach(function(e){_.prototype[e]=function(){var t;return(t=w.get(this))[e].apply(t,arguments)}});var E=void 0!==a.ResizeObserver?a.ResizeObserver:_;t.default=E},10732:function(e,t,n){"use strict";n.d(t,{BS:function(){return A},_1:function(){return c},m:function(){return u}});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=n(68594),a=n(77984);function s(e,t){return new o.y(function(n){return{unsubscribe:e.onSnapshot(t||{},n)}})}function u(e,t){return s(e,t)}function c(e,t){return s(e,void 0).pipe((0,a.U)(function(e){return l(e,t)}))}function l(e,t){var n;return r(r({},e.data()),t?((n={})[t]=e.id,n):null)}function A(e,t){return s(e,void 0).pipe((0,a.U)(function(e){return e.docs})).pipe((0,a.U)(function(e){return e.map(function(e){return l(e,t)})}))}(0,n(99054).h)(function(e){return e.length>0})},56130:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(22970),o=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return(0,r.__extends)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n.closed||t.next(this._value),n},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,n=this._value;if(e)throw t;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n(17407).x)},68594:function(e,t,n){"use strict";n.d(t,{y:function(){return A}});var r=n(17080),o=n(93287),a=n(34105),s=n(69676),u=n(64020),c=n(59126),l=n(24831),A=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var a,s=this,u=(a=e)&&a instanceof r.Lv||a&&(0,c.m)(a.next)&&(0,c.m)(a.error)&&(0,c.m)(a.complete)&&(0,o.Nn)(a)?e:new r.Hp(e,t,n);return(0,l.x)(function(){var e=s.operator,t=s.source;u.add(e?e.call(u,t):t?s._subscribe(u):s._trySubscribe(u))}),u},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))(function(t,o){var a=new r.Hp({next:function(t){try{e(t)}catch(e){o(e),a.unsubscribe()}},error:o,complete:t});n.subscribe(a)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[a.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===e.length?s.y:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)})(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))(function(e,n){var r;t.subscribe(function(e){return r=e},function(e){return n(e)},function(){return e(r)})})},e.create=function(t){return new e(t)},e}();function d(e){var t;return null!==(t=null!=e?e:u.v.Promise)&&void 0!==t?t:Promise}},17407:function(e,t,n){"use strict";n.d(t,{x:function(){return l}});var r=n(22970),o=n(68594),a=n(93287),s=(0,n(5589).d)(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),u=n(37990),c=n(24831),l=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,r.__extends)(t,e),t.prototype.lift=function(e){var t=new A(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new s},t.prototype.next=function(e){var t=this;(0,c.x)(function(){var n,o;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var a=(0,r.__values)(t.currentObservers),s=a.next();!s.done;s=a.next())s.value.next(e)}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}}})},t.prototype.error=function(e){var t=this;(0,c.x)(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}})},t.prototype.complete=function(){var e=this;(0,c.x)(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this.hasError,r=this.isStopped,o=this.observers;return n||r?a.Lc:(this.currentObservers=null,o.push(e),new a.w0(function(){t.currentObservers=null,(0,u.P)(o,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,n=this.thrownError,r=this.isStopped;t?e.error(n):r&&e.complete()},t.prototype.asObservable=function(){var e=new o.y;return e.source=this,e},t.create=function(e,t){return new A(e,t)},t}(o.y),A=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return(0,r.__extends)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:a.Lc},t}(l)},17080:function(e,t,n){"use strict";n.d(t,{Hp:function(){return m},Lv:function(){return h}});var r=n(22970),o=n(59126),a=n(93287),s=n(64020),u=n(66278),c=n(15562),l=A("C",void 0,void 0);function A(e,t,n){return{kind:e,value:t,error:n}}var d=n(90561),f=n(24831),h=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,(0,a.Nn)(t)&&t.add(n)):n.destination=w,n}return(0,r.__extends)(t,e),t.create=function(e,t,n){return new m(e,t,n)},t.prototype.next=function(e){this.isStopped?b(A("N",e,void 0),this):this._next(e)},t.prototype.error=function(e){this.isStopped?b(A("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?b(l,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(a.w0),p=Function.prototype.bind;function g(e,t){return p.call(e,t)}var v=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){y(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){y(e)}else y(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){y(e)}},e}(),m=function(e){function t(t,n,r){var a,u,c=e.call(this)||this;return(0,o.m)(t)||!t?a={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:c&&s.v.useDeprecatedNextContext?((u=Object.create(t)).unsubscribe=function(){return c.unsubscribe()},a={next:t.next&&g(t.next,u),error:t.error&&g(t.error,u),complete:t.complete&&g(t.complete,u)}):a=t,c.destination=new v(a),c}return(0,r.__extends)(t,e),t}(h);function y(e){s.v.useDeprecatedSynchronousErrorHandling?(0,f.O)(e):(0,u.h)(e)}function b(e,t){var n=s.v.onStoppedNotification;n&&d.z.setTimeout(function(){return n(e,t)})}var w={closed:!0,next:c.Z,error:function(e){throw e},complete:c.Z}},93287:function(e,t,n){"use strict";n.d(t,{Lc:function(){return c},w0:function(){return u},Nn:function(){return l}});var r=n(22970),o=n(59126),a=(0,n(5589).d)(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}),s=n(37990),u=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,n,s,u,c=this._parentage;if(c){if(this._parentage=null,Array.isArray(c))try{for(var l=(0,r.__values)(c),d=l.next();!d.done;d=l.next())d.value.remove(this)}catch(t){e={error:t}}finally{try{d&&!d.done&&(t=l.return)&&t.call(l)}finally{if(e)throw e.error}}else c.remove(this)}var f=this.initialTeardown;if((0,o.m)(f))try{f()}catch(e){u=e instanceof a?e.errors:[e]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var p=(0,r.__values)(h),g=p.next();!g.done;g=p.next()){var v=g.value;try{A(v)}catch(e){u=null!=u?u:[],e instanceof a?u=(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(u)),(0,r.__read)(e.errors)):u.push(e)}}}catch(e){n={error:e}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(n)throw n.error}}}if(u)throw new a(u)}},t.prototype.add=function(e){var n;if(e&&e!==this){if(this.closed)A(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,s.P)(t,e)},t.prototype.remove=function(e){var n=this._finalizers;n&&(0,s.P)(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}(),c=u.EMPTY;function l(e){return e instanceof u||e&&"closed"in e&&(0,o.m)(e.remove)&&(0,o.m)(e.add)&&(0,o.m)(e.unsubscribe)}function A(e){(0,o.m)(e)?e():e.unsubscribe()}},64020:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},43806:function(e,t,n){"use strict";n.d(t,{a:function(){return v}});var r=n(68594),o=Array.isArray,a=Object.getPrototypeOf,s=Object.prototype,u=Object.keys,c=n(19184),l=n(69676),A=n(22970),d=n(77984),f=Array.isArray,h=n(26932),p=n(67394),g=n(90032);function v(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var g=(0,h.yG)(t),v=(0,h.jO)(t),y=function(e){if(1===e.length){var t=e[0];if(o(t))return{args:t,keys:null};if(t&&"object"==typeof t&&a(t)===s){var n=u(t);return{args:n.map(function(e){return t[e]}),keys:n}}}return{args:e,keys:null}}(t),b=y.args,w=y.keys;if(0===b.length)return(0,c.D)([],g);var _=new r.y((void 0===(e=w?function(e){return w.reduce(function(t,n,r){return t[n]=e[r],t},{})}:l.y)&&(e=l.y),function(t){m(g,function(){for(var n=b.length,r=Array(n),o=n,a=n,s=function(n){m(g,function(){var s=(0,c.D)(b[n],g),u=!1;s.subscribe((0,p.x)(t,function(o){r[n]=o,!u&&(u=!0,a--),a||t.next(e(r.slice()))},function(){--o||t.complete()}))},t)},u=0;u<n;u++)s(u)},t)}));return v?_.pipe((0,d.U)(function(e){return f(e)?v.apply(void 0,(0,A.__spreadArray)([],(0,A.__read)(e))):v(e)})):_}function m(e,t,n){e?(0,g.f)(n,e,t):t()}},4264:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var r=n(84309),o=n(26932),a=n(19184);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,r.J)(1)((0,a.D)(e,(0,o.yG)(e)))}},94707:function(e,t,n){"use strict";n.d(t,{P:function(){return a}});var r=n(68594),o=n(97674);function a(e){return new r.y(function(t){(0,o.Xf)(e()).subscribe(t)})}},20:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});var r=new(n(68594)).y(function(e){return e.complete()})},19184:function(e,t,n){"use strict";n.d(t,{D:function(){return w}});var r=n(97674),o=n(90032),a=n(1118),s=n(67394);function u(e,t){return void 0===t&&(t=0),(0,a.e)(function(n,r){n.subscribe((0,s.x)(r,function(n){return(0,o.f)(r,e,function(){return r.next(n)},t)},function(){return(0,o.f)(r,e,function(){return r.complete()},t)},function(n){return(0,o.f)(r,e,function(){return r.error(n)},t)}))})}function c(e,t){return void 0===t&&(t=0),(0,a.e)(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}var l=n(68594),A=n(6149),d=n(59126);function f(e,t){if(!e)throw Error("Iterable cannot be null");return new l.y(function(n){(0,o.f)(n,t,function(){var r=e[Symbol.asyncIterator]();(0,o.f)(n,t,function(){r.next().then(function(e){e.done?n.complete():n.next(e.value)})},0,!0)})})}var h=n(31053),p=n(51856),g=n(9361),v=n(83651),m=n(41305),y=n(62085),b=n(42141);function w(e,t){return t?function(e,t){if(null!=e){if((0,h.c)(e))return(0,r.Xf)(e).pipe(c(t),u(t));if((0,g.z)(e))return new l.y(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})});if((0,p.t)(e))return(0,r.Xf)(e).pipe(c(t),u(t));if((0,m.D)(e))return f(e,t);if((0,v.T)(e))return new l.y(function(n){var r;return(0,o.f)(n,t,function(){r=e[A.h](),(0,o.f)(n,t,function(){var e,t,o;try{t=(e=r.next()).value,o=e.done}catch(e){n.error(e);return}o?n.complete():n.next(t)},0,!0)}),function(){return(0,d.m)(null==r?void 0:r.return)&&r.return()}});if((0,b.L)(e))return f((0,b.Q)(e),t)}throw(0,y.z)(e)}(e,t):(0,r.Xf)(e)}},82808:function(e,t,n){"use strict";n.d(t,{s:function(){return o}});var r=n(94707);function o(e,t,n){return(0,r.P)(function(){return e()?t:n})}},97674:function(e,t,n){"use strict";n.d(t,{Xf:function(){return g}});var r=n(22970),o=n(9361),a=n(51856),s=n(68594),u=n(31053),c=n(41305),l=n(62085),A=n(83651),d=n(42141),f=n(59126),h=n(66278),p=n(34105);function g(e){if(e instanceof s.y)return e;if(null!=e){if((0,u.c)(e))return new s.y(function(t){var n=e[p.L]();if((0,f.m)(n.subscribe))return n.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")});if((0,o.z)(e))return new s.y(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()});if((0,a.t)(e))return new s.y(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,h.h)});if((0,c.D)(e))return v(e);if((0,A.T)(e))return new s.y(function(t){var n,o;try{for(var a=(0,r.__values)(e),s=a.next();!s.done;s=a.next()){var u=s.value;if(t.next(u),t.closed)return}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}t.complete()});if((0,d.L)(e))return v((0,d.Q)(e))}throw(0,l.z)(e)}function v(e){return new s.y(function(t){(function(e,t){var n,o,a,s;return(0,r.__awaiter)(this,void 0,void 0,function(){var u;return(0,r.__generator)(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=(0,r.__asyncValues)(e),c.label=1;case 1:return[4,n.next()];case 2:if((o=c.sent()).done)return[3,4];if(u=o.value,t.next(u),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a={error:c.sent()},[3,11];case 6:if(c.trys.push([6,,9,10]),!(o&&!o.done&&(s=n.return)))return[3,8];return[4,s.call(n)];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(a)throw a.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}},35120:function(e,t,n){"use strict";n.d(t,{of:function(){return a}});var r=n(26932),o=n(19184);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,r.yG)(e);return(0,o.D)(e,n)}},83746:function(e,t,n){"use strict";n.d(t,{_:function(){return a}});var r=n(68594),o=n(59126);function a(e,t){var n=(0,o.m)(e)?e:function(){return e},a=function(e){return e.error(n())};return new r.y(t?function(e){return t.schedule(a,0,e)}:a)}},47864:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var r=n(68594),o=n(9947),a=n(86670);function s(e,t,n){void 0===e&&(e=0),void 0===n&&(n=o.P);var s=-1;return null!=t&&((0,a.K)(t)?n=t:s=t),new r.y(function(t){var r,o=(r=e)instanceof Date&&!isNaN(r)?+e-n.now():e;o<0&&(o=0);var a=0;return n.schedule(function(){t.closed||(t.next(a++),0<=s?this.schedule(void 0,s):t.complete())},o)})}},67394:function(e,t,n){"use strict";n.d(t,{x:function(){return o}});var r=n(22970);function o(e,t,n,r,o){return new a(e,t,n,r,o)}var a=function(e){function t(t,n,r,o,a,s){var u=e.call(this,t)||this;return u.onFinalize=a,u.shouldUnsubscribe=s,u._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,u._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,u}return(0,r.__extends)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),n||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(n(17080).Lv)},47009:function(e,t,n){"use strict";n.d(t,{K:function(){return function e(t){return(0,a.e)(function(n,a){var s,u=null,c=!1;u=n.subscribe((0,o.x)(a,void 0,void 0,function(o){s=(0,r.Xf)(t(o,e(t)(n))),u?(u.unsubscribe(),u=null,s.subscribe(a)):c=!0})),c&&(u.unsubscribe(),u=null,s.subscribe(a))})}}});var r=n(97674),o=n(67394),a=n(1118)},61938:function(e,t,n){"use strict";n.d(t,{g:function(){return h}});var r=n(9947),o=n(4264),a=n(56718),s=n(1118),u=n(67394),c=n(15562),l=n(77984),A=n(62355),d=n(97674),f=n(47864);function h(e,t){void 0===t&&(t=r.z);var n=(0,f.H)(e,t);return function e(t,n){return n?function(r){return(0,o.z)(n.pipe((0,a.q)(1),(0,s.e)(function(e,t){e.subscribe((0,u.x)(t,c.Z))})),r.pipe(e(t)))}:(0,A.z)(function(e,n){return(0,d.Xf)(t(e,n)).pipe((0,a.q)(1),(0,l.U)(function(){return e}))})}(function(){return n})}},39369:function(e,t,n){"use strict";n.d(t,{x:function(){return s}});var r=n(69676),o=n(1118),a=n(67394);function s(e,t){return void 0===t&&(t=r.y),e=null!=e?e:u,(0,o.e)(function(n,r){var o,s=!0;n.subscribe((0,a.x)(r,function(n){var a=t(n);(s||!e(o,a))&&(s=!1,o=a,r.next(n))}))})}function u(e,t){return e===t}},99054:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(1118),o=n(67394);function a(e,t){return(0,r.e)(function(n,r){var a=0;n.subscribe((0,o.x)(r,function(n){return e.call(t,n,a++)&&r.next(n)}))})}},51058:function(e,t,n){"use strict";n.d(t,{P:function(){return l}});var r=(0,n(5589).d)(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}),o=n(99054),a=n(56718),s=n(1118),u=n(67394),c=n(69676);function l(e,t){var n=arguments.length>=2;return function(l){var A;return l.pipe(e?(0,o.h)(function(t,n){return e(t,n,l)}):c.y,(0,a.q)(1),n?(0,s.e)(function(e,n){var r=!1;e.subscribe((0,u.x)(n,function(e){r=!0,n.next(e)},function(){r||n.next(t),n.complete()}))}):(A=function(){return new r},(0,s.e)(function(e,t){var n=!1;e.subscribe((0,u.x)(t,function(e){n=!0,t.next(e)},function(){return n?t.complete():t.error(A())}))})))}}},77984:function(e,t,n){"use strict";n.d(t,{U:function(){return a}});var r=n(1118),o=n(67394);function a(e,t){return(0,r.e)(function(n,r){var a=0;n.subscribe((0,o.x)(r,function(n){r.next(e.call(t,n,a++))}))})}},84309:function(e,t,n){"use strict";n.d(t,{J:function(){return a}});var r=n(62355),o=n(69676);function a(e){return void 0===e&&(e=1/0),(0,r.z)(o.y,e)}},62355:function(e,t,n){"use strict";n.d(t,{z:function(){return function e(t,n,c){return(void 0===c&&(c=1/0),(0,u.m)(n))?e(function(e,a){return(0,r.U)(function(t,r){return n(e,t,a,r)})((0,o.Xf)(t(e,a)))},c):("number"==typeof n&&(c=n),(0,a.e)(function(e,n){var r,a,u,l,A,d,f,h,p;return r=c,u=[],l=0,A=0,d=!1,f=function(){!d||u.length||l||n.complete()},h=function(e){return l<r?p(e):u.push(e)},p=function(e){l++;var c=!1;(0,o.Xf)(t(e,A++)).subscribe((0,s.x)(n,function(e){a?h(e):n.next(e)},function(){c=!0},void 0,function(){if(c)try{for(l--;u.length&&l<r;)!function(){var e=u.shift();p(e)}();f()}catch(e){n.error(e)}}))},e.subscribe((0,s.x)(n,h,function(){d=!0,f()})),function(){}}))}}});var r=n(77984),o=n(97674),a=n(1118),s=(n(90032),n(67394)),u=n(59126)},16981:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var r=n(4264),o=n(26932),a=n(1118);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,o.yG)(e);return(0,a.e)(function(t,o){(n?(0,r.z)(e,t,n):(0,r.z)(e,t)).subscribe(o)})}},12335:function(e,t,n){"use strict";n.d(t,{w:function(){return s}});var r=n(97674),o=n(1118),a=n(67394);function s(e,t){return(0,o.e)(function(n,o){var s=null,u=0,c=!1,l=function(){return c&&!s&&o.complete()};n.subscribe((0,a.x)(o,function(n){null==s||s.unsubscribe();var c=0,A=u++;(0,r.Xf)(e(n,A)).subscribe(s=(0,a.x)(o,function(e){return o.next(t?t(n,e,A,c++):e)},function(){s=null,l()}))},function(){c=!0,l()}))})}},56718:function(e,t,n){"use strict";n.d(t,{q:function(){return s}});var r=n(20),o=n(1118),a=n(67394);function s(e){return e<=0?function(){return r.E}:(0,o.e)(function(t,n){var r=0;t.subscribe((0,a.x)(n,function(t){++r<=e&&(n.next(t),e<=r&&n.complete())}))})}},11348:function(e,t,n){"use strict";n.d(t,{b:function(){return u}});var r=n(59126),o=n(1118),a=n(67394),s=n(69676);function u(e,t,n){var u=(0,r.m)(e)||t||n?{next:e,error:t,complete:n}:e;return u?(0,o.e)(function(e,t){null===(n=u.subscribe)||void 0===n||n.call(u);var n,r=!0;e.subscribe((0,a.x)(t,function(e){var n;null===(n=u.next)||void 0===n||n.call(u,e),t.next(e)},function(){var e;r=!1,null===(e=u.complete)||void 0===e||e.call(u),t.complete()},function(e){var n;r=!1,null===(n=u.error)||void 0===n||n.call(u,e),t.error(e)},function(){var e,t;r&&(null===(e=u.unsubscribe)||void 0===e||e.call(u)),null===(t=u.finalize)||void 0===t||t.call(u)}))}):s.y}},9947:function(e,t,n){"use strict";n.d(t,{P:function(){return d},z:function(){return A}});var r=n(22970),o=function(e){function t(t,n){return e.call(this)||this}return(0,r.__extends)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(93287).w0),a={setInterval:function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var s=a.delegate;return(null==s?void 0:s.setInterval)?s.setInterval.apply(s,(0,r.__spreadArray)([e,t],(0,r.__read)(n))):setInterval.apply(void 0,(0,r.__spreadArray)([e,t],(0,r.__read)(n)))},clearInterval:function(e){var t=a.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},s=n(37990),u=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return(0,r.__extends)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n,r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),a.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&a.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(e){r=!0,n=e||Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,s.P)(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(o),c={now:function(){return(c.delegate||Date).now()},delegate:void 0},l=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=c.now,e}(),A=new(function(e){function t(t,n){void 0===n&&(n=l.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return(0,r.__extends)(t,e),t.prototype.flush=function(e){var t,n=this.actions;if(this._active){n.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,t){for(;e=n.shift();)e.unsubscribe();throw t}},t}(l))(u),d=A},90561:function(e,t,n){"use strict";n.d(t,{z:function(){return o}});var r=n(22970),o={setTimeout:function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];var s=o.delegate;return(null==s?void 0:s.setTimeout)?s.setTimeout.apply(s,(0,r.__spreadArray)([e,t],(0,r.__read)(n))):setTimeout.apply(void 0,(0,r.__spreadArray)([e,t],(0,r.__read)(n)))},clearTimeout:function(e){var t=o.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},6149:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},34105:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},26932:function(e,t,n){"use strict";n.d(t,{_6:function(){return c},jO:function(){return s},yG:function(){return u}});var r=n(59126),o=n(86670);function a(e){return e[e.length-1]}function s(e){return(0,r.m)(a(e))?e.pop():void 0}function u(e){return(0,o.K)(a(e))?e.pop():void 0}function c(e,t){return"number"==typeof a(e)?e.pop():t}},37990:function(e,t,n){"use strict";function r(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,{P:function(){return r}})},5589:function(e,t,n){"use strict";function r(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,{d:function(){return r}})},24831:function(e,t,n){"use strict";n.d(t,{O:function(){return s},x:function(){return a}});var r=n(64020),o=null;function a(e){if(r.v.useDeprecatedSynchronousErrorHandling){var t=!o;if(t&&(o={errorThrown:!1,error:null}),e(),t){var n=o,a=n.errorThrown,s=n.error;if(o=null,a)throw s}}else e()}function s(e){r.v.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=e)}},90032:function(e,t,n){"use strict";function r(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var a=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(a),!o)return a}n.d(t,{f:function(){return r}})},69676:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},9361:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var r=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},41305:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(59126);function o(e){return Symbol.asyncIterator&&(0,r.m)(null==e?void 0:e[Symbol.asyncIterator])}},59126:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.d(t,{m:function(){return r}})},31053:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(34105),o=n(59126);function a(e){return(0,o.m)(e[r.L])}},83651:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var r=n(6149),o=n(59126);function a(e){return(0,o.m)(null==e?void 0:e[r.h])}},51856:function(e,t,n){"use strict";n.d(t,{t:function(){return o}});var r=n(59126);function o(e){return(0,r.m)(null==e?void 0:e.then)}},42141:function(e,t,n){"use strict";n.d(t,{L:function(){return s},Q:function(){return a}});var r=n(22970),o=n(59126);function a(e){return(0,r.__asyncGenerator)(this,arguments,function(){var t,n,o;return(0,r.__generator)(this,function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,(0,r.__await)(t.read())];case 3:if(o=(n=a.sent()).value,!n.done)return[3,5];return[4,(0,r.__await)(void 0)];case 4:return[2,a.sent()];case 5:return[4,(0,r.__await)(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function s(e){return(0,o.m)(null==e?void 0:e.getReader)}},86670:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(59126);function o(e){return e&&(0,r.m)(e.schedule)}},1118:function(e,t,n){"use strict";n.d(t,{e:function(){return o}});var r=n(59126);function o(e){return function(t){if((0,r.m)(null==t?void 0:t.lift))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}},15562:function(e,t,n){"use strict";function r(){}n.d(t,{Z:function(){return r}})},66278:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(64020),o=n(90561);function a(e){o.z.setTimeout(function(){var t=r.v.onUnhandledError;if(t)t(e);else throw e})}},62085:function(e,t,n){"use strict";function r(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}n.d(t,{z:function(){return r}})},20672:function(e,t,n){"use strict";n.d(t,{MO:function(){return c},Ye:function(){return u}});var r=n(66439),o=n(12995),a={isHistory(e){return(0,r.P)(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||o.OX.isOperationList(e.redos[0].operations))&&(0===e.undos.length||o.OX.isOperationList(e.undos[0].operations))}};new WeakMap;var s=new WeakMap,u=new WeakMap,c={isHistoryEditor(e){return a.isHistory(e.history)&&o.ML.isEditor(e)},isMerging(e){return u.get(e)},isSaving(e){return s.get(e)},redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var n=c.isMerging(e);u.set(e,!1),t(),u.set(e,n)},withoutSaving(e,t){var n=c.isSaving(e);s.set(e,!1),t(),s.set(e,n)}}},85009:function(e,t,n){"use strict";n.d(t,{CX:function(){return td},F3:function(){return eB},mH:function(){return t_},UE:function(){return ty},vt:function(){return eV},ui:function(){return eq},_7:function(){return eR},BU:function(){return tT}});var r=n(93636),o=/*#__PURE__*/n.n(r),a=n(54073),s=/*#__PURE__*/n.n(a),u=n(12436),c=/*#__PURE__*/n.n(u),l=n(2784);function A(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function d(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function f(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n,r=getComputedStyle(e,null);return d(r.overflowY,t)||d(r.overflowX,t)||!!(n=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e))&&(n.clientHeight<e.scrollHeight||n.clientWidth<e.scrollWidth)}return!1}function h(e,t,n,r,o,a,s,u){return a<e&&s>t||a>e&&s<t?0:a<=e&&u<=n||s>=t&&u>=n?a-e-r:s>t&&u<n||a<e&&u>n?s-t+o:0}function p(e,t){var n=window,r=t.scrollMode,o=t.block,a=t.inline,s=t.boundary,u=t.skipOverflowHiddenElements,c="function"==typeof s?s:function(e){return e!==s};if(!A(e))throw TypeError("Invalid target");for(var l=document.scrollingElement||document.documentElement,d=[],p=e;A(p)&&c(p);){if((p=p.parentElement)===l){d.push(p);break}null!=p&&p===document.body&&f(p)&&!f(document.documentElement)||null!=p&&f(p,u)&&d.push(p)}for(var g=n.visualViewport?n.visualViewport.width:innerWidth,v=n.visualViewport?n.visualViewport.height:innerHeight,m=window.scrollX||pageXOffset,y=window.scrollY||pageYOffset,b=e.getBoundingClientRect(),w=b.height,_=b.width,E=b.top,C=b.right,B=b.bottom,I=b.left,x="start"===o||"nearest"===o?E:"end"===o?B:E+w/2,T="center"===a?I+_/2:"end"===a?C:I,S=[],k=0;k<d.length;k++){var D=d[k],N=D.getBoundingClientRect(),O=N.height,F=N.width,R=N.top,L=N.right,M=N.bottom,P=N.left;if("if-needed"===r&&E>=0&&I>=0&&B<=v&&C<=g&&E>=R&&B<=M&&I>=P&&C<=L)break;var U=getComputedStyle(D),j=parseInt(U.borderLeftWidth,10),Z=parseInt(U.borderTopWidth,10),Q=parseInt(U.borderRightWidth,10),H=parseInt(U.borderBottomWidth,10),V=0,K=0,z="offsetWidth"in D?D.offsetWidth-D.clientWidth-j-Q:0,G="offsetHeight"in D?D.offsetHeight-D.clientHeight-Z-H:0;if(l===D)V="start"===o?x:"end"===o?x-v:"nearest"===o?h(y,y+v,v,Z,H,y+x,y+x+w,w):x-v/2,K="start"===a?T:"center"===a?T-g/2:"end"===a?T-g:h(m,m+g,g,j,Q,m+T,m+T+_,_),V=Math.max(0,V+y),K=Math.max(0,K+m);else{V="start"===o?x-R-Z:"end"===o?x-M+H+G:"nearest"===o?h(R,M,O,Z,H+G,x,x+w,w):x-(R+O/2)+G/2,K="start"===a?T-P-j:"center"===a?T-(P+F/2)+z/2:"end"===a?T-L+Q+z:h(P,L,F,j,Q+z,T,T+_,_);var W=D.scrollLeft,q=D.scrollTop;x+=q-(V=Math.max(0,Math.min(q+V,D.scrollHeight-O+G))),T+=W-(K=Math.max(0,Math.min(W+K,D.scrollWidth-F+z)))}S.push({el:D,top:V,left:K})}return S}function g(e){return e===Object(e)&&0!==Object.keys(e).length}var v=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(g(t)&&"function"==typeof t.behavior)return t.behavior(n?p(e,t):[]);if(n){var r=!1===t?{block:"end",inline:"nearest"}:g(t)?t:{block:"start",inline:"nearest"};return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach(function(e){var r=e.el,o=e.top,a=e.left;r.scroll&&n?r.scroll({top:o,left:a,behavior:t}):(r.scrollTop=o,r.scrollLeft=a)})}(p(e,r),r.behavior)}},m=n(12995),y=n(87202),b=n(28316);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var E=0;class C{constructor(){this.id="".concat(E++)}}var B=new WeakMap,I=new WeakMap,x=new WeakMap,T=new WeakMap,S=new WeakMap,k=new WeakMap,D=new WeakMap,N=new WeakMap,O=new WeakMap,F=new WeakMap,R=new WeakMap,L=new WeakMap,M=new WeakMap,P=new WeakMap,U=new WeakMap,j=new WeakMap,Z=new WeakMap,Q=new WeakMap,H=new WeakMap,V=new WeakMap,K=new WeakMap,z=new WeakMap,G=Symbol("placeholder"),W=Symbol("mark-placeholder"),q=globalThis.Text,Y=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,$=e=>J(e)&&8===e.nodeType,X=e=>J(e)&&1===e.nodeType,J=e=>{var t=Y(e);return!!t&&e instanceof t.Node},ee=e=>{var t=e&&e.anchorNode&&Y(e.anchorNode);return!!t&&e instanceof t.Selection},et=e=>J(e)&&3===e.nodeType,en=e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length,er=e=>{var[t,n]=e;if(X(t)&&t.childNodes.length){var r=n===t.childNodes.length,o=r?n-1:n;for([t,o]=eo(t,o,r?"backward":"forward"),r=o<n;X(t)&&t.childNodes.length;){var a=r?t.childNodes.length-1:0;t=ea(t,a,r?"backward":"forward")}n=r&&null!=t.textContent?t.textContent.length:0}return[t,n]},ei=e=>{for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},eo=(e,t,n)=>{for(var{childNodes:r}=e,o=r[t],a=t,s=!1,u=!1;($(o)||X(o)&&0===o.childNodes.length||X(o)&&"false"===o.getAttribute("contenteditable"))&&(!s||!u);){if(a>=r.length){s=!0,a=t-1,n="backward";continue}if(a<0){u=!0,a=t+1,n="forward";continue}o=r[a],t=a,a+="forward"===n?1:-1}return[o,t]},ea=(e,t,n)=>{var[r]=eo(e,t,n);return r},es=e=>{var t="";if(et(e)&&e.nodeValue)return e.nodeValue;if(X(e)){for(var n of Array.from(e.childNodes))t+=es(n);var r=getComputedStyle(e).getPropertyValue("display");("block"===r||"list"===r||"BR"===e.tagName)&&(t+="\n")}return t},eu=/data-slate-fragment="(.+?)"/m,ec=e=>{var[,t]=e.getData("text/html").match(eu)||[];return t},el=(e,t,n)=>{var{target:r}=t;if(X(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:o}=eB.getWindow(e);if(o.contains(r))return eB.hasDOMNode(e,r,{editable:!0});var a=n.find(e=>{var{addedNodes:t,removedNodes:n}=e;for(var o of t)if(o===r||o.contains(r))return!0;for(var a of n)if(a===r||a.contains(r))return!0});return!!a&&a!==t&&el(e,a,n)},eA=parseInt(l.version.split(".")[0],10)>=17,ed="undefined"!=typeof navigator&&"undefined"!=typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ef="undefined"!=typeof navigator&&/Mac OS X/.test(navigator.userAgent),eh="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent),ep="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),eg="undefined"!=typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),ev="undefined"!=typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),em="undefined"!=typeof navigator&&/Chrome/i.test(navigator.userAgent),ey="undefined"!=typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),eb="undefined"!=typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),ew="undefined"!=typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),e_="undefined"!=typeof navigator&&/.*Wechat/.test(navigator.userAgent),eE=!!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement),eC=!ey&&!ev&&"undefined"!=typeof globalThis&&globalThis.InputEvent&&"function"==typeof globalThis.InputEvent.prototype.getTargetRanges,eB={isComposing(e){return!!M.get(e)},getWindow(e){var t=x.get(e);if(!t)throw Error("Unable to find a host window element for this editor");return t},findKey(e,t){var n=N.get(t);return n||(n=new C,N.set(t,n)),n},findPath(e,t){for(var n=[],r=t;;){var o=I.get(r);if(null==o){if(m.ML.isEditor(r))return n;break}var a=B.get(r);if(null==a)break;n.unshift(a),r=o}throw Error("Unable to find the path for Slate node: ".concat(m.o4.stringify(t)))},findDocumentOrShadowRoot(e){var t=eB.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&null!=n.getSelection?n:t.ownerDocument},isFocused(e){return!!L.get(e)},isReadOnly(e){return!!R.get(e)},blur(e){var t=eB.toDOMNode(e,e),n=eB.findDocumentOrShadowRoot(e);L.set(e,!1),n.activeElement===t&&t.blur()},focus(e){var t=eB.toDOMNode(e,e),n=eB.findDocumentOrShadowRoot(e);L.set(e,!0),n.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){var{selection:t}=e,n=eB.findDocumentOrShadowRoot(e).getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),t&&m.YR.deselect(e)},hasDOMNode(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:o=!1}=r,a=eB.toDOMNode(e,e);try{n=X(t)?t:t.parentElement}catch(e){if(!e.message.includes('Permission denied to access property "nodeType"'))throw e}return!!n&&n.closest("[data-slate-editor]")===a&&(!o||!!n.isContentEditable||"boolean"==typeof n.isContentEditable&&n.closest('[contenteditable="false"]')===a||!!n.getAttribute("data-slate-zero-width"))},insertData(e,t){e.insertData(t)},insertFragmentData(e,t){return e.insertFragmentData(t)},insertTextData(e,t){return e.insertTextData(t)},setFragmentData(e,t,n){e.setFragmentData(t,n)},toDOMNode(e,t){var n=O.get(e),r=m.ML.isEditor(t)?T.get(e):null==n?void 0:n.get(eB.findKey(e,t));if(!r)throw Error("Cannot resolve a DOM node from Slate node: ".concat(m.o4.stringify(t)));return r},toDOMPoint(e,t){var[n]=m.ML.node(e,t.path),r=eB.toDOMNode(e,n);m.ML.void(e,{at:t})&&(t={path:t.path,offset:0});for(var o=Array.from(r.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),a=0,s=0;s<o.length;s++){var u=o[s],c=u.childNodes[0];if(null!=c&&null!=c.textContent){var{length:l}=c.textContent,A=u.getAttribute("data-slate-length"),d=a+(null==A?l:parseInt(A,10)),f=o[s+1];if(t.offset===d&&null!=f&&f.hasAttribute("data-slate-mark-placeholder")){var h,p,g=f.childNodes[0];h=[g instanceof q?g:f,null!==(p=f.textContent)&&void 0!==p&&p.startsWith("\uFEFF")?1:0];break}if(t.offset<=d){h=[c,Math.min(l,Math.max(0,t.offset-a))];break}a=d}}if(!h)throw Error("Cannot resolve a DOM point from Slate point: ".concat(m.o4.stringify(t)));return h},toDOMRange(e,t){var{anchor:n,focus:r}=t,o=m.e6.isBackward(t),a=eB.toDOMPoint(e,n),s=m.e6.isCollapsed(t)?a:eB.toDOMPoint(e,r),u=eB.getWindow(e).document.createRange(),[c,l]=o?s:a,[A,d]=o?a:s,f=!!(X(c)?c:c.parentElement).getAttribute("data-slate-zero-width"),h=!!(X(A)?A:A.parentElement).getAttribute("data-slate-zero-width");return u.setStart(c,f?1:l),u.setEnd(A,h?1:d),u},toSlateNode(e,t){var n=X(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?k.get(n):null;if(!r)throw Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var n,{clientX:r,clientY:o,target:a}=t;if(null==r||null==o)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var s=eB.toSlateNode(e,t.target),u=eB.findPath(e,s);if(m.ML.isVoid(e,s)){var c=a.getBoundingClientRect(),l=e.isInline(s)?r-c.left<c.left+c.width-r:o-c.top<c.top+c.height-o,A=m.ML.point(e,u,{edge:l?"start":"end"}),d=l?m.ML.before(e,A):m.ML.after(e,A);if(d)return m.ML.range(e,d)}var{document:f}=eB.getWindow(e);if(f.caretRangeFromPoint)n=f.caretRangeFromPoint(r,o);else{var h=f.caretPositionFromPoint(r,o);h&&((n=f.createRange()).setStart(h.offsetNode,h.offset),n.setEnd(h.offsetNode,h.offset))}if(!n)throw Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return eB.toSlateRange(e,n,{exactMatch:!1,suppressThrow:!1})},toSlatePoint(e,t,n){var{exactMatch:r,suppressThrow:o}=n,[a,s]=r?t:er(t),u=a.parentNode,c=null,l=0;if(u){var A,d,f=eB.toDOMNode(e,e),h=u.closest('[data-slate-void="true"]'),p=h&&f.contains(h)?h:null,g=u.closest("[data-slate-leaf]"),v=null;if(g){if(c=g.closest('[data-slate-node="text"]')){var y=eB.getWindow(e).document.createRange();y.setStart(c,0),y.setEnd(a,s);var b=y.cloneContents();[...Array.prototype.slice.call(b.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(b.querySelectorAll("[contenteditable=false]"))].forEach(e=>{if(eh&&!r&&e.hasAttribute("data-slate-zero-width")&&e.textContent.length>0&&"\uFEFF"!==e.textContext){e.textContent.startsWith("\uFEFF")&&(e.textContent=e.textContent.slice(1));return}e.parentNode.removeChild(e)}),l=b.textContent.length,v=c}}else if(p){for(var w=p.querySelectorAll("[data-slate-leaf]"),_=0;_<w.length;_++){var E=w[_];if(eB.hasDOMNode(e,E)){g=E;break}}g?(c=g.closest('[data-slate-node="text"]'),l=(v=g).textContent.length,v.querySelectorAll("[data-slate-zero-width]").forEach(e=>{l-=e.textContent.length})):l=1}v&&l===v.textContent.length&&eh&&"z"===v.getAttribute("data-slate-zero-width")&&null!==(A=v.textContent)&&void 0!==A&&A.startsWith("\uFEFF")&&(u.hasAttribute("data-slate-zero-width")||ep&&null!==(d=v.textContent)&&void 0!==d&&d.endsWith("\n\n"))&&l--}if(eh&&!c&&!r){var C=u.hasAttribute("data-slate-node")?u:u.closest("[data-slate-node]");if(C&&eB.hasDOMNode(e,C,{editable:!0})){var B=eB.toSlateNode(e,C),{path:I,offset:x}=m.ML.start(e,eB.findPath(e,B));return C.querySelector("[data-slate-leaf]")||(x=s),{path:I,offset:x}}}if(!c){if(o)return null;throw Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var T=eB.toSlateNode(e,c);return{path:eB.findPath(e,T),offset:l}},toSlateRange(e,t,n){var r,o,a,s,u,{exactMatch:c,suppressThrow:l}=n;if((ee(t)?t.anchorNode:t.startContainer)&&(ee(t)?(r=t.anchorNode,o=t.anchorOffset,a=t.focusNode,s=t.focusOffset,u=em&&ei(r)?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed):(r=t.startContainer,o=t.startOffset,a=t.endContainer,s=t.endOffset,u=t.collapsed)),null==r||null==a||null==o||null==s)throw Error("Cannot resolve a Slate range from DOM range: ".concat(t));var A=eB.toSlatePoint(e,[r,o],{exactMatch:c,suppressThrow:l});if(!A)return null;var d=u?A:eB.toSlatePoint(e,[a,s],{exactMatch:c,suppressThrow:l});if(!d)return null;var f={anchor:A,focus:d};return m.e6.isExpanded(f)&&m.e6.isForward(f)&&X(a)&&m.ML.void(e,{at:f.focus,mode:"highest"})&&(f=m.ML.unhangRange(e,f,{voids:!0})),f},hasRange(e,t){var{anchor:n,focus:r}=t;return m.ML.hasPath(e,n.path)&&m.ML.hasPath(e,r.path)},hasTarget(e,t){return J(t)&&eB.hasDOMNode(e,t)},hasEditableTarget(e,t){return J(t)&&eB.hasDOMNode(e,t,{editable:!0})},hasSelectableTarget(e,t){return eB.hasEditableTarget(e,t)||eB.isTargetInsideNonReadonlyVoid(e,t)},isTargetInsideNonReadonlyVoid(e,t){if(R.get(e))return!1;var n=eB.hasTarget(e,t)&&eB.toSlateNode(e,t);return m.ML.isVoid(e,n)},androidScheduleFlush(e){var t;null===(t=j.get(e))||void 0===t||t()},androidPendingDiffs(e){return H.get(e)}},eI=eE?l.useLayoutEffect:l.useEffect,ex=["anchor","focus"],eT=["anchor","focus"],eS=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),ek=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n],a=_(r,ex),s=_(o,eT);if(!m.e6.equals(r,o)||r[G]!==o[G]||!eS(a,s))return!1}return!0},eD=e=>{var{isLast:t,leaf:n,parent:r,text:o}=e,a=eR(),s=eB.findPath(a,o),u=m.y$.parent(s),c=!0===n[W];return a.isVoid(r)?/*#__PURE__*/l.createElement(eO,{length:m.NB.string(r).length}):""!==n.text||r.children[r.children.length-1]!==o||a.isInline(r)||""!==m.ML.string(a,u)?""===n.text?/*#__PURE__*/l.createElement(eO,{isMarkPlaceholder:c}):t&&"\n"===n.text.slice(-1)?/*#__PURE__*/l.createElement(eN,{isTrailing:!0,text:n.text}):/*#__PURE__*/l.createElement(eN,{text:n.text}):/*#__PURE__*/l.createElement(eO,{isLineBreak:!0,isMarkPlaceholder:c})},eN=e=>{var{text:t,isTrailing:n=!1}=e,r=(0,l.useRef)(null),o=()=>"".concat(null!=t?t:"").concat(n?"\n":"");return(eI(()=>{var e=o();r.current&&r.current.textContent!==e&&(r.current.textContent=e)}),r.current)?/*#__PURE__*/l.createElement("span",{"data-slate-string":!0,ref:r}):/*#__PURE__*/l.createElement("span",{"data-slate-string":!0,ref:r},o())},eO=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,o={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(o["data-slate-mark-placeholder"]=!0),/*#__PURE__*/l.createElement("span",Object.assign({},o),eh&&n?null:"\uFEFF",n?/*#__PURE__*/l.createElement("br",null):null)},eF=/*#__PURE__*/(0,l.createContext)(null),eR=()=>{var e=(0,l.useContext)(eF);if(!e)throw Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},eL=/*#__PURE__*/l.memo(e=>{var{leaf:t,isLast:n,text:r,parent:o,renderPlaceholder:a,renderLeaf:s=e=>/*#__PURE__*/l.createElement(eM,Object.assign({},e))}=e,u=(0,l.useRef)(null),c=eR(),A=(0,l.useRef)(null);(0,l.useEffect)(()=>()=>{A.current&&A.current.disconnect()},[]),(0,l.useEffect)(()=>{var e=null==u?void 0:u.current;if(e?S.set(c,e):S.delete(c),A.current?(A.current.disconnect(),e&&A.current.observe(e)):e&&(A.current=new ResizeObserver(e=>{var[{target:t}]=e,n=F.get(c);if(n){var r="".concat(t.clientHeight,"px");n.innerHTML=':where([data-slate-editor-id="'.concat(c.id,'"]) { min-height: ').concat(r,"; }")}}),A.current.observe(e)),!e){var t=F.get(c);t&&(t.innerHTML="")}return()=>{S.delete(c)}},[u,t]);var d=/*#__PURE__*/l.createElement(eD,{isLast:n,leaf:t,parent:o,text:r});if(t[G]){var f={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:u}};d=/*#__PURE__*/l.createElement(l.Fragment,null,a(f),d)}return s({attributes:{"data-slate-leaf":!0},children:d,leaf:t,text:r})},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&m.xv.equals(t.leaf,e.leaf)&&t.leaf[G]===e.leaf[G]),eM=e=>{var{attributes:t,children:n}=e;return /*#__PURE__*/l.createElement("span",Object.assign({},t),n)},eP=/*#__PURE__*/l.memo(e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:o,renderLeaf:a,text:s}=e,u=eR(),c=(0,l.useRef)(null),A=m.xv.decorations(s,t),d=eB.findKey(u,s),f=[],h=0;h<A.length;h++){var p=A[h];f.push(/*#__PURE__*/l.createElement(eL,{isLast:n&&h===A.length-1,key:"".concat(d.id,"-").concat(h),renderPlaceholder:o,leaf:p,text:s,parent:r,renderLeaf:a}))}return eI(()=>{var e=O.get(u);c.current?(null==e||e.set(d,c.current),D.set(s,c.current),k.set(c.current,s)):(null==e||e.delete(d),D.delete(s))}),/*#__PURE__*/l.createElement("span",{"data-slate-node":"text",ref:c},f)},(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&ek(t.decorations,e.decorations)),eU=/*#__PURE__*/l.memo(e=>{var{decorations:t,element:n,renderElement:r=e=>/*#__PURE__*/l.createElement(ej,Object.assign({},e)),renderPlaceholder:a,renderLeaf:s,selection:u}=e,c=eR(),A=eG(),d=c.isInline(n),f=eB.findKey(c,n),h=(0,l.useCallback)(e=>{var t=O.get(c);e?(null==t||t.set(f,e),D.set(n,e),k.set(e,n)):(null==t||t.delete(f),D.delete(n))},[c,f,n]),p=eK({decorations:t,node:n,renderElement:r,renderPlaceholder:a,renderLeaf:s,selection:u}),g={"data-slate-node":"element",ref:h};if(d&&(g["data-slate-inline"]=!0),!d&&m.ML.hasInlines(c,n)){var v=m.NB.string(n),y=o()(v);"rtl"===y&&(g.dir=y)}if(m.ML.isVoid(c,n)){g["data-slate-void"]=!0,!A&&d&&(g.contentEditable=!1);var[[b]]=m.NB.texts(n);p=/*#__PURE__*/l.createElement(d?"span":"div",{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},/*#__PURE__*/l.createElement(eP,{renderPlaceholder:a,decorations:[],isLast:!1,parent:n,text:b})),B.set(b,0),I.set(b,n)}return r({attributes:g,children:p,element:n})},(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&ek(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&m.e6.equals(e.selection,t.selection))),ej=e=>{var{attributes:t,children:n,element:r}=e,o=eR().isInline(r)?"span":"div";return /*#__PURE__*/l.createElement(o,Object.assign({},t,{style:{position:"relative"}}),n)},eZ=/*#__PURE__*/(0,l.createContext)(()=>[]),eQ=()=>(0,l.useContext)(eZ),eH=/*#__PURE__*/(0,l.createContext)(!1),eV=()=>(0,l.useContext)(eH),eK=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:a,selection:s}=e,u=eQ(),c=eR(),A=eB.findPath(c,n),d=[],f=m.W_.isElement(n)&&!c.isInline(n)&&m.ML.hasInlines(c,n),h=0;h<n.children.length;h++){var p=A.concat(h),g=n.children[h],v=eB.findKey(c,g),y=m.ML.range(c,p),b=s&&m.e6.intersection(y,s),w=u([g,p]);for(var _ of t){var E=m.e6.intersection(_,y);E&&w.push(E)}m.W_.isElement(g)?d.push(/*#__PURE__*/l.createElement(eH.Provider,{key:"provider-".concat(v.id),value:!!b},/*#__PURE__*/l.createElement(eU,{decorations:w,element:g,key:v.id,renderElement:r,renderPlaceholder:o,renderLeaf:a,selection:b}))):d.push(/*#__PURE__*/l.createElement(eP,{decorations:w,key:v.id,isLast:f&&h===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:a,text:g})),B.set(g,h),I.set(g,n)}return d},ez=/*#__PURE__*/(0,l.createContext)(!1),eG=()=>(0,l.useContext)(ez),eW=/*#__PURE__*/(0,l.createContext)(null),eq=()=>{var e=(0,l.useContext)(eW);if(!e)throw Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t},eY={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},e$={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},eX={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},eJ=e=>{var t=eY[e],n=e$[e],r=eX[e],o=t&&(0,y.TB)(t),a=n&&(0,y.TB)(n),s=r&&(0,y.TB)(r);return e=>!!(o&&o(e)||ef&&a&&a(e)||!ef&&s&&s(e))},e0={isBold:eJ("bold"),isCompose:eJ("compose"),isMoveBackward:eJ("moveBackward"),isMoveForward:eJ("moveForward"),isDeleteBackward:eJ("deleteBackward"),isDeleteForward:eJ("deleteForward"),isDeleteLineBackward:eJ("deleteLineBackward"),isDeleteLineForward:eJ("deleteLineForward"),isDeleteWordBackward:eJ("deleteWordBackward"),isDeleteWordForward:eJ("deleteWordForward"),isExtendBackward:eJ("extendBackward"),isExtendForward:eJ("extendForward"),isExtendLineBackward:eJ("extendLineBackward"),isExtendLineForward:eJ("extendLineForward"),isItalic:eJ("italic"),isMoveLineBackward:eJ("moveLineBackward"),isMoveLineForward:eJ("moveLineForward"),isMoveWordBackward:eJ("moveWordBackward"),isMoveWordForward:eJ("moveWordForward"),isRedo:eJ("redo"),isSoftBreak:eJ("insertSoftBreak"),isSplitBlock:eJ("splitBlock"),isTransposeCharacter:eJ("transposeCharacter"),isUndo:eJ("undo")},e1=(e,t)=>{var n=[],r=()=>{n=[]};return{registerMutations:r=>{if(t.current){var o=r.filter(t=>el(e,t,r));n.push(...o)}},restoreDOM:function(){n.reverse().forEach(e=>{if("characterData"===e.type){e.target.textContent=e.oldValue;return}e.removedNodes.forEach(t=>{e.target.insertBefore(t,e.nextSibling)}),e.addedNodes.forEach(t=>{e.target.removeChild(t)})}),r()},clear:r}},e2={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class e4 extends l.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var e,{node:t}=this.props;if(!t.current)throw Error("Failed to attach MutationObserver, `node` is undefined");null===(e=this.mutationObserver)||void 0===e||e.observe(t.current,e2)}componentDidMount(){var{receivedUserInput:e}=this.props,t=this.context;this.manager=e1(t,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,t,n,r,o=null===(e=this.mutationObserver)||void 0===e?void 0:e.takeRecords();return null!=o&&o.length&&(null===(r=this.manager)||void 0===r||r.registerMutations(o)),null===(t=this.mutationObserver)||void 0===t||t.disconnect(),null===(n=this.manager)||void 0===n||n.restoreDOM(),null}componentDidUpdate(){var e;null===(e=this.manager)||void 0===e||e.clear(),this.observe()}componentWillUnmount(){var e;null===(e=this.mutationObserver)||void 0===e||e.disconnect()}render(){return this.props.children}}e4.contextType=eF;var e3=eh?e4:e=>{var{children:t}=e;return /*#__PURE__*/l.createElement(l.Fragment,null,t)};function e5(e,t){var{start:n,end:r,text:o}=t,a=e.slice(n,r),s=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}(a,o),u=Math.min(a.length-s,o.length-s),c=function(e,t,n){for(var r=Math.min(e.length,t.length,n),o=0;o<r;o++)if(e.charAt(e.length-o-1)!==t.charAt(t.length-o-1))return o;return r}(a,o,u),l={start:n+s,end:r-c,text:o.slice(s,o.length-c)};return l.start===l.end&&0===l.text.length?null:l}function e6(e,t){var{path:n,offset:r}=t;if(!m.ML.hasPath(e,n))return null;var o=m.NB.get(e,n);if(!m.xv.isText(o))return null;var a=m.ML.above(e,{match:t=>m.ML.isBlock(e,t),at:n});if(!a)return null;for(;r>o.text.length;){var s=m.ML.next(e,{at:n,match:m.xv.isText});if(!s||!m.y$.isDescendant(s[1],a[1]))return null;r-=o.text.length,o=s[0],n=s[1]}return{path:n,offset:r}}function e8(e,t){var n=e6(e,t.anchor);if(!n)return null;if(m.e6.isCollapsed(t))return{anchor:n,focus:n};var r=e6(e,t.focus);return r?{anchor:n,focus:r}:null}function e9(e,t,n){var r=H.get(e),o=null==r?void 0:r.find(e=>{var{path:n}=e;return m.y$.equals(n,t.path)});if(!o||t.offset<=o.diff.start)return m.E9.transform(t,n,{affinity:"backward"});var{diff:a}=o;if(t.offset<=a.start+a.text.length){var s={path:t.path,offset:a.start},u=m.E9.transform(s,n,{affinity:"backward"});return u?{path:u.path,offset:u.offset+t.offset-a.start}:null}var c={path:t.path,offset:t.offset-a.text.length+a.end-a.start},l=m.E9.transform(c,n,{affinity:"backward"});return l?"split_node"===n.type&&m.y$.equals(n.path,t.path)&&c.offset<n.position&&a.start<n.position?l:{path:l.path,offset:l.offset+a.text.length-a.end+a.start}:null}function e7(e,t,n){var r=e9(e,t.anchor,n);if(!r)return null;if(m.e6.isCollapsed(t))return{anchor:r,focus:r};var o=e9(e,t.focus,n);return o?{anchor:r,focus:o}:null}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tn=function(){},tr=["node"];function ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var to={subtree:!0,childList:!0,characterData:!0},ta=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as"],ts=["text"];function tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tl=e=>/*#__PURE__*/l.createElement(l.Fragment,null,eK(e)),tA=0,td=e=>{var t,n,r,a,{autoFocus:u,decorate:A=th,onDOMBeforeInput:d,placeholder:f,readOnly:h=!1,renderElement:p,renderLeaf:g,renderPlaceholder:v=e=>/*#__PURE__*/l.createElement(tf,Object.assign({},e)),scrollSelectionIntoView:y=tp,style:b={},as:E="div"}=e,C=_(e,ta),B=eq(),[I,N]=(0,l.useState)(!1),O=(0,l.useRef)(null),U=(0,l.useRef)([]),{onUserInput:q,receivedUserInput:$}=(t=eR(),n=(0,l.useRef)(!1),r=(0,l.useRef)(0),a=(0,l.useCallback)(()=>{if(!n.current){n.current=!0;var e=eB.getWindow(t);e.cancelAnimationFrame(r.current),r.current=e.requestAnimationFrame(()=>{n.current=!1})}},[]),(0,l.useEffect)(()=>()=>cancelAnimationFrame(r.current),[]),{receivedUserInput:n,onUserInput:a}),[,et]=(0,l.useReducer)(e=>e+1,0);z.set(B,et),R.set(B,h);var er=(0,l.useMemo)(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);(0,l.useEffect)(()=>{O.current&&u&&O.current.focus()},[u]);var ei=(0,l.useCallback)(c()(()=>{if((eh||!eB.isComposing(B))&&(!er.isUpdatingSelection||null!=ea&&ea.isFlushing())&&!er.isDraggingInternally){var e=eB.findDocumentOrShadowRoot(B),{activeElement:t}=e,n=eB.toDOMNode(B,B),r=e.getSelection();if(t===n?(er.latestElement=t,L.set(B,!0)):L.delete(B),!r)return m.YR.deselect(B);var{anchorNode:o,focusNode:a}=r,s=eB.hasEditableTarget(B,o)||eB.isTargetInsideNonReadonlyVoid(B,o),u=eB.hasEditableTarget(B,a)||eB.isTargetInsideNonReadonlyVoid(B,a);if(s&&u){var c=eB.toSlateRange(B,r,{exactMatch:!1,suppressThrow:!0});c&&(eB.isComposing(B)||null!=ea&&ea.hasPendingChanges()||null!=ea&&ea.isFlushing()?null==ea||ea.handleUserSelect(c):m.YR.select(B,c))}!h||s&&u||m.YR.deselect(B)}},100),[h]),eo=(0,l.useMemo)(()=>s()(ei,0),[ei]),ea=function(e){var t,{node:n}=e,r=_(e,tr);if(!eh)return null;var o=eR(),a=(t=(0,l.useRef)(!1),(0,l.useEffect)(()=>(t.current=!0,()=>{t.current=!1}),[]),t.current),[s]=(0,l.useState)(()=>(function(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,o=!1,a=null,s=null,u=null,c=0,l=!1,A=()=>{var e=K.get(t);if(K.delete(t),e){var{selection:n}=t,r=e8(t,e);!r||n&&m.e6.equals(r,n)||m.YR.select(t,r)}},d=()=>{var e=V.get(t);if(V.delete(t),e){if(e.at){var n=m.E9.isPoint(e.at)?e6(t,e.at):e8(t,e.at);if(!n)return;var r=m.ML.range(t,n);t.selection&&m.e6.equals(t.selection,r)||m.YR.select(t,n)}e.run()}},f=()=>{if(s&&(clearTimeout(s),s=null),u&&(clearTimeout(u),u=null),!y()&&!v()){A();return}o||(o=!0,setTimeout(()=>o=!1)),v()&&(o="action");var e=t.selection&&m.ML.rangeRef(t,t.selection,{affinity:"forward"});Q.set(t,t.marks),tn("flush",V.get(t),H.get(t));for(var a=!!(null!==(c=H.get(t))&&void 0!==c&&c.length);f=null===(h=H.get(t))||void 0===h?void 0:h[0];){var c,f,h,p,g=Z.get(t);void 0!==g&&(Z.delete(t),t.marks=g),g&&!1===l&&(l=null);var b=function(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}(f);t.selection&&m.e6.equals(t.selection,b)||m.YR.select(t,b),f.diff.text?m.ML.insertText(t,f.diff.text):m.ML.deleteFragment(t),H.set(t,null===(p=H.get(t))||void 0===p?void 0:p.filter(e=>{var{id:t}=e;return t!==f.id})),!function(e,t){var{path:n,diff:r}=t;if(!m.ML.hasPath(e,n))return!1;var o=m.NB.get(e,n);if(!m.xv.isText(o))return!1;if(r.start!==o.text.length||0===r.text.length)return o.text.slice(r.start,r.start+r.text.length)===r.text;var a=m.y$.next(n);if(!m.ML.hasPath(e,a))return!1;var s=m.NB.get(e,a);return m.xv.isText(s)&&s.text.startsWith(r.text)}(t,f)&&(a=!1,V.delete(t),Q.delete(t),o="action",K.delete(t),n.cancel(),r.cancel(),null==e||e.unref())}var w=null==e?void 0:e.unref();if(!w||K.get(t)||t.selection&&m.e6.equals(w,t.selection)||m.YR.select(t,w),v()){d();return}a&&n(),n.flush(),r.flush(),A();var _=Q.get(t);Q.delete(t),void 0!==_&&(t.marks=_,t.onChange())},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=S.get(t);if(n){if(y()||e){n.style.display="none";return}n.style.removeProperty("display")}},p=(e,n)=>{var r,o,a,s,u,l,A,d,f=null!==(d=H.get(t))&&void 0!==d?d:[];H.set(t,f);var p=m.NB.leaf(t,e),g=f.findIndex(t=>m.y$.equals(t.path,e));if(g<0){e5(p.text,n)&&f.push({path:e,diff:n,id:c++}),h();return}var v=(r=p.text,a=Math.min((o=f[g].diff).start,n.start),s=Math.max(0,Math.min(o.start+o.text.length,n.end)-n.start),u=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((e,t)=>e.slice(0,t.start)+t.text+e.slice(t.end),e)}(r,o,n),l=Math.max(n.start+n.text.length,o.start+o.text.length+(o.start+o.text.length>n.start?n.text.length:0)-s),A=u.slice(a,l),e5(r,{start:a,end:Math.max(o.end,n.end-o.text.length+(o.end-o.start)),text:A}));if(!v){f.splice(g,1),h();return}f[g]=tt(tt({},f[g]),{},{diff:v})},g=function(e){var{at:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l=!1,K.delete(t),n.cancel(),r.cancel(),v()&&f(),V.set(t,{at:o,run:e}),u=setTimeout(f)},v=()=>!!V.get(t),y=()=>{var e;return!!(null!==(e=H.get(t))&&void 0!==e&&e.length)},b=()=>{v()||(u=setTimeout(f))};return{flush:f,scheduleFlush:b,hasPendingDiffs:y,hasPendingAction:v,hasPendingChanges:()=>v()||y(),isFlushing:()=>o,handleUserSelect:e=>{K.set(t,e),s&&(clearTimeout(s),s=null);var{selection:n}=t;if(e){var r=!n||!m.y$.equals(n.anchor.path,e.anchor.path),o=!n||!m.y$.equals(n.anchor.path.slice(0,-1),e.anchor.path.slice(0,-1));(r&&l||o)&&(l=!1),(r||!y())&&(s=setTimeout(f,200))}},handleCompositionEnd:e=>{a&&clearTimeout(a),a=setTimeout(()=>{M.set(t,!1),f()},25)},handleCompositionStart:e=>{M.set(t,!0),a&&(clearTimeout(a),a=null)},handleDOMBeforeInput:e=>{s&&(clearTimeout(s),s=null);var{inputType:n}=e,r=null,o=e.dataTransfer||e.data||void 0;!1!==l&&"insertText"!==n&&"insertCompositionText"!==n&&(l=!1);var[a]=e.getTargetRanges();a&&(r=eB.toSlateRange(t,a,{exactMatch:!1,suppressThrow:!0}));var u=eB.getWindow(t).getSelection();if(!r&&u&&(a=u,r=eB.toSlateRange(t,u,{exactMatch:!1,suppressThrow:!0})),r=null!==(_=r)&&void 0!==_?_:t.selection){if(m.e6.isExpanded(r)&&n.startsWith("delete")){var[c,A]=m.e6.edges(r);if(m.NB.leaf(t,c.path).text.length===c.offset&&0===A.offset){var d=m.ML.next(t,{at:c.path,match:m.xv.isText});d&&m.y$.equals(d[1],A.path)&&(r={anchor:A,focus:A})}}if(m.e6.isExpanded(r)&&n.startsWith("delete")){if(m.y$.equals(r.anchor.path,r.focus.path)){var[f,h]=m.e6.edges(r);return p(r.anchor.path,{text:"",end:h.offset,start:f.offset})}var v=n.endsWith("Backward")?"backward":"forward";return g(()=>m.ML.deleteFragment(t,{direction:v}),{at:r})}switch(n){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return g(()=>m.ML.deleteFragment(t),{at:r});case"deleteContent":case"deleteContentForward":var{anchor:y}=r;if(m.e6.isCollapsed(r)){var w=m.NB.leaf(t,y.path);if(y.offset<w.text.length)return p(y.path,{text:"",start:y.offset,end:y.offset+1})}return g(()=>m.ML.deleteForward(t),{at:r});case"deleteContentBackward":var _,E,{anchor:C}=r;if((ee(a)?a.isCollapsed:!!(null!==(E=a)&&void 0!==E&&E.collapsed))&&m.e6.isCollapsed(r)&&C.offset>0)return p(C.path,{text:"",start:C.offset-1,end:C.offset});return g(()=>m.ML.deleteBackward(t),{at:r});case"deleteEntireSoftLine":return g(()=>{m.ML.deleteBackward(t,{unit:"line"}),m.ML.deleteForward(t,{unit:"line"})},{at:r});case"deleteHardLineBackward":return g(()=>m.ML.deleteBackward(t,{unit:"block"}),{at:r});case"deleteSoftLineBackward":return g(()=>m.ML.deleteBackward(t,{unit:"line"}),{at:r});case"deleteHardLineForward":return g(()=>m.ML.deleteForward(t,{unit:"block"}),{at:r});case"deleteSoftLineForward":return g(()=>m.ML.deleteForward(t,{unit:"line"}),{at:r});case"deleteWordBackward":return g(()=>m.ML.deleteBackward(t,{unit:"word"}),{at:r});case"deleteWordForward":return g(()=>m.ML.deleteForward(t,{unit:"word"}),{at:r});case"insertLineBreak":return g(()=>m.ML.insertSoftBreak(t),{at:r});case"insertParagraph":return g(()=>m.ML.insertBreak(t),{at:r});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if((null==o?void 0:o.constructor.name)==="DataTransfer")return g(()=>eB.insertData(t,o),{at:r});if("string"==typeof o&&o.includes("\n"))return g(()=>m.ML.insertSoftBreak(t),{at:m.e6.end(r)});var B=null!=o?o:"";if(Z.get(t)&&(B=B.replace("\uFEFF","")),m.y$.equals(r.anchor.path,r.focus.path)){var[I,x]=m.e6.edges(r),T={start:I.offset,end:x.offset,text:B};if(B&&l&&"insertCompositionText"===n){var S=l.start+l.text.search(/\S|$/);T.start+T.text.search(/\S|$/)===S+1&&T.end===l.start+l.text.length?(T.start-=1,l=null,b()):l=!1}else l="insertText"===n&&(null===l?T:!!(l&&m.e6.isCollapsed(r))&&l.end+l.text.length===I.offset&&tt(tt({},l),{},{text:l.text+B}));p(I.path,T);return}return g(()=>m.ML.insertText(t,B),{at:r})}}},handleKeyDown:e=>{y()||(h(!0),setTimeout(h))},handleDomMutations:e=>{if(!(y()||v())&&e.some(n=>el(t,n,e))){var n;null===(n=z.get(t))||void 0===n||n()}},handleInput:()=>{(v()||!y())&&f()}}})(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({editor:o},r)));return!function(e,t,n){var[r]=(0,l.useState)(()=>new MutationObserver(t));eI(()=>{r.takeRecords()}),(0,l.useEffect)(()=>{if(!e.current)throw Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[])}(n,s.handleDomMutations,to),j.set(o,s.scheduleFlush),a&&s.flush(),s}({node:O,onDOMSelectionChange:ei,scheduleOnDOMSelectionChange:eo});eI(()=>{O.current&&(e=Y(O.current))?(x.set(B,e),T.set(B,O.current),D.set(B,O.current),k.set(O.current,B)):D.delete(B);var e,{selection:t}=B,n=eB.findDocumentOrShadowRoot(B).getSelection();if(!(!n||!eB.isFocused(B)||null!=ea&&ea.hasPendingAction())){var r=e=>{var r="None"!==n.type;if(t||r){var o=T.get(B),a=!1;if(o.contains(n.anchorNode)&&o.contains(n.focusNode)&&(a=!0),r&&a&&t&&!e){var s=eB.toSlateRange(B,n,{exactMatch:!0,suppressThrow:!0});if(s&&m.e6.equals(s,t)){if(!er.hasMarkPlaceholder)return;var u,{anchorNode:c}=n;if(null!=c&&null!==(u=c.parentElement)&&void 0!==u&&u.hasAttribute("data-slate-mark-placeholder"))return}}if(t&&!eB.hasRange(B,t)){B.selection=eB.toSlateRange(B,n,{exactMatch:!1,suppressThrow:!0});return}er.isUpdatingSelection=!0;var l=t&&eB.toDOMRange(B,t);return l?(m.e6.isBackward(t)?n.setBaseAndExtent(l.endContainer,l.endOffset,l.startContainer,l.startOffset):n.setBaseAndExtent(l.startContainer,l.startOffset,l.endContainer,l.endOffset),y(B,l)):n.removeAllRanges(),l}},o=r(),a=(null==ea?void 0:ea.isFlushing())==="action";if(!eh||!a){setTimeout(()=>{o&&ep&&eB.toDOMNode(B,B).focus(),er.isUpdatingSelection=!1});return}var s=null,u=requestAnimationFrame(()=>{if(a){var e=e=>{try{eB.toDOMNode(B,B).focus(),r(e)}catch(e){}};e(),s=setTimeout(()=>{e(!0),er.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(u),s&&clearTimeout(s)}}});var es=(0,l.useCallback)(e=>{if(q(),!h&&eB.hasEditableTarget(B,e.target)&&!tv(e,d)){if(ea)return ea.handleDOMBeforeInput(e);eo.flush(),ei.flush();var{selection:t}=B,{inputType:n}=e,r=e.dataTransfer||e.data||void 0,o="insertCompositionText"===n||"deleteCompositionText"===n;if(!(o&&eB.isComposing(B))){var a=!1;if("insertText"===n&&t&&m.e6.isCollapsed(t)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==t.anchor.offset){a=!0,B.marks&&(a=!1);var{anchor:s}=t,[u,c]=eB.toDOMPoint(B,s),l=null===(p=u.parentElement)||void 0===p?void 0:p.closest("a"),A=eB.getWindow(B);if(a&&l&&eB.hasDOMNode(B,l)){var f,p,g,v,y=null==A?void 0:A.document.createTreeWalker(l,NodeFilter.SHOW_TEXT).lastChild();y===u&&(null===(v=y.textContent)||void 0===v?void 0:v.length)===c&&(a=!1)}if(a&&u.parentElement&&(null==A?void 0:null===(g=A.getComputedStyle(u.parentElement))||void 0===g?void 0:g.whiteSpace)==="pre"){var b=m.ML.above(B,{at:s.path,match:e=>m.ML.isBlock(B,e)});b&&m.NB.string(b[0]).includes("	")&&(a=!1)}}if(!n.startsWith("delete")||n.startsWith("deleteBy")){var[w]=e.getTargetRanges();if(w){var _=eB.toSlateRange(B,w,{exactMatch:!1,suppressThrow:!1});if(!t||!m.e6.equals(t,_)){a=!1;var E=!o&&B.selection&&m.ML.rangeRef(B,B.selection);m.YR.select(B,_),E&&P.set(B,E)}}}if(!o){if(a||e.preventDefault(),t&&m.e6.isExpanded(t)&&n.startsWith("delete")){var C=n.endsWith("Backward")?"backward":"forward";m.ML.deleteFragment(B,{direction:C});return}switch(n){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":m.ML.deleteFragment(B);break;case"deleteContent":case"deleteContentForward":m.ML.deleteForward(B);break;case"deleteContentBackward":m.ML.deleteBackward(B);break;case"deleteEntireSoftLine":m.ML.deleteBackward(B,{unit:"line"}),m.ML.deleteForward(B,{unit:"line"});break;case"deleteHardLineBackward":m.ML.deleteBackward(B,{unit:"block"});break;case"deleteSoftLineBackward":m.ML.deleteBackward(B,{unit:"line"});break;case"deleteHardLineForward":m.ML.deleteForward(B,{unit:"block"});break;case"deleteSoftLineForward":m.ML.deleteForward(B,{unit:"line"});break;case"deleteWordBackward":m.ML.deleteBackward(B,{unit:"word"});break;case"deleteWordForward":m.ML.deleteForward(B,{unit:"word"});break;case"insertLineBreak":m.ML.insertSoftBreak(B);break;case"insertParagraph":m.ML.insertBreak(B);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===n&&eB.isComposing(B)&&(N(!1),M.set(B,!1)),(null==r?void 0:r.constructor.name)==="DataTransfer"?eB.insertData(B,r):"string"==typeof r&&(a?U.current.push(()=>m.ML.insertText(B,r)):m.ML.insertText(B,r))}var I=null===(f=P.get(B))||void 0===f?void 0:f.unref();P.delete(B),!I||B.selection&&m.e6.equals(B.selection,I)||m.YR.select(B,I)}}}},[h,d]);eI(()=>(O.current&&eC&&O.current.addEventListener("beforeinput",es),()=>{O.current&&eC&&O.current.removeEventListener("beforeinput",es)}),[es]),eI(()=>{var e=eB.getWindow(B);return e.document.addEventListener("selectionchange",eo),()=>{e.document.removeEventListener("selectionchange",eo)}},[eo]);var eu=A([B,[]]);if(f&&1===B.children.length&&1===Array.from(m.NB.texts(B)).length&&""===m.NB.string(B)&&!I){var ec=m.ML.start(B,[]);eu.push({[G]:!0,placeholder:f,anchor:ec,focus:ec})}var{marks:eA}=B;if(er.hasMarkPlaceholder=!1,B.selection&&m.e6.isCollapsed(B.selection)&&eA){var{anchor:ef}=B.selection,ev=m.NB.leaf(B,ef.path),ey=_(ev,ts);if(!m.xv.equals(ev,eA,{loose:!0})){er.hasMarkPlaceholder=!0;var ex=Object.fromEntries(Object.keys(ey).map(e=>[e,null]));eu.push(tc(tc(tc({[W]:!0},ex),eA),{},{anchor:ef,focus:ef}))}}return(0,l.useEffect)(()=>{setTimeout(()=>{var{selection:e}=B;if(e){var{anchor:t}=e,n=m.NB.leaf(B,t.path);if(eA&&!m.xv.equals(n,eA,{loose:!0})){Z.set(B,eA);return}}Z.delete(B)})}),(0,l.useEffect)(()=>{if(1==++tA){var e=document.createElement("style");e.setAttribute("data-slate-default-styles","true"),e.innerHTML=":where([data-slate-editor]) {position: relative;outline: none;white-space: pre-wrap;word-wrap: break-word;}",document.head.appendChild(e)}return()=>{var e;--tA<=0&&(null===(e=document.querySelector("style[data-slate-default-styles]"))||void 0===e||e.remove())}},[]),(0,l.useEffect)(()=>{var e=document.createElement("style");return document.head.appendChild(e),F.set(B,e),()=>{e.remove(),F.delete(B)}},[]),/*#__PURE__*/l.createElement(ez.Provider,{value:h},/*#__PURE__*/l.createElement(eZ.Provider,{value:A},/*#__PURE__*/l.createElement(e3,{node:O,receivedUserInput:$},/*#__PURE__*/l.createElement(E,Object.assign({role:h?void 0:"textbox","aria-multiline":!h||void 0},C,{spellCheck:(!!eC||!eE)&&C.spellCheck,autoCorrect:eC||!eE?C.autoCorrect:"false",autoCapitalize:eC||!eE?C.autoCapitalize:"false","data-slate-editor":!0,"data-slate-editor-id":B.id,"data-slate-node":"value",contentEditable:!h,zindex:-1,suppressContentEditableWarning:!0,ref:O,style:b,onBeforeInput:(0,l.useCallback)(e=>{if(!eC&&!h&&!tg(e,C.onBeforeInput)&&eB.hasSelectableTarget(B,e.target)&&(e.preventDefault(),!eB.isComposing(B))){var t=e.data;m.ML.insertText(B,t)}},[h]),onInput:(0,l.useCallback)(e=>{if(ea){ea.handleInput();return}for(var t of U.current)t();U.current=[]},[]),onBlur:(0,l.useCallback)(e=>{if(!(h||er.isUpdatingSelection||!eB.hasSelectableTarget(B,e.target)||tg(e,C.onBlur))){var t=eB.findDocumentOrShadowRoot(B);if(er.latestElement!==t.activeElement){var{relatedTarget:n}=e;if(!(n===eB.toDOMNode(B,B)||X(n)&&n.hasAttribute("data-slate-spacer"))){if(null!=n&&J(n)&&eB.hasDOMNode(B,n)){var r=eB.toSlateNode(B,n);if(m.W_.isElement(r)&&!B.isVoid(r))return}if(eg){var o=t.getSelection();null==o||o.removeAllRanges()}L.delete(B)}}}},[h,C.onBlur]),onClick:(0,l.useCallback)(e=>{if(eB.hasTarget(B,e.target)&&!tg(e,C.onClick)&&J(e.target)){var t=eB.toSlateNode(B,e.target),n=eB.findPath(B,t);if(m.ML.hasPath(B,n)&&m.NB.get(B,n)===t){if(3===e.detail&&n.length>=1){var r=n;if(!m.ML.isBlock(B,t)){var o,a=m.ML.above(B,{match:e=>m.ML.isBlock(B,e),at:n});r=null!==(o=null==a?void 0:a[1])&&void 0!==o?o:n.slice(0,1)}var s=m.ML.range(B,r);m.YR.select(B,s);return}if(!h){var u=m.ML.start(B,n),c=m.ML.end(B,n),l=m.ML.void(B,{at:u}),A=m.ML.void(B,{at:c});if(l&&A&&m.y$.equals(l[1],A[1])){var d=m.ML.range(B,u);m.YR.select(B,d)}}}}},[h,C.onClick]),onCompositionEnd:(0,l.useCallback)(e=>{if(eB.hasSelectableTarget(B,e.target)&&(eB.isComposing(B)&&(N(!1),M.set(B,!1)),null==ea||ea.handleCompositionEnd(e),!tg(e,C.onCompositionEnd)&&!eh&&!eg&&!eb&&!ed&&!e_&&!ew&&e.data)){var t=Z.get(B);Z.delete(B),void 0!==t&&(Q.set(B,B.marks),B.marks=t),m.ML.insertText(B,e.data);var n=Q.get(B);Q.delete(B),void 0!==n&&(B.marks=n)}},[C.onCompositionEnd]),onCompositionUpdate:(0,l.useCallback)(e=>{!eB.hasSelectableTarget(B,e.target)||tg(e,C.onCompositionUpdate)||eB.isComposing(B)||(N(!0),M.set(B,!0))},[C.onCompositionUpdate]),onCompositionStart:(0,l.useCallback)(e=>{if(eB.hasSelectableTarget(B,e.target)&&(null==ea||ea.handleCompositionStart(e),!tg(e,C.onCompositionStart)&&!eh)){N(!0);var{selection:t}=B;if(t){if(m.e6.isExpanded(t)){m.ML.deleteFragment(B);return}var n=m.ML.above(B,{match:e=>m.ML.isInline(B,e),mode:"highest"});if(n){var[,r]=n;if(m.ML.isEnd(B,t.anchor,r)){var o=m.ML.after(B,r);m.YR.setSelection(B,{anchor:o,focus:o})}}}}},[C.onCompositionStart]),onCopy:(0,l.useCallback)(e=>{eB.hasSelectableTarget(B,e.target)&&!tg(e,C.onCopy)&&(e.preventDefault(),eB.setFragmentData(B,e.clipboardData,"copy"))},[C.onCopy]),onCut:(0,l.useCallback)(e=>{if(!h&&eB.hasSelectableTarget(B,e.target)&&!tg(e,C.onCut)){e.preventDefault(),eB.setFragmentData(B,e.clipboardData,"cut");var{selection:t}=B;if(t){if(m.e6.isExpanded(t))m.ML.deleteFragment(B);else{var n=m.NB.parent(B,t.anchor.path);m.ML.isVoid(B,n)&&m.YR.delete(B)}}}},[h,C.onCut]),onDragOver:(0,l.useCallback)(e=>{if(eB.hasTarget(B,e.target)&&!tg(e,C.onDragOver)){var t=eB.toSlateNode(B,e.target);m.ML.isVoid(B,t)&&e.preventDefault()}},[C.onDragOver]),onDragStart:(0,l.useCallback)(e=>{if(!h&&eB.hasTarget(B,e.target)&&!tg(e,C.onDragStart)){var t=eB.toSlateNode(B,e.target),n=eB.findPath(B,t);if(m.ML.isVoid(B,t)||m.ML.void(B,{at:n,voids:!0})){var r=m.ML.range(B,n);m.YR.select(B,r)}er.isDraggingInternally=!0,eB.setFragmentData(B,e.dataTransfer,"drag")}},[h,C.onDragStart]),onDrop:(0,l.useCallback)(e=>{if(!h&&eB.hasTarget(B,e.target)&&!tg(e,C.onDrop)){e.preventDefault();var t=B.selection,n=eB.findEventRange(B,e),r=e.dataTransfer;m.YR.select(B,n),er.isDraggingInternally&&t&&!m.e6.equals(t,n)&&!m.ML.void(B,{at:n,voids:!0})&&m.YR.delete(B,{at:t}),eB.insertData(B,r),eB.isFocused(B)||eB.focus(B)}er.isDraggingInternally=!1},[h,C.onDrop]),onDragEnd:(0,l.useCallback)(e=>{!h&&er.isDraggingInternally&&C.onDragEnd&&eB.hasTarget(B,e.target)&&C.onDragEnd(e),er.isDraggingInternally=!1},[h,C.onDragEnd]),onFocus:(0,l.useCallback)(e=>{if(!h&&!er.isUpdatingSelection&&eB.hasEditableTarget(B,e.target)&&!tg(e,C.onFocus)){var t=eB.toDOMNode(B,B),n=eB.findDocumentOrShadowRoot(B);if(er.latestElement=n.activeElement,ep&&e.target!==t){t.focus();return}L.set(B,!0)}},[h,C.onFocus]),onKeyDown:(0,l.useCallback)(e=>{if(!h&&eB.hasEditableTarget(B,e.target)){null==ea||ea.handleKeyDown(e);var{nativeEvent:t}=e;if(eB.isComposing(B)&&!1===t.isComposing&&(M.set(B,!1),N(!1)),!(tg(e,C.onKeyDown)||eB.isComposing(B))){var{selection:n}=B,r=B.children[null!==n?n.focus.path[0]:0],a="rtl"===o()(m.NB.string(r));if(e0.isRedo(t)){e.preventDefault(),"function"==typeof B.redo&&B.redo();return}if(e0.isUndo(t)){e.preventDefault(),"function"==typeof B.undo&&B.undo();return}if(e0.isMoveLineBackward(t)){e.preventDefault(),m.YR.move(B,{unit:"line",reverse:!0});return}if(e0.isMoveLineForward(t)){e.preventDefault(),m.YR.move(B,{unit:"line"});return}if(e0.isExtendLineBackward(t)){e.preventDefault(),m.YR.move(B,{unit:"line",edge:"focus",reverse:!0});return}if(e0.isExtendLineForward(t)){e.preventDefault(),m.YR.move(B,{unit:"line",edge:"focus"});return}if(e0.isMoveBackward(t)){e.preventDefault(),n&&m.e6.isCollapsed(n)?m.YR.move(B,{reverse:!a}):m.YR.collapse(B,{edge:"start"});return}if(e0.isMoveForward(t)){e.preventDefault(),n&&m.e6.isCollapsed(n)?m.YR.move(B,{reverse:a}):m.YR.collapse(B,{edge:"end"});return}if(e0.isMoveWordBackward(t)){e.preventDefault(),n&&m.e6.isExpanded(n)&&m.YR.collapse(B,{edge:"focus"}),m.YR.move(B,{unit:"word",reverse:!a});return}if(e0.isMoveWordForward(t)){e.preventDefault(),n&&m.e6.isExpanded(n)&&m.YR.collapse(B,{edge:"focus"}),m.YR.move(B,{unit:"word",reverse:a});return}if(eC){if((em||eg)&&n&&(e0.isDeleteBackward(t)||e0.isDeleteForward(t))&&m.e6.isCollapsed(n)){var s=m.NB.parent(B,n.anchor.path);if(m.W_.isElement(s)&&m.ML.isVoid(B,s)&&(m.ML.isInline(B,s)||m.ML.isBlock(B,s))){e.preventDefault(),m.ML.deleteBackward(B,{unit:"block"});return}}}else{if(e0.isBold(t)||e0.isItalic(t)||e0.isTransposeCharacter(t)){e.preventDefault();return}if(e0.isSoftBreak(t)){e.preventDefault(),m.ML.insertSoftBreak(B);return}if(e0.isSplitBlock(t)){e.preventDefault(),m.ML.insertBreak(B);return}if(e0.isDeleteBackward(t)){e.preventDefault(),n&&m.e6.isExpanded(n)?m.ML.deleteFragment(B,{direction:"backward"}):m.ML.deleteBackward(B);return}if(e0.isDeleteForward(t)){e.preventDefault(),n&&m.e6.isExpanded(n)?m.ML.deleteFragment(B,{direction:"forward"}):m.ML.deleteForward(B);return}if(e0.isDeleteLineBackward(t)){e.preventDefault(),n&&m.e6.isExpanded(n)?m.ML.deleteFragment(B,{direction:"backward"}):m.ML.deleteBackward(B,{unit:"line"});return}if(e0.isDeleteLineForward(t)){e.preventDefault(),n&&m.e6.isExpanded(n)?m.ML.deleteFragment(B,{direction:"forward"}):m.ML.deleteForward(B,{unit:"line"});return}if(e0.isDeleteWordBackward(t)){e.preventDefault(),n&&m.e6.isExpanded(n)?m.ML.deleteFragment(B,{direction:"backward"}):m.ML.deleteBackward(B,{unit:"word"});return}if(e0.isDeleteWordForward(t)){e.preventDefault(),n&&m.e6.isExpanded(n)?m.ML.deleteFragment(B,{direction:"forward"}):m.ML.deleteForward(B,{unit:"word"});return}}}}},[h,C.onKeyDown]),onPaste:(0,l.useCallback)(e=>{!h&&eB.hasSelectableTarget(B,e.target)&&!tg(e,C.onPaste)&&(!eC||en(e.nativeEvent))&&(e.preventDefault(),eB.insertData(B,e.clipboardData))},[h,C.onPaste])}),/*#__PURE__*/l.createElement(tl,{decorations:eu,node:B,renderElement:p,renderPlaceholder:v,renderLeaf:g,selection:B.selection})))))},tf=e=>{var{attributes:t,children:n}=e;return /*#__PURE__*/l.createElement("span",Object.assign({},t),n,eh&&/*#__PURE__*/l.createElement("br",null))},th=()=>[],tp=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&m.e6.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),v(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},tg=(e,t)=>{if(!t)return!1;var n=t(e);return null!=n?n:e.isDefaultPrevented()||e.isPropagationStopped()},tv=(e,t)=>{if(!t)return!1;var n=t(e);return null!=n?n:e.defaultPrevented},tm=/*#__PURE__*/(0,l.createContext)(!1),ty=()=>(0,l.useContext)(tm),tb=/*#__PURE__*/(0,l.createContext)({}),tw=["editor","children","onChange","value"],t_=e=>{var t,n,r,{editor:o,children:a,onChange:s,value:u}=e,c=_(e,tw),A=(0,l.useRef)(!1),[d,f]=l.useState(()=>{if(!m.NB.isNodeList(u))throw Error("[Slate] value is invalid! Expected a list of elements but got: ".concat(m.o4.stringify(u)));if(!m.ML.isEditor(o))throw Error("[Slate] editor is invalid! You passed: ".concat(m.o4.stringify(o)));return o.children=u,Object.assign(o,c),{v:0,editor:o}}),{selectorContext:h,onChange:p}=(t=(0,l.useRef)([]).current,n=(0,l.useRef)({editor:o}).current,r=(0,l.useCallback)(e=>{n.editor=e,t.forEach(t=>t(e))},[]),{selectorContext:(0,l.useMemo)(()=>({getSlate:()=>n.editor,addEventListener:e=>(t.push(e),()=>{t.splice(t.indexOf(e),1)})}),[t,n]),onChange:r}),g=(0,l.useCallback)(()=>{s&&s(o.children),f(e=>({v:e.v+1,editor:o})),p(o)},[s]);U.set(o,g),(0,l.useEffect)(()=>()=>{U.set(o,()=>{}),A.current=!0},[]);var[v,y]=(0,l.useState)(eB.isFocused(o));return(0,l.useEffect)(()=>{y(eB.isFocused(o))}),eI(()=>{var e=()=>y(eB.isFocused(o));return eA?(document.addEventListener("focusin",e),document.addEventListener("focusout",e),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",e)}):(document.addEventListener("focus",e,!0),document.addEventListener("blur",e,!0),()=>{document.removeEventListener("focus",e,!0),document.removeEventListener("blur",e,!0)})},[]),/*#__PURE__*/l.createElement(tb.Provider,{value:h},/*#__PURE__*/l.createElement(eW.Provider,{value:d},/*#__PURE__*/l.createElement(eF.Provider,{value:d.editor},/*#__PURE__*/l.createElement(tm.Provider,{value:v},a))))},tE=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},tC=(e,t,n)=>{var r=eB.toDOMRange(e,t).getBoundingClientRect(),o=eB.toDOMRange(e,n).getBoundingClientRect();return tE(r,o)&&tE(o,r)},tB=(e,t)=>{var n=m.ML.range(e,m.e6.end(t)),r=Array.from(m.ML.positions(e,{at:t})),o=0,a=r.length,s=Math.floor(a/2);if(tC(e,m.ML.range(e,r[o]),n))return m.ML.range(e,r[o],n);if(r.length<2)return m.ML.range(e,r[r.length-1],n);for(;s!==r.length&&s!==o;)tC(e,m.ML.range(e,r[s]),n)?a=s:o=s,s=Math.floor((o+a)/2);return m.ML.range(e,r[a],n)};function tI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tI(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tT=e=>{var{apply:t,onChange:n,deleteBackward:r,addMark:o,removeMark:a}=e;return O.set(e,new WeakMap),e.addMark=(t,n)=>{var r,a;null===(r=j.get(e))||void 0===r||r(),!Z.get(e)&&null!==(a=H.get(e))&&void 0!==a&&a.length&&Z.set(e,null),Q.delete(e),o(t,n)},e.removeMark=t=>{var n;!Z.get(e)&&null!==(n=H.get(e))&&void 0!==n&&n.length&&Z.set(e,null),Q.delete(e),a(t)},e.deleteBackward=t=>{if("line"!==t)return r(t);if(e.selection&&m.e6.isCollapsed(e.selection)){var n=m.ML.above(e,{match:t=>m.ML.isBlock(e,t),at:e.selection});if(n){var[,o]=n,a=m.ML.range(e,o,e.selection.anchor),s=tB(e,a);m.e6.isCollapsed(s)||m.YR.delete(e,{at:s})}}},e.apply=n=>{var r,o=[],a=H.get(e);if(null!=a&&a.length){var s=a.map(e=>(function(e,t){var{path:n,diff:r,id:o}=e;switch(t.type){case"insert_text":if(!m.y$.equals(t.path,n)||t.offset>=r.end)return e;if(t.offset<=r.start)return{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:o,path:n};return{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:o,path:n};case"remove_text":if(!m.y$.equals(t.path,n)||t.offset>=r.end)return e;if(t.offset+t.text.length<=r.start)return{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:o,path:n};return{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:o,path:n};case"split_node":if(!m.y$.equals(t.path,n)||t.position>=r.end)return{diff:r,id:o,path:m.y$.transform(n,t,{affinity:"backward"})};if(t.position>r.start)return{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:o,path:n};return{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:o,path:m.y$.transform(n,t,{affinity:"forward"})};case"merge_node":if(!m.y$.equals(t.path,n))return{diff:r,id:o,path:m.y$.transform(n,t)};return{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:o,path:m.y$.transform(n,t)}}var a=m.y$.transform(n,t);return a?{diff:r,path:a,id:o}:null})(e,n)).filter(Boolean);H.set(e,s)}var u=K.get(e);u&&K.set(e,e7(e,u,n));var c=V.get(e);if(null!=c&&c.at){var l=m.E9.isPoint(null==c?void 0:c.at)?e9(e,c.at,n):e7(e,c.at,n);V.set(e,l?tx(tx({},c),{},{at:l}):null)}switch(n.type){case"insert_text":case"remove_text":case"set_node":case"split_node":o.push(...tS(e,n.path));break;case"set_selection":null===(r=P.get(e))||void 0===r||r.unref(),P.delete(e);break;case"insert_node":case"remove_node":o.push(...tS(e,m.y$.parent(n.path)));break;case"merge_node":o.push(...tS(e,m.y$.previous(n.path)));break;case"move_node":o.push(...tS(e,m.y$.common(m.y$.parent(n.path),m.y$.parent(n.newPath))))}for(var[A,d]of(t(n),o)){var[f]=m.ML.node(e,A);N.set(f,d)}},e.setFragmentData=t=>{var{selection:n}=e;if(n){var[r,o]=m.e6.edges(n),a=m.ML.void(e,{at:r.path}),s=m.ML.void(e,{at:o.path});if(!m.e6.isCollapsed(n)||a){var u=eB.toDOMRange(e,n),c=u.cloneContents(),l=c.childNodes[0];if(c.childNodes.forEach(e=>{e.textContent&&""!==e.textContent.trim()&&(l=e)}),s){var[A]=s,d=u.cloneRange(),f=eB.toDOMNode(e,A);d.setEndAfter(f),c=d.cloneContents()}if(a&&(l=c.querySelector("[data-slate-spacer]")),Array.from(c.querySelectorAll("[data-slate-zero-width]")).forEach(e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""}),et(l)){var h=l.ownerDocument.createElement("span");h.style.whiteSpace="pre",h.appendChild(l),c.appendChild(h),l=h}var p=JSON.stringify(e.getFragment()),g=window.btoa(encodeURIComponent(p));l.setAttribute("data-slate-fragment",g),t.setData("application/x-slate-fragment",g);var v=c.ownerDocument.createElement("div");return v.appendChild(c),v.setAttribute("hidden","true"),c.ownerDocument.body.appendChild(v),t.setData("text/html",v.innerHTML),t.setData("text/plain",es(v)),c.ownerDocument.body.removeChild(v),t}}},e.insertData=t=>{e.insertFragmentData(t)||e.insertTextData(t)},e.insertFragmentData=t=>{var n=t.getData("application/x-slate-fragment")||ec(t);if(n){var r=JSON.parse(decodeURIComponent(window.atob(n)));return e.insertFragment(r),!0}return!1},e.insertTextData=t=>{var n=t.getData("text/plain");if(n){var r=n.split(/\r\n|\r|\n/),o=!1;for(var a of r)o&&m.YR.splitNodes(e,{always:!0}),e.insertText(a),o=!0;return!0}return!1},e.onChange=()=>{b.unstable_batchedUpdates(()=>{var t=U.get(e);t&&t(),n()})},e},tS=(e,t)=>{var n=[];for(var[r,o]of m.ML.levels(e,{at:t})){var a=eB.findKey(e,r);n.push([o,a])}return n}},12995:function(e,t,n){"use strict";n.d(t,{ML:function(){return eG},W_:function(){return eZ},NB:function(){return eX},OX:function(){return e1},y$:function(){return e2},E9:function(){return e6},e6:function(){return te},o4:function(){return tr},xv:function(){return tc},YR:function(){return tC},Jh:function(){return ef}});var r,o,a=n(66439);function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(e){return"'"+e+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function u(e){return!!e&&!!e[K]}function c(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===z}(e)||Array.isArray(e)||!!e[V]||!!e.constructor[V]||h(e)||p(e))}function l(e,t,n){void 0===n&&(n=!1),0===A(e)?(n?Object.keys:G)(e).forEach(function(r){n&&"symbol"==typeof r||t(r,e[r],e)}):e.forEach(function(n,r){return t(r,n,e)})}function A(e){var t=e[K];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:h(e)?2:p(e)?3:0}function d(e,t){return 2===A(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function f(e,t,n){var r=A(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function h(e){return j&&e instanceof Map}function p(e){return Z&&e instanceof Set}function g(e){return e.o||e.t}function v(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=W(e);delete t[K];for(var n=G(t),r=0;r<n.length;r++){var o=n[r],a=t[o];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function m(e,t){return void 0===t&&(t=!1),b(e)||u(e)||!c(e)||(A(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&l(e,function(e,t){return m(t,!0)},!0)),e}function y(){s(2)}function b(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function w(e){var t=q[e];return t||s(18,e),t}function _(e,t){t&&(w("Patches"),e.u=[],e.s=[],e.v=t)}function E(e){C(e),e.p.forEach(I),e.p=null}function C(e){e===P&&(P=e.l)}function B(e){return P={p:[],l:P,h:e,m:!0,_:0}}function I(e){var t=e[K];0===t.i||1===t.i?t.j():t.O=!0}function x(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||w("ES5").S(t,e,r),r?(n[K].P&&(E(t),s(4)),c(e)&&(e=T(t,e),t.l||k(t,e)),t.u&&w("Patches").M(n[K].t,e,t.u,t.s)):e=T(t,n,[]),E(t),t.u&&t.v(t.u,t.s),e!==H?e:void 0}function T(e,t,n){if(b(t))return t;var r=t[K];if(!r)return l(t,function(o,a){return S(e,r,t,o,a,n)},!0),t;if(r.A!==e)return t;if(!r.P)return k(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=v(r.k):r.o;l(3===r.i?new Set(o):o,function(t,a){return S(e,r,o,t,a,n)}),k(e,o,!1),n&&e.u&&w("Patches").R(r,n,e.u,e.s)}return r.o}function S(e,t,n,r,o,a){if(u(o)){var s=T(e,o,a&&t&&3!==t.i&&!d(t.D,r)?a.concat(r):void 0);if(f(n,r,s),!u(s))return;e.m=!1}if(c(o)&&!b(o)){if(!e.h.F&&e._<1)return;T(e,o),t&&t.A.l||k(e,o)}}function k(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&m(t,n)}function D(e,t){var n=e[K];return(n?g(n):e)[t]}function N(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function O(e){e.P||(e.P=!0,e.l&&O(e.l))}function F(e){e.o||(e.o=v(e.t))}function R(e,t,n){var r,o,a,s,u,c,l,A=h(t)?w("MapSet").N(t,n):p(t)?w("MapSet").T(t,n):e.g?(a=o={i:(r=Array.isArray(t))?1:0,A:n?n.A:P,P:!1,I:!1,D:{},l:n,t:t,k:null,o:null,j:null,C:!1},s=Y,r&&(a=[o],s=$),c=(u=Proxy.revocable(a,s)).revoke,l=u.proxy,o.k=l,o.j=c,l):w("ES5").J(t,n);return(n?n.A:P).p.push(A),A}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return v(e)}var M,P,U="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),j="undefined"!=typeof Map,Z="undefined"!=typeof Set,Q="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,H=U?Symbol.for("immer-nothing"):((M={})["immer-nothing"]=!0,M),V=U?Symbol.for("immer-draftable"):"__$immer_draftable",K=U?Symbol.for("immer-state"):"__$immer_state",z=""+Object.prototype.constructor,G="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,W=Object.getOwnPropertyDescriptors||function(e){var t={};return G(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},q={},Y={get:function(e,t){if(t===K)return e;var n,r,o=g(e);if(!d(o,t))return(r=N(o,t))?"value"in r?r.value:null===(n=r.get)||void 0===n?void 0:n.call(e.k):void 0;var a=o[t];return e.I||!c(a)?a:a===D(e.t,t)?(F(e),e.o[t]=R(e.A.h,a,e)):a},has:function(e,t){return t in g(e)},ownKeys:function(e){return Reflect.ownKeys(g(e))},set:function(e,t,n){var r=N(g(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var o=D(g(e),t),a=null==o?void 0:o[K];if(a&&a.t===n)return e.o[t]=n,e.D[t]=!1,!0;if((n===o?0!==n||1/n==1/o:n!=n&&o!=o)&&(void 0!==n||d(e.t,t)))return!0;F(e),O(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==D(e.t,t)||t in e.t?(e.D[t]=!1,F(e),O(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=g(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){s(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){s(12)}},$={};l(Y,function(e,t){$[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),$.deleteProperty=function(e,t){return $.set.call(this,e,t,void 0)},$.set=function(e,t,n){return Y.set.call(this,e[0],t,n,e[0])};var X=new(function(){function e(e){var t=this;this.g=Q,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o,a=n;return n=e,function(e){var r=this;void 0===e&&(e=a);for(var o=arguments.length,s=Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];return t.produce(e,function(e){var t;return(t=n).call.apply(t,[r,e].concat(s))})}}if("function"!=typeof n&&s(6),void 0!==r&&"function"!=typeof r&&s(7),c(e)){var u=B(t),l=R(t,e,void 0),A=!0;try{o=n(l),A=!1}finally{A?E(u):C(u)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then(function(e){return _(u,r),x(e,u)},function(e){throw E(u),e}):(_(u,r),x(o,u))}if(!e||"object"!=typeof e){if(void 0===(o=n(e))&&(o=e),o===H&&(o=void 0),t.F&&m(o,!0),r){var d=[],f=[];w("Patches").M(e,o,d,f),r(d,f)}return o}s(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return t.produceWithPatches(n,function(t){return e.apply(void 0,[t].concat(o))})};var r,o,a=t.produce(e,n,function(e,t){r=e,o=t});return"undefined"!=typeof Promise&&a instanceof Promise?a.then(function(e){return[e,r,o]}):[a,r,o]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){c(e)||s(8),u(e)&&(u(t=e)||s(22,t),e=function e(t){if(!c(t))return t;var n,r=t[K],o=A(t);if(r){if(!r.P&&(r.i<4||!w("ES5").K(r)))return r.t;r.I=!0,n=L(t,o),r.I=!1}else n=L(t,o);return l(n,function(t,o){var a;r&&(2===A(a=r.t)?a.get(t):a[t])===o||f(n,t,e(o))}),3===o?new Set(n):n}(t));var t,n=B(this),r=R(this,e,void 0);return r[K].C=!0,C(n),r},t.finishDraft=function(e,t){var n=(e&&e[K]).A;return _(n,t),x(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Q&&s(20),this.g=e},t.applyPatches=function(e,t){for(n=t.length-1;n>=0;n--){var n,r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=w("Patches").$;return u(e)?o(e,t):this.produce(e,function(e){return o(e,t)})},e}()),J=X.produce,ee=(X.produceWithPatches.bind(X),X.setAutoFreeze.bind(X),X.setUseProxies.bind(X),X.applyPatches.bind(X),X.createDraft.bind(X)),et=X.finishDraft.bind(X);function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var er=new WeakMap,ei=new WeakMap,eo=new WeakMap,ea=new WeakMap,es=new WeakMap,eu=new WeakMap,ec=new WeakMap;function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach(function(t){en(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ed=0,ef=()=>{var e={children:[],operations:[],selection:null,marks:null,id:ed++,isInline:()=>!1,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:t=>{for(var n of eG.pathRefs(e))e4.transform(n,t);for(var r of eG.pointRefs(e))e8.transform(r,t);for(var o of eG.rangeRefs(e))tt.transform(o,t);var a,s,u=er.get(e)||[],c=ei.get(e)||new Set,l=e=>{if(e){var t=e.join(",");s.has(t)||(s.add(t),a.push(e))}};if(e2.operationCanTransformPath(t))for(var A of(a=[],s=new Set,u))l(e2.transform(A,t));else a=u,s=c;for(var d of e.getDirtyPaths(t))l(d);er.set(e,a),ei.set(e,s),tC.transform(e,t),e.operations.push(t),eG.normalize(e),"set_selection"===t.type&&(e.marks=null),eo.get(e)||(eo.set(e,!0),Promise.resolve().then(()=>{eo.set(e,!1),e.onChange(),e.operations=[]}))},addMark:(t,n)=>{var{selection:r,markableVoid:o}=e;if(r){var a=(t,n)=>{if(!tc.isText(t))return!1;var[r,o]=eG.parent(e,n);return!e.isVoid(r)||e.markableVoid(r)},s=te.isExpanded(r),u=!1;if(!s){var[c,l]=eG.node(e,r);if(c&&a(c,l)){var[A]=eG.parent(e,l);u=A&&e.markableVoid(A)}}if(s||u)tC.setNodes(e,{[t]:n},{match:a,split:!0,voids:!0});else{var d=eA(eA({},eG.marks(e)||{}),{},{[t]:n});e.marks=d,eo.get(e)||e.onChange()}}},deleteBackward:t=>{var{selection:n}=e;n&&te.isCollapsed(n)&&tC.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:n}=e;n&&te.isCollapsed(n)&&tC.delete(e,{unit:t})},deleteFragment:t=>{var{selection:n}=e;n&&te.isExpanded(n)&&tC.delete(e,{reverse:"backward"===t})},getFragment:()=>{var{selection:t}=e;return t?eX.fragment(e,t):[]},insertBreak:()=>{tC.splitNodes(e,{always:!0})},insertSoftBreak:()=>{tC.splitNodes(e,{always:!0})},insertFragment:t=>{tC.insertFragment(e,t)},insertNode:t=>{tC.insertNodes(e,t)},insertText:t=>{var{selection:n,marks:r}=e;if(n){if(r){var o=eA({text:t},r);tC.insertNodes(e,o)}else tC.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[n,r]=t;if(!tc.isText(n)){if(eZ.isElement(n)&&0===n.children.length){tC.insertNodes(e,{text:""},{at:r.concat(0),voids:!0});return}for(var o=!eG.isEditor(n)&&eZ.isElement(n)&&(e.isInline(n)||0===n.children.length||tc.isText(n.children[0])||e.isInline(n.children[0])),a=0,s=0;s<n.children.length;s++,a++){var u=eX.get(e,r);if(!tc.isText(u)){var c=n.children[s],l=u.children[a-1],A=s===n.children.length-1;if((tc.isText(c)||eZ.isElement(c)&&e.isInline(c))!==o)tC.removeNodes(e,{at:r.concat(a),voids:!0}),a--;else if(eZ.isElement(c)){if(e.isInline(c)){if(null!=l&&tc.isText(l)){if(A){var d={text:""};tC.insertNodes(e,d,{at:r.concat(a+1),voids:!0}),a++}}else{var f={text:""};tC.insertNodes(e,f,{at:r.concat(a),voids:!0}),a++}}}else null!=l&&tc.isText(l)&&(tc.equals(c,l,{loose:!0})?(tC.mergeNodes(e,{at:r.concat(a),voids:!0}),a--):""===l.text?(tC.removeNodes(e,{at:r.concat(a-1),voids:!0}),a--):""===c.text&&(tC.removeNodes(e,{at:r.concat(a),voids:!0}),a--))}}}},removeMark:t=>{var{selection:n}=e;if(n){var r=(t,n)=>{if(!tc.isText(t))return!1;var[r,o]=eG.parent(e,n);return!e.isVoid(r)||e.markableVoid(r)},o=te.isExpanded(n),a=!1;if(!o){var[s,u]=eG.node(e,n);if(s&&r(s,u)){var[c]=eG.parent(e,u);a=c&&e.markableVoid(c)}}if(o||a)tC.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var l=eA({},eG.marks(e)||{});delete l[t],e.marks=l,eo.get(e)||e.onChange()}}},getDirtyPaths:e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":var{path:t}=e;return e2.levels(t);case"insert_node":var{node:n,path:r}=e;return[...e2.levels(r),...tc.isText(n)?[]:Array.from(eX.nodes(n),e=>{var[,t]=e;return r.concat(t)})];case"merge_node":var{path:o}=e;return[...e2.ancestors(o),e2.previous(o)];case"move_node":var{path:a,newPath:s}=e;if(e2.equals(a,s))return[];var u=[],c=[];for(var l of e2.ancestors(a)){var A=e2.transform(l,e);u.push(A)}for(var d of e2.ancestors(s)){var f=e2.transform(d,e);c.push(f)}var h=c[c.length-1],p=s[s.length-1];return[...u,...c,h.concat(p)];case"remove_node":var{path:g}=e;return[...e2.ancestors(g)];case"split_node":var{path:v}=e;return[...e2.levels(v),e2.next(v)];default:return[]}}};return e};function eh(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ep=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!t,r=t?e_(e):e,a=o.None,s=o.None,u=0,c=null;for(var l of r){var A=l.codePointAt(0);if(!A)break;var d=eF(l,A);if([a,s]=n?[s,d]:[d,a],(a&o.ZWJ)!=0&&(s&o.ExtPict)!=0&&!(n?eM(e.substring(0,u)):eM(e.substring(0,e.length-u)))||(a&o.RI)!=0&&(s&o.RI)!=0&&!(c=null!==c?!c:!!n||eU(e.substring(0,e.length-u)))||a!==o.None&&s!==o.None&&function(e,t){return -1===eR.findIndex(n=>(e&n[0])!=0&&(t&n[1])!=0)}(a,s))break;u+=l.length}return u||1},eg=/\s/,ev=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,em=/['\u2018\u2019]/,ey=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=!1;e.length>0;){var o=ep(e,t),[a,s]=eb(e,o,t);if(ew(a,s,t))r=!0,n+=o;else if(r)break;else n+=o;e=s}return n},eb=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},ew=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(eg.test(t))return!1;if(em.test(t)){var o=ep(n,r),[a,s]=eb(n,o,r);if(e(a,s,r))return!0}return!ev.test(t)},e_=function*(e){for(var t=e.length-1,n=0;n<e.length;n++){var r=e.charAt(t-n);if(eC(r.charCodeAt(0))){var o=e.charAt(t-n-1);if(eE(o.charCodeAt(0))){yield o+r,n++;continue}}yield r}},eE=e=>e>=55296&&e<=56319,eC=e=>e>=56320&&e<=57343;(r=o||(o={}))[r.None=0]="None",r[r.Extend=1]="Extend",r[r.ZWJ=2]="ZWJ",r[r.RI=4]="RI",r[r.Prepend=8]="Prepend",r[r.SpacingMark=16]="SpacingMark",r[r.L=32]="L",r[r.V=64]="V",r[r.T=128]="T",r[r.LV=256]="LV",r[r.LVT=512]="LVT",r[r.ExtPict=1024]="ExtPict",r[r.Any=2048]="Any";var eB=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,eI=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,ex=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,eT=/^[\u1100-\u115F\uA960-\uA97C]$/,eS=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,ek=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,eD=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,eN=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,eO=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,eF=(e,t)=>{var n=o.Any;return -1!==e.search(eB)&&(n|=o.Extend),8205===t&&(n|=o.ZWJ),t>=127462&&t<=127487&&(n|=o.RI),-1!==e.search(eI)&&(n|=o.Prepend),-1!==e.search(ex)&&(n|=o.SpacingMark),-1!==e.search(eT)&&(n|=o.L),-1!==e.search(eS)&&(n|=o.V),-1!==e.search(ek)&&(n|=o.T),-1!==e.search(eD)&&(n|=o.LV),-1!==e.search(eN)&&(n|=o.LVT),-1!==e.search(eO)&&(n|=o.ExtPict),n},eR=[[o.L,o.L|o.V|o.LV|o.LVT],[o.LV|o.V,o.V|o.T],[o.LVT|o.T,o.T],[o.Any,o.Extend|o.ZWJ],[o.Any,o.SpacingMark],[o.Prepend,o.Any],[o.ZWJ,o.ExtPict],[o.RI,o.RI]],eL=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,eM=e=>-1!==e.search(eL),eP=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,eU=e=>{var t=e.match(eP);return null!==t&&t[0].length/2%2==1},ej=e=>(0,a.P)(e)&&eX.isNodeList(e.children)&&!eG.isEditor(e),eZ={isAncestor(e){return(0,a.P)(e)&&eX.isNodeList(e.children)},isElement:ej,isElementList(e){return Array.isArray(e)&&e.every(e=>eZ.isElement(e))},isElementProps(e){return void 0!==e.children},isElementType:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return ej(e)&&e[n]===t},matches(e,t){for(var n in t)if("children"!==n&&e[n]!==t[n])return!1;return!0}},eQ=["text"],eH=["text"];function eV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eK(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eV(Object(n),!0).forEach(function(t){en(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ez=new WeakMap,eG={above(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:n=!1,mode:r="lowest",at:o=e.selection,match:a}=t;if(o){var s=eG.path(e,o);for(var[u,c]of eG.levels(e,{at:s,voids:n,match:a,reverse:"lowest"===r}))if(!tc.isText(u)){if(te.isRange(o)){if(e2.isAncestor(c,o.anchor.path)&&e2.isAncestor(c,o.focus.path))return[u,c]}else if(!e2.equals(s,c))return[u,c]}}},addMark(e,t,n){e.addMark(t,n)},after(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=eG.point(e,t,{edge:"end"}),a=eG.end(e,[]),{distance:s=1}=r,u=0;for(var c of eG.positions(e,eK(eK({},r),{},{at:{anchor:o,focus:a}}))){if(u>s)break;0!==u&&(n=c),u++}return n},before(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=eG.start(e,[]),a=eG.point(e,t,{edge:"start"}),{distance:s=1}=r,u=0;for(var c of eG.positions(e,eK(eK({},r),{},{at:{anchor:o,focus:a},reverse:!0}))){if(u>s)break;0!==u&&(n=c),u++}return n},deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{direction:n="forward"}=t;e.deleteFragment(n)},edges(e,t){return[eG.start(e,t),eG.end(e,t)]},end(e,t){return eG.point(e,t,{edge:"end"})},first(e,t){var n=eG.path(e,t,{edge:"start"});return eG.node(e,n)},fragment(e,t){var n=eG.range(e,t);return eX.fragment(e,n)},hasBlocks(e,t){return t.children.some(t=>eG.isBlock(e,t))},hasInlines(e,t){return t.children.some(t=>tc.isText(t)||eG.isInline(e,t))},hasTexts(e,t){return t.children.every(e=>tc.isText(e))},insertBreak(e){e.insertBreak()},insertSoftBreak(e){e.insertSoftBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock(e,t){return eZ.isElement(t)&&!e.isInline(t)},isEditor(e){var t=ez.get(e);if(void 0!==t)return t;if(!(0,a.P)(e))return!1;var n="function"==typeof e.addMark&&"function"==typeof e.apply&&"function"==typeof e.deleteBackward&&"function"==typeof e.deleteForward&&"function"==typeof e.deleteFragment&&"function"==typeof e.insertBreak&&"function"==typeof e.insertSoftBreak&&"function"==typeof e.insertFragment&&"function"==typeof e.insertNode&&"function"==typeof e.insertText&&"function"==typeof e.isInline&&"function"==typeof e.isVoid&&"function"==typeof e.normalizeNode&&"function"==typeof e.onChange&&"function"==typeof e.removeMark&&"function"==typeof e.getDirtyPaths&&(null===e.marks||(0,a.P)(e.marks))&&(null===e.selection||te.isRange(e.selection))&&eX.isNodeList(e.children)&&e1.isOperationList(e.operations);return ez.set(e,n),n},isEnd(e,t,n){var r=eG.end(e,n);return e6.equals(t,r)},isEdge(e,t,n){return eG.isStart(e,t,n)||eG.isEnd(e,t,n)},isEmpty(e,t){var{children:n}=t,[r]=n;return 0===n.length||1===n.length&&tc.isText(r)&&""===r.text&&!e.isVoid(t)},isInline(e,t){return eZ.isElement(t)&&e.isInline(t)},isNormalizing(e){var t=ea.get(e);return void 0===t||t},isStart(e,t,n){if(0!==t.offset)return!1;var r=eG.start(e,n);return e6.equals(t,r)},isVoid(e,t){return eZ.isElement(t)&&e.isVoid(t)},last(e,t){var n=eG.path(e,t,{edge:"end"});return eG.node(e,n)},leaf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=eG.path(e,t,n);return[eX.leaf(e,r),r]},*levels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=e.selection,reverse:r=!1,voids:o=!1}=t,{match:a}=t;if(null==a&&(a=()=>!0),n){var s=[],u=eG.path(e,n);for(var[c,l]of eX.levels(e,u))if(a(c,l)&&(s.push([c,l]),!o&&eG.isVoid(e,c)))break;r&&s.reverse(),yield*s}},marks(e){var{marks:t,selection:n}=e;if(!n)return null;if(t)return t;if(te.isExpanded(n)){var[r]=eG.nodes(e,{match:tc.isText});if(!r)return{};var[o]=r;return eh(o,eQ)}var{anchor:a}=n,{path:s}=a,[u]=eG.leaf(e,s);if(0===a.offset){var c=eG.previous(e,{at:s,match:tc.isText});if(!eG.above(e,{match:t=>eG.isVoid(e,t)&&e.markableVoid(t)})){var l=eG.above(e,{match:t=>eG.isBlock(e,t)});if(c&&l){var[A,d]=c,[,f]=l;e2.isAncestor(f,d)&&(u=A)}}}return eh(u,eH)},next(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:o,at:a=e.selection}=t;if(a){var s=eG.after(e,a,{voids:r});if(s){var[,u]=eG.last(e,[]),c=[s.path,u];if(e2.isPath(a)&&0===a.length)throw Error("Cannot get the next node from the root node!");if(null==o){if(e2.isPath(a)){var[l]=eG.parent(e,a);o=e=>l.children.includes(e)}else o=()=>!0}var[A]=eG.nodes(e,{at:c,match:o,mode:n,voids:r});return A}}},node(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=eG.path(e,t,n);return[eX.get(e,r),r]},*nodes(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:a=e.selection,mode:s="all",universal:u=!1,reverse:c=!1,voids:l=!1}=o,{match:A}=o;if(A||(A=()=>!0),a){if(eW.isSpan(a))t=a[0],n=a[1];else{var d=eG.path(e,a,{edge:"start"}),f=eG.path(e,a,{edge:"end"});t=c?f:d,n=c?d:f}var h=eX.nodes(e,{reverse:c,from:t,to:n,pass:t=>{var[n]=t;return!l&&eG.isVoid(e,n)}}),p=[];for(var[g,v]of h){var m=r&&0===e2.compare(v,r[1]);if("highest"!==s||!m){if(!A(g,v)){if(u&&!m&&tc.isText(g))return;continue}if("lowest"===s&&m){r=[g,v];continue}var y="lowest"===s?r:[g,v];y&&(u?p.push(y):yield y),r=[g,v]}}"lowest"===s&&r&&(u?p.push(r):yield r),u&&(yield*p)}},normalize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:n=!1}=t,r=e=>er.get(e)||[],o=e=>ei.get(e)||new Set,a=e=>{var t=r(e).pop(),n=t.join(",");return o(e).delete(n),t};if(eG.isNormalizing(e)){if(n){var s=Array.from(eX.nodes(e),e=>{var[,t]=e;return t}),u=new Set(s.map(e=>e.join(",")));er.set(e,s),ei.set(e,u)}0!==r(e).length&&eG.withoutNormalizing(e,()=>{for(var t of r(e))if(eX.has(e,t)){var n=eG.node(e,t),[o,s]=n;eZ.isElement(o)&&0===o.children.length&&e.normalizeNode(n)}for(var u=42*r(e).length,c=0;0!==r(e).length;){if(c>u)throw Error("\n            Could not completely normalize the editor after ".concat(u," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var l=a(e);if(eX.has(e,l)){var A=eG.node(e,l);e.normalizeNode(A)}c++}})}},parent(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=eG.path(e,t,n),o=e2.parent(r);return eG.node(e,o)},path(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:r,edge:o}=n;if(e2.isPath(t)){if("start"===o){var[,a]=eX.first(e,t);t=a}else if("end"===o){var[,s]=eX.last(e,t);t=s}}return te.isRange(t)&&(t="start"===o?te.start(t):"end"===o?te.end(t):e2.common(t.anchor.path,t.focus.path)),e6.isPoint(t)&&(t=t.path),null!=r&&(t=t.slice(0,r)),t},hasPath(e,t){return eX.has(e,t)},pathRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,o={current:t,affinity:r,unref(){var{current:t}=o;return eG.pathRefs(e).delete(o),o.current=null,t}};return eG.pathRefs(e).add(o),o},pathRefs(e){var t=es.get(e);return t||(t=new Set,es.set(e,t)),t},point(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:r="start"}=n;if(e2.isPath(t)){if("end"===r){var o,[,a]=eX.last(e,t);o=a}else{var[,s]=eX.first(e,t);o=s}var u=eX.get(e,o);if(!tc.isText(u))throw Error("Cannot get the ".concat(r," point in the node at path [").concat(t,"] because it has no ").concat(r," text node."));return{path:o,offset:"end"===r?u.text.length:0}}if(te.isRange(t)){var[c,l]=te.edges(t);return"start"===r?c:l}return t},pointRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,o={current:t,affinity:r,unref(){var{current:t}=o;return eG.pointRefs(e).delete(o),o.current=null,t}};return eG.pointRefs(e).add(o),o},pointRefs(e){var t=eu.get(e);return t||(t=new Set,eu.set(e,t)),t},*positions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:a=!1}=t;if(n){var s=eG.range(e,n),[u,c]=te.edges(s),l=o?c:u,A=!1,d="",f=0,h=0,p=0;for(var[g,v]of eG.nodes(e,{at:n,reverse:o,voids:a})){if(eZ.isElement(g)){if(!a&&e.isVoid(g)){yield eG.start(e,v);continue}if(e.isInline(g))continue;if(eG.hasInlines(e,g)){var m=e2.isAncestor(v,c.path)?c:eG.end(e,v),y=e2.isAncestor(v,u.path)?u:eG.start(e,v);d=eG.string(e,{anchor:y,focus:m},{voids:a}),A=!0}}if(tc.isText(g)){var b,w=e2.equals(v,l.path);for(w?(h=o?l.offset:g.text.length-l.offset,p=l.offset):(h=g.text.length,p=o?h:0),(w||A||"offset"===r)&&(yield{path:v,offset:p},A=!1);;){if(0===f){if(""===d)break;b=d,d=eb(d,f="character"===r?ep(b,o):"word"===r?ey(b,o):"line"===r||"block"===r?b.length:1,o)[1]}if(p=o?p-f:p+f,(h-=f)<0){f=-h;break}f=0,yield{path:v,offset:p}}}}}},previous(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:o,at:a=e.selection}=t;if(a){var s=eG.before(e,a,{voids:r});if(s){var[,u]=eG.first(e,[]),c=[s.path,u];if(e2.isPath(a)&&0===a.length)throw Error("Cannot get the previous node from the root node!");if(null==o){if(e2.isPath(a)){var[l]=eG.parent(e,a);o=e=>l.children.includes(e)}else o=()=>!0}var[A]=eG.nodes(e,{reverse:!0,at:c,match:o,mode:n,voids:r});return A}}},range(e,t,n){return te.isRange(t)&&!n?t:{anchor:eG.start(e,t),focus:eG.end(e,n||t)}},rangeRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,o={current:t,affinity:r,unref(){var{current:t}=o;return eG.rangeRefs(e).delete(o),o.current=null,t}};return eG.rangeRefs(e).add(o),o},rangeRefs(e){var t=ec.get(e);return t||(t=new Set,ec.set(e,t)),t},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){ea.set(e,t)},start(e,t){return eG.point(e,t,{edge:"start"})},string(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,o=eG.range(e,t),[a,s]=te.edges(o),u="";for(var[c,l]of eG.nodes(e,{at:o,match:tc.isText,voids:r})){var A=c.text;e2.equals(l,s.path)&&(A=A.slice(0,s.offset)),e2.equals(l,a.path)&&(A=A.slice(a.offset)),u+=A}return u},unhangRange(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,[o,a]=te.edges(t);if(0!==o.offset||0!==a.offset||te.isCollapsed(t)||e2.hasPrevious(a.path))return t;var s=eG.above(e,{at:a,match:t=>eG.isBlock(e,t),voids:r}),u=s?s[1]:[],c={anchor:eG.start(e,o),focus:a},l=!0;for(var[A,d]of eG.nodes(e,{at:c,match:tc.isText,reverse:!0,voids:r})){if(l){l=!1;continue}if(""!==A.text||e2.isBefore(d,u)){a={path:d,offset:A.text.length};break}}return{anchor:o,focus:a}},void(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return eG.above(e,eK(eK({},t),{},{match:t=>eG.isVoid(e,t)}))},withoutNormalizing(e,t){var n=eG.isNormalizing(e);eG.setNormalizing(e,!1);try{t()}finally{eG.setNormalizing(e,n)}eG.normalize(e)}},eW={isSpan(e){return Array.isArray(e)&&2===e.length&&e.every(e2.isPath)}},eq=["children"],eY=["text"],e$=new WeakMap,eX={ancestor(e,t){var n=eX.get(e,t);if(tc.isText(n))throw Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(tr.stringify(n)));return n},*ancestors(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r of e2.ancestors(t,n)){var o=[eX.ancestor(e,r),r];yield o}},child(e,t){if(tc.isText(e))throw Error("Cannot get the child of a text node: ".concat(tr.stringify(e)));var n=e.children[t];if(null==n)throw Error("Cannot get child at index `".concat(t,"` in node: ").concat(tr.stringify(e)));return n},*children(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:r=!1}=n,o=eX.ancestor(e,t),{children:a}=o,s=r?a.length-1:0;r?s>=0:s<a.length;){var u=eX.child(o,s),c=t.concat(s);yield[u,c],s=r?s-1:s+1}},common(e,t,n){var r=e2.common(t,n);return[eX.get(e,r),r]},descendant(e,t){var n=eX.get(e,t);if(eG.isEditor(n))throw Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(tr.stringify(n)));return n},*descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of eX.nodes(e,t))0!==r.length&&(yield[n,r])},*elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of eX.nodes(e,t))eZ.isElement(n)&&(yield[n,r])},extractProps(e){if(eZ.isAncestor(e)){var t=eh(e,eq);return t}var t=eh(e,eY);return t},first(e,t){for(var n=t.slice(),r=eX.get(e,n);r&&!tc.isText(r)&&0!==r.children.length;)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(tc.isText(e))throw Error("Cannot get a fragment starting from a root text node: ".concat(tr.stringify(e)));return J({children:e.children},e=>{var[n,r]=te.edges(t);for(var[,o]of eX.nodes(e,{reverse:!0,pass:e=>{var[,n]=e;return!te.includes(t,n)}})){if(!te.includes(t,o)){var a=eX.parent(e,o),s=o[o.length-1];a.children.splice(s,1)}if(e2.equals(o,r.path)){var u=eX.leaf(e,o);u.text=u.text.slice(0,r.offset)}if(e2.equals(o,n.path)){var c=eX.leaf(e,o);c.text=c.text.slice(n.offset)}}eG.isEditor(e)&&(e.selection=null)}).children},get(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(tc.isText(n)||!n.children[o])throw Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(tr.stringify(e)));n=n.children[o]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(tc.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode(e){return tc.isText(e)||eZ.isElement(e)||eG.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=e$.get(e);if(void 0!==t)return t;var n=e.every(e=>eX.isNode(e));return e$.set(e,n),n},last(e,t){for(var n=t.slice(),r=eX.get(e,n);r&&!tc.isText(r)&&0!==r.children.length;){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){var n=eX.get(e,t);if(!tc.isText(n))throw Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(tr.stringify(n)));return n},*levels(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r of e2.levels(t,n)){var o=eX.get(e,r);yield[o,r]}},matches(e,t){return eZ.isElement(e)&&eZ.isElementProps(t)&&eZ.matches(e,t)||tc.isText(e)&&tc.isTextProps(t)&&tc.matches(e,t)},*nodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:n,reverse:r=!1}=t,{from:o=[],to:a}=t,s=new Set,u=[],c=e;!(a&&(r?e2.isBefore(u,a):e2.isAfter(u,a)));){if(s.has(c)||(yield[c,u]),!s.has(c)&&!tc.isText(c)&&0!==c.children.length&&(null==n||!1===n([c,u]))){s.add(c);var l=r?c.children.length-1:0;e2.isAncestor(u,o)&&(l=o[u.length]),u=u.concat(l),c=eX.get(e,u);continue}if(0===u.length)break;if(!r){var A=e2.next(u);if(eX.has(e,A)){u=A,c=eX.get(e,u);continue}}if(r&&0!==u[u.length-1]){u=e2.previous(u),c=eX.get(e,u);continue}u=e2.parent(u),c=eX.get(e,u),s.add(c)}},parent(e,t){var n=e2.parent(t),r=eX.get(e,n);if(tc.isText(r))throw Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return tc.isText(e)?e.text:e.children.map(eX.string).join("")},*texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of eX.nodes(e,t))tc.isText(n)&&(yield[n,r])}};function eJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eJ(Object(n),!0).forEach(function(t){en(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e1={isNodeOperation(e){return e1.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!(0,a.P)(e))return!1;switch(e.type){case"insert_node":case"remove_node":return e2.isPath(e.path)&&eX.isNode(e.node);case"insert_text":case"remove_text":return"number"==typeof e.offset&&"string"==typeof e.text&&e2.isPath(e.path);case"merge_node":return"number"==typeof e.position&&e2.isPath(e.path)&&(0,a.P)(e.properties);case"move_node":return e2.isPath(e.path)&&e2.isPath(e.newPath);case"set_node":return e2.isPath(e.path)&&(0,a.P)(e.properties)&&(0,a.P)(e.newProperties);case"set_selection":return null===e.properties&&te.isRange(e.newProperties)||null===e.newProperties&&te.isRange(e.properties)||(0,a.P)(e.properties)&&(0,a.P)(e.newProperties);case"split_node":return e2.isPath(e.path)&&"number"==typeof e.position&&(0,a.P)(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(e=>e1.isOperation(e))},isSelectionOperation(e){return e1.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return e1.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return e0(e0({},e),{},{type:"remove_node"});case"insert_text":return e0(e0({},e),{},{type:"remove_text"});case"merge_node":return e0(e0({},e),{},{type:"split_node",path:e2.previous(e.path)});case"move_node":var{newPath:t,path:n}=e;if(e2.equals(t,n))return e;if(e2.isSibling(n,t))return e0(e0({},e),{},{path:t,newPath:n});var r=e2.transform(n,e),o=e2.transform(e2.next(n),e);return e0(e0({},e),{},{path:r,newPath:o});case"remove_node":return e0(e0({},e),{},{type:"insert_node"});case"remove_text":return e0(e0({},e),{},{type:"insert_text"});case"set_node":var{properties:a,newProperties:s}=e;return e0(e0({},e),{},{properties:s,newProperties:a});case"set_selection":var{properties:u,newProperties:c}=e;if(null==u)return e0(e0({},e),{},{properties:c,newProperties:null});if(null==c)return e0(e0({},e),{},{properties:null,newProperties:u});return e0(e0({},e),{},{properties:c,newProperties:u});case"split_node":return e0(e0({},e),{},{type:"merge_node",path:e2.next(e.path)})}}},e2={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,r=e2.levels(e,t);return n?r.slice(1):r.slice(0,-1)},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r];if(o!==t[r])break;n.push(o)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return -1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),a=e[n],s=t[n];return e2.equals(r,o)&&a>s},endsAt(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return e2.equals(r,o)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),a=e[n],s=t[n];return e2.equals(r,o)&&a<s},equals(e,t){return e.length===t.length&&e.every((e,n)=>e===t[n])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return 1===e2.compare(e,t)},isAncestor(e,t){return e.length<t.length&&0===e2.compare(e,t)},isBefore(e,t){return -1===e2.compare(e,t)},isChild(e,t){return e.length===t.length+1&&0===e2.compare(e,t)},isCommon(e,t){return e.length<=t.length&&0===e2.compare(e,t)},isDescendant(e,t){return e.length>t.length&&0===e2.compare(e,t)},isParent(e,t){return e.length+1===t.length&&0===e2.compare(e,t)},isPath(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&e2.equals(n,r)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(0===e.length)throw Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(0===e.length)throw Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!e2.isAncestor(t,e)&&!e2.equals(e,t))throw Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:o="forward"}=n;if(0===e.length)return r;switch(t.type){case"insert_node":var{path:a}=t;(e2.equals(a,r)||e2.endsBefore(a,r)||e2.isAncestor(a,r))&&(r[a.length-1]+=1);break;case"remove_node":var{path:s}=t;if(e2.equals(s,r)||e2.isAncestor(s,r))return null;e2.endsBefore(s,r)&&(r[s.length-1]-=1);break;case"merge_node":var{path:u,position:c}=t;e2.equals(u,r)||e2.endsBefore(u,r)?r[u.length-1]-=1:e2.isAncestor(u,r)&&(r[u.length-1]-=1,r[u.length]+=c);break;case"split_node":var{path:l,position:A}=t;if(e2.equals(l,r)){if("forward"===o)r[r.length-1]+=1;else if("backward"!==o)return null}else e2.endsBefore(l,r)?r[l.length-1]+=1:e2.isAncestor(l,r)&&e[l.length]>=A&&(r[l.length-1]+=1,r[l.length]-=A);break;case"move_node":var{path:d,newPath:f}=t;if(e2.equals(d,f))break;if(e2.isAncestor(d,r)||e2.equals(d,r)){var h=f.slice();return e2.endsBefore(d,f)&&d.length<f.length&&(h[d.length-1]-=1),h.concat(r.slice(d.length))}e2.isSibling(d,f)&&(e2.isAncestor(f,r)||e2.equals(f,r))?e2.endsBefore(d,r)?r[d.length-1]-=1:r[d.length-1]+=1:e2.endsBefore(f,r)||e2.equals(f,r)||e2.isAncestor(f,r)?(e2.endsBefore(d,r)&&(r[d.length-1]-=1),r[f.length-1]+=1):e2.endsBefore(d,r)&&(e2.equals(f,r)&&(r[f.length-1]+=1),r[d.length-1]-=1)}return r}},e4={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var o=e2.transform(n,t,{affinity:r});e.current=o,null==o&&e.unref()}}};function e3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e3(Object(n),!0).forEach(function(t){en(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e6={compare(e,t){var n=e2.compare(e.path,t.path);return 0===n?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return 1===e6.compare(e,t)},isBefore(e,t){return -1===e6.compare(e,t)},equals(e,t){return e.offset===t.offset&&e2.equals(e.path,t.path)},isPoint(e){return(0,a.P)(e)&&"number"==typeof e.offset&&e2.isPath(e.path)},transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return J(e,e=>{if(null===e)return null;var{affinity:r="forward"}=n,{path:o,offset:a}=e;switch(t.type){case"insert_node":case"move_node":e.path=e2.transform(o,t,n);break;case"insert_text":e2.equals(t.path,o)&&(t.offset<a||t.offset===a&&"forward"===r)&&(e.offset+=t.text.length);break;case"merge_node":e2.equals(t.path,o)&&(e.offset+=t.position),e.path=e2.transform(o,t,n);break;case"remove_text":e2.equals(t.path,o)&&t.offset<=a&&(e.offset-=Math.min(a-t.offset,t.text.length));break;case"remove_node":if(e2.equals(t.path,o)||e2.isAncestor(t.path,o))return null;e.path=e2.transform(o,t,n);break;case"split_node":if(e2.equals(t.path,o)){if(t.position===a&&null==r)return null;(t.position<a||t.position===a&&"forward"===r)&&(e.offset-=t.position,e.path=e2.transform(o,t,e5(e5({},n),{},{affinity:"forward"})))}else e.path=e2.transform(o,t,n)}})}},e8={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var o=e6.transform(n,t,{affinity:r});e.current=o,null==o&&e.unref()}}},e9=["anchor","focus"];function e7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var te={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:o}=e;return te.isBackward(e)===n?[r,o]:[o,r]},end(e){var[,t]=te.edges(e);return t},equals(e,t){return e6.equals(e.anchor,t.anchor)&&e6.equals(e.focus,t.focus)},includes(e,t){if(te.isRange(t)){if(te.includes(e,t.anchor)||te.includes(e,t.focus))return!0;var[n,r]=te.edges(e),[o,a]=te.edges(t);return e6.isBefore(n,o)&&e6.isAfter(r,a)}var[s,u]=te.edges(e),c=!1,l=!1;return e6.isPoint(t)?(c=e6.compare(t,s)>=0,l=0>=e6.compare(t,u)):(c=e2.compare(t,s.path)>=0,l=0>=e2.compare(t,u.path)),c&&l},intersection(e,t){var n=eh(e,e9),[r,o]=te.edges(e),[a,s]=te.edges(t),u=e6.isBefore(r,a)?a:r,c=e6.isBefore(o,s)?o:s;return e6.isBefore(c,u)?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e7(Object(n),!0).forEach(function(t){en(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e7(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({anchor:u,focus:c},n)},isBackward(e){var{anchor:t,focus:n}=e;return e6.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return e6.equals(t,n)},isExpanded(e){return!te.isCollapsed(e)},isForward(e){return!te.isBackward(e)},isRange(e){return(0,a.P)(e)&&e6.isPoint(e.anchor)&&e6.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=te.edges(e);return t},transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return J(e,e=>{if(null===e)return null;var r,o,{affinity:a="inward"}=n;if("inward"===a){var s=te.isCollapsed(e);te.isForward(e)?(r="forward",o=s?r:"backward"):(r="backward",o=s?r:"forward")}else"outward"===a?te.isForward(e)?(r="backward",o="forward"):(r="forward",o="backward"):(r=a,o=a);var u=e6.transform(e.anchor,t,{affinity:r}),c=e6.transform(e.focus,t,{affinity:o});if(!u||!c)return null;e.anchor=u,e.focus=c})}},tt={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var o=te.transform(n,t,{affinity:r});e.current=o,null==o&&e.unref()}}},tn=void 0,tr={setScrubber(e){tn=e},stringify(e){return JSON.stringify(e,tn)}},ti=(e,t)=>{for(var n in e){var r=e[n],o=t[n];if((0,a.P)(r)&&(0,a.P)(o)){if(!ti(r,o))return!1}else if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;for(var s=0;s<r.length;s++)if(r[s]!==o[s])return!1}else if(r!==o)return!1}for(var u in t)if(void 0===e[u]&&void 0!==t[u])return!1;return!0},to=["text"],ta=["anchor","focus"];function ts(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ts(Object(n),!0).forEach(function(t){en(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ts(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tc={equals(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:r=!1}=n;return ti(r?eh(e,to):e,r?eh(t,to):t)},isText(e){return(0,a.P)(e)&&"string"==typeof e.text},isTextList(e){return Array.isArray(e)&&e.every(e=>tc.isText(e))},isTextProps(e){return void 0!==e.text},matches(e,t){for(var n in t)if("text"!==n&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[tu({},e)];for(var r of t){var o=eh(r,ta),[a,s]=te.edges(r),u=[],c=0,l=a.offset,A=s.offset;for(var d of n){var{length:f}=d.text,h=c;if(c+=f,l<=h&&c<=A){Object.assign(d,o),u.push(d);continue}if(l!==A&&(l===c||A===h)||l>c||A<h||A===h&&0!==h){u.push(d);continue}var p=d,g=void 0,v=void 0;if(A<c){var m=A-h;v=tu(tu({},p),{},{text:p.text.slice(m)}),p=tu(tu({},p),{},{text:p.text.slice(0,m)})}if(l>h){var y=l-h;g=tu(tu({},p),{},{text:p.text.slice(0,y)}),p=tu(tu({},p),{},{text:p.text.slice(y)})}Object.assign(p,o),g&&u.push(g),u.push(p),v&&u.push(v)}n=u}return n}};function tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tl(Object(n),!0).forEach(function(t){en(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var td=(e,t,n)=>{switch(n.type){case"insert_node":var{path:r,node:o}=n,a=eX.parent(e,r),s=r[r.length-1];if(s>a.children.length)throw Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(a.children.splice(s,0,o),t)for(var[u,c]of te.points(t))t[c]=e6.transform(u,n);break;case"insert_text":var{path:l,offset:A,text:d}=n;if(0===d.length)break;var f=eX.leaf(e,l),h=f.text.slice(0,A),p=f.text.slice(A);if(f.text=h+d+p,t)for(var[g,v]of te.points(t))t[v]=e6.transform(g,n);break;case"merge_node":var{path:m}=n,y=eX.get(e,m),b=e2.previous(m),w=eX.get(e,b),_=eX.parent(e,m),E=m[m.length-1];if(tc.isText(y)&&tc.isText(w))w.text+=y.text;else if(tc.isText(y)||tc.isText(w))throw Error('Cannot apply a "merge_node" operation at path ['.concat(m,"] to nodes of different interfaces: ").concat(tr.stringify(y)," ").concat(tr.stringify(w)));else w.children.push(...y.children);if(_.children.splice(E,1),t)for(var[C,B]of te.points(t))t[B]=e6.transform(C,n);break;case"move_node":var{path:I,newPath:x}=n;if(e2.isAncestor(I,x))throw Error("Cannot move a path [".concat(I,"] to new path [").concat(x,"] because the destination is inside itself."));var T=eX.get(e,I),S=eX.parent(e,I),k=I[I.length-1];S.children.splice(k,1);var D=e2.transform(I,n),N=eX.get(e,e2.parent(D)),O=D[D.length-1];if(N.children.splice(O,0,T),t)for(var[F,R]of te.points(t))t[R]=e6.transform(F,n);break;case"remove_node":var{path:L}=n,M=L[L.length-1];if(eX.parent(e,L).children.splice(M,1),t)for(var[P,U]of te.points(t)){var j=e6.transform(P,n);if(null!=t&&null!=j)t[U]=j;else{var Z=void 0,Q=void 0;for(var[H,V]of eX.texts(e))if(-1===e2.compare(V,L))Z=[H,V];else{Q=[H,V];break}var K=!1;Z&&Q&&(K=e2.equals(Q[1],L)?!e2.hasPrevious(Q[1]):e2.common(Z[1],L).length<e2.common(Q[1],L).length),Z&&!K?(P.path=Z[1],P.offset=Z[0].text.length):Q?(P.path=Q[1],P.offset=0):t=null}}break;case"remove_text":var{path:z,offset:G,text:W}=n;if(0===W.length)break;var q=eX.leaf(e,z),Y=q.text.slice(0,G),$=q.text.slice(G+W.length);if(q.text=Y+$,t)for(var[X,J]of te.points(t))t[J]=e6.transform(X,n);break;case"set_node":var{path:ee,properties:et,newProperties:en}=n;if(0===ee.length)throw Error("Cannot set properties on the root node!");var er=eX.get(e,ee);for(var ei in en){if("children"===ei||"text"===ei)throw Error('Cannot set the "'.concat(ei,'" property of nodes!'));var eo=en[ei];null==eo?delete er[ei]:er[ei]=eo}for(var ea in et)en.hasOwnProperty(ea)||delete er[ea];break;case"set_selection":var{newProperties:es}=n;if(null==es)t=es;else{if(null==t){if(!te.isRange(es))throw Error('Cannot apply an incomplete "set_selection" operation properties '.concat(tr.stringify(es)," when there is no current selection."));t=tA({},es)}for(var eu in es){var ec=es[eu];if(null==ec){if("anchor"===eu||"focus"===eu)throw Error('Cannot remove the "'.concat(eu,'" selection property'));delete t[eu]}else t[eu]=ec}}break;case"split_node":var el,{path:eA,position:ed,properties:ef}=n;if(0===eA.length)throw Error('Cannot apply a "split_node" operation at path ['.concat(eA,"] because the root node cannot be split."));var eh=eX.get(e,eA),ep=eX.parent(e,eA),eg=eA[eA.length-1];if(tc.isText(eh)){var ev=eh.text.slice(0,ed),em=eh.text.slice(ed);eh.text=ev,el=tA(tA({},ef),{},{text:em})}else{var ey=eh.children.slice(0,ed),eb=eh.children.slice(ed);eh.children=ey,el=tA(tA({},ef),{},{children:eb})}if(ep.children.splice(eg+1,0,el),t)for(var[ew,e_]of te.points(t))t[e_]=e6.transform(ew,n)}return t},tf=["text"],th=["children"];function tp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tp(Object(n),!0).forEach(function(t){en(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tp(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tv=(e,t)=>eZ.isElement(t)?!!eG.isVoid(e,t)||1===t.children.length&&tv(e,t.children[0]):!eG.isEditor(t),tm=(e,t)=>{if(te.isCollapsed(t))return t.anchor;var[,n]=te.edges(t),r=eG.pointRef(e,n);return tC.delete(e,{at:t}),r.unref()},ty=(e,t)=>{var[n]=eG.node(e,t);return e=>e===n};function tb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tb(Object(n),!0).forEach(function(t){en(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function t_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t_(Object(n),!0).forEach(function(t){en(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tC=tE(tE(tE(tE({},{transform(e,t){e.children=ee(e.children);var n=e.selection&&ee(e.selection);try{n=td(e,n,t)}finally{e.children=et(e.children),n?e.selection=u(n)?et(n):n:e.selection=null}}}),{insertNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eG.withoutNormalizing(e,()=>{var{hanging:r=!1,voids:o=!1,mode:a="lowest"}=n,{at:s,match:u,select:c}=n;if(eX.isNode(t)&&(t=[t]),0!==t.length){var[l]=t;if(s||(s=e.selection?e.selection:e.children.length>0?eG.end(e,[]):[0],c=!0),null==c&&(c=!1),te.isRange(s)){if(r||(s=eG.unhangRange(e,s,{voids:o})),te.isCollapsed(s))s=s.anchor;else{var[,A]=te.edges(s),d=eG.pointRef(e,A);tC.delete(e,{at:s}),s=d.unref()}}if(e6.isPoint(s)){null==u&&(u=tc.isText(l)?e=>tc.isText(e):e.isInline(l)?t=>tc.isText(t)||eG.isInline(e,t):t=>eG.isBlock(e,t));var[f]=eG.nodes(e,{at:s.path,match:u,mode:a,voids:o});if(!f)return;var[,h]=f,p=eG.pathRef(e,h),g=eG.isEnd(e,s,h);tC.splitNodes(e,{at:s,match:u,mode:a,voids:o});var v=p.unref();s=g?e2.next(v):v}var m=e2.parent(s),y=s[s.length-1];if(!(!o&&eG.void(e,{at:m}))){for(var b of t){var w=m.concat(y);y++,e.apply({type:"insert_node",path:w,node:b}),s=e2.next(s)}if(s=e2.previous(s),c){var _=eG.end(e,s);_&&tC.select(e,_)}}}})},liftNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eG.withoutNormalizing(e,()=>{var{at:n=e.selection,mode:r="lowest",voids:o=!1}=t,{match:a}=t;if(null==a&&(a=e2.isPath(n)?ty(e,n):t=>eG.isBlock(e,t)),n)for(var s of Array.from(eG.nodes(e,{at:n,match:a,mode:r,voids:o}),t=>{var[,n]=t;return eG.pathRef(e,n)})){var u=s.unref();if(u.length<2)throw Error("Cannot lift node at a path [".concat(u,"] because it has a depth of less than `2`."));var[c,l]=eG.node(e,e2.parent(u)),A=u[u.length-1],{length:d}=c.children;if(1===d){var f=e2.next(l);tC.moveNodes(e,{at:u,to:f,voids:o}),tC.removeNodes(e,{at:l,voids:o})}else if(0===A)tC.moveNodes(e,{at:u,to:l,voids:o});else if(A===d-1){var h=e2.next(l);tC.moveNodes(e,{at:u,to:h,voids:o})}else{var p=e2.next(u),g=e2.next(l);tC.splitNodes(e,{at:p,voids:o}),tC.moveNodes(e,{at:u,to:g,voids:o})}}})},mergeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eG.withoutNormalizing(e,()=>{var n,r,{match:o,at:a=e.selection}=t,{hanging:s=!1,voids:u=!1,mode:c="lowest"}=t;if(a){if(null==o){if(e2.isPath(a)){var[l]=eG.parent(e,a);o=e=>l.children.includes(e)}else o=t=>eG.isBlock(e,t)}if(!s&&te.isRange(a)&&(a=eG.unhangRange(e,a,{voids:u})),te.isRange(a)){if(te.isCollapsed(a))a=a.anchor;else{var[,A]=te.edges(a),d=eG.pointRef(e,A);tC.delete(e,{at:a}),a=d.unref(),null==t.at&&tC.select(e,a)}}var[f]=eG.nodes(e,{at:a,match:o,voids:u,mode:c}),h=eG.previous(e,{at:a,match:o,voids:u,mode:c});if(f&&h){var[p,g]=f,[v,m]=h;if(0!==g.length&&0!==m.length){var y=e2.next(m),b=e2.common(g,m),w=e2.isSibling(g,m),_=Array.from(eG.levels(e,{at:g}),e=>{var[t]=e;return t}).slice(b.length).slice(0,-1),E=eG.above(e,{at:g,mode:"highest",match:t=>_.includes(t)&&tv(e,t)}),C=E&&eG.pathRef(e,E[1]);if(tc.isText(p)&&tc.isText(v)){var B=eh(p,tf);r=v.text.length,n=B}else if(eZ.isElement(p)&&eZ.isElement(v)){var B=eh(p,th);r=v.children.length,n=B}else throw Error("Cannot merge the node at path [".concat(g,"] with the previous sibling because it is not the same kind: ").concat(tr.stringify(p)," ").concat(tr.stringify(v)));w||tC.moveNodes(e,{at:g,to:y,voids:u}),C&&tC.removeNodes(e,{at:C.current,voids:u}),eZ.isElement(v)&&eG.isEmpty(e,v)||tc.isText(v)&&""===v.text&&0!==m[m.length-1]?tC.removeNodes(e,{at:m,voids:u}):e.apply({type:"merge_node",path:y,position:r,properties:n}),C&&C.unref()}}}})},moveNodes(e,t){eG.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:o="lowest",voids:a=!1}=t,{match:s}=t;if(r){null==s&&(s=e2.isPath(r)?ty(e,r):t=>eG.isBlock(e,t));var u=eG.pathRef(e,n);for(var c of Array.from(eG.nodes(e,{at:r,match:s,mode:o,voids:a}),t=>{var[,n]=t;return eG.pathRef(e,n)})){var l=c.unref(),A=u.current;0!==l.length&&e.apply({type:"move_node",path:l,newPath:A}),u.current&&e2.isSibling(A,l)&&e2.isAfter(A,l)&&(u.current=e2.next(u.current))}u.unref()}})},removeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eG.withoutNormalizing(e,()=>{var{hanging:n=!1,voids:r=!1,mode:o="lowest"}=t,{at:a=e.selection,match:s}=t;if(a)for(var u of(null==s&&(s=e2.isPath(a)?ty(e,a):t=>eG.isBlock(e,t)),!n&&te.isRange(a)&&(a=eG.unhangRange(e,a,{voids:r})),Array.from(eG.nodes(e,{at:a,match:s,mode:o,voids:r}),t=>{var[,n]=t;return eG.pathRef(e,n)}))){var c=u.unref();if(c){var[l]=eG.node(e,c);e.apply({type:"remove_node",path:c,node:l})}}})},setNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eG.withoutNormalizing(e,()=>{var{match:r,at:o=e.selection,compare:a,merge:s}=n,{hanging:u=!1,mode:c="lowest",split:l=!1,voids:A=!1}=n;if(o){if(null==r&&(r=e2.isPath(o)?ty(e,o):t=>eG.isBlock(e,t)),!u&&te.isRange(o)&&(o=eG.unhangRange(e,o,{voids:A})),l&&te.isRange(o)){if(te.isCollapsed(o)&&eG.leaf(e,o.anchor)[0].text.length>0)return;var d=eG.rangeRef(e,o,{affinity:"inward"}),[f,h]=te.edges(o),p="lowest"===c?"lowest":"highest",g=eG.isEnd(e,h,h.path);tC.splitNodes(e,{at:h,match:r,mode:p,voids:A,always:!g});var v=eG.isStart(e,f,f.path);tC.splitNodes(e,{at:f,match:r,mode:p,voids:A,always:!v}),o=d.unref(),null==n.at&&tC.select(e,o)}for(var[m,y]of(a||(a=(e,t)=>e!==t),eG.nodes(e,{at:o,match:r,mode:c,voids:A}))){var b={},w={};if(0!==y.length){var _=!1;for(var E in t)"children"!==E&&"text"!==E&&a(t[E],m[E])&&(_=!0,m.hasOwnProperty(E)&&(b[E]=m[E]),s?null!=t[E]&&(w[E]=s(m[E],t[E])):null!=t[E]&&(w[E]=t[E]));_&&e.apply({type:"set_node",path:y,properties:b,newProperties:w})}}}})},splitNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eG.withoutNormalizing(e,()=>{var n,r,{mode:o="lowest",voids:a=!1}=t,{match:s,at:u=e.selection,height:c=0,always:l=!1}=t;if(null==s&&(s=t=>eG.isBlock(e,t)),te.isRange(u)&&(u=tm(e,u)),e2.isPath(u)){var A=u,d=eG.point(e,A),[f]=eG.parent(e,A);s=e=>e===f,c=d.path.length-A.length+1,u=d,l=!0}if(u){var h=eG.pointRef(e,u,{affinity:"backward"});try{var[p]=eG.nodes(e,{at:u,match:s,mode:o,voids:a});if(!p)return;var g=eG.void(e,{at:u,mode:"highest"});if(!a&&g){var[v,m]=g;if(eZ.isElement(v)&&e.isInline(v)){var y=eG.after(e,m);if(!y){var b=e2.next(m);tC.insertNodes(e,{text:""},{at:b,voids:a}),y=eG.point(e,b)}u=y,l=!0}c=u.path.length-m.length+1,l=!0}n=eG.pointRef(e,u);var w=u.path.length-c,[,_]=p,E=u.path.slice(0,w),C=0===c?u.offset:u.path[w]+0;for(var[B,I]of eG.levels(e,{at:E,reverse:!0,voids:a})){var x=!1;if(I.length<_.length||0===I.length||!a&&eG.isVoid(e,B))break;var T=h.current,S=eG.isEnd(e,T,I);if(l||!h||!eG.isEdge(e,T,I)){x=!0;var k=eX.extractProps(B);e.apply({type:"split_node",path:I,position:C,properties:k})}C=I[I.length-1]+(x||S?1:0)}if(null==t.at){var D=n.current||eG.end(e,[]);tC.select(e,D)}}finally{h.unref(),null===(r=n)||void 0===r||r.unref()}}})},unsetNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var r={};for(var o of t)r[o]=null;tC.setNodes(e,r,n)},unwrapNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eG.withoutNormalizing(e,()=>{var{mode:n="lowest",split:r=!1,voids:o=!1}=t,{at:a=e.selection,match:s}=t;if(a){null==s&&(s=e2.isPath(a)?ty(e,a):t=>eG.isBlock(e,t)),e2.isPath(a)&&(a=eG.range(e,a));var u=te.isRange(a)?eG.rangeRef(e,a):null;for(var c of Array.from(eG.nodes(e,{at:a,match:s,mode:n,voids:o}),t=>{var[,n]=t;return eG.pathRef(e,n)}).reverse())!function(t){var n=t.unref(),[a]=eG.node(e,n),s=eG.range(e,n);r&&u&&(s=te.intersection(u.current,s)),tC.liftNodes(e,{at:s,match:e=>eZ.isAncestor(a)&&a.children.includes(e),voids:o})}(c);u&&u.unref()}})},wrapNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eG.withoutNormalizing(e,()=>{var{mode:r="lowest",split:o=!1,voids:a=!1}=n,{match:s,at:u=e.selection}=n;if(u){if(null==s&&(s=e2.isPath(u)?ty(e,u):e.isInline(t)?t=>eG.isInline(e,t)||tc.isText(t):t=>eG.isBlock(e,t)),o&&te.isRange(u)){var[c,l]=te.edges(u),A=eG.rangeRef(e,u,{affinity:"inward"});tC.splitNodes(e,{at:l,match:s,voids:a}),tC.splitNodes(e,{at:c,match:s,voids:a}),u=A.unref(),null==n.at&&tC.select(e,u)}for(var[,d]of Array.from(eG.nodes(e,{at:u,match:e.isInline(t)?t=>eG.isBlock(e,t):e=>eG.isEditor(e),mode:"lowest",voids:a}))){var f=te.isRange(u)?te.intersection(u,eG.range(e,d)):u;if(f){var h=Array.from(eG.nodes(e,{at:f,match:s,mode:r,voids:a}));if(h.length>0&&"continue"===function(){var[n]=h,r=h[h.length-1],[,o]=n,[,s]=r;if(0===o.length&&0===s.length)return"continue";var u=e2.equals(o,s)?e2.parent(o):e2.common(o,s),c=eG.range(e,o,s),[l]=eG.node(e,u),A=u.length+1,d=e2.next(s.slice(0,A)),f=tg(tg({},t),{},{children:[]});tC.insertNodes(e,f,{at:d,voids:a}),tC.moveNodes(e,{at:c,match:e=>eZ.isAncestor(l)&&l.children.includes(e),to:d.concat(0),voids:a})}())continue}}}})}}),{collapse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:n="anchor"}=t,{selection:r}=e;if(r){if("anchor"===n)tC.select(e,r.anchor);else if("focus"===n)tC.select(e,r.focus);else if("start"===n){var[o]=te.edges(r);tC.select(e,o)}else if("end"===n){var[,a]=te.edges(r);tC.select(e,a)}}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:n}=e,{distance:r=1,unit:o="character",reverse:a=!1}=t,{edge:s=null}=t;if(n){"start"===s&&(s=te.isBackward(n)?"focus":"anchor"),"end"===s&&(s=te.isBackward(n)?"anchor":"focus");var{anchor:u,focus:c}=n,l={distance:r,unit:o},A={};if(null==s||"anchor"===s){var d=a?eG.before(e,u,l):eG.after(e,u,l);d&&(A.anchor=d)}if(null==s||"focus"===s){var f=a?eG.before(e,c,l):eG.after(e,c,l);f&&(A.focus=f)}tC.setSelection(e,A)}},select(e,t){var{selection:n}=e;if(t=eG.range(e,t),n){tC.setSelection(e,t);return}if(!te.isRange(t))throw Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(tr.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})},setPoint(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:r}=e,{edge:o="both"}=n;if(r){"start"===o&&(o=te.isBackward(r)?"focus":"anchor"),"end"===o&&(o=te.isBackward(r)?"anchor":"focus");var{anchor:a,focus:s}=r,u="anchor"===o?a:s;tC.setSelection(e,{["anchor"===o?"anchor":"focus"]:tw(tw({},u),t)})}},setSelection(e,t){var{selection:n}=e,r={},o={};if(n){for(var a in t)("anchor"!==a||null==t.anchor||e6.equals(t.anchor,n.anchor))&&("focus"!==a||null==t.focus||e6.equals(t.focus,n.focus))&&("anchor"===a||"focus"===a||t[a]===n[a])||(r[a]=n[a],o[a]=t[a]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}}}),{delete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eG.withoutNormalizing(e,()=>{var n,{reverse:r=!1,unit:o="character",distance:a=1,voids:s=!1}=t,{at:u=e.selection,hanging:c=!1}=t;if(u){var l=!1;if(te.isRange(u)&&te.isCollapsed(u)&&(l=!0,u=u.anchor),e6.isPoint(u)){var A=eG.void(e,{at:u,mode:"highest"});if(!s&&A){var[,d]=A;u=d}else{var f={unit:o,distance:a},h=r?eG.before(e,u,f)||eG.start(e,[]):eG.after(e,u,f)||eG.end(e,[]);u={anchor:u,focus:h},c=!0}}if(e2.isPath(u)){tC.removeNodes(e,{at:u,voids:s});return}if(!te.isCollapsed(u)){if(!c){var[,p]=te.edges(u),g=eG.end(e,[]);e6.equals(p,g)||(u=eG.unhangRange(e,u,{voids:s}))}var[v,m]=te.edges(u),y=eG.above(e,{match:t=>eG.isBlock(e,t),at:v,voids:s}),b=eG.above(e,{match:t=>eG.isBlock(e,t),at:m,voids:s}),w=y&&b&&!e2.equals(y[1],b[1]),_=e2.equals(v.path,m.path),E=s?null:eG.void(e,{at:v,mode:"highest"}),C=s?null:eG.void(e,{at:m,mode:"highest"});if(E){var B=eG.before(e,v);B&&y&&e2.isAncestor(y[1],B.path)&&(v=B)}if(C){var I=eG.after(e,m);I&&b&&e2.isAncestor(b[1],I.path)&&(m=I)}var x=[];for(var T of eG.nodes(e,{at:u,voids:s})){var[S,k]=T;(!n||0!==e2.compare(k,n))&&(!s&&eG.isVoid(e,S)||!e2.isCommon(k,v.path)&&!e2.isCommon(k,m.path))&&(x.push(T),n=k)}var D=Array.from(x,t=>{var[,n]=t;return eG.pathRef(e,n)}),N=eG.pointRef(e,v),O=eG.pointRef(e,m),F="";if(!_&&!E){var R=N.current,[L]=eG.leaf(e,R),{path:M}=R,{offset:P}=v,U=L.text.slice(P);U.length>0&&(e.apply({type:"remove_text",path:M,offset:P,text:U}),F=U)}if(D.reverse().map(e=>e.unref()).filter(e=>null!==e).forEach(t=>tC.removeNodes(e,{at:t,voids:s})),!C){var j=O.current,[Z]=eG.leaf(e,j),{path:Q}=j,H=_?v.offset:0,V=Z.text.slice(H,m.offset);V.length>0&&(e.apply({type:"remove_text",path:Q,offset:H,text:V}),F=V)}!_&&w&&O.current&&N.current&&tC.mergeNodes(e,{at:O.current,hanging:!0,voids:s}),l&&r&&"character"===o&&F.length>1&&F.match(/[\u0E00-\u0E7F]+/)&&tC.insertText(e,F.slice(0,F.length-a));var K=N.unref(),z=O.unref(),G=r?K||z:z||K;null==t.at&&G&&tC.select(e,G)}}})},insertFragment(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eG.withoutNormalizing(e,()=>{var r,{hanging:o=!1,voids:a=!1}=n,{at:s=e.selection}=n;if(t.length&&s){if(te.isRange(s)){if(o||(s=eG.unhangRange(e,s,{voids:a})),te.isCollapsed(s))s=s.anchor;else{var[,u]=te.edges(s);if(!a&&eG.void(e,{at:u}))return;var c=eG.pointRef(e,u);tC.delete(e,{at:s}),s=c.unref()}}else e2.isPath(s)&&(s=eG.start(e,s));if(!(!a&&eG.void(e,{at:s}))){var l=eG.above(e,{at:s,match:t=>eG.isInline(e,t),mode:"highest",voids:a});if(l){var[,A]=l;eG.isEnd(e,s,A)?s=eG.after(e,A):eG.isStart(e,s,A)&&(s=eG.before(e,A))}var[,d]=eG.above(e,{match:t=>eG.isBlock(e,t),at:s,voids:a}),f=eG.isStart(e,s,d),h=eG.isEnd(e,s,d),p=f&&h,g=!f||f&&h,v=!h,[,m]=eX.first({children:t},[]),[,y]=eX.last({children:t},[]),b=[],w=t=>{var[n,r]=t;return 0!==r.length&&(!!p||!(g&&e2.isAncestor(r,m)&&eZ.isElement(n)&&!e.isVoid(n)&&!e.isInline(n)||v&&e2.isAncestor(r,y)&&eZ.isElement(n)&&!e.isVoid(n)&&!e.isInline(n)))};for(var _ of eX.nodes({children:t},{pass:w}))w(_)&&b.push(_);var E=[],C=[],B=[],I=!0,x=!1;for(var[T]of b)eZ.isElement(T)&&!e.isInline(T)?(I=!1,x=!0,C.push(T)):I?E.push(T):B.push(T);var[S]=eG.nodes(e,{at:s,match:t=>tc.isText(t)||eG.isInline(e,t),mode:"highest",voids:a}),[,k]=S,D=eG.isStart(e,s,k),N=eG.isEnd(e,s,k),O=eG.pathRef(e,h&&!B.length?e2.next(d):d),F=eG.pathRef(e,N?e2.next(k):k);tC.splitNodes(e,{at:s,match:t=>x?eG.isBlock(e,t):tc.isText(t)||eG.isInline(e,t),mode:x?"lowest":"highest",always:x&&(!f||E.length>0)&&(!h||B.length>0),voids:a});var R=eG.pathRef(e,!D||D&&N?e2.next(k):k);if(tC.insertNodes(e,E,{at:R.current,match:t=>tc.isText(t)||eG.isInline(e,t),mode:"highest",voids:a}),p&&!E.length&&C.length&&!B.length&&tC.delete(e,{at:d,voids:a}),tC.insertNodes(e,C,{at:O.current,match:t=>eG.isBlock(e,t),mode:"lowest",voids:a}),tC.insertNodes(e,B,{at:F.current,match:t=>tc.isText(t)||eG.isInline(e,t),mode:"highest",voids:a}),!n.at&&(B.length>0&&F.current?r=e2.previous(F.current):C.length>0&&O.current?r=e2.previous(O.current):R.current&&(r=e2.previous(R.current)),r)){var L=eG.end(e,r);tC.select(e,L)}R.unref(),O.unref(),F.unref()}}})},insertText(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eG.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:o=e.selection}=n;if(o){if(e2.isPath(o)&&(o=eG.range(e,o)),te.isRange(o)){if(te.isCollapsed(o))o=o.anchor;else{var a=te.end(o);if(!r&&eG.void(e,{at:a}))return;var s=te.start(o),u=eG.pointRef(e,s),c=eG.pointRef(e,a);tC.delete(e,{at:o,voids:r});var l=u.unref(),A=c.unref();o=l||A,tC.setSelection(e,{anchor:o,focus:o})}}if(!(!r&&eG.void(e,{at:o}))){var{path:d,offset:f}=o;t.length>0&&e.apply({type:"insert_text",path:d,offset:f,text:t})}}})}})},42294:function(e,t,n){"use strict";var r=n(81867);e.exports=function(e,t){var n=String(e),o=String(t),a=r.pseudoRandomBytes(32);return function(e,t){if(e.length!==t.length)return!1;if(r.timingSafeEqual)return r.timingSafeEqual(e,t);for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(r.createHmac("sha256",a).update(n).digest(),r.createHmac("sha256",a).update(o).digest())&&e===t}},99642:function(e){e.exports="/_next/static/images/eraser-og-ai-5f2e6c94f2dfe2392c4b5207b91a5181.png"},64846:function(e,t,n){"use strict";var r=n(57245),o=n(97375),a=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s=/[\n\r\t]/g,u=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,A=/^[a-zA-Z]:/;function d(e){return(e||"").toString().replace(a,"")}var f=[["#","hash"],["?","query"],function(e,t){return g(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],h={hash:1,query:1};function p(e){"undefined"!=typeof window?t=window:void 0!==n.g?t=n.g:"undefined"!=typeof self?t=self:t={};var t,r,o=t.location||{},a={},s=typeof(e=e||o);if("blob:"===e.protocol)a=new m(unescape(e.pathname),{});else if("string"===s)for(r in a=new m(e,{}),h)delete a[r];else if("object"===s){for(r in e)r in h||(a[r]=e[r]);void 0===a.slashes&&(a.slashes=u.test(e.href))}return a}function g(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function v(e,t){e=(e=d(e)).replace(s,""),t=t||{};var n,r=l.exec(e),o=r[1]?r[1].toLowerCase():"",a=!!r[2],u=!!r[3],c=0;return a?u?(n=r[2]+r[3]+r[4],c=r[2].length+r[3].length):(n=r[2]+r[4],c=r[2].length):u?(n=r[3]+r[4],c=r[3].length):n=r[4],"file:"===o?c>=2&&(n=n.slice(2)):g(o)?n=r[4]:o?a&&(n=n.slice(2)):c>=2&&g(t.protocol)&&(n=r[4]),{protocol:o,slashes:a||g(o),slashesCount:c,rest:n}}function m(e,t,n){if(e=(e=d(e)).replace(s,""),!(this instanceof m))return new m(e,t,n);var a,u,c,l,h,y,b=f.slice(),w=typeof t,_=0;for("object"!==w&&"string"!==w&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),a=!(u=v(e||"",t=p(t))).protocol&&!u.slashes,this.slashes=u.slashes||a&&t.slashes,this.protocol=u.protocol||t.protocol||"",e=u.rest,("file:"===u.protocol&&(2!==u.slashesCount||A.test(e))||!u.slashes&&(u.protocol||u.slashesCount<2||!g(this.protocol)))&&(b[3]=[/(.*)/,"pathname"]);_<b.length;_++){if("function"==typeof(l=b[_])){e=l(e,this);continue}c=l[0],y=l[1],c!=c?this[y]=e:"string"==typeof c?~(h="@"===c?e.lastIndexOf(c):e.indexOf(c))&&("number"==typeof l[2]?(this[y]=e.slice(0,h),e=e.slice(h+l[2])):(this[y]=e.slice(h),e=e.slice(0,h))):(h=c.exec(e))&&(this[y]=h[1],e=e.slice(0,h.index)),this[y]=this[y]||a&&l[3]&&t[y]||"",l[4]&&(this[y]=this[y].toLowerCase())}n&&(this.query=n(this.query)),a&&t.slashes&&"/"!==this.pathname.charAt(0)&&(""!==this.pathname||""!==t.pathname)&&(this.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,o=n[r-1],a=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(a=!0),n.splice(r,1),s--);return a&&n.unshift(""),("."===o||".."===o)&&n.push(""),n.join("/")}(this.pathname,t.pathname)),"/"!==this.pathname.charAt(0)&&g(this.protocol)&&(this.pathname="/"+this.pathname),r(this.port,this.protocol)||(this.host=this.hostname,this.port=""),this.username=this.password="",this.auth&&(~(h=this.auth.indexOf(":"))?(this.username=this.auth.slice(0,h),this.username=encodeURIComponent(decodeURIComponent(this.username)),this.password=this.auth.slice(h+1),this.password=encodeURIComponent(decodeURIComponent(this.password))):this.username=encodeURIComponent(decodeURIComponent(this.auth)),this.auth=this.password?this.username+":"+this.password:this.username),this.origin="file:"!==this.protocol&&g(this.protocol)&&this.host?this.protocol+"//"+this.host:"null",this.href=this.toString()}m.prototype={set:function(e,t,n){switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||o.parse)(t)),this[e]=t;break;case"port":this[e]=t,r(t,this.protocol)?t&&(this.host=this.hostname+":"+t):(this.host=this.hostname,this[e]="");break;case"hostname":this[e]=t,this.port&&(t+=":"+this.port),this.host=t;break;case"host":this[e]=t,c.test(t)?(t=t.split(":"),this.port=t.pop(),this.hostname=t.join(":")):(this.hostname=t,this.port="");break;case"protocol":this.protocol=t.toLowerCase(),this.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";this[e]=t.charAt(0)!==a?a+t:t}else this[e]=t;break;case"username":case"password":this[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(this.username=t.slice(0,s),this.username=encodeURIComponent(decodeURIComponent(this.username)),this.password=t.slice(s+1),this.password=encodeURIComponent(decodeURIComponent(this.password))):this.username=encodeURIComponent(decodeURIComponent(t))}for(var u=0;u<f.length;u++){var l=f[u];l[4]&&(this[l[1]]=this[l[1]].toLowerCase())}return this.auth=this.password?this.username+":"+this.password:this.username,this.origin="file:"!==this.protocol&&g(this.protocol)&&this.host?this.protocol+"//"+this.host:"null",this.href=this.toString(),this},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,n=this.host,r=this.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var a=r+(this.protocol&&this.slashes||g(this.protocol)?"//":"");return this.username?(a+=this.username,this.password&&(a+=":"+this.password),a+="@"):this.password?a+=":"+this.password+"@":"file:"!==this.protocol&&g(this.protocol)&&!n&&"/"!==this.pathname&&(a+="@"),(":"===n[n.length-1]||c.test(this.hostname)&&!this.port)&&(n+=":"),a+=n+this.pathname,(t="object"==typeof this.query?e(this.query):this.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),this.hash&&(a+=this.hash),a}},m.extractProtocol=v,m.location=p,m.trimLeft=d,m.qs=o,e.exports=m},21746:function(e,t,n){"use strict";n.d(t,{Sz:function(){return f},kr:function(){return d},qp:function(){return h}});var r=n(2784),o=n(14616),a=n(28316);n(34406);let s=Symbol(),u=Symbol(),c="undefined"==typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?r.useEffect:r.useLayoutEffect,l=o.unstable_runWithPriority?e=>(0,o.unstable_runWithPriority)(o.unstable_NormalPriority,e):e=>e(),A=e=>e;function d(e){var t;let n=(0,r.createContext)({[s]:{v:{current:e},n:{current:-1},l:new Set,u:e=>e()}});return n[u]=n.Provider,n.Provider=(t=n.Provider,({value:e,children:n})=>{let o=(0,r.useRef)(e),u=(0,r.useRef)(0),A=(0,r.useRef)();if(!A.current){let e=new Set;A.current={[s]:{v:o,n:u,l:e,u:t=>{(0,a.unstable_batchedUpdates)(()=>{u.current+=1,e.forEach(e=>e([u.current])),t()})}}}}return c(()=>{o.current=e,u.current+=1,l(()=>{A.current[s].l.forEach(t=>{t([u.current,e])})})},[e]),(0,r.createElement)(t,{value:A.current},n)}),delete n.Consumer,n}function f(e,t){let{v:{current:n},n:{current:o},l:a}=(0,r.useContext)(e)[s],u=t(n),[l,A]=(0,r.useReducer)((e,r)=>{if(!r)return[n,u];if(r[0]<=o)return Object.is(e[1],u)?e:[n,u];try{if(2===r.length){if(Object.is(e[0],r[1]))return e;let n=t(r[1]);return Object.is(e[1],n)?e:[r[1],n]}}catch(e){}return[...e]},[n,u]);return Object.is(l[1],u)||A(),c(()=>(a.add(A),()=>{a.delete(A)}),[a]),l[1]}function h(e){return f(e,A)}},20452:function(e,t,n){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2784),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,s=r.useEffect,u=r.useLayoutEffect,c=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var A="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,A=r[1];return u(function(){o.value=n,o.getSnapshot=t,l(o)&&A({inst:o})},[e,n,t]),s(function(){return l(o)&&A({inst:o}),e(function(){l(o)&&A({inst:o})})},[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:A},43100:function(e,t,n){"use strict";e.exports=n(20452)},34566:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r=(0,n(2784).createContext)({dragDropManager:void 0})},56846:function(e,t,n){"use strict";n.d(t,{J:function(){return l}});var r=n(14141),o=n(69378),a=/*#__PURE__*/n.n(o),s=n(2784);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n){var o,l,A,d,f,h,p,g,v,m,y;return o=e||function(){return{}},l=function(){return n.reconnect()},m=(v=function(e){if(Array.isArray(e))return e}((f=(d=function(e){if(Array.isArray(e))return e}(A=(0,s.useState)(function(){return o(t)}))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],s=!0,u=!1;try{for(o=o.call(e);!(s=(n=o.next()).done)&&(a.push(n.value),2!==a.length);s=!0);}catch(e){u=!0,r=e}finally{try{s||null==o.return||o.return()}finally{if(u)throw r}}return a}}(A,2)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,2)}}(A,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],h=d[1],p=(0,s.useCallback)(function(){var e=o(t);!a()(f,e)&&(h(e),l&&l())},[f,t,l]),(0,r.L)(p),g=[f,p]))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],s=!0,u=!1;try{for(o=o.call(e);!(s=(n=o.next()).done)&&(a.push(n.value),2!==a.length);s=!0);}catch(e){u=!0,r=e}finally{try{s||null==o.return||o.return()}finally{if(u)throw r}}return a}}(g,2)||function(e,t){if(e){if("string"==typeof e)return c(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,2)}}(g,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],y=v[1],(0,r.L)(function(){var e=t.getHandlerId();if(null!=e)return t.subscribeToStateChange(y,{handlerIds:[e]})},[t,y]),m}},9311:function(e,t,n){"use strict";n.d(t,{c:function(){return C}});var r=n(5934),o=n(14141),a=n(2784);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=/*#__PURE__*/function(){var e;function t(e,n,r){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),u(this,"spec",void 0),u(this,"monitor",void 0),u(this,"connector",void 0),this.spec=e,this.monitor=n,this.connector=r}return e=[{key:"beginDrag",value:function(){var e,t=this.spec,n=this.monitor;return null!==(e="object"===s(t.item)?t.item:"function"==typeof t.item?t.item(n):{})&&void 0!==e?e:null}},{key:"canDrag",value:function(){var e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}},{key:"isDragging",value:function(e,t){var n=this.spec,r=this.monitor,o=n.isDragging;return o?o(r):t===e.getSourceId()}},{key:"endDrag",value:function(){var e=this.spec,t=this.monitor,n=this.connector,r=e.end;r&&r(t.getItem(),t),n.reconnect()}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),l=n(40917),A=n(45293);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=n(67617);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=!1,g=!1,v=/*#__PURE__*/function(){var e;function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),h(this,"internalMonitor",void 0),h(this,"sourceId",null),this.internalMonitor=e.getMonitor()}return e=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){(0,A.k)(!p,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return p=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{p=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;(0,A.k)(!g,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return g=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{g=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),m=n(40898),y=n(71618),b=n(57320);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=/*#__PURE__*/function(){var e;function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),w(this,"hooks",(0,m.p)({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,(0,y.d)(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,(0,y.d)(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}})),w(this,"handlerId",null),w(this,"dragSourceRef",null),w(this,"dragSourceNode",void 0),w(this,"dragSourceOptionsInternal",null),w(this,"dragSourceUnsubscribe",void 0),w(this,"dragPreviewRef",null),w(this,"dragPreviewNode",void 0),w(this,"dragPreviewOptionsInternal",null),w(this,"dragPreviewUnsubscribe",void 0),w(this,"lastConnectedHandlerId",null),w(this,"lastConnectedDragSource",null),w(this,"lastConnectedDragSourceOptions",null),w(this,"lastConnectedDragPreview",null),w(this,"lastConnectedDragPreviewOptions",null),w(this,"backend",void 0),this.backend=e}return e=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();if(t&&this.disconnectDragSource(),this.handlerId){if(!e){this.lastConnectedDragSource=e;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions))}}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(t&&this.disconnectDragPreview(),this.handlerId){if(!e){this.lastConnectedDragPreview=e;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!(0,b.w)(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!(0,b.w)(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),E=n(56846);function C(e,t){var n,s,u,h,p,g,m,y,b=(0,f.w)(e,t);(0,A.k)(!b.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var w=(n=(0,l.N)(),(0,a.useMemo)(function(){return new v(n)},[n])),C=(s=b.options,u=b.previewOptions,h=(0,l.N)(),p=(0,a.useMemo)(function(){return new _(h.getBackend())},[h]),(0,o.L)(function(){return p.dragSourceOptions=s||null,p.reconnect(),function(){return p.disconnectDragSource()}},[p,s]),(0,o.L)(function(){return p.dragPreviewOptions=u||null,p.reconnect(),function(){return p.disconnectDragPreview()}},[p,u]),p);return g=(0,l.N)(),m=(0,a.useMemo)(function(){return new c(b,w,C)},[w,C]),(0,a.useEffect)(function(){m.spec=b},[b]),y=(0,a.useMemo)(function(){var e=b.type;return(0,A.k)(null!=e,"spec.type must be defined"),e},[b]),(0,o.L)(function(){if(null!=y){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.w)(y,m,g))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],s=!0,u=!1;try{for(o=o.call(e);!(s=(n=o.next()).done)&&(a.push(n.value),2!==a.length);s=!0);}catch(e){u=!0,r=e}finally{try{s||null==o.return||o.return()}finally{if(u)throw r}}return a}}(e,2)||function(e,t){if(e){if("string"==typeof e)return d(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],o=t[1];return w.receiveHandlerId(n),C.receiveHandlerId(n),o}},[g,w,C,m,y]),[(0,E.J)(b.collect,w,C),(0,a.useMemo)(function(){return C.hooks.dragSource()},[C]),(0,a.useMemo)(function(){return C.hooks.dragPreview()},[C])]}},40917:function(e,t,n){"use strict";n.d(t,{N:function(){return s}});var r=n(2784),o=n(45293),a=n(34566);function s(){var e=(0,r.useContext)(a.L).dragDropManager;return(0,o.k)(null!=e,"Expected drag drop context"),e}},34569:function(e,t,n){"use strict";n.d(t,{L:function(){return _}});var r=n(5934),o=n(40917),a=n(14141),s=n(45293),u=n(2784);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=/*#__PURE__*/function(){var e;function t(e,n){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),c(this,"spec",void 0),c(this,"monitor",void 0),this.spec=e,this.monitor=n}return e=[{key:"canDrop",value:function(){var e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}},{key:"hover",value:function(){var e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}},{key:"drop",value:function(){var e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}();function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var d=n(67617);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=!1,p=/*#__PURE__*/function(){var e;function t(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),f(this,"internalMonitor",void 0),f(this,"targetId",null),this.internalMonitor=e.getMonitor()}return e=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;(0,s.k)(!h,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return h=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{h=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),g=n(57320),v=n(40898),m=n(71618);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=/*#__PURE__*/function(){var e;function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),y(this,"hooks",(0,v.p)({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,(0,m.d)(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}})),y(this,"handlerId",null),y(this,"dropTargetRef",null),y(this,"dropTargetNode",void 0),y(this,"dropTargetOptionsInternal",null),y(this,"unsubscribeDropTarget",void 0),y(this,"lastConnectedHandlerId",null),y(this,"lastConnectedDropTarget",null),y(this,"lastConnectedDropTargetOptions",null),y(this,"backend",void 0),this.backend=e}return e=[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;if(this.handlerId){if(!t){this.lastConnectedDropTarget=t;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!(0,g.w)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(t.prototype,e),t}(),w=n(56846);function _(e,t){var n,c,f,h,g,v,m,y,_=(0,d.w)(e,t),E=(n=(0,o.N)(),(0,u.useMemo)(function(){return new p(n)},[n])),C=(c=_.options,f=(0,o.N)(),h=(0,u.useMemo)(function(){return new b(f.getBackend())},[f]),(0,a.L)(function(){return h.dropTargetOptions=c||null,h.reconnect(),function(){return h.disconnectDropTarget()}},[c]),h);return g=(0,o.N)(),v=(0,u.useMemo)(function(){return new l(_,E)},[E]),(0,u.useEffect)(function(){v.spec=_},[_]),m=_.accept,y=(0,u.useMemo)(function(){return(0,s.k)(null!=_.accept,"accept must be defined"),Array.isArray(m)?m:[m]},[m]),(0,a.L)(function(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,r.n)(y,v,g))||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],s=!0,u=!1;try{for(o=o.call(e);!(s=(n=o.next()).done)&&(a.push(n.value),2!==a.length);s=!0);}catch(e){u=!0,r=e}finally{try{s||null==o.return||o.return()}finally{if(u)throw r}}return a}}(e,2)||function(e,t){if(e){if("string"==typeof e)return A(e,2);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,2)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],o=t[1];return E.receiveHandlerId(n),C.receiveHandlerId(n),o},[g,E,v,C,y.map(function(e){return e.toString()}).join("|")]),[(0,w.J)(_.collect,E,C),(0,u.useMemo)(function(){return C.hooks.dropTarget()},[C])]}},14141:function(e,t,n){"use strict";n.d(t,{L:function(){return o}});var r=n(2784),o="undefined"!=typeof window?r.useLayoutEffect:r.useEffect},67617:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(2784);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n,a=function(e){if(Array.isArray(e))return o(e)}(n=t||[])||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return o(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,void 0)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return null==t&&"function"!=typeof e&&a.push(e),(0,r.useMemo)(function(){return"function"==typeof e?e():e},a)}},71618:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return null!==e&&"object"===r(e)&&Object.prototype.hasOwnProperty.call(e,"current")}n.d(t,{d:function(){return o}})},5934:function(e,t,n){"use strict";function r(e,t,n){var r=n.getRegistry(),o=r.addTarget(e,t);return[o,function(){return r.removeTarget(o)}]}function o(e,t,n){var r=n.getRegistry(),o=r.addSource(e,t);return[o,function(){return r.removeSource(o)}]}n.d(t,{n:function(){return r},w:function(){return o}})},40898:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var r=n(45293),o=n(2784);function a(e){var t={};return Object.keys(e).forEach(function(n){var a=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var u=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,o.isValidElement)(n)?(function(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}(n),e=u?function(e){return a(e,u)}:a,t=n.ref,((0,r.k)("string"!=typeof t,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t)?(0,o.cloneElement)(n,{ref:function(n){s(t,n),s(e,n)}}):(0,o.cloneElement)(n,{ref:e})):(a(n,u),n)};t[n]=function(){return u}}}),t}function s(e,t){"function"==typeof e?e(t):e.current=t}},57006:function(e,t,n){"use strict";function r(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function o(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function a(e,t=.15,n){let s=[],u=(e.length-1)/3;for(let n=0;n<u;n++)!function e(t,n,a,s){let u=s||[];if(function(e,t){let n=e[t+0],r=e[t+1],o=e[t+2],a=e[t+3],s=3*r[0]-2*n[0]-a[0];s*=s;let u=3*r[1]-2*n[1]-a[1];u*=u;let c=3*o[0]-2*a[0]-n[0];c*=c;let l=3*o[1]-2*a[1]-n[1];return l*=l,s<c&&(s=c),u<l&&(u=l),s+u}(t,n)<a){let e=t[n+0];u.length?Math.sqrt(r(u[u.length-1],e))>1&&u.push(e):u.push(e),u.push(t[n+3])}else{let r=t[n+0],s=t[n+1],c=t[n+2],l=t[n+3],A=o(r,s,.5),d=o(s,c,.5),f=o(c,l,.5),h=o(A,d,.5),p=o(d,f,.5),g=o(h,p,.5);e([r,A,h,g],0,a,u),e([g,p,f,l],0,a,u)}return u}(e,3*n,t,s);return n&&n>0?function e(t,n,a,s,u){let c=u||[],l=t[n],A=t[a-1],d=0,f=1;for(let e=n+1;e<a-1;++e){let n=function(e,t,n){let a=r(t,n);if(0===a)return r(e,t);let s=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/a;return r(e,o(t,n,s=Math.max(0,Math.min(1,s))))}(t[e],l,A);n>d&&(d=n,f=e)}return Math.sqrt(d)>s?(e(t,n,f+1,s,c),e(t,f,a,s,c)):(c.length||c.push(l),c.push(A)),c}(s,0,s.length,n):s}n.d(t,{s:function(){return a}})},35580:function(){},98554:function(){},81867:function(){},5392:function(e){var t;t=function(){"use strict";for(var e=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e<t?t:e>n?n:e},t={},n=0,r=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];n<r.length;n+=1){var o=r[n];t["[object "+o+"]"]=o.toLowerCase()}var a=function(e){return t[Object.prototype.toString.call(e)]||"object"},s=Math.PI,u={clip_rgb:function(t){t._clipped=!1,t._unclipped=t.slice(0);for(var n=0;n<=3;n++)n<3?((t[n]<0||t[n]>255)&&(t._clipped=!0),t[n]=e(t[n],0,255)):3===n&&(t[n]=e(t[n],0,1));return t},limit:e,type:a,unpack:function(e,t){return(void 0===t&&(t=null),e.length>=3)?Array.prototype.slice.call(e):"object"==a(e[0])&&t?t.split("").filter(function(t){return void 0!==e[0][t]}).map(function(t){return e[0][t]}):e[0]},last:function(e){if(e.length<2)return null;var t=e.length-1;return"string"==a(e[t])?e[t].toLowerCase():null},TWOPI:2*s,PITHIRD:s/3,DEG2RAD:s/180,RAD2DEG:180/s},c={format:{},autodetect:[]},l=u.last,A=u.clip_rgb,d=u.type,f=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("object"===d(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];var n=l(e),r=!1;if(!n){r=!0,c.sorted||(c.autodetect=c.autodetect.sort(function(e,t){return t.p-e.p}),c.sorted=!0);for(var o=0,a=c.autodetect;o<a.length;o+=1){var s=a[o];if(n=s.test.apply(s,e))break}}if(c.format[n]){var u=c.format[n].apply(null,r?e:e.slice(0,-1));this._rgb=A(u)}else throw Error("unknown format: "+e);3===this._rgb.length&&this._rgb.push(1)};f.prototype.toString=function(){return"function"==d(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var h=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(h.Color,[null].concat(e)))};h.Color=f,h.version="2.4.2";var p=u.unpack,g=Math.max,v=u.unpack,m=u.unpack,y=u.type,b=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=p(e,"rgb"),r=n[0],o=n[1],a=n[2],s=1-g(r/=255,g(o/=255,a/=255)),u=s<1?1/(1-s):0;return[(1-r-s)*u,(1-o-s)*u,(1-a-s)*u,s]};f.prototype.cmyk=function(){return b(this._rgb)},h.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["cmyk"])))},c.format.cmyk=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=v(e,"cmyk"))[0],r=e[1],o=e[2],a=e[3],s=e.length>4?e[4]:1;return 1===a?[0,0,0,s]:[n>=1?0:255*(1-n)*(1-a),r>=1?0:255*(1-r)*(1-a),o>=1?0:255*(1-o)*(1-a),s]},c.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===y(e=m(e,"cmyk"))&&4===e.length)return"cmyk"}});var w=u.unpack,_=u.last,E=function(e){return Math.round(100*e)/100},C=u.unpack,B=function(){for(var e,t,n=[],r=arguments.length;r--;)n[r]=arguments[r];var o=(n=C(n,"rgba"))[0],a=n[1],s=n[2],u=Math.min(o/=255,a/=255,s/=255),c=Math.max(o,a,s),l=(c+u)/2;return(c===u?(e=0,t=Number.NaN):e=l<.5?(c-u)/(c+u):(c-u)/(2-c-u),o==c?t=(a-s)/(c-u):a==c?t=2+(s-o)/(c-u):s==c&&(t=4+(o-a)/(c-u)),(t*=60)<0&&(t+=360),n.length>3&&void 0!==n[3])?[t,e,l,n[3]]:[t,e,l]},I=u.unpack,x=u.last,T=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=w(e,"hsla"),r=_(e)||"lsa";return n[0]=E(n[0]||0),n[1]=E(100*n[1])+"%",n[2]=E(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},S=Math.round,k=u.unpack,D=Math.round,N=function(){for(var e,t,n,r,o=[],a=arguments.length;a--;)o[a]=arguments[a];var s=(o=k(o,"hsl"))[0],u=o[1],c=o[2];if(0===u)t=n=r=255*c;else{var l=[0,0,0],A=[0,0,0],d=c<.5?c*(1+u):c+u-c*u,f=2*c-d,h=s/360;l[0]=h+1/3,l[1]=h,l[2]=h-1/3;for(var p=0;p<3;p++)l[p]<0&&(l[p]+=1),l[p]>1&&(l[p]-=1),6*l[p]<1?A[p]=f+(d-f)*6*l[p]:2*l[p]<1?A[p]=d:3*l[p]<2?A[p]=f+(d-f)*(2/3-l[p])*6:A[p]=f;t=(e=[D(255*A[0]),D(255*A[1]),D(255*A[2])])[0],n=e[1],r=e[2]}return o.length>3?[t,n,r,o[3]]:[t,n,r,1]},O=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,F=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,R=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,L=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,M=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,P=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,U=Math.round,j=function(e){if(e=e.toLowerCase().trim(),c.format.named)try{return c.format.named(e)}catch(e){}if(t=e.match(O)){for(var t,n=t.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(t=e.match(F)){for(var o=t.slice(1,5),a=0;a<4;a++)o[a]=+o[a];return o}if(t=e.match(R)){for(var s=t.slice(1,4),u=0;u<3;u++)s[u]=U(2.55*s[u]);return s[3]=1,s}if(t=e.match(L)){for(var l=t.slice(1,5),A=0;A<3;A++)l[A]=U(2.55*l[A]);return l[3]=+l[3],l}if(t=e.match(M)){var d=t.slice(1,4);d[1]*=.01,d[2]*=.01;var f=N(d);return f[3]=1,f}if(t=e.match(P)){var h=t.slice(1,4);h[1]*=.01,h[2]*=.01;var p=N(h);return p[3]=+t[4],p}};j.test=function(e){return O.test(e)||F.test(e)||R.test(e)||L.test(e)||M.test(e)||P.test(e)};var Z=u.type,Q=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=I(e,"rgba"),r=x(e)||"rgb";return"hsl"==r.substr(0,3)?T(B(n),r):(n[0]=S(n[0]),n[1]=S(n[1]),n[2]=S(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")};f.prototype.css=function(e){return Q(this._rgb,e)},h.css=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["css"])))},c.format.css=j,c.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===Z(e)&&j.test(e))return"css"}});var H=u.unpack;c.format.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=H(e,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},h.gl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["gl"])))},f.prototype.gl=function(){var e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};var V=u.unpack,K=u.unpack,z=Math.floor,G=u.unpack,W=u.type,q=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=V(t,"rgb"),o=r[0],a=r[1],s=r[2],u=Math.min(o,a,s),c=Math.max(o,a,s),l=c-u;return 0===l?e=Number.NaN:(o===c&&(e=(a-s)/l),a===c&&(e=2+(s-o)/l),s===c&&(e=4+(o-a)/l),(e*=60)<0&&(e+=360)),[e,100*l/255,u/(255-l)*100]};f.prototype.hcg=function(){return q(this._rgb)},h.hcg=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hcg"])))},c.format.hcg=function(){for(var e,t,n,r,o,a,s,u,c,l=[],A=arguments.length;A--;)l[A]=arguments[A];var d=(l=K(l,"hcg"))[0],f=l[1],h=l[2];h*=255;var p=255*f;if(0===f)s=u=c=h;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var g=z(d/=60),v=d-g,m=h*(1-f),y=m+p*(1-v),b=m+p*v,w=m+p;switch(g){case 0:s=(e=[w,b,m])[0],u=e[1],c=e[2];break;case 1:s=(t=[y,w,m])[0],u=t[1],c=t[2];break;case 2:s=(n=[m,w,b])[0],u=n[1],c=n[2];break;case 3:s=(r=[m,y,w])[0],u=r[1],c=r[2];break;case 4:s=(o=[b,m,w])[0],u=o[1],c=o[2];break;case 5:s=(a=[w,m,y])[0],u=a[1],c=a[2]}}return[s,u,c,l.length>3?l[3]:1]},c.autodetect.push({p:1,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===W(e=G(e,"hcg"))&&3===e.length)return"hcg"}});var Y=u.unpack,$=u.last,X=Math.round,J=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=Y(e,"rgba"),r=n[0],o=n[1],a=n[2],s=n[3],u=$(e)||"auto";void 0===s&&(s=1),"auto"===u&&(u=s<1?"rgba":"rgb");var c="000000"+((r=X(r))<<16|(o=X(o))<<8|(a=X(a))).toString(16);c=c.substr(c.length-6);var l="0"+X(255*s).toString(16);switch(l=l.substr(l.length-2),u.toLowerCase()){case"rgba":return"#"+c+l;case"argb":return"#"+l+c;default:return"#"+c}},ee=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,et=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,en=function(e){if(e.match(ee)){(4===e.length||7===e.length)&&(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(et)){(5===e.length||9===e.length)&&(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);var n=parseInt(e,16),r=Math.round((255&n)/255*100)/100;return[n>>24&255,n>>16&255,n>>8&255,r]}throw Error("unknown hex color: "+e)},er=u.type;f.prototype.hex=function(e){return J(this._rgb,e)},h.hex=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hex"])))},c.format.hex=en,c.autodetect.push({p:4,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===er(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});var ei=u.unpack,eo=u.TWOPI,ea=Math.min,es=Math.sqrt,eu=Math.acos,ec=u.unpack,el=u.limit,eA=u.TWOPI,ed=u.PITHIRD,ef=Math.cos,eh=u.unpack,ep=u.type,eg=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];var r=ei(t,"rgb"),o=r[0],a=r[1],s=r[2],u=ea(o/=255,a/=255,s/=255),c=(o+a+s)/3,l=c>0?1-u/c:0;return 0===l?e=NaN:(e=eu(e=(o-a+(o-s))/2/es((o-a)*(o-a)+(o-s)*(a-s))),s>a&&(e=eo-e),e/=eo),[360*e,l,c]};f.prototype.hsi=function(){return eg(this._rgb)},h.hsi=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hsi"])))},c.format.hsi=function(){for(var e,t,n,r=[],o=arguments.length;o--;)r[o]=arguments[o];var a=(r=ec(r,"hsi"))[0],s=r[1],u=r[2];return isNaN(a)&&(a=0),isNaN(s)&&(s=0),a>360&&(a-=360),a<0&&(a+=360),(a/=360)<1/3?t=1-((n=(1-s)/3)+(e=(1+s*ef(eA*a)/ef(ed-eA*a))/3)):a<2/3?(a-=1/3,n=1-((e=(1-s)/3)+(t=(1+s*ef(eA*a)/ef(ed-eA*a))/3))):(a-=2/3,e=1-((t=(1-s)/3)+(n=(1+s*ef(eA*a)/ef(ed-eA*a))/3))),[255*(e=el(u*e*3)),255*(t=el(u*t*3)),255*(n=el(u*n*3)),r.length>3?r[3]:1]},c.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===ep(e=eh(e,"hsi"))&&3===e.length)return"hsi"}});var ev=u.unpack,em=u.type;f.prototype.hsl=function(){return B(this._rgb)},h.hsl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hsl"])))},c.format.hsl=N,c.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===em(e=ev(e,"hsl"))&&3===e.length)return"hsl"}});var ey=u.unpack,eb=Math.min,ew=Math.max,e_=u.unpack,eE=Math.floor,eC=u.unpack,eB=u.type,eI=function(){for(var e,t,n,r=[],o=arguments.length;o--;)r[o]=arguments[o];var a=(r=ey(r,"rgb"))[0],s=r[1],u=r[2],c=eb(a,s,u),l=ew(a,s,u),A=l-c;return n=l/255,0===l?(e=Number.NaN,t=0):(t=A/l,a===l&&(e=(s-u)/A),s===l&&(e=2+(u-a)/A),u===l&&(e=4+(a-s)/A),(e*=60)<0&&(e+=360)),[e,t,n]};f.prototype.hsv=function(){return eI(this._rgb)},h.hsv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hsv"])))},c.format.hsv=function(){for(var e,t,n,r,o,a,s,u,c,l=[],A=arguments.length;A--;)l[A]=arguments[A];var d=(l=e_(l,"hsv"))[0],f=l[1],h=l[2];if(h*=255,0===f)s=u=c=h;else{360===d&&(d=0),d>360&&(d-=360),d<0&&(d+=360);var p=eE(d/=60),g=d-p,v=h*(1-f),m=h*(1-f*g),y=h*(1-f*(1-g));switch(p){case 0:s=(e=[h,y,v])[0],u=e[1],c=e[2];break;case 1:s=(t=[m,h,v])[0],u=t[1],c=t[2];break;case 2:s=(n=[v,h,y])[0],u=n[1],c=n[2];break;case 3:s=(r=[v,m,h])[0],u=r[1],c=r[2];break;case 4:s=(o=[y,v,h])[0],u=o[1],c=o[2];break;case 5:s=(a=[h,v,m])[0],u=a[1],c=a[2]}}return[s,u,c,l.length>3?l[3]:1]},c.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===eB(e=eC(e,"hsv"))&&3===e.length)return"hsv"}});var ex={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},eT=u.unpack,eS=Math.pow,ek=function(e){return(e/=255)<=.04045?e/12.92:eS((e+.055)/1.055,2.4)},eD=function(e){return e>ex.t3?eS(e,1/3):e/ex.t2+ex.t0},eN=function(){for(var e,t,n,r=[],o=arguments.length;o--;)r[o]=arguments[o];var a=eT(r,"rgb"),s=(e=a[0],t=a[1],n=a[2],[eD((.4124564*(e=ek(e))+.3575761*(t=ek(t))+.1804375*(n=ek(n)))/ex.Xn),eD((.2126729*e+.7151522*t+.072175*n)/ex.Yn),eD((.0193339*e+.119192*t+.9503041*n)/ex.Zn)]),u=s[0],c=s[1],l=s[2],A=116*c-16;return[A<0?0:A,500*(u-c),200*(c-l)]},eO=u.unpack,eF=Math.pow,eR=function(e){return 255*(e<=.00304?12.92*e:1.055*eF(e,1/2.4)-.055)},eL=function(e){return e>ex.t1?e*e*e:ex.t2*(e-ex.t0)},eM=function(){for(var e,t,n,r=[],o=arguments.length;o--;)r[o]=arguments[o];var a=(r=eO(r,"lab"))[0],s=r[1],u=r[2];return t=(a+16)/116,e=isNaN(s)?t:t+s/500,n=isNaN(u)?t:t-u/200,t=ex.Yn*eL(t),[eR(3.2404542*(e=ex.Xn*eL(e))-1.5371385*t-.4985314*(n=ex.Zn*eL(n))),eR(-.969266*e+1.8760108*t+.041556*n),eR(.0556434*e-.2040259*t+1.0572252*n),r.length>3?r[3]:1]},eP=u.unpack,eU=u.type;f.prototype.lab=function(){return eN(this._rgb)},h.lab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["lab"])))},c.format.lab=eM,c.autodetect.push({p:2,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===eU(e=eP(e,"lab"))&&3===e.length)return"lab"}});var ej=u.unpack,eZ=u.RAD2DEG,eQ=Math.sqrt,eH=Math.atan2,eV=Math.round,eK=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=ej(e,"lab"),r=n[0],o=n[1],a=n[2],s=eQ(o*o+a*a),u=(eH(a,o)*eZ+360)%360;return 0===eV(1e4*s)&&(u=Number.NaN),[r,s,u]},ez=u.unpack,eG=u.unpack,eW=u.DEG2RAD,eq=Math.sin,eY=Math.cos,e$=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=eG(e,"lch"),r=n[0],o=n[1],a=n[2];return isNaN(a)&&(a=0),[r,eY(a*=eW)*o,eq(a)*o]},eX=u.unpack,eJ=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=e$((e=eX(e,"lch"))[0],e[1],e[2]),r=eM(n[0],n[1],n[2]);return[r[0],r[1],r[2],e.length>3?e[3]:1]},e0=u.unpack,e1=u.unpack,e2=u.type,e4=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=ez(e,"rgb"),r=eN(n[0],n[1],n[2]);return eK(r[0],r[1],r[2])};f.prototype.lch=function(){return e4(this._rgb)},f.prototype.hcl=function(){return e4(this._rgb).reverse()},h.lch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["lch"])))},h.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["hcl"])))},c.format.lch=eJ,c.format.hcl=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=e0(e,"hcl").reverse();return eJ.apply(void 0,n)},["lch","hcl"].forEach(function(e){return c.autodetect.push({p:2,test:function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if("array"===e2(t=e1(t,e))&&3===t.length)return e}})});var e3={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},e5=u.type;f.prototype.name=function(){for(var e=J(this._rgb,"rgb"),t=0,n=Object.keys(e3);t<n.length;t+=1){var r=n[t];if(e3[r]===e)return r.toLowerCase()}return e},c.format.named=function(e){if(e3[e=e.toLowerCase()])return en(e3[e]);throw Error("unknown color name: "+e)},c.autodetect.push({p:5,test:function(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if(!t.length&&"string"===e5(e)&&e3[e.toLowerCase()])return"named"}});var e6=u.unpack,e8=u.type,e9=u.type,e7=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=e6(e,"rgb");return(n[0]<<16)+(n[1]<<8)+n[2]};f.prototype.num=function(){return e7(this._rgb)},h.num=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["num"])))},c.format.num=function(e){if("number"==e8(e)&&e>=0&&e<=16777215)return[e>>16,e>>8&255,255&e,1];throw Error("unknown num color: "+e)},c.autodetect.push({p:5,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(1===e.length&&"number"===e9(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});var te=u.unpack,tt=u.type,tn=Math.round;f.prototype.rgb=function(e){return(void 0===e&&(e=!0),!1===e)?this._rgb.slice(0,3):this._rgb.slice(0,3).map(tn)},f.prototype.rgba=function(e){return void 0===e&&(e=!0),this._rgb.slice(0,4).map(function(t,n){return n<3?!1===e?t:tn(t):t})},h.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["rgb"])))},c.format.rgb=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=te(e,"rgba");return void 0===n[3]&&(n[3]=1),n},c.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===tt(e=te(e,"rgba"))&&(3===e.length||4===e.length&&"number"==tt(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});var tr=Math.log,ti=function(e){var t,n,r,o=e/100;return o<66?(t=255,n=o<6?0:-155.25485562709179-.44596950469579133*(n=o-2)+104.49216199393888*tr(n),r=o<20?0:-254.76935184120902+.8274096064007395*(r=o-10)+115.67994401066147*tr(r)):(t=351.97690566805693+.114206453784165*(t=o-55)-40.25366309332127*tr(t),n=325.4494125711974+.07943456536662342*(n=o-50)-28.0852963507957*tr(n),r=255),[t,n,r,1]},to=u.unpack,ta=Math.round,ts=function(){for(var e,t=[],n=arguments.length;n--;)t[n]=arguments[n];for(var r=to(t,"rgb"),o=r[0],a=r[2],s=1e3,u=4e4;u-s>.4;){var c=ti(e=(u+s)*.5);c[2]/c[0]>=a/o?u=e:s=e}return ta(e)};f.prototype.temp=f.prototype.kelvin=f.prototype.temperature=function(){return ts(this._rgb)},h.temp=h.kelvin=h.temperature=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["temp"])))},c.format.temp=c.format.kelvin=c.format.temperature=ti;var tu=u.unpack,tc=Math.cbrt,tl=Math.pow,tA=Math.sign,td=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=tu(e,"rgb"),r=n[0],o=n[1],a=n[2],s=[tf(r/255),tf(o/255),tf(a/255)],u=s[0],c=s[1],l=s[2],A=tc(.4122214708*u+.5363325363*c+.0514459929*l),d=tc(.2119034982*u+.6806995451*c+.1073969566*l),f=tc(.0883024619*u+.2817188376*c+.6299787005*l);return[.2104542553*A+.793617785*d-.0040720468*f,1.9779984951*A-2.428592205*d+.4505937099*f,.0259040371*A+.7827717662*d-.808675766*f]};function tf(e){var t=Math.abs(e);return t<.04045?e/12.92:(tA(e)||1)*tl((t+.055)/1.055,2.4)}var th=u.unpack,tp=Math.pow,tg=Math.sign,tv=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(e=th(e,"lab"))[0],r=e[1],o=e[2],a=tp(n+.3963377774*r+.2158037573*o,3),s=tp(n-.1055613458*r-.0638541728*o,3),u=tp(n-.0894841775*r-1.291485548*o,3);return[255*tm(4.0767416621*a-3.3077115913*s+.2309699292*u),255*tm(-1.2684380046*a+2.6097574011*s-.3413193965*u),255*tm(-.0041960863*a-.7034186147*s+1.707614701*u),e.length>3?e[3]:1]};function tm(e){var t=Math.abs(e);return t>.0031308?(tg(e)||1)*(1.055*tp(t,1/2.4)-.055):12.92*e}var ty=u.unpack,tb=u.type;f.prototype.oklab=function(){return td(this._rgb)},h.oklab=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["oklab"])))},c.format.oklab=tv,c.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===tb(e=ty(e,"oklab"))&&3===e.length)return"oklab"}});var tw=u.unpack,t_=u.unpack,tE=u.unpack,tC=u.type,tB=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=tw(e,"rgb"),r=td(n[0],n[1],n[2]);return eK(r[0],r[1],r[2])};f.prototype.oklch=function(){return tB(this._rgb)},h.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new(Function.prototype.bind.apply(f,[null].concat(e,["oklch"])))},c.format.oklch=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=e$((e=t_(e,"lch"))[0],e[1],e[2]),r=tv(n[0],n[1],n[2]);return[r[0],r[1],r[2],e.length>3?e[3]:1]},c.autodetect.push({p:3,test:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if("array"===tC(e=tE(e,"oklch"))&&3===e.length)return"oklch"}});var tI=u.type;f.prototype.alpha=function(e,t){return(void 0===t&&(t=!1),void 0!==e&&"number"===tI(e))?t?(this._rgb[3]=e,this):new f([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},f.prototype.clipped=function(){return this._rgb._clipped||!1},f.prototype.darken=function(e){void 0===e&&(e=1);var t=this.lab();return t[0]-=ex.Kn*e,new f(t,"lab").alpha(this.alpha(),!0)},f.prototype.brighten=function(e){return void 0===e&&(e=1),this.darken(-e)},f.prototype.darker=f.prototype.darken,f.prototype.brighter=f.prototype.brighten,f.prototype.get=function(e){var t=e.split("."),n=t[0],r=t[1],o=this[n]();if(!r)return o;var a=n.indexOf(r)-("ok"===n.substr(0,2)?2:0);if(a>-1)return o[a];throw Error("unknown channel "+r+" in mode "+n)};var tx=u.type,tT=Math.pow;f.prototype.luminance=function(e){if(void 0!==e&&"number"===tx(e)){if(0===e)return new f([0,0,0,this._rgb[3]],"rgb");if(1===e)return new f([255,255,255,this._rgb[3]],"rgb");var t=this.luminance(),n=20,r=function(t,o){var a=t.interpolate(o,.5,"rgb"),s=a.luminance();return!(1e-7>Math.abs(e-s))&&n--?s>e?r(t,a):r(a,o):a},o=(t>e?r(new f([0,0,0]),this):r(this,new f([255,255,255]))).rgb();return new f(o.concat([this._rgb[3]]))}return tS.apply(void 0,this._rgb.slice(0,3))};var tS=function(e,t,n){return .2126*(e=tk(e))+.7152*(t=tk(t))+.0722*(n=tk(n))},tk=function(e){return(e/=255)<=.03928?e/12.92:tT((e+.055)/1.055,2.4)},tD={},tN=u.type,tO=function(e,t,n){void 0===n&&(n=.5);for(var r=[],o=arguments.length-3;o-- >0;)r[o]=arguments[o+3];var a=r[0]||"lrgb";if(tD[a]||r.length||(a=Object.keys(tD)[0]),!tD[a])throw Error("interpolation mode "+a+" is not defined");return"object"!==tN(e)&&(e=new f(e)),"object"!==tN(t)&&(t=new f(t)),tD[a](e,t,n).alpha(e.alpha()+n*(t.alpha()-e.alpha()))};f.prototype.mix=f.prototype.interpolate=function(e,t){void 0===t&&(t=.5);for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return tO.apply(void 0,[this,e,t].concat(n))},f.prototype.premultiply=function(e){void 0===e&&(e=!1);var t=this._rgb,n=t[3];return e?(this._rgb=[t[0]*n,t[1]*n,t[2]*n,n],this):new f([t[0]*n,t[1]*n,t[2]*n,n],"rgb")},f.prototype.saturate=function(e){void 0===e&&(e=1);var t=this.lch();return t[1]+=ex.Kn*e,t[1]<0&&(t[1]=0),new f(t,"lch").alpha(this.alpha(),!0)},f.prototype.desaturate=function(e){return void 0===e&&(e=1),this.saturate(-e)};var tF=u.type;f.prototype.set=function(e,t,n){void 0===n&&(n=!1);var r=e.split("."),o=r[0],a=r[1],s=this[o]();if(!a)return s;var u=o.indexOf(a)-("ok"===o.substr(0,2)?2:0);if(u>-1){if("string"==tF(t))switch(t.charAt(0)){case"+":case"-":s[u]+=+t;break;case"*":s[u]*=+t.substr(1);break;case"/":s[u]/=+t.substr(1);break;default:s[u]=+t}else if("number"===tF(t))s[u]=t;else throw Error("unsupported value for Color.set");var c=new f(s,o);return n?(this._rgb=c._rgb,this):c}throw Error("unknown channel "+a+" in mode "+o)},tD.rgb=function(e,t,n){var r=e._rgb,o=t._rgb;return new f(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"rgb")};var tR=Math.sqrt,tL=Math.pow;tD.lrgb=function(e,t,n){var r=e._rgb,o=r[0],a=r[1],s=r[2],u=t._rgb,c=u[0],l=u[1],A=u[2];return new f(tR(tL(o,2)*(1-n)+tL(c,2)*n),tR(tL(a,2)*(1-n)+tL(l,2)*n),tR(tL(s,2)*(1-n)+tL(A,2)*n),"rgb")},tD.lab=function(e,t,n){var r=e.lab(),o=t.lab();return new f(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"lab")};var tM=function(e,t,n,r){var o,a,s,u,c,l,A,d,h,p,g,v,m,y;return"hsl"===r?(s=e.hsl(),u=t.hsl()):"hsv"===r?(s=e.hsv(),u=t.hsv()):"hcg"===r?(s=e.hcg(),u=t.hcg()):"hsi"===r?(s=e.hsi(),u=t.hsi()):"lch"===r||"hcl"===r?(r="hcl",s=e.hcl(),u=t.hcl()):"oklch"===r&&(s=e.oklch().reverse(),u=t.oklch().reverse()),("h"===r.substr(0,1)||"oklch"===r)&&(c=(o=s)[0],A=o[1],h=o[2],l=(a=u)[0],d=a[1],p=a[2]),isNaN(c)||isNaN(l)?isNaN(c)?isNaN(l)?v=Number.NaN:(v=l,(1==h||0==h)&&"hsv"!=r&&(g=d)):(v=c,(1==p||0==p)&&"hsv"!=r&&(g=A)):(y=l>c&&l-c>180?l-(c+360):l<c&&c-l>180?l+360-c:l-c,v=c+n*y),void 0===g&&(g=A+n*(d-A)),m=h+n*(p-h),"oklch"===r?new f([m,g,v],r):new f([v,g,m],r)},tP=function(e,t,n){return tM(e,t,n,"lch")};tD.lch=tP,tD.hcl=tP,tD.num=function(e,t,n){var r=e.num();return new f(r+n*(t.num()-r),"num")},tD.hcg=function(e,t,n){return tM(e,t,n,"hcg")},tD.hsi=function(e,t,n){return tM(e,t,n,"hsi")},tD.hsl=function(e,t,n){return tM(e,t,n,"hsl")},tD.hsv=function(e,t,n){return tM(e,t,n,"hsv")},tD.oklab=function(e,t,n){var r=e.oklab(),o=t.oklab();return new f(r[0]+n*(o[0]-r[0]),r[1]+n*(o[1]-r[1]),r[2]+n*(o[2]-r[2]),"oklab")},tD.oklch=function(e,t,n){return tM(e,t,n,"oklch")};var tU=u.clip_rgb,tj=Math.pow,tZ=Math.sqrt,tQ=Math.PI,tH=Math.cos,tV=Math.sin,tK=Math.atan2,tz=function(e,t){for(var n=e.length,r=[0,0,0,0],o=0;o<e.length;o++){var a=e[o],s=t[o]/n,u=a._rgb;r[0]+=tj(u[0],2)*s,r[1]+=tj(u[1],2)*s,r[2]+=tj(u[2],2)*s,r[3]+=u[3]*s}return r[0]=tZ(r[0]),r[1]=tZ(r[1]),r[2]=tZ(r[2]),r[3]>.9999999&&(r[3]=1),new f(tU(r))},tG=u.type,tW=Math.pow,tq=function(e){var t="rgb",n=h("#ccc"),r=0,o=[0,1],a=[],s=[0,0],u=!1,c=[],l=!1,A=0,d=1,f=!1,p={},g=!0,v=1,m=function(e){if("string"===tG(e=e||["#fff","#000"])&&h.brewer&&h.brewer[e.toLowerCase()]&&(e=h.brewer[e.toLowerCase()]),"array"===tG(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(var t=0;t<e.length;t++)e[t]=h(e[t]);a.length=0;for(var n=0;n<e.length;n++)a.push(n/(e.length-1))}return E(),c=e},y=function(e){if(null!=u){for(var t=u.length-1,n=0;n<t&&e>=u[n];)n++;return n-1}return 0},b=function(e){return e},w=function(e){return e},_=function(e,r){if(null==r&&(r=!1),isNaN(e)||null===e)return n;if(r)l=e;else if(u&&u.length>2){var o,l;l=y(e)/(u.length-2)}else l=d!==A?(e-A)/(d-A):1;l=w(l),r||(l=b(l)),1!==v&&(l=tW(l,v));var f=Math.floor(1e4*(l=Math.min(1,Math.max(0,l=s[0]+l*(1-s[0]-s[1])))));if(g&&p[f])o=p[f];else{if("array"===tG(c))for(var m=0;m<a.length;m++){var _=a[m];if(l<=_||l>=_&&m===a.length-1){o=c[m];break}if(l>_&&l<a[m+1]){l=(l-_)/(a[m+1]-_),o=h.interpolate(c[m],c[m+1],l,t);break}}else"function"===tG(c)&&(o=c(l));g&&(p[f]=o)}return o},E=function(){return p={}};m(e);var C=function(e){var t=h(_(e));return l&&t[l]?t[l]():t};return C.classes=function(e){if(null!=e){if("array"===tG(e))u=e,o=[e[0],e[e.length-1]];else{var t=h.analyze(o);u=0===e?[t.min,t.max]:h.limits(t,"e",e)}return C}return u},C.domain=function(e){if(!arguments.length)return o;A=e[0],d=e[e.length-1],a=[];var t=c.length;if(e.length===t&&A!==d)for(var n=0,r=Array.from(e);n<r.length;n+=1){var s=r[n];a.push((s-A)/(d-A))}else{for(var u=0;u<t;u++)a.push(u/(t-1));if(e.length>2){var l=e.map(function(t,n){return n/(e.length-1)}),f=e.map(function(e){return(e-A)/(d-A)});f.every(function(e,t){return l[t]===e})||(w=function(e){if(e<=0||e>=1)return e;for(var t=0;e>=f[t+1];)t++;var n=(e-f[t])/(f[t+1]-f[t]);return l[t]+n*(l[t+1]-l[t])})}}return o=[A,d],C},C.mode=function(e){return arguments.length?(t=e,E(),C):t},C.range=function(e,t){return m(e),C},C.out=function(e){return l=e,C},C.spread=function(e){return arguments.length?(r=e,C):r},C.correctLightness=function(e){return null==e&&(e=!0),f=e,E(),b=f?function(e){for(var t=_(0,!0).lab()[0],n=_(1,!0).lab()[0],r=t>n,o=_(e,!0).lab()[0],a=t+(n-t)*e,s=o-a,u=0,c=1,l=20;Math.abs(s)>.01&&l-- >0;)r&&(s*=-1),s<0?(u=e,e+=(c-e)*.5):(c=e,e+=(u-e)*.5),s=(o=_(e,!0).lab()[0])-a;return e}:function(e){return e},C},C.padding=function(e){return null!=e?("number"===tG(e)&&(e=[e,e]),s=e,C):s},C.colors=function(t,n){arguments.length<2&&(n="hex");var r=[];if(0==arguments.length)r=c.slice(0);else if(1===t)r=[C(.5)];else if(t>1){var a=o[0],s=o[1]-a;r=(function(e,t,n){for(var r=[],o=0<t,a=n?o?t+1:t-1:t,s=0;o?s<a:s>a;o?s++:s--)r.push(s);return r})(0,t,!1).map(function(e){return C(a+e/(t-1)*s)})}else{e=[];var l=[];if(u&&u.length>2)for(var A=1,d=u.length,f=1<=d;f?A<d:A>d;f?A++:A--)l.push((u[A-1]+u[A])*.5);else l=o;r=l.map(function(e){return C(e)})}return h[n]&&(r=r.map(function(e){return e[n]()})),r},C.cache=function(e){return null!=e?(g=e,C):g},C.gamma=function(e){return null!=e?(v=e,C):v},C.nodata=function(e){return null!=e?(n=h(e),C):n},C},tY=function(e){for(var t=[1,1],n=1;n<e;n++){for(var r=[1],o=1;o<=t.length;o++)r[o]=(t[o]||0)+t[o-1];t=r}return t},t$=function(e){var t,n,r,o,a,s,u,c,l,A,d;if(2===(e=e.map(function(e){return new f(e)})).length)a=(t=e.map(function(e){return e.lab()}))[0],s=t[1],o=function(e){return new f([0,1,2].map(function(t){return a[t]+e*(s[t]-a[t])}),"lab")};else if(3===e.length)a=(n=e.map(function(e){return e.lab()}))[0],s=n[1],u=n[2],o=function(e){return new f([0,1,2].map(function(t){return(1-e)*(1-e)*a[t]+2*(1-e)*e*s[t]+e*e*u[t]}),"lab")};else if(4===e.length)a=(r=e.map(function(e){return e.lab()}))[0],s=r[1],u=r[2],c=r[3],o=function(e){return new f([0,1,2].map(function(t){return(1-e)*(1-e)*(1-e)*a[t]+3*(1-e)*(1-e)*e*s[t]+3*(1-e)*e*e*u[t]+e*e*e*c[t]}),"lab")};else if(e.length>=5)l=e.map(function(e){return e.lab()}),A=tY(d=e.length-1),o=function(e){var t=1-e;return new f([0,1,2].map(function(n){return l.reduce(function(r,o,a){return r+A[a]*Math.pow(t,d-a)*Math.pow(e,a)*o[n]},0)}),"lab")};else throw RangeError("No point in running bezier with only one color.");return o},tX=function(e,t,n){if(!tX[n])throw Error("unknown blend mode "+n);return tX[n](e,t)},tJ=function(e){return function(t,n){var r=h(n).rgb(),o=h(t).rgb();return h.rgb(e(r,o))}},t0=function(e){return function(t,n){var r=[];return r[0]=e(t[0],n[0]),r[1]=e(t[1],n[1]),r[2]=e(t[2],n[2]),r}};tX.normal=tJ(t0(function(e){return e})),tX.multiply=tJ(t0(function(e,t){return e*t/255})),tX.screen=tJ(t0(function(e,t){return 255*(1-(1-e/255)*(1-t/255))})),tX.overlay=tJ(t0(function(e,t){return t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255))})),tX.darken=tJ(t0(function(e,t){return e>t?t:e})),tX.lighten=tJ(t0(function(e,t){return e>t?e:t})),tX.dodge=tJ(t0(function(e,t){return 255===e?255:(e=t/255*255/(1-e/255))>255?255:e})),tX.burn=tJ(t0(function(e,t){return 255*(1-(1-t/255)/(e/255))}));for(var t1=u.type,t2=u.clip_rgb,t4=u.TWOPI,t3=Math.pow,t5=Math.sin,t6=Math.cos,t8=Math.floor,t9=Math.random,t7=Math.log,ne=Math.pow,nt=Math.floor,nn=Math.abs,nr=function(e,t){void 0===t&&(t=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===a(e)&&(e=Object.values(e)),e.forEach(function(e){t&&"object"===a(e)&&(e=e[t]),null==e||isNaN(e)||(n.values.push(e),n.sum+=e,e<n.min&&(n.min=e),e>n.max&&(n.max=e),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(e,t){return ni(n,e,t)},n},ni=function(e,t,n){void 0===t&&(t="equal"),void 0===n&&(n=7),"array"==a(e)&&(e=nr(e));var r=e.min,o=e.max,s=e.values.sort(function(e,t){return e-t});if(1===n)return[r,o];var u=[];if("c"===t.substr(0,1)&&(u.push(r),u.push(o)),"e"===t.substr(0,1)){u.push(r);for(var c=1;c<n;c++)u.push(r+c/n*(o-r));u.push(o)}else if("l"===t.substr(0,1)){if(r<=0)throw Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*t7(r),A=Math.LOG10E*t7(o);u.push(r);for(var d=1;d<n;d++)u.push(ne(10,l+d/n*(A-l)));u.push(o)}else if("q"===t.substr(0,1)){u.push(r);for(var f=1;f<n;f++){var h=(s.length-1)*f/n,p=nt(h);if(p===h)u.push(s[p]);else{var g=h-p;u.push(s[p]*(1-g)+s[p+1]*g)}}u.push(o)}else if("k"===t.substr(0,1)){var v,m=s.length,y=Array(m),b=Array(n),w=!0,_=0,E=null;(E=[]).push(r);for(var C=1;C<n;C++)E.push(r+C/n*(o-r));for(E.push(o);w;){for(var B=0;B<n;B++)b[B]=0;for(var I=0;I<m;I++)for(var x=s[I],T=Number.MAX_VALUE,S=void 0,k=0;k<n;k++){var D=nn(E[k]-x);D<T&&(T=D,S=k),b[S]++,y[I]=S}for(var N=Array(n),O=0;O<n;O++)N[O]=null;for(var F=0;F<m;F++)null===N[v=y[F]]?N[v]=s[F]:N[v]+=s[F];for(var R=0;R<n;R++)N[R]*=1/b[R];w=!1;for(var L=0;L<n;L++)if(N[L]!==E[L]){w=!0;break}E=N,++_>200&&(w=!1)}for(var M={},P=0;P<n;P++)M[P]=[];for(var U=0;U<m;U++)M[v=y[U]].push(s[U]);for(var j=[],Z=0;Z<n;Z++)j.push(M[Z][0]),j.push(M[Z][M[Z].length-1]);j=j.sort(function(e,t){return e-t}),u.push(j[0]);for(var Q=1;Q<j.length;Q+=2){var H=j[Q];isNaN(H)||-1!==u.indexOf(H)||u.push(H)}}return u},no=Math.sqrt,na=Math.pow,ns=Math.min,nu=Math.max,nc=Math.atan2,nl=Math.abs,nA=Math.cos,nd=Math.sin,nf=Math.exp,nh=Math.PI,np={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},ng=0,nv=Object.keys(np);ng<nv.length;ng+=1){var nm=nv[ng];np[nm.toLowerCase()]=np[nm]}return h.average=function(e,t,n){void 0===t&&(t="lrgb"),void 0===n&&(n=null);var r=e.length;n||(n=Array.from(Array(r)).map(function(){return 1}));var o=r/n.reduce(function(e,t){return e+t});if(n.forEach(function(e,t){n[t]*=o}),e=e.map(function(e){return new f(e)}),"lrgb"===t)return tz(e,n);for(var a=e.shift(),s=a.get(t),u=[],c=0,l=0,A=0;A<s.length;A++)if(s[A]=(s[A]||0)*n[0],u.push(isNaN(s[A])?0:n[0]),"h"===t.charAt(A)&&!isNaN(s[A])){var d=s[A]/180*tQ;c+=tH(d)*n[0],l+=tV(d)*n[0]}var h=a.alpha()*n[0];e.forEach(function(e,r){var o=e.get(t);h+=e.alpha()*n[r+1];for(var a=0;a<s.length;a++)if(!isNaN(o[a])){if(u[a]+=n[r+1],"h"===t.charAt(a)){var A=o[a]/180*tQ;c+=tH(A)*n[r+1],l+=tV(A)*n[r+1]}else s[a]+=o[a]*n[r+1]}});for(var p=0;p<s.length;p++)if("h"===t.charAt(p)){for(var g=tK(l/u[p],c/u[p])/tQ*180;g<0;)g+=360;for(;g>=360;)g-=360;s[p]=g}else s[p]=s[p]/u[p];return h/=r,new f(s,t).alpha(h>.99999?1:h,!0)},h.bezier=function(e){var t=t$(e);return t.scale=function(){return tq(t)},t},h.blend=tX,h.cubehelix=function(e,t,n,r,o){void 0===e&&(e=300),void 0===t&&(t=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=[0,1]);var a,s=0;"array"===t1(o)?a=o[1]-o[0]:(a=0,o=[o,o]);var u=function(u){var c=t4*((e+120)/360+t*u),l=t3(o[0]+a*u,r),A=(0!==s?n[0]+u*s:n)*l*(1-l)/2,d=t6(c),f=t5(c);return h(t2([255*(l+A*(-.14861*d+1.78277*f)),255*(l+A*(-.29227*d-.90649*f)),255*(l+1.97294*d*A),1]))};return u.start=function(t){return null==t?e:(e=t,u)},u.rotations=function(e){return null==e?t:(t=e,u)},u.gamma=function(e){return null==e?r:(r=e,u)},u.hue=function(e){return null==e?n:("array"===t1(n=e)?0==(s=n[1]-n[0])&&(n=n[1]):s=0,u)},u.lightness=function(e){return null==e?o:("array"===t1(e)?(o=e,a=e[1]-e[0]):(o=[e,e],a=0),u)},u.scale=function(){return h.scale(u)},u.hue(n),u},h.mix=h.interpolate=tO,h.random=function(){for(var e="#",t=0;t<6;t++)e+="0123456789abcdef".charAt(t8(16*t9()));return new f(e,"hex")},h.scale=tq,h.analyze=nr,h.contrast=function(e,t){e=new f(e),t=new f(t);var n=e.luminance(),r=t.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},h.deltaE=function(e,t,n,r,o){void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=1);var a=function(e){return 360*e/(2*nh)},s=function(e){return 2*nh*e/360};e=new f(e),t=new f(t);var u=Array.from(e.lab()),c=u[0],l=u[1],A=u[2],d=Array.from(t.lab()),h=d[0],p=d[1],g=d[2],v=(c+h)/2,m=(no(na(l,2)+na(A,2))+no(na(p,2)+na(g,2)))/2,y=.5*(1-no(na(m,7)/(na(m,7)+na(25,7)))),b=l*(1+y),w=p*(1+y),_=no(na(b,2)+na(A,2)),E=no(na(w,2)+na(g,2)),C=(_+E)/2,B=a(nc(A,b)),I=a(nc(g,w)),x=B>=0?B:B+360,T=I>=0?I:I+360,S=nl(x-T)>180?(x+T+360)/2:(x+T)/2,k=1-.17*nA(s(S-30))+.24*nA(s(2*S))+.32*nA(s(3*S+6))-.2*nA(s(4*S-63)),D=T-x;D=180>=nl(D)?D:T<=x?D+360:D-360,D=2*no(_*E)*nd(s(D)/2);var N=E-_,O=1+.015*na(v-50,2)/no(20+na(v-50,2)),F=1+.045*C,R=1+.015*C*k,L=30*nf(-na((S-275)/25,2)),M=-(2*no(na(C,7)/(na(C,7)+na(25,7))))*nd(2*s(L));return nu(0,ns(100,no(na((h-c)/(n*O),2)+na(N/(r*F),2)+na(D/(o*R),2)+N/(r*F)*M*(D/(o*R)))))},h.distance=function(e,t,n){void 0===n&&(n="lab"),e=new f(e),t=new f(t);var r=e.get(n),o=t.get(n),a=0;for(var s in r){var u=(r[s]||0)-(o[s]||0);a+=u*u}return Math.sqrt(a)},h.limits=ni,h.valid=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];try{return new(Function.prototype.bind.apply(f,[null].concat(e))),!0}catch(e){return!1}},h.scales={cool:function(){return tq([h.hsl(180,1,.9),h.hsl(250,.7,.4)])},hot:function(){return tq(["#000","#f00","#ff0","#fff"]).mode("rgb")}},h.colors=e3,h.brewer=np,h},e.exports=t()},2947:function(e){class t{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function r(e,...t){let n=Object.create(null);for(let t in e)n[t]=e[t];return t.forEach(function(e){for(let t in e)n[t]=e[t]}),n}let o=e=>!!e.scope,a=(e,{prefix:t})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){let n=e.split(".");return[`${t}${n.shift()}`,...n.map((e,t)=>`${e}${"_".repeat(t+1)}`)].join(" ")}return`${t}${e}`};class s{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=n(e)}openNode(e){if(!o(e))return;let t=a(e.scope,{prefix:this.classPrefix});this.span(t)}closeNode(e){o(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}let u=(e={})=>{let t={children:[]};return Object.assign(t,e),t};class c{constructor(){this.rootNode=u(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){let t=u({scope:e});this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{c._collapse(e)}))}}class l extends c{constructor(e){super(),this.options=e}addText(e){""!==e&&this.add(e)}startScope(e){this.openNode(e)}endScope(){this.closeNode()}__addSublanguage(e,t){let n=e.root;t&&(n.scope=`language:${t}`),this.add(n)}toHTML(){return new s(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function A(e){return e?"string"==typeof e?e:e.source:null}function d(e){return p("(?=",e,")")}function f(e){return p("(?:",e,")*")}function h(e){return p("(?:",e,")?")}function p(...e){return e.map(e=>A(e)).join("")}function g(...e){return"("+(function(e){let t=e[e.length-1];return"object"==typeof t&&t.constructor===Object?(e.splice(e.length-1,1),t):{}}(e).capture?"":"?:")+e.map(e=>A(e)).join("|")+")"}function v(e){return RegExp(e.toString()+"|").exec("").length-1}let m=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function y(e,{joinWith:t}){let n=0;return e.map(e=>{let t=n+=1,r=A(e),o="";for(;r.length>0;){let e=m.exec(r);if(!e){o+=r;break}o+=r.substring(0,e.index),r=r.substring(e.index+e[0].length),"\\"===e[0][0]&&e[1]?o+="\\"+String(Number(e[1])+t):(o+=e[0],"("===e[0]&&n++)}return o}).map(e=>`(${e})`).join(t)}let b="[a-zA-Z]\\w*",w="[a-zA-Z_]\\w*",_="\\b\\d+(\\.\\d+)?",E="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",C="\\b(0b[01]+)",B={begin:"\\\\[\\s\\S]",relevance:0},I=function(e,t,n={}){let o=r({scope:"comment",begin:e,end:t,contains:[]},n);o.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});let a=g("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return o.contains.push({begin:p(/[ ]+/,"(",a,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),o},x=I("//","$"),T=I("/\\*","\\*/"),S=I("#","$");var k=/*#__PURE__*/Object.freeze({__proto__:null,APOS_STRING_MODE:{scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[B]},BACKSLASH_ESCAPE:B,BINARY_NUMBER_MODE:{scope:"number",begin:C,relevance:0},BINARY_NUMBER_RE:C,COMMENT:I,C_BLOCK_COMMENT_MODE:T,C_LINE_COMMENT_MODE:x,C_NUMBER_MODE:{scope:"number",begin:E,relevance:0},C_NUMBER_RE:E,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})},HASH_COMMENT_MODE:S,IDENT_RE:b,MATCH_NOTHING_RE:/\b\B/,METHOD_GUARD:{begin:"\\.\\s*"+w,relevance:0},NUMBER_MODE:{scope:"number",begin:_,relevance:0},NUMBER_RE:_,PHRASAL_WORDS_MODE:{begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},QUOTE_STRING_MODE:{scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[B]},REGEXP_MODE:{scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[B,{begin:/\[/,end:/\]/,relevance:0,contains:[B]}]},RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{let t=/^#![ ]*\//;return e.binary&&(e.begin=p(t,/.*\b/,e.binary,/\b.*/)),r({scope:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},TITLE_MODE:{scope:"title",begin:b,relevance:0},UNDERSCORE_IDENT_RE:w,UNDERSCORE_TITLE_MODE:{scope:"title",begin:w,relevance:0}});function D(e,t){"."===e.input[e.index-1]&&t.ignoreMatch()}function N(e,t){void 0!==e.className&&(e.scope=e.className,delete e.className)}function O(e,t){t&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=D,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,void 0===e.relevance&&(e.relevance=0))}function F(e,t){Array.isArray(e.illegal)&&(e.illegal=g(...e.illegal))}function R(e,t){if(e.match){if(e.begin||e.end)throw Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function L(e,t){void 0===e.relevance&&(e.relevance=1)}let M=(e,t)=>{if(!e.beforeMatch)return;if(e.starts)throw Error("beforeMatch cannot be used with starts");let n=Object.assign({},e);Object.keys(e).forEach(t=>{delete e[t]}),e.keywords=n.keywords,e.begin=p(n.beforeMatch,d(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},P=["of","and","for","in","not","or","if","then","parent","list","value"],U={},j=e=>{console.error(e)},Z=(e,...t)=>{console.log(`WARN: ${e}`,...t)},Q=(e,t)=>{U[`${e}/${t}`]||(console.log(`Deprecated as of ${e}. ${t}`),U[`${e}/${t}`]=!0)},H=Error();function V(e,t,{key:n}){let r=0,o=e[n],a={},s={};for(let e=1;e<=t.length;e++)s[e+r]=o[e],a[e+r]=!0,r+=v(t[e-1]);e[n]=s,e[n]._emit=a,e[n]._multi=!0}function K(e){e.scope&&"object"==typeof e.scope&&null!==e.scope&&(e.beginScope=e.scope,delete e.scope),"string"==typeof e.beginScope&&(e.beginScope={_wrap:e.beginScope}),"string"==typeof e.endScope&&(e.endScope={_wrap:e.endScope}),function(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw j("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),H;if("object"!=typeof e.beginScope||null===e.beginScope)throw j("beginScope must be object"),H;V(e,e.begin,{key:"beginScope"}),e.begin=y(e.begin,{joinWith:""})}}(e),function(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw j("skip, excludeEnd, returnEnd not compatible with endScope: {}"),H;if("object"!=typeof e.endScope||null===e.endScope)throw j("endScope must be object"),H;V(e,e.end,{key:"endScope"}),e.end=y(e.end,{joinWith:""})}}(e)}class z extends Error{constructor(e,t){super(e),this.name="HTMLInjectionError",this.html=t}}let G=Symbol("nomatch"),W=function(e){let o=Object.create(null),a=Object.create(null),s=[],u=!0,c="Could not find the language '{}', did you forget to load/include a language module?",m={disableAutodetect:!0,name:"Plain text",contains:[]},b={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:l};function w(e){return b.noHighlightRe.test(e)}function _(e,t,n){let r="",o="";"object"==typeof t?(r=e,n=t.ignoreIllegals,o=t.language):(Q("10.7.0","highlight(lang, code, ...args) has been deprecated."),Q("10.7.0","Please use highlight(code, options) instead.\nhttps://github.com/highlightjs/highlight.js/issues/2277"),o=e,r=t),void 0===n&&(n=!0);let a={code:r,language:o};U("before:highlight",a);let s=a.result?a.result:E(a.language,a.code,n);return s.code=a.code,U("after:highlight",s),s}function E(e,a,s,l){let d=Object.create(null);function f(){if(!S.keywords){D.addText(U);return}let e=0;S.keywordPatternRe.lastIndex=0;let t=S.keywordPatternRe.exec(U),n="";for(;t;){n+=U.substring(e,t.index);let r=B.case_insensitive?t[0].toLowerCase():t[0],o=S.keywords[r];if(o){let[e,a]=o;if(D.addText(n),n="",d[r]=(d[r]||0)+1,d[r]<=7&&(Z+=a),e.startsWith("_"))n+=t[0];else{let n=B.classNameAliases[e]||e;p(t[0],n)}}else n+=t[0];e=S.keywordPatternRe.lastIndex,t=S.keywordPatternRe.exec(U)}n+=U.substring(e),D.addText(n)}function h(){null!=S.subLanguage?function(){if(""===U)return;let e=null;if("string"==typeof S.subLanguage){if(!o[S.subLanguage]){D.addText(U);return}e=E(S.subLanguage,U,!0,k[S.subLanguage]),k[S.subLanguage]=e._top}else e=C(U,S.subLanguage.length?S.subLanguage:null);S.relevance>0&&(Z+=e.relevance),D.__addSublanguage(e._emitter,e.language)}():f(),U=""}function p(e,t){""!==e&&(D.startScope(t),D.addText(e),D.endScope())}function g(e,t){let n=1,r=t.length-1;for(;n<=r;){if(!e._emit[n]){n++;continue}let r=B.classNameAliases[e[n]]||e[n],o=t[n];r?p(o,r):(U=o,f(),U=""),n++}}function m(e,t){return e.scope&&"string"==typeof e.scope&&D.openNode(B.classNameAliases[e.scope]||e.scope),e.beginScope&&(e.beginScope._wrap?(p(U,B.classNameAliases[e.beginScope._wrap]||e.beginScope._wrap),U=""):e.beginScope._multi&&(g(e.beginScope,t),U="")),S=Object.create(e,{parent:{value:S}})}let w={};function _(n,r){let o=r&&r[0];if(U+=n,null==o)return h(),0;if("begin"===w.type&&"end"===r.type&&w.index===r.index&&""===o){if(U+=a.slice(r.index,r.index+1),!u){let t=Error(`0 width match regex (${e})`);throw t.languageName=e,t.badRule=w.rule,t}return 1}if(w=r,"begin"===r.type)return function(e){let n=e[0],r=e.rule,o=new t(r);for(let t of[r.__beforeBegin,r["on:begin"]])if(t&&(t(e,o),o.isMatchIgnored))return 0===S.matcher.regexIndex?(U+=n[0],1):(V=!0,0);return r.skip?U+=n:(r.excludeBegin&&(U+=n),h(),r.returnBegin||r.excludeBegin||(U=n)),m(r,e),r.returnBegin?0:n.length}(r);if("illegal"!==r.type||s){if("end"===r.type){let e=function(e){let n=e[0],r=a.substring(e.index),o=function e(n,r,o){let a=function(e,t){let n=e&&e.exec(t);return n&&0===n.index}(n.endRe,o);if(a){if(n["on:end"]){let e=new t(n);n["on:end"](r,e),e.isMatchIgnored&&(a=!1)}if(a){for(;n.endsParent&&n.parent;)n=n.parent;return n}}if(n.endsWithParent)return e(n.parent,r,o)}(S,e,r);if(!o)return G;let s=S;S.endScope&&S.endScope._wrap?(h(),p(n,S.endScope._wrap)):S.endScope&&S.endScope._multi?(h(),g(S.endScope,e)):s.skip?U+=n:(s.returnEnd||s.excludeEnd||(U+=n),h(),s.excludeEnd&&(U=n));do S.scope&&D.closeNode(),S.skip||S.subLanguage||(Z+=S.relevance),S=S.parent;while(S!==o.parent);return o.starts&&m(o.starts,e),s.returnEnd?0:n.length}(r);if(e!==G)return e}}else{let e=Error('Illegal lexeme "'+o+'" for mode "'+(S.scope||"<unnamed>")+'"');throw e.mode=S,e}if("illegal"===r.type&&""===o)return 1;if(H>1e5&&H>3*r.index)throw Error("potential infinite loop, way more iterations than matches");return U+=o,o.length}let B=T(e);if(!B)throw j(c.replace("{}",e)),Error('Unknown language: "'+e+'"');let I=function(e){function t(t,n){return RegExp(A(t),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=v(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);let e=this.regexes.map(e=>e[1]);this.matcherRe=t(y(e,{joinWith:"|"}),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;let t=this.matcherRe.exec(e);if(!t)return null;let n=t.findIndex((e,t)=>t>0&&void 0!==e),r=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,r)}}class o{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];let t=new n;return this.rules.slice(e).forEach(([e,n])=>t.addRule(e,n)),t.compile(),this.multiRegexes[e]=t,t}resumingScanAtSamePosition(){return 0!==this.regexIndex}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){let t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;let n=t.exec(e);if(this.resumingScanAtSamePosition()){if(n&&n.index===this.lastIndex);else{let t=this.getMatcher(0);t.lastIndex=this.lastIndex+1,n=t.exec(e)}}return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&this.considerAll()),n}}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=r(e.classNameAliases||{}),function n(a,s){if(a.isCompiled)return a;[N,R,K,M].forEach(e=>e(a,s)),e.compilerExtensions.forEach(e=>e(a,s)),a.__beforeBegin=null,[O,F,L].forEach(e=>e(a,s)),a.isCompiled=!0;let u=null;return"object"==typeof a.keywords&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),u=a.keywords.$pattern,delete a.keywords.$pattern),u=u||/\w+/,a.keywords&&(a.keywords=function e(t,n,r="keyword"){let o=Object.create(null);return"string"==typeof t?a(r,t.split(" ")):Array.isArray(t)?a(r,t):Object.keys(t).forEach(function(r){Object.assign(o,e(t[r],n,r))}),o;function a(e,t){n&&(t=t.map(e=>e.toLowerCase())),t.forEach(function(t){var n,r;let a=t.split("|");o[a[0]]=[e,(n=a[0],(r=a[1])?Number(r):P.includes(n.toLowerCase())?0:1)]})}}(a.keywords,e.case_insensitive)),a.keywordPatternRe=t(u,!0),s&&(a.begin||(a.begin=/\B|\b/),a.beginRe=t(a.begin),a.end||a.endsWithParent||(a.end=/\B|\b/),a.end&&(a.endRe=t(a.end)),a.terminatorEnd=A(a.end)||"",a.endsWithParent&&s.terminatorEnd&&(a.terminatorEnd+=(a.end?"|":"")+s.terminatorEnd)),a.illegal&&(a.illegalRe=t(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function(e){var t;return((t="self"===e?a:e).variants&&!t.cachedVariants&&(t.cachedVariants=t.variants.map(function(e){return r(t,{variants:null},e)})),t.cachedVariants)?t.cachedVariants:!function e(t){return!!t&&(t.endsWithParent||e(t.starts))}(t)?Object.isFrozen(t)?r(t):t:r(t,{starts:t.starts?r(t.starts):null})})),a.contains.forEach(function(e){n(e,a)}),a.starts&&n(a.starts,s),a.matcher=function(e){let t=new o;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminatorEnd&&t.addRule(e.terminatorEnd,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(a),a}(e)}(B),x="",S=l||I,k={},D=new b.__emitter(b);!function(){let e=[];for(let t=S;t!==B;t=t.parent)t.scope&&e.unshift(t.scope);e.forEach(e=>D.openNode(e))}();let U="",Z=0,Q=0,H=0,V=!1;try{if(B.__emitTokens)B.__emitTokens(a,D);else{for(S.matcher.considerAll();;){H++,V?V=!1:S.matcher.considerAll(),S.matcher.lastIndex=Q;let e=S.matcher.exec(a);if(!e)break;let t=a.substring(Q,e.index),n=_(t,e);Q=e.index+n}_(a.substring(Q))}return D.finalize(),x=D.toHTML(),{language:e,value:x,relevance:Z,illegal:!1,_emitter:D,_top:S}}catch(t){if(t.message&&t.message.includes("Illegal"))return{language:e,value:n(a),illegal:!0,relevance:0,_illegalBy:{message:t.message,index:Q,context:a.slice(Q-100,Q+100),mode:t.mode,resultSoFar:x},_emitter:D};if(u)return{language:e,value:n(a),illegal:!1,relevance:0,errorRaised:t,_emitter:D,_top:S};throw t}}function C(e,t){t=t||b.languages||Object.keys(o);let r=function(e){let t={value:n(e),illegal:!1,relevance:0,_top:m,_emitter:new b.__emitter(b)};return t._emitter.addText(e),t}(e),a=t.filter(T).filter(D).map(t=>E(t,e,!1));a.unshift(r);let[s,u]=a.sort((e,t)=>{if(e.relevance!==t.relevance)return t.relevance-e.relevance;if(e.language&&t.language){if(T(e.language).supersetOf===t.language)return 1;if(T(t.language).supersetOf===e.language)return -1}return 0});return s.secondBest=u,s}function B(e){let t=function(e){let t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";let n=b.languageDetectRe.exec(t);if(n){let t=T(n[1]);return t||(Z(c.replace("{}",n[1])),Z("Falling back to no-highlight mode for this block.",e)),t?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>w(e)||T(e))}(e);if(w(t))return;if(U("before:highlightElement",{el:e,language:t}),e.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",e);return}if(e.children.length>0&&(b.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(e)),b.throwUnescapedHTML))throw new z("One of your code blocks includes unescaped HTML.",e.innerHTML);let n=e.textContent,r=t?_(n,{language:t,ignoreIllegals:!0}):C(n);e.innerHTML=r.value,e.dataset.highlighted="yes",function(e,t,n){let r=t&&a[t]||n;e.classList.add("hljs"),e.classList.add(`language-${r}`)}(e,t,r.language),e.result={language:r.language,re:r.relevance,relevance:r.relevance},r.secondBest&&(e.secondBest={language:r.secondBest.language,relevance:r.secondBest.relevance}),U("after:highlightElement",{el:e,result:r,text:n})}let I=!1;function x(){if("loading"===document.readyState){I=!0;return}document.querySelectorAll(b.cssSelector).forEach(B)}function T(e){return o[e=(e||"").toLowerCase()]||o[a[e]]}function S(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach(e=>{a[e.toLowerCase()]=t})}function D(e){let t=T(e);return t&&!t.disableAutodetect}function U(e,t){s.forEach(function(n){n[e]&&n[e](t)})}for(let t in"undefined"!=typeof window&&window.addEventListener&&window.addEventListener("DOMContentLoaded",function(){I&&x()},!1),Object.assign(e,{highlight:_,highlightAuto:C,highlightAll:x,highlightElement:B,highlightBlock:function(e){return Q("10.7.0","highlightBlock will be removed entirely in v12.0"),Q("10.7.0","Please use highlightElement now."),B(e)},configure:function(e){b=r(b,e)},initHighlighting:()=>{x(),Q("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")},initHighlightingOnLoad:function(){x(),Q("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")},registerLanguage:function(t,n){let r=null;try{r=n(e)}catch(e){if(j("Language definition for '{}' could not be registered.".replace("{}",t)),u)j(e);else throw e;r=m}r.name||(r.name=t),o[t]=r,r.rawDefinition=n.bind(null,e),r.aliases&&S(r.aliases,{languageName:t})},unregisterLanguage:function(e){for(let t of(delete o[e],Object.keys(a)))a[t]===e&&delete a[t]},listLanguages:function(){return Object.keys(o)},getLanguage:T,registerAliases:S,autoDetection:D,inherit:r,addPlugin:function(e){var t;(t=e)["before:highlightBlock"]&&!t["before:highlightElement"]&&(t["before:highlightElement"]=e=>{t["before:highlightBlock"](Object.assign({block:e.el},e))}),t["after:highlightBlock"]&&!t["after:highlightElement"]&&(t["after:highlightElement"]=e=>{t["after:highlightBlock"](Object.assign({block:e.el},e))}),s.push(e)},removePlugin:function(e){let t=s.indexOf(e);-1!==t&&s.splice(t,1)}}),e.debugMode=function(){u=!1},e.safeMode=function(){u=!0},e.versionString="11.9.0",e.regex={concat:p,lookahead:d,either:g,optional:h,anyNumberOfTimes:f},k)"object"==typeof k[t]&&function e(t){return t instanceof Map?t.clear=t.delete=t.set=function(){throw Error("map is read-only")}:t instanceof Set&&(t.add=t.clear=t.delete=function(){throw Error("set is read-only")}),Object.freeze(t),Object.getOwnPropertyNames(t).forEach(n=>{let r=t[n],o=typeof r;"object"!==o&&"function"!==o||Object.isFrozen(r)||e(r)}),t}(k[t]);return Object.assign(e,k),e},q=W({});q.newInstance=()=>W({}),e.exports=q,q.HighlightJS=q,q.default=q},30630:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},18770:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},13706:function(e,t,n){"use strict";function r(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},98788:function(e,t,n){"use strict";function r(e,t,n,r,o,a,s){try{var u=e[a](s),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var s=e.apply(t,n);function u(e){r(s,o,a,u,c,"next",e)}function c(e){r(s,o,a,u,c,"throw",e)}u(void 0)})}}n.d(t,{Z:function(){return o}})},90581:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},45605:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(501);function o(e,t,n){return(o=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?function(e,t,n){var o=[null];o.push.apply(o,t);var a=new(Function.bind.apply(e,o));return n&&(0,r.Z)(a,n.prototype),a}:Reflect.construct).apply(null,arguments)}function a(e,t,n){return o.apply(null,arguments)}},27805:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,{Z:function(){return o}})},39309:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(34067),o=n(13706),a=n(1899);function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,s=(0,r.Z)(e);return n=t?Reflect.construct(s,arguments,(0,r.Z)(this).constructor):s.apply(this,arguments),n&&("object"===(0,a.Z)(n)||"function"==typeof n)?n:(0,o.Z)(this)}}},47842:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},11389:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(34067);function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}(e,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(n||e):a.value}})(e,t,n)}function a(e,t,n){return o(e,t,n)}},34067:function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){return r(e)}n.d(t,{Z:function(){return o}})},21218:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(501);function o(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},42838:function(e,t,n){"use strict";function r(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}n.d(t,{Z:function(){return r}})},33579:function(e,t,n){"use strict";function r(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},93520:function(e,t,n){"use strict";function r(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},70865:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(47842);function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){(0,r.Z)(e,t,n[t])})}return e}},96670:function(e,t,n){"use strict";function r(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n})(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}n.d(t,{Z:function(){return r}})},26297:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n.d(t,{Z:function(){return r}})},501:function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return r(e,t)}n.d(t,{Z:function(){return o}})},87394:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(18770),o=n(33579),a=n(93520),s=n(15459);function u(e,t){return(0,r.Z)(e)||(0,o.Z)(e,t)||(0,s.Z)(e,t)||(0,a.Z)()}},77149:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(18770),o=n(33579),a=n(93520),s=n(15459);function u(e){return(0,r.Z)(e)||(0,o.Z)(e)||(0,s.Z)(e,i)||(0,a.Z)()}},50930:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(30630),o=n(33579),a=n(15459);function s(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,o.Z)(e)||(0,a.Z)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1899:function(e,t,n){"use strict";function r(e){return e&&e.constructor===Symbol?"symbol":typeof e}n.d(t,{Z:function(){return r}})},15459:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(30630);function o(e,t){if(e){if("string"==typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return(0,r.Z)(e,t)}}},20624:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(45605),o=n(34067),a=n(501);function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return(0,r.Z)(e,arguments,(0,o.Z)(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),(0,a.Z)(n,e)})(e)}function u(e){return s(e)}},30686:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var r=n(10161);t.Z=r},66439:function(e,t,n){"use strict";/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function o(e){var t,n;return!1!==r(e)&&(void 0===(t=e.constructor)||!1!==r(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}n.d(t,{P:function(){return o}})},21805:function(e,t){"use strict";/*! js-cookie v3.0.1 | MIT */function n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var r=function e(t,r){function o(e,o,a){if("undefined"!=typeof document){"number"==typeof(a=n({},r,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var u in a)a[u]&&(s+="; "+u,!0!==a[u]&&(s+="="+a[u].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+s}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var a=n[o].split("="),s=a.slice(1).join("=");try{var u=decodeURIComponent(a[0]);if(r[u]=t.read(s,u),e===u)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){o(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});t.Z=r},37164:function(e,t,n){"use strict";n.d(t,{x0:function(){return r}});let r=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((e,t)=>((t&=63)<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"")},63955:function(e,t,n){"use strict";n.d(t,{Qr:function(){return L},cI:function(){return ew}});var r=n(2784),o=e=>"checkbox"===e.type,a=e=>e instanceof Date,s=e=>null==e;let u=e=>"object"==typeof e;var c=e=>!s(e)&&!Array.isArray(e)&&u(e)&&!a(e),l=e=>c(e)&&e.target?o(e.target)?e.target.checked:e.target.value:e,A=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,d=(e,t)=>e.has(A(t)),f=e=>{let t=e.constructor&&e.constructor.prototype;return c(t)&&t.hasOwnProperty("isPrototypeOf")},h="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function p(e){let t;let n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(!(h&&(e instanceof Blob||e instanceof FileList))&&(n||c(e))))return e;else if(t=n?[]:{},n||f(e))for(let n in e)e.hasOwnProperty(n)&&(t[n]=p(e[n]));else t=e;return t}var g=e=>Array.isArray(e)?e.filter(Boolean):[],v=e=>void 0===e,m=(e,t,n)=>{if(!t||!c(e))return n;let r=g(t.split(/[,[\].]+?/)).reduce((e,t)=>s(e)?e:e[t],e);return v(r)||r===e?v(e[t])?n:e[t]:r},y=e=>"boolean"==typeof e,b=e=>/^\w*$/.test(e),w=e=>g(e.replace(/["|']|\]/g,"").split(/\.|\[/)),_=(e,t,n)=>{let r=-1,o=b(t)?[t]:w(t),a=o.length,s=a-1;for(;++r<a;){let t=o[r],a=n;if(r!==s){let n=e[t];a=c(n)||Array.isArray(n)?n:isNaN(+o[r+1])?{}:[]}if("__proto__"===t)return;e[t]=a,e=e[t]}return e};let E={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},C={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},B={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},I=r.createContext(null),x=()=>r.useContext(I);var T=(e,t,n,r=!0)=>{let o={defaultValues:t._defaultValues};for(let a in e)Object.defineProperty(o,a,{get:()=>(t._proxyFormState[a]!==C.all&&(t._proxyFormState[a]=!r||C.all),n&&(n[a]=!0),e[a])});return o},S=e=>c(e)&&!Object.keys(e).length,k=(e,t,n,r)=>{n(e);let{name:o,...a}=e;return S(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(e=>t[e]===(!r||C.all))},D=e=>Array.isArray(e)?e:[e],N=(e,t,n)=>!e||!t||e===t||D(e).some(e=>e&&(n?e===t:e.startsWith(t)||t.startsWith(e)));function O(e){let t=r.useRef(e);t.current=e,r.useEffect(()=>{let n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}var F=e=>"string"==typeof e,R=(e,t,n,r,o)=>F(e)?(r&&t.watch.add(e),m(n,e,o)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),m(n,e))):(r&&(t.watchAll=!0),n);let L=e=>e.render(function(e){let t=x(),{name:n,disabled:o,control:a=t.control,shouldUnregister:s}=e,u=d(a._names.array,n),c=function(e){let t=x(),{control:n=t.control,name:o,defaultValue:a,disabled:s,exact:u}=e||{},c=r.useRef(o);c.current=o,O({disabled:s,subject:n._subjects.values,next:e=>{N(c.current,e.name,u)&&A(p(R(c.current,n._names,e.values||n._formValues,!1,a)))}});let[l,A]=r.useState(n._getWatch(o,a));return r.useEffect(()=>n._removeUnmounted()),l}({control:a,name:n,defaultValue:m(a._formValues,n,m(a._defaultValues,n,e.defaultValue)),exact:!0}),A=function(e){let t=x(),{control:n=t.control,disabled:o,name:a,exact:s}=e||{},[u,c]=r.useState(n._formState),l=r.useRef(!0),A=r.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=r.useRef(a);return d.current=a,O({disabled:o,next:e=>l.current&&N(d.current,e.name,s)&&k(e,A.current,n._updateFormState)&&c({...n._formState,...e}),subject:n._subjects.state}),r.useEffect(()=>(l.current=!0,A.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),T(u,n,A.current,!1)}({control:a,name:n}),f=r.useRef(a.register(n,{...e.rules,value:c,...y(e.disabled)?{disabled:e.disabled}:{}}));return r.useEffect(()=>{let e=a._options.shouldUnregister||s,t=(e,t)=>{let n=m(a._fields,e);n&&(n._f.mount=t)};if(t(n,!0),e){let e=p(m(a._options.defaultValues,n));_(a._defaultValues,n,e),v(m(a._formValues,n))&&_(a._formValues,n,e)}return()=>{(u?e&&!a._state.action:e)?a.unregister(n):t(n,!1)}},[n,a,u,s]),r.useEffect(()=>{m(a._fields,n)&&a._updateDisabledField({disabled:o,fields:a._fields,name:n,value:m(a._fields,n)._f.value})},[o,n,a]),{field:{name:n,value:c,...y(o)||A.disabled?{disabled:A.disabled||o}:{},onChange:r.useCallback(e=>f.current.onChange({target:{value:l(e),name:n},type:E.CHANGE}),[n]),onBlur:r.useCallback(()=>f.current.onBlur({target:{value:m(a._formValues,n),name:n},type:E.BLUR}),[n,a]),ref:e=>{let t=m(a._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:A,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!m(A.errors,n)},isDirty:{enumerable:!0,get:()=>!!m(A.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!m(A.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!m(A.validatingFields,n)},error:{enumerable:!0,get:()=>m(A.errors,n)}})}}(e));var M=(e,t,n,r,o)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:o||!0}}:{},P=e=>({isOnSubmit:!e||e===C.onSubmit,isOnBlur:e===C.onBlur,isOnChange:e===C.onChange,isOnAll:e===C.all,isOnTouch:e===C.onTouched}),U=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));let j=(e,t,n,r)=>{for(let o of n||Object.keys(e)){let n=m(e,o);if(n){let{_f:e,...a}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],o)&&!r||e.ref&&t(e.ref,e.name)&&!r)break;j(a,t)}else c(a)&&j(a,t)}}};var Z=(e,t,n)=>{let r=g(m(e,n));return _(r,"root",t[n]),_(e,n,r),e},Q=e=>"file"===e.type,H=e=>"function"==typeof e,V=e=>{if(!h)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},K=e=>F(e),z=e=>"radio"===e.type,G=e=>e instanceof RegExp;let W={value:!1,isValid:!1},q={value:!0,isValid:!0};var Y=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!v(e[0].attributes.value)?v(e[0].value)||""===e[0].value?q:{value:e[0].value,isValid:!0}:q:W}return W};let $={isValid:!1,value:null};var X=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,$):$;function J(e,t,n="validate"){if(K(e)||Array.isArray(e)&&e.every(K)||y(e)&&!e)return{type:n,message:K(e)?e:"",ref:t}}var ee=e=>c(e)&&!G(e)?e:{value:e,message:""},et=async(e,t,n,r,a)=>{let{ref:u,refs:l,required:A,maxLength:d,minLength:f,min:h,max:p,pattern:g,validate:b,name:w,valueAsNumber:_,mount:E,disabled:C}=e._f,I=m(t,w);if(!E||C)return{};let x=l?l[0]:u,T=e=>{r&&x.reportValidity&&(x.setCustomValidity(y(e)?"":e||""),x.reportValidity())},k={},D=z(u),N=o(u),O=(_||Q(u))&&v(u.value)&&v(I)||V(u)&&""===u.value||""===I||Array.isArray(I)&&!I.length,R=M.bind(null,w,n,k),L=(e,t,n,r=B.maxLength,o=B.minLength)=>{let a=e?t:n;k[w]={type:e?r:o,message:a,ref:u,...R(e?r:o,a)}};if(a?!Array.isArray(I)||!I.length:A&&(!(D||N)&&(O||s(I))||y(I)&&!I||N&&!Y(l).isValid||D&&!X(l).isValid)){let{value:e,message:t}=K(A)?{value:!!A,message:A}:ee(A);if(e&&(k[w]={type:B.required,message:t,ref:x,...R(B.required,t)},!n))return T(t),k}if(!O&&(!s(h)||!s(p))){let e,t;let r=ee(p),o=ee(h);if(s(I)||isNaN(I)){let n=u.valueAsDate||new Date(I),a=e=>new Date(new Date().toDateString()+" "+e),s="time"==u.type,c="week"==u.type;F(r.value)&&I&&(e=s?a(I)>a(r.value):c?I>r.value:n>new Date(r.value)),F(o.value)&&I&&(t=s?a(I)<a(o.value):c?I<o.value:n<new Date(o.value))}else{let n=u.valueAsNumber||(I?+I:I);s(r.value)||(e=n>r.value),s(o.value)||(t=n<o.value)}if((e||t)&&(L(!!e,r.message,o.message,B.max,B.min),!n))return T(k[w].message),k}if((d||f)&&!O&&(F(I)||a&&Array.isArray(I))){let e=ee(d),t=ee(f),r=!s(e.value)&&I.length>+e.value,o=!s(t.value)&&I.length<+t.value;if((r||o)&&(L(r,e.message,t.message),!n))return T(k[w].message),k}if(g&&!O&&F(I)){let{value:e,message:t}=ee(g);if(G(e)&&!I.match(e)&&(k[w]={type:B.pattern,message:t,ref:u,...R(B.pattern,t)},!n))return T(t),k}if(b){if(H(b)){let e=J(await b(I,t),x);if(e&&(k[w]={...e,...R(B.validate,e.message)},!n))return T(e.message),k}else if(c(b)){let e={};for(let r in b){if(!S(e)&&!n)break;let o=J(await b[r](I,t),x,r);o&&(e={...o,...R(r,o.message)},T(o.message),n&&(k[w]=e))}if(!S(e)&&(k[w]={ref:x,...e},!n))return k}}return T(!0),k};function en(e,t){let n=Array.isArray(t)?t:b(t)?[t]:w(t),r=1===n.length?e:function(e,t){let n=t.slice(0,-1).length,r=0;for(;r<n;)e=v(e)?r++:e[t[r++]];return e}(e,n),o=n.length-1,a=n[o];return r&&delete r[a],0!==o&&(c(r)&&S(r)||Array.isArray(r)&&function(e){for(let t in e)if(e.hasOwnProperty(t)&&!v(e[t]))return!1;return!0}(r))&&en(e,n.slice(0,-1)),e}var er=()=>{let e=[];return{get observers(){return e},next:t=>{for(let n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},ei=e=>s(e)||!u(e);function eo(e,t){if(ei(e)||ei(t))return e===t;if(a(e)&&a(t))return e.getTime()===t.getTime();let n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let o of n){let n=e[o];if(!r.includes(o))return!1;if("ref"!==o){let e=t[o];if(a(n)&&a(e)||c(n)&&c(e)||Array.isArray(n)&&Array.isArray(e)?!eo(n,e):n!==e)return!1}}return!0}var ea=e=>"select-multiple"===e.type,es=e=>z(e)||o(e),eu=e=>V(e)&&e.isConnected,ec=e=>{for(let t in e)if(H(e[t]))return!0;return!1};function el(e,t={}){let n=Array.isArray(e);if(c(e)||n)for(let n in e)Array.isArray(e[n])||c(e[n])&&!ec(e[n])?(t[n]=Array.isArray(e[n])?[]:{},el(e[n],t[n])):s(e[n])||(t[n]=!0);return t}var eA=(e,t)=>(function e(t,n,r){let o=Array.isArray(t);if(c(t)||o)for(let o in t)Array.isArray(t[o])||c(t[o])&&!ec(t[o])?v(n)||ei(r[o])?r[o]=Array.isArray(t[o])?el(t[o],[]):{...el(t[o])}:e(t[o],s(n)?{}:n[o],r[o]):r[o]=!eo(t[o],n[o]);return r})(e,t,el(t)),ed=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>v(e)?e:t?""===e?NaN:e?+e:e:n&&F(e)?new Date(e):r?r(e):e;function ef(e){let t=e.ref;return(e.refs?e.refs.every(e=>e.disabled):t.disabled)?void 0:Q(t)?t.files:z(t)?X(e.refs).value:ea(t)?[...t.selectedOptions].map(({value:e})=>e):o(t)?Y(e.refs).value:ed(v(t.value)?e.ref.value:t.value,e)}var eh=(e,t,n,r)=>{let o={};for(let n of e){let e=m(t,n);e&&_(o,n,e._f)}return{criteriaMode:n,names:[...e],fields:o,shouldUseNativeValidation:r}},ep=e=>v(e)?e:G(e)?e.source:c(e)?G(e.value)?e.value.source:e.value:e,eg=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ev(e,t,n){let r=m(e,n);if(r||b(n))return{error:r,name:n};let o=n.split(".");for(;o.length;){let r=o.join("."),a=m(t,r),s=m(e,r);if(a&&!Array.isArray(a)&&n!==r)break;if(s&&s.type)return{name:r,error:s};o.pop()}return{name:n}}var em=(e,t,n,r,o)=>!o.isOnAll&&(!n&&o.isOnTouch?!(t||e):(n?r.isOnBlur:o.isOnBlur)?!e:(n?!r.isOnChange:!o.isOnChange)||e),ey=(e,t)=>!g(m(e,t)).length&&en(e,t);let eb={mode:C.onSubmit,reValidateMode:C.onChange,shouldFocusError:!0};function ew(e={}){let t=r.useRef(),n=r.useRef(),[u,A]=r.useState({isDirty:!1,isValidating:!1,isLoading:H(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:H(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...function(e={}){let t,n={...eb,...e},r={submitCount:0,isDirty:!1,isLoading:H(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},u={},A=(c(n.defaultValues)||c(n.values))&&p(n.defaultValues||n.values)||{},f=n.shouldUnregister?{}:p(A),b={action:!1,mount:!1,watch:!1},w={mount:new Set,unMount:new Set,array:new Set,watch:new Set},B=0,I={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={values:er(),array:er(),state:er()},T=P(n.mode),k=P(n.reValidateMode),N=n.criteriaMode===C.all,O=e=>t=>{clearTimeout(B),B=setTimeout(e,t)},L=async e=>{if(I.isValid||e){let e=n.resolver?S((await q()).errors):await $(u,!0);e!==r.isValid&&x.state.next({isValid:e})}},M=(e,t)=>{(I.isValidating||I.validatingFields)&&((e||Array.from(w.mount)).forEach(e=>{e&&(t?_(r.validatingFields,e,t):en(r.validatingFields,e))}),x.state.next({validatingFields:r.validatingFields,isValidating:!S(r.validatingFields)}))},K=(e,t)=>{_(r.errors,e,t),x.state.next({errors:r.errors})},z=(e,t,n,r)=>{let o=m(u,e);if(o){let a=m(f,e,v(n)?m(A,e):n);v(a)||r&&r.defaultChecked||t?_(f,e,t?a:ef(o._f)):ee(e,a),b.mount&&L()}},G=(e,t,n,o,a)=>{let s=!1,c=!1,l={name:e},d=!!(m(u,e)&&m(u,e)._f.disabled);if(!n||o){I.isDirty&&(c=r.isDirty,r.isDirty=l.isDirty=X(),s=c!==l.isDirty);let n=d||eo(m(A,e),t);c=!!(!d&&m(r.dirtyFields,e)),n||d?en(r.dirtyFields,e):_(r.dirtyFields,e,!0),l.dirtyFields=r.dirtyFields,s=s||I.dirtyFields&&!n!==c}if(n){let t=m(r.touchedFields,e);t||(_(r.touchedFields,e,n),l.touchedFields=r.touchedFields,s=s||I.touchedFields&&t!==n)}return s&&a&&x.state.next(l),s?l:{}},W=(n,o,a,s)=>{let u=m(r.errors,n),c=I.isValid&&y(o)&&r.isValid!==o;if(e.delayError&&a?(t=O(()=>K(n,a)))(e.delayError):(clearTimeout(B),t=null,a?_(r.errors,n,a):en(r.errors,n)),(a?!eo(u,a):u)||!S(s)||c){let e={...s,...c&&y(o)?{isValid:o}:{},errors:r.errors,name:n};r={...r,...e},x.state.next(e)}},q=async e=>{M(e,!0);let t=await n.resolver(f,n.context,eh(e||w.mount,u,n.criteriaMode,n.shouldUseNativeValidation));return M(e),t},Y=async e=>{let{errors:t}=await q(e);if(e)for(let n of e){let e=m(t,n);e?_(r.errors,n,e):en(r.errors,n)}else r.errors=t;return t},$=async(e,t,o={valid:!0})=>{for(let a in e){let s=e[a];if(s){let{_f:e,...u}=s;if(e){let u=w.array.has(e.name);M([a],!0);let c=await et(s,f,N,n.shouldUseNativeValidation&&!t,u);if(M([a]),c[e.name]&&(o.valid=!1,t))break;t||(m(c,e.name)?u?Z(r.errors,c,e.name):_(r.errors,e.name,c[e.name]):en(r.errors,e.name))}u&&await $(u,t,o)}}return o.valid},X=(e,t)=>(e&&t&&_(f,e,t),!eo(eC(),A)),J=(e,t,n)=>R(e,w,{...b.mount?f:v(t)?A:F(e)?{[e]:t}:t},n,t),ee=(e,t,n={})=>{let r=m(u,e),a=t;if(r){let n=r._f;n&&(n.disabled||_(f,e,ed(t,n)),a=V(n.ref)&&s(t)?"":t,ea(n.ref)?[...n.ref.options].forEach(e=>e.selected=a.includes(e.value)):n.refs?o(n.ref)?n.refs.length>1?n.refs.forEach(e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(a)?!!a.find(t=>t===e.value):a===e.value)):n.refs[0]&&(n.refs[0].checked=!!a):n.refs.forEach(e=>e.checked=e.value===a):Q(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||x.values.next({name:e,values:{...f}})))}(n.shouldDirty||n.shouldTouch)&&G(e,a,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&eE(e)},ec=(e,t,n)=>{for(let r in t){let o=t[r],s=`${e}.${r}`,c=m(u,s);!w.array.has(e)&&ei(o)&&(!c||c._f)||a(o)?ee(s,o,n):ec(s,o,n)}},el=(e,t,n={})=>{let o=m(u,e),a=w.array.has(e),c=p(t);_(f,e,c),a?(x.array.next({name:e,values:{...f}}),(I.isDirty||I.dirtyFields)&&n.shouldDirty&&x.state.next({name:e,dirtyFields:eA(A,f),isDirty:X(e,c)})):!o||o._f||s(c)?ee(e,c,n):ec(e,c,n),U(e,w)&&x.state.next({...r}),x.values.next({name:b.mount?e:void 0,values:{...f}})},ew=async e=>{b.mount=!0;let o=e.target,a=o.name,s=!0,c=m(u,a),A=e=>{s=Number.isNaN(e)||e===m(f,a,e)};if(c){let d,h;let p=o.type?ef(c._f):l(e),g=e.type===E.BLUR||e.type===E.FOCUS_OUT,v=!eg(c._f)&&!n.resolver&&!m(r.errors,a)&&!c._f.deps||em(g,m(r.touchedFields,a),r.isSubmitted,k,T),y=U(a,w,g);_(f,a,p),g?(c._f.onBlur&&c._f.onBlur(e),t&&t(0)):c._f.onChange&&c._f.onChange(e);let b=G(a,p,g,!1),C=!S(b)||y;if(g||x.values.next({name:a,type:e.type,values:{...f}}),v)return I.isValid&&L(),C&&x.state.next({name:a,...y?{}:b});if(!g&&y&&x.state.next({...r}),n.resolver){let{errors:e}=await q([a]);if(A(p),s){let t=ev(r.errors,u,a),n=ev(e,u,t.name||a);d=n.error,a=n.name,h=S(e)}}else M([a],!0),d=(await et(c,f,N,n.shouldUseNativeValidation))[a],M([a]),A(p),s&&(d?h=!1:I.isValid&&(h=await $(u,!0)));s&&(c._f.deps&&eE(c._f.deps),W(a,h,d,b))}},e_=(e,t)=>{if(m(r.errors,t)&&e.focus)return e.focus(),1},eE=async(e,t={})=>{let o,a;let s=D(e);if(n.resolver){let t=await Y(v(e)?e:s);o=S(t),a=e?!s.some(e=>m(t,e)):o}else e?((a=(await Promise.all(s.map(async e=>{let t=m(u,e);return await $(t&&t._f?{[e]:t}:t)}))).every(Boolean))||r.isValid)&&L():a=o=await $(u);return x.state.next({...!F(e)||I.isValid&&o!==r.isValid?{}:{name:e},...n.resolver||!e?{isValid:o}:{},errors:r.errors}),t.shouldFocus&&!a&&j(u,e_,e?s:w.mount),a},eC=e=>{let t={...b.mount?f:A};return v(e)?t:F(e)?m(t,e):e.map(e=>m(t,e))},eB=(e,t)=>({invalid:!!m((t||r).errors,e),isDirty:!!m((t||r).dirtyFields,e),isTouched:!!m((t||r).touchedFields,e),isValidating:!!m((t||r).validatingFields,e),error:m((t||r).errors,e)}),eI=(e,t,n)=>{let o=(m(u,e,{_f:{}})._f||{}).ref,{ref:a,message:s,type:c,...l}=m(r.errors,e)||{};_(r.errors,e,{...l,...t,ref:o}),x.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&o&&o.focus&&o.focus()},ex=(e,t={})=>{for(let o of e?D(e):w.mount)w.mount.delete(o),w.array.delete(o),t.keepValue||(en(u,o),en(f,o)),t.keepError||en(r.errors,o),t.keepDirty||en(r.dirtyFields,o),t.keepTouched||en(r.touchedFields,o),t.keepIsValidating||en(r.validatingFields,o),n.shouldUnregister||t.keepDefaultValue||en(A,o);x.values.next({values:{...f}}),x.state.next({...r,...t.keepDirty?{isDirty:X()}:{}}),t.keepIsValid||L()},eT=({disabled:e,name:t,field:n,fields:r,value:o})=>{if(y(e)&&b.mount||e){let a=e?void 0:v(o)?ef(n?n._f:m(r,t)._f):o;_(f,t,a),G(t,a,!1,!1,!0)}},eS=(e,t={})=>{let r=m(u,e),o=y(t.disabled);return _(u,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),w.mount.add(e),r?eT({field:r,disabled:t.disabled,name:e,value:t.value}):z(e,!0,t.value),{...o?{disabled:t.disabled}:{},...n.progressive?{required:!!t.required,min:ep(t.min),max:ep(t.max),minLength:ep(t.minLength),maxLength:ep(t.maxLength),pattern:ep(t.pattern)}:{},name:e,onChange:ew,onBlur:ew,ref:o=>{if(o){eS(e,t),r=m(u,e);let n=v(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,a=es(n),s=r._f.refs||[];(a?s.find(e=>e===n):n===r._f.ref)||(_(u,e,{_f:{...r._f,...a?{refs:[...s.filter(eu),n,...Array.isArray(m(A,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),z(e,!1,void 0,n))}else(r=m(u,e,{}))._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&!(d(w.array,e)&&b.action)&&w.unMount.add(e)}}},ek=()=>n.shouldFocusError&&j(u,e_,w.mount),eD=(e,t)=>async o=>{let a;o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist());let s=p(f);if(x.state.next({isSubmitting:!0}),n.resolver){let{errors:e,values:t}=await q();r.errors=e,s=t}else await $(u);if(en(r.errors,"root"),S(r.errors)){x.state.next({errors:{}});try{await e(s,o)}catch(e){a=e}}else t&&await t({...r.errors},o),ek(),setTimeout(ek);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:S(r.errors)&&!a,submitCount:r.submitCount+1,errors:r.errors}),a)throw a},eN=(t,n={})=>{let o=t?p(t):A,a=p(o),s=S(t),c=s?A:a;if(n.keepDefaultValues||(A=o),!n.keepValues){if(n.keepDirtyValues)for(let e of w.mount)m(r.dirtyFields,e)?_(c,e,m(f,e)):el(e,m(c,e));else{if(h&&v(t))for(let e of w.mount){let t=m(u,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(V(e)){let t=e.closest("form");if(t){t.reset();break}}}}u={}}f=e.shouldUnregister?n.keepDefaultValues?p(A):{}:p(c),x.array.next({values:{...c}}),x.values.next({values:{...c}})}w={mount:n.keepDirtyValues?w.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},b.mount=!I.isValid||!!n.keepIsValid||!!n.keepDirtyValues,b.watch=!!e.shouldUnregister,x.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:!s&&(n.keepDirty?r.isDirty:!!(n.keepDefaultValues&&!eo(t,A))),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:s?[]:n.keepDirtyValues?n.keepDefaultValues&&f?eA(A,f):r.dirtyFields:n.keepDefaultValues&&t?eA(A,t):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitSuccessful:!!n.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},eO=(e,t)=>eN(H(e)?e(f):e,t);return{control:{register:eS,unregister:ex,getFieldState:eB,handleSubmit:eD,setError:eI,_executeSchema:q,_getWatch:J,_getDirty:X,_updateValid:L,_removeUnmounted:()=>{for(let e of w.unMount){let t=m(u,e);t&&(t._f.refs?t._f.refs.every(e=>!eu(e)):!eu(t._f.ref))&&ex(e)}w.unMount=new Set},_updateFieldArray:(e,t=[],n,o,a=!0,s=!0)=>{if(o&&n){if(b.action=!0,s&&Array.isArray(m(u,e))){let t=n(m(u,e),o.argA,o.argB);a&&_(u,e,t)}if(s&&Array.isArray(m(r.errors,e))){let t=n(m(r.errors,e),o.argA,o.argB);a&&_(r.errors,e,t),ey(r.errors,e)}if(I.touchedFields&&s&&Array.isArray(m(r.touchedFields,e))){let t=n(m(r.touchedFields,e),o.argA,o.argB);a&&_(r.touchedFields,e,t)}I.dirtyFields&&(r.dirtyFields=eA(A,f)),x.state.next({name:e,isDirty:X(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else _(f,e,t)},_updateDisabledField:eT,_getFieldArray:t=>g(m(b.mount?f:A,t,e.shouldUnregister?m(A,t,[]):[])),_reset:eN,_resetDefaultValues:()=>H(n.defaultValues)&&n.defaultValues().then(e=>{eO(e,n.resetOptions),x.state.next({isLoading:!1})}),_updateFormState:e=>{r={...r,...e}},_disableForm:e=>{y(e)&&(x.state.next({disabled:e}),j(u,(t,n)=>{let r=m(u,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach(t=>{t.disabled=r._f.disabled||e}))},0,!1))},_subjects:x,_proxyFormState:I,_setErrors:e=>{r.errors=e,x.state.next({errors:r.errors,isValid:!1})},get _fields(){return u},get _formValues(){return f},get _state(){return b},set _state(value){b=value},get _defaultValues(){return A},get _names(){return w},set _names(value){w=value},get _formState(){return r},set _formState(value){r=value},get _options(){return n},set _options(value){n={...n,...value}}},trigger:eE,register:eS,handleSubmit:eD,watch:(e,t)=>H(e)?x.values.subscribe({next:n=>e(J(void 0,t),n)}):J(e,t,!0),setValue:el,getValues:eC,reset:eO,resetField:(e,t={})=>{m(u,e)&&(v(t.defaultValue)?el(e,p(m(A,e))):(el(e,t.defaultValue),_(A,e,p(t.defaultValue))),t.keepTouched||en(r.touchedFields,e),t.keepDirty||(en(r.dirtyFields,e),r.isDirty=t.defaultValue?X(e,p(m(A,e))):X()),!t.keepError&&(en(r.errors,e),I.isValid&&L()),x.state.next({...r}))},clearErrors:e=>{e&&D(e).forEach(e=>en(r.errors,e)),x.state.next({errors:e?r.errors:{}})},unregister:ex,setError:eI,setFocus:(e,t={})=>{let n=m(u,e),r=n&&n._f;if(r){let e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:eB}}(e),formState:u});let f=t.current.control;return f._options=e,O({subject:f._subjects.state,next:e=>{k(e,f._proxyFormState,f._updateFormState,!0)&&A({...f._formState})}}),r.useEffect(()=>f._disableForm(e.disabled),[f,e.disabled]),r.useEffect(()=>{if(f._proxyFormState.isDirty){let e=f._getDirty();e!==u.isDirty&&f._subjects.state.next({isDirty:e})}},[f,u.isDirty]),r.useEffect(()=>{e.values&&!eo(e.values,n.current)?(f._reset(e.values,f._options.resetOptions),n.current=e.values,A(e=>({...e}))):f._resetDefaultValues()},[e.values,f]),r.useEffect(()=>{e.errors&&f._setErrors(e.errors)},[e.errors,f]),r.useEffect(()=>{f._state.mount||(f._updateValid(),f._state.mount=!0),f._state.watch&&(f._state.watch=!1,f._subjects.state.next({...f._formState})),f._removeUnmounted()}),r.useEffect(()=>{e.shouldUnregister&&f._subjects.values.next({values:f._getWatch()})},[e.shouldUnregister,f]),t.current.formState=T(u,f),t.current}},62202:function(e,t,n){"use strict";let r,o;n.d(t,{x7:function(){return el},ZP:function(){return eA},Am:function(){return j}});var a,s=n(2784);let u={data:""},c=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||u,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,A=/\/\*[^]*?\*\/|  +/g,d=/\n+/g,f=(e,t)=>{let n="",r="",o="";for(let a in e){let s=e[a];"@"==a[0]?"i"==a[1]?n=a+" "+s+";":r+="f"==a[1]?f(s,a):a+"{"+f(s,"k"==a[1]?"":t)+"}":"object"==typeof s?r+=f(s,t?t.replace(/([^,])+/g,e=>a.replace(/(^:.*)|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=s&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=f.p?f.p(a,s):a+":"+s+";")}return n+(t&&o?t+"{"+o+"}":o)+r},h={},p=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+p(e[n]);return t}return e},g=(e,t,n,r,o)=>{var a;let s=p(e),u=h[s]||(h[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!h[u]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=l.exec(e.replace(A,""));)t[4]?r.shift():t[3]?(n=t[3].replace(d," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(d," ").trim();return r[0]})(e);h[u]=f(o?{["@keyframes "+u]:t}:t,n?"":"."+u)}return a=h[u],-1==t.data.indexOf(a)&&(t.data=r?a+t.data:t.data+a),u},v=(e,t,n)=>e.reduce((e,r,o)=>{let a=t[o];if(a&&a.call){let e=a(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":f(e,""):!1===e?"":e}return e+r+(null==a?"":a)},"");function m(e){let t=this||{},n=e.call?e(t.p):e;return g(n.unshift?n.raw?v(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,c(t.target),t.g,t.o,t.k)}m.bind({g:1});let y,b,w,_=m.bind({k:1});function E(e,t){let n=this||{};return function(){let r=arguments;function o(a,s){let u=Object.assign({},a),c=u.className||o.className;n.p=Object.assign({theme:b&&b()},u),n.o=/ *go\d+/.test(c),u.className=m.apply(n,r)+(c?" "+c:""),t&&(u.ref=s);let l=e;return e[0]&&(l=u.as||e,delete u.as),w&&l[0]&&w(u),y(l,u)}return t?t(o):o}}var C=e=>"function"==typeof e,B=(e,t)=>C(e)?e(t):e,I=(r=0,()=>(++r).toString()),x=e=>t=>{t&&setTimeout(()=>{e(t.getBoundingClientRect())})},T=()=>{if(void 0===o&&"u">typeof window){let e=matchMedia("(prefers-reduced-motion: reduce)");o=!e||e.matches}return o},S=new Map,k=e=>{if(S.has(e))return;let t=setTimeout(()=>{S.delete(e),R({type:4,toastId:e})},1e3);S.set(e,t)},D=e=>{let t=S.get(e);t&&clearTimeout(t)},N=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,20)};case 1:return t.toast.id&&D(t.toast.id),{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case 2:let{toast:n}=t;return e.toasts.find(e=>e.id===n.id)?N(e,{type:1,toast:n}):N(e,{type:0,toast:n});case 3:let{toastId:r}=t;return r?k(r):e.toasts.forEach(e=>{k(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,visible:!1}:e)};case 4:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let o=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(e=>({...e,pauseDuration:e.pauseDuration+o}))}}},O=[],F={toasts:[],pausedAt:void 0},R=e=>{F=N(F,e),O.forEach(e=>{e(F)})},L={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},M=(e={})=>{let[t,n]=(0,s.useState)(F);(0,s.useEffect)(()=>(O.push(n),()=>{let e=O.indexOf(n);e>-1&&O.splice(e,1)}),[t]);let r=t.toasts.map(t=>{var n,r;return{...e,...e[t.type],...t,duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||L[t.type],style:{...e.style,...null==(r=e[t.type])?void 0:r.style,...t.style}}});return{...t,toasts:r}},P=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(null==n?void 0:n.id)||I()}),U=e=>(t,n)=>{let r=P(t,e,n);return R({type:2,toast:r}),r.id},j=(e,t)=>U("blank")(e,t);j.error=U("error"),j.success=U("success"),j.loading=U("loading"),j.custom=U("custom"),j.dismiss=e=>{R({type:3,toastId:e})},j.remove=e=>R({type:4,toastId:e}),j.promise=(e,t,n)=>{let r=j.loading(t.loading,{...n,...null==n?void 0:n.loading});return e.then(e=>(j.success(B(t.success,e),{id:r,...n,...null==n?void 0:n.success}),e)).catch(e=>{j.error(B(t.error,e),{id:r,...n,...null==n?void 0:n.error})}),e};var Z=e=>{let{toasts:t,pausedAt:n}=M(e);(0,s.useEffect)(()=>{if(n)return;let e=Date.now(),r=t.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(n<0){t.visible&&j.dismiss(t.id);return}return setTimeout(()=>j.dismiss(t.id),n)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[t,n]);let r=(0,s.useMemo)(()=>({startPause:()=>{R({type:5,time:Date.now()})},endPause:()=>{n&&R({type:6,time:Date.now()})},updateHeight:(e,t)=>R({type:1,toast:{id:e,height:t}}),calculateOffset:(e,n)=>{let{reverseOrder:r=!1,gutter:o=8,defaultPosition:a}=n||{},s=t.filter(t=>(t.position||a)===(e.position||a)&&t.height),u=s.findIndex(t=>t.id===e.id),c=s.filter((e,t)=>t<u&&e.visible).length;return s.filter(e=>e.visible).slice(...r?[c+1]:[0,c]).reduce((e,t)=>e+(t.height||0)+o,0)}}),[t,n]);return{toasts:t,handlers:r}},Q=_`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,H=_`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,V=_`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,K=E("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Q} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${H} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${V} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,z=_`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,G=E("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${z} 1s linear infinite;
`,W=_`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,q=_`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Y=E("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${W} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${q} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$=E("div")`
  position: absolute;
`,X=E("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,J=_`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ee=E("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${J} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,et=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return void 0!==t?"string"==typeof t?s.createElement(ee,null,t):t:"blank"===n?null:s.createElement(X,null,s.createElement(G,{...r}),"loading"!==n&&s.createElement($,null,"error"===n?s.createElement(K,{...r}):s.createElement(Y,{...r})))},en=e=>`
0% {transform: translate3d(0,${-200*e}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,er=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${-150*e}%,-1px) scale(.6); opacity:0;}
`,ei=E("div",s.forwardRef)`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eo=E("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,ea=(e,t)=>{let n=e.includes("top")?1:-1,[r,o]=T()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[en(n),er(n)];return{animation:t?`${_(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},es=s.memo(({toast:e,position:t,style:n,children:r})=>{let o=null!=e&&e.height?ea(e.position||t||"top-center",e.visible):{opacity:0},a=s.createElement(et,{toast:e}),u=s.createElement(eo,{...e.ariaProps},B(e.message,e));return s.createElement(ei,{className:e.className,style:{...o,...n,...e.style}},"function"==typeof r?r({icon:a,message:u}):s.createElement(s.Fragment,null,a,u))});a=s.createElement,f.p=void 0,y=a,b=void 0,w=void 0;var eu=(e,t)=>{let n=e.includes("top"),r=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:T()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...n?{top:0}:{bottom:0},...r}},ec=m`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,el=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:o,containerStyle:a,containerClassName:u})=>{let{toasts:c,handlers:l}=Z(n);return s.createElement("div",{style:{position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none",...a},className:u,onMouseEnter:l.startPause,onMouseLeave:l.endPause},c.map(n=>{let a=n.position||t,u=eu(a,l.calculateOffset(n,{reverseOrder:e,gutter:r,defaultPosition:t})),c=n.height?void 0:x(e=>{l.updateHeight(n.id,e.height)});return s.createElement("div",{ref:c,className:n.visible?ec:"",key:n.id,style:u},"custom"===n.type?B(n.message,n):o?o(n):s.createElement(es,{toast:n,position:a}))}))},eA=j},70289:function(e,t,n){"use strict";n.d(t,{Z:function(){return z}});var r=n(2784),o=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},a="object"==typeof global&&global&&global.Object===Object&&global,s="object"==typeof self&&self&&self.Object===Object&&self,u=a||s||Function("return this")(),c=function(){return u.Date.now()},l=/\s/,A=function(e){for(var t=e.length;t--&&l.test(e.charAt(t)););return t},d=/^\s+/,f=u.Symbol,h=Object.prototype,p=h.hasOwnProperty,g=h.toString,v=f?f.toStringTag:void 0,m=function(e){var t=p.call(e,v),n=e[v];try{e[v]=void 0;var r=!0}catch(e){}var o=g.call(e);return r&&(t?e[v]=n:delete e[v]),o},y=Object.prototype.toString,b=f?f.toStringTag:void 0,w=function(e){var t;return"symbol"==typeof e||null!=e&&"object"==typeof e&&"[object Symbol]"==(null==(t=e)?void 0===t?"[object Undefined]":"[object Null]":b&&b in Object(t)?m(t):y.call(t))},_=0/0,E=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,B=/^0o[0-7]+$/i,I=parseInt,x=function(e){if("number"==typeof e)return e;if(w(e))return _;if(o(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=o(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=(t=e)?t.slice(0,A(t)+1).replace(d,""):t;var r=C.test(e);return r||B.test(e)?I(e.slice(2),r?2:8):E.test(e)?_:+e},T=Math.max,S=Math.min,k=function(e,t,n){var r,a,s,u,l,A,d=0,f=!1,h=!1,p=!0;if("function"!=typeof e)throw TypeError("Expected a function");function g(t){var n=r,o=a;return r=a=void 0,d=t,u=e.apply(o,n)}function v(e){var n=e-A,r=e-d;return void 0===A||n>=t||n<0||h&&r>=s}function m(){var e,n,r,o=c();if(v(o))return y(o);l=setTimeout(m,(e=o-A,n=o-d,r=t-e,h?S(r,s-n):r))}function y(e){return(l=void 0,p&&r)?g(e):(r=a=void 0,u)}function b(){var e,n=c(),o=v(n);if(r=arguments,a=this,A=n,o){if(void 0===l)return d=e=A,l=setTimeout(m,t),f?g(e):u;if(h)return clearTimeout(l),l=setTimeout(m,t),g(A)}return void 0===l&&(l=setTimeout(m,t)),u}return t=x(t)||0,o(n)&&(f=!!n.leading,s=(h="maxWait"in n)?T(x(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==l&&clearTimeout(l),d=0,r=A=a=l=void 0},b.flush=function(){return void 0===l?u:y(c())},b},D=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw TypeError("Expected a function");return o(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),k(e,t,{leading:r,maxWait:t,trailing:a})},N=n(19131),O=function(){return(O=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},F=null,R=null;function L(){if(null===F){if("undefined"==typeof document)return F=0;var e=document.body,t=document.createElement("div");t.classList.add("simplebar-hide-scrollbar"),e.appendChild(t);var n=t.getBoundingClientRect().right;e.removeChild(t),F=n}return F}function M(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}function P(e){return e&&e.ownerDocument?e.ownerDocument:document}N&&window.addEventListener("resize",function(){R!==window.devicePixelRatio&&(R=window.devicePixelRatio,F=null)});var U=function(e){return Array.prototype.reduce.call(e,function(e,t){var n=t.name.match(/data-simplebar-(.+)/);if(n){var r=n[1].replace(/\W+(.)/g,function(e,t){return t.toUpperCase()});switch(t.value){case"true":case void 0:e[r]=!0;break;case"false":e[r]=!1;break;default:e[r]=t.value}}return e},{})};function j(e,t){var n;e&&(n=e.classList).add.apply(n,t.split(" "))}function Z(e,t){e&&t.split(" ").forEach(function(t){e.classList.remove(t)})}function Q(e){return".".concat(e.split(" ").join("."))}var H=/*#__PURE__*/Object.freeze({__proto__:null,getElementWindow:M,getElementDocument:P,getOptions:U,addClasses:j,removeClasses:Z,classNamesToQuery:Q}),V=function(){function e(t,n){void 0===n&&(n={});var r=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var e=M(r.el);r.scrollXTicking||(e.requestAnimationFrame(r.scrollX),r.scrollXTicking=!0),r.scrollYTicking||(e.requestAnimationFrame(r.scrollY),r.scrollYTicking=!0),r.isScrolling||(r.isScrolling=!0,j(r.el,r.classNames.scrolling)),r.showScrollbar("x"),r.showScrollbar("y"),r.onStopScrolling()},this.scrollX=function(){r.axis.x.isOverflowing&&r.positionScrollbar("x"),r.scrollXTicking=!1},this.scrollY=function(){r.axis.y.isOverflowing&&r.positionScrollbar("y"),r.scrollYTicking=!1},this._onStopScrolling=function(){Z(r.el,r.classNames.scrolling),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isScrolling=!1},this.onMouseEnter=function(){r.isMouseEntering||(j(r.el,r.classNames.mouseEntered),r.showScrollbar("x"),r.showScrollbar("y"),r.isMouseEntering=!0),r.onMouseEntered()},this._onMouseEntered=function(){Z(r.el,r.classNames.mouseEntered),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isMouseEntering=!1},this._onMouseMove=function(e){r.mouseX=e.clientX,r.mouseY=e.clientY,(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseMoveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseMoveForAxis("y")},this.onMouseLeave=function(){r.onMouseMove.cancel(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseLeaveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseLeaveForAxis("y"),r.mouseX=-1,r.mouseY=-1},this._onWindowResize=function(){r.scrollbarWidth=r.getScrollbarWidth(),r.hideNativeScrollbar()},this.onPointerEvent=function(e){var t,n;r.axis.x.track.el&&r.axis.y.track.el&&r.axis.x.scrollbar.el&&r.axis.y.scrollbar.el&&(r.axis.x.track.rect=r.axis.x.track.el.getBoundingClientRect(),r.axis.y.track.rect=r.axis.y.track.el.getBoundingClientRect(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&(t=r.isWithinBounds(r.axis.x.track.rect)),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&(n=r.isWithinBounds(r.axis.y.track.rect)),(t||n)&&(e.stopPropagation(),"pointerdown"===e.type&&"touch"!==e.pointerType&&(t&&(r.axis.x.scrollbar.rect=r.axis.x.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.x.scrollbar.rect)?r.onDragStart(e,"x"):r.onTrackClick(e,"x")),n&&(r.axis.y.scrollbar.rect=r.axis.y.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.y.scrollbar.rect)?r.onDragStart(e,"y"):r.onTrackClick(e,"y")))))},this.drag=function(t){if(r.draggedAxis&&r.contentWrapperEl){var n,o,a,s,u,c,l,A,d,f,h,p=r.axis[r.draggedAxis].track,g=null!==(o=null===(n=p.rect)||void 0===n?void 0:n[r.axis[r.draggedAxis].sizeAttr])&&void 0!==o?o:0,v=r.axis[r.draggedAxis].scrollbar,m=null!==(s=null===(a=r.contentWrapperEl)||void 0===a?void 0:a[r.axis[r.draggedAxis].scrollSizeAttr])&&void 0!==s?s:0,y=parseInt(null!==(c=null===(u=r.elStyles)||void 0===u?void 0:u[r.axis[r.draggedAxis].sizeAttr])&&void 0!==c?c:"0px",10);t.preventDefault(),t.stopPropagation();var b=("y"===r.draggedAxis?t.pageY:t.pageX)-(null!==(A=null===(l=p.rect)||void 0===l?void 0:l[r.axis[r.draggedAxis].offsetAttr])&&void 0!==A?A:0)-r.axis[r.draggedAxis].dragOffset,w=(b="x"===r.draggedAxis&&r.isRtl?(null!==(f=null===(d=p.rect)||void 0===d?void 0:d[r.axis[r.draggedAxis].sizeAttr])&&void 0!==f?f:0)-v.size-b:b)/(g-v.size)*(m-y);"x"===r.draggedAxis&&r.isRtl&&(w=(null===(h=e.getRtlHelpers())||void 0===h?void 0:h.isScrollingToNegative)?-w:w),r.contentWrapperEl[r.axis[r.draggedAxis].scrollOffsetAttr]=w}},this.onEndDrag=function(e){var t=P(r.el),n=M(r.el);e.preventDefault(),e.stopPropagation(),Z(r.el,r.classNames.dragging),t.removeEventListener("mousemove",r.drag,!0),t.removeEventListener("mouseup",r.onEndDrag,!0),r.removePreventClickId=n.setTimeout(function(){t.removeEventListener("click",r.preventClick,!0),t.removeEventListener("dblclick",r.preventClick,!0),r.removePreventClickId=null})},this.preventClick=function(e){e.preventDefault(),e.stopPropagation()},this.el=t,this.options=O(O({},e.defaultOptions),n),this.classNames=O(O({},e.defaultOptions.classNames),n.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},"object"!=typeof this.el||!this.el.nodeName)throw Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=D(this._onMouseMove,64),this.onWindowResize=k(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=k(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=k(this._onMouseEntered,this.stopScrollDelay),this.init()}return e.getRtlHelpers=function(){if(e.rtlHelpers)return e.rtlHelpers;var t=document.createElement("div");t.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var n=t.firstElementChild,r=null==n?void 0:n.firstElementChild;if(!r)return null;document.body.appendChild(n),n.scrollLeft=0;var o=e.getOffset(n),a=e.getOffset(r);n.scrollLeft=-999;var s=e.getOffset(r);return document.body.removeChild(n),e.rtlHelpers={isScrollOriginAtZero:o.left!==a.left,isScrollingToNegative:a.left!==s.left},e.rtlHelpers},e.prototype.getScrollbarWidth=function(){try{if(this.contentWrapperEl&&"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style)return 0;return L()}catch(e){return L()}},e.getOffset=function(e){var t=e.getBoundingClientRect(),n=P(e),r=M(e);return{top:t.top+(r.pageYOffset||n.documentElement.scrollTop),left:t.left+(r.pageXOffset||n.documentElement.scrollLeft)}},e.prototype.init=function(){N&&(this.initDOM(),this.rtlHelpers=e.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},e.prototype.initDOM=function(){var e,t;this.wrapperEl=this.el.querySelector(Q(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector(Q(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector(Q(this.classNames.contentEl)),this.offsetEl=this.el.querySelector(Q(this.classNames.offset)),this.maskEl=this.el.querySelector(Q(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,Q(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector(Q(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector(Q(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat(Q(this.classNames.track)).concat(Q(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat(Q(this.classNames.track)).concat(Q(this.classNames.vertical))),this.axis.x.scrollbar.el=(null===(e=this.axis.x.track.el)||void 0===e?void 0:e.querySelector(Q(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=(null===(t=this.axis.y.track.el)||void 0===t?void 0:t.querySelector(Q(this.classNames.scrollbar)))||null,this.options.autoHide||(j(this.axis.x.scrollbar.el,this.classNames.visible),j(this.axis.y.scrollbar.el,this.classNames.visible))},e.prototype.initListeners=function(){var e,t=this,n=M(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),null===(e=this.contentWrapperEl)||void 0===e||e.addEventListener("scroll",this.onScroll),n.addEventListener("resize",this.onWindowResize),this.contentEl){if(window.ResizeObserver){var r=!1,o=n.ResizeObserver||ResizeObserver;this.resizeObserver=new o(function(){r&&n.requestAnimationFrame(function(){t.recalculate()})}),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),n.requestAnimationFrame(function(){r=!0})}this.mutationObserver=new n.MutationObserver(function(){n.requestAnimationFrame(function(){t.recalculate()})}),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},e.prototype.recalculate=function(){if(this.heightAutoObserverEl&&this.contentEl&&this.contentWrapperEl&&this.wrapperEl&&this.placeholderEl){var e=M(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var t=this.contentEl.offsetWidth,n=this.heightAutoObserverEl.offsetHeight<=1,r=this.heightAutoObserverEl.offsetWidth<=1||t>0,o=this.contentWrapperEl.offsetWidth,a=this.elStyles.overflowX,s=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var u=this.contentEl.scrollHeight,c=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=n?"auto":"100%",this.placeholderEl.style.width=r?"".concat(t||c,"px"):"auto",this.placeholderEl.style.height="".concat(u,"px");var l=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=0!==t&&c>t,this.axis.y.isOverflowing=u>l,this.axis.x.isOverflowing="hidden"!==a&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==s&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var A=this.axis.x.isOverflowing?this.scrollbarWidth:0,d=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&c>o-d,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&u>l-A,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},e.prototype.getScrollbarSize=function(e){if(void 0===e&&(e="y"),!this.axis[e].isOverflowing||!this.contentEl)return 0;var t,n,r,o=this.contentEl[this.axis[e].scrollSizeAttr],a=null!==(n=null===(t=this.axis[e].track.el)||void 0===t?void 0:t[this.axis[e].offsetSizeAttr])&&void 0!==n?n:0;return r=Math.max(~~(a/o*a),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(r=Math.min(r,this.options.scrollbarMaxSize)),r},e.prototype.positionScrollbar=function(t){void 0===t&&(t="y");var n,r,o,a=this.axis[t].scrollbar;if(this.axis[t].isOverflowing&&this.contentWrapperEl&&a.el&&this.elStyles){var s=this.contentWrapperEl[this.axis[t].scrollSizeAttr],u=(null===(n=this.axis[t].track.el)||void 0===n?void 0:n[this.axis[t].offsetSizeAttr])||0,c=parseInt(this.elStyles[this.axis[t].sizeAttr],10),l=this.contentWrapperEl[this.axis[t].scrollOffsetAttr];l="x"===t&&this.isRtl&&(null===(r=e.getRtlHelpers())||void 0===r?void 0:r.isScrollOriginAtZero)?-l:l,"x"===t&&this.isRtl&&(l=(null===(o=e.getRtlHelpers())||void 0===o?void 0:o.isScrollingToNegative)?l:-l);var A=l/(s-c),d=~~((u-a.size)*A);d="x"===t&&this.isRtl?-d+(u-a.size):d,a.el.style.transform="x"===t?"translate3d(".concat(d,"px, 0, 0)"):"translate3d(0, ".concat(d,"px, 0)")}},e.prototype.toggleTrackVisibility=function(e){void 0===e&&(e="y");var t=this.axis[e].track.el,n=this.axis[e].scrollbar.el;t&&n&&this.contentWrapperEl&&(this.axis[e].isOverflowing||this.axis[e].forceVisible?(t.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(e))):(t.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(e))),this.axis[e].isOverflowing?n.style.display="block":n.style.display="none")},e.prototype.showScrollbar=function(e){void 0===e&&(e="y"),this.axis[e].isOverflowing&&!this.axis[e].scrollbar.isVisible&&(j(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!0)},e.prototype.hideScrollbar=function(e){void 0===e&&(e="y"),this.axis[e].isOverflowing&&this.axis[e].scrollbar.isVisible&&(Z(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!1)},e.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},e.prototype.onMouseMoveForAxis=function(e){void 0===e&&(e="y");var t=this.axis[e];t.track.el&&t.scrollbar.el&&(t.track.rect=t.track.el.getBoundingClientRect(),t.scrollbar.rect=t.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(t.track.rect)?(this.showScrollbar(e),j(t.track.el,this.classNames.hover),this.isWithinBounds(t.scrollbar.rect)?j(t.scrollbar.el,this.classNames.hover):Z(t.scrollbar.el,this.classNames.hover)):(Z(t.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)))},e.prototype.onMouseLeaveForAxis=function(e){void 0===e&&(e="y"),Z(this.axis[e].track.el,this.classNames.hover),Z(this.axis[e].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)},e.prototype.onDragStart=function(e,t){void 0===t&&(t="y");var n,r=P(this.el),o=M(this.el),a=this.axis[t].scrollbar,s="y"===t?e.pageY:e.pageX;this.axis[t].dragOffset=s-((null===(n=a.rect)||void 0===n?void 0:n[this.axis[t].offsetAttr])||0),this.draggedAxis=t,j(this.el,this.classNames.dragging),r.addEventListener("mousemove",this.drag,!0),r.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(r.addEventListener("click",this.preventClick,!0),r.addEventListener("dblclick",this.preventClick,!0)):(o.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.prototype.onTrackClick=function(e,t){var n,r,o,a,s=this;void 0===t&&(t="y");var u=this.axis[t];if(this.options.clickOnTrack&&u.scrollbar.el&&this.contentWrapperEl){e.preventDefault();var c=M(this.el);this.axis[t].scrollbar.rect=u.scrollbar.el.getBoundingClientRect();var l=null!==(r=null===(n=this.axis[t].scrollbar.rect)||void 0===n?void 0:n[this.axis[t].offsetAttr])&&void 0!==r?r:0,A=parseInt(null!==(a=null===(o=this.elStyles)||void 0===o?void 0:o[this.axis[t].sizeAttr])&&void 0!==a?a:"0px",10),d=this.contentWrapperEl[this.axis[t].scrollOffsetAttr],f=("y"===t?this.mouseY-l:this.mouseX-l)<0?-1:1,h=-1===f?d-A:d+A,p=function(){s.contentWrapperEl&&(-1===f?d>h&&(d-=40,s.contentWrapperEl[s.axis[t].scrollOffsetAttr]=d,c.requestAnimationFrame(p)):d<h&&(d+=40,s.contentWrapperEl[s.axis[t].scrollOffsetAttr]=d,c.requestAnimationFrame(p)))};p()}},e.prototype.getContentElement=function(){return this.contentEl},e.prototype.getScrollElement=function(){return this.contentWrapperEl},e.prototype.removeListeners=function(){var e=M(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},e.prototype.unMount=function(){this.removeListeners()},e.prototype.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},e.prototype.findChild=function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,function(e){return n.call(e,t)})[0]},e.rtlHelpers=null,e.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},e.getOptions=U,e.helpers=H,e}(),K=function(){return(K=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},z=r.forwardRef(function(e,t){var n=e.children,o=e.scrollableNodeProps,a=void 0===o?{}:o,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)0>t.indexOf(r[o])&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}(e,["children","scrollableNodeProps"]),u=r.useRef(),c=r.useRef(),l=r.useRef(),A={},d={};Object.keys(s).forEach(function(e){Object.prototype.hasOwnProperty.call(V.defaultOptions,e)?A[e]=s[e]:d[e]=s[e]});var f=K(K({},V.defaultOptions.classNames),A.classNames),h=K(K({},a),{className:"".concat(f.contentWrapper).concat(a.className?" ".concat(a.className):""),tabIndex:0,role:"region","aria-label":A.ariaLabel||V.defaultOptions.ariaLabel});return r.useEffect(function(){var e;return c.current=h.ref?h.ref.current:c.current,u.current&&(e=new V(u.current,K(K(K({},A),c.current&&{scrollableNode:c.current}),l.current&&{contentNode:l.current})),"function"==typeof t?t(e):t&&(t.current=e)),function(){null==e||e.unMount(),e=null,"function"==typeof t&&t(null)}},[]),r.createElement("div",K({"data-simplebar":"init",ref:u},d),r.createElement("div",{className:f.wrapper},r.createElement("div",{className:f.heightAutoObserverWrapperEl},r.createElement("div",{className:f.heightAutoObserverEl})),r.createElement("div",{className:f.mask},r.createElement("div",{className:f.offset},"function"==typeof n?n({scrollableNodeRef:c,scrollableNodeProps:K(K({},h),{ref:c}),contentNodeRef:l,contentNodeProps:{className:f.contentEl,ref:l}}):r.createElement("div",K({},h),r.createElement("div",{className:f.contentEl},n)))),r.createElement("div",{className:f.placeholder})),r.createElement("div",{className:"".concat(f.track," simplebar-horizontal")},r.createElement("div",{className:f.scrollbar})),r.createElement("div",{className:"".concat(f.track," simplebar-vertical")},r.createElement("div",{className:f.scrollbar})))});z.displayName="SimpleBar"},96603:function(e){"use strict";e.exports=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":[0,0,0,0,"#ced4da","#adb5bd",0,0,"#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')}},function(e){var t=function(t){return e(e.s=t)};_N_E=(t(86570),t(93642))}]);